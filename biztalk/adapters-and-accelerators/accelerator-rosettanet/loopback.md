---
title: Loopback |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- agreements, 0A1 agreements
- loopbacks, running
- loopbacks, 0A1 agreements
- loopbacks, about loopbacks
- loopbacks, 0A1 messages
- agreements, loopback agreements
- messages, 0A1 messages
- loopbacks
- Loopback utility
- loopbacks, syntax
- 0A1 messages
- loopbacks, Loopback utility
- syntax [loopbacks]
- agreements, Loopback utility
ms.assetid: b4ebbdac-05be-4dfc-a133-6b752994e85a
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 656441fe65e840302928e90ea22e21327fee33cd
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36978047"
---
# <a name="loopback"></a><span data-ttu-id="5bfda-102">回送</span><span class="sxs-lookup"><span data-stu-id="5bfda-102">Loopback</span></span>
<span data-ttu-id="5bfda-103">您可使用回送公用程式自動產生回送協議，該協議是組織到夥伴協議的鏡像複本。</span><span class="sxs-lookup"><span data-stu-id="5bfda-103">You use the Loopback utility to automatically generate a loopback agreement that is a mirror copy of a home-to-partner agreement.</span></span> <span data-ttu-id="5bfda-104">這讓您可以在單一電腦上，執行組織對夥伴以及夥伴對組織的訊息交換。</span><span class="sxs-lookup"><span data-stu-id="5bfda-104">This lets you perform home-to-partner and partner-to-home message exchanges on a single computer.</span></span> <span data-ttu-id="5bfda-105">您可在具有 0A1 訊息或不具有 0A1 訊息的實例中使用此公用程式。</span><span class="sxs-lookup"><span data-stu-id="5bfda-105">You can use this utility for a scenario with 0A1 messages or a scenario without 0A1 messages.</span></span> <span data-ttu-id="5bfda-106">您可為動作訊息 (非 0A1) 協議或 0A1 協議建立回送協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-106">You can create a loopback agreement for an action-message (non-0A1) agreement or a 0A1 agreement.</span></span>  

 <span data-ttu-id="5bfda-107">您也可以使用此公用程式登錄或取消登錄傳送者角色的主要組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-107">You can also use the utility to enlist or unenlist a home organization for a sender role.</span></span> <span data-ttu-id="5bfda-108">當您使用此公用程式來啟用主要組織時，它會建立兩個傳送埠，請\<家用\>。Async 和\<首頁\>。同步處理，組織會使用與合作夥伴進行通訊。</span><span class="sxs-lookup"><span data-stu-id="5bfda-108">When you use the utility to enable a home organization, it creates two send ports, \<Home\>.Async and \<Home\>.Sync, that the organization uses to communicate with their partner.</span></span>  

## <a name="location-in-sdk"></a><span data-ttu-id="5bfda-109">SDK 中的位置</span><span class="sxs-lookup"><span data-stu-id="5bfda-109">Location in SDK</span></span>  
 <span data-ttu-id="5bfda-110">\<*磁碟機*\>\ Program Files (x86) \Microsoft BizTalk\<版本\>Accelerator for RosettaNet\SDK\\</span><span class="sxs-lookup"><span data-stu-id="5bfda-110">\<*drive*\>\ Program Files (x86)\Microsoft BizTalk \<version\> Accelerator for RosettaNet\SDK\\</span></span>  

## <a name="running-loopback"></a><span data-ttu-id="5bfda-111">執行回送</span><span class="sxs-lookup"><span data-stu-id="5bfda-111">Running Loopback</span></span>  

#### <a name="to-run-loopback"></a><span data-ttu-id="5bfda-112">若要執行回送</span><span class="sxs-lookup"><span data-stu-id="5bfda-112">To run Loopback</span></span>  

1.  <span data-ttu-id="5bfda-113">開啟命令提示字元。</span><span class="sxs-lookup"><span data-stu-id="5bfda-113">Open a command prompt.</span></span>  

2.  <span data-ttu-id="5bfda-114">移至\<*磁碟機*\>\ Program Files (x86) \Microsoft BizTalk\<版本\>Accelerator for RosettaNet\SDK\\。</span><span class="sxs-lookup"><span data-stu-id="5bfda-114">Move to \<*drive*\>\ Program Files (x86)\Microsoft BizTalk \<version\> Accelerator for RosettaNet\SDK\\.</span></span>  

3.  <span data-ttu-id="5bfda-115">在命令提示字元中，輸入**Loopback**，輸入必要和適當的參數，然後按 ENTER 鍵。</span><span class="sxs-lookup"><span data-stu-id="5bfda-115">At the command prompt, type **Loopback**, type the required and appropriate switches, and then press ENTER.</span></span>  

## <a name="syntax-for-loopback"></a><span data-ttu-id="5bfda-116">Loopback 的語法</span><span class="sxs-lookup"><span data-stu-id="5bfda-116">Syntax for Loopback</span></span>  
 <span data-ttu-id="5bfda-117">以下顯示您可用來啟動此命令列公用程式的語法：</span><span class="sxs-lookup"><span data-stu-id="5bfda-117">The following shows the syntax that you use to start this command-line utility:</span></span>  

```  
Loopback [/enable|/disable <home_organization>] [/mirror|/unmirror <agreement_name>] [/NoF <0A1_agreement>]  
```  

## <a name="syntax-description"></a><span data-ttu-id="5bfda-118">語法描述</span><span class="sxs-lookup"><span data-stu-id="5bfda-118">Syntax Description</span></span>  
 <span data-ttu-id="5bfda-119">下表描述回送公用程式使用之語法的各個部分。</span><span class="sxs-lookup"><span data-stu-id="5bfda-119">The following table describes each part of the syntax that the Loopback utility uses.</span></span>  

|<span data-ttu-id="5bfda-120">**語法**</span><span class="sxs-lookup"><span data-stu-id="5bfda-120">**Syntax**</span></span>|<span data-ttu-id="5bfda-121">**說明**</span><span class="sxs-lookup"><span data-stu-id="5bfda-121">**Description**</span></span>|  
|----------------|---------------------|  
|<span data-ttu-id="5bfda-122">**enable**</span><span class="sxs-lookup"><span data-stu-id="5bfda-122">**enable**</span></span>|<span data-ttu-id="5bfda-123">為傳送者角色登錄在 <home_organization> 中指定的組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-123">Enlists the organization designated in <home_organization> for a sender role.</span></span> <span data-ttu-id="5bfda-124">它會建立兩個傳送埠，請\<首頁\>。Async 和\<首頁\>。同步協力電腦用來回到主要組織通訊。</span><span class="sxs-lookup"><span data-stu-id="5bfda-124">It creates two send ports, \<Home\>.Async and \<Home\>.Sync, that the partner uses to communicate back to the home organization.</span></span>|  
|<span data-ttu-id="5bfda-125">**disable**</span><span class="sxs-lookup"><span data-stu-id="5bfda-125">**disable**</span></span>|<span data-ttu-id="5bfda-126">為傳送者角色取消登錄主要組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-126">Unenlists the home organization for a sender role.</span></span>|  
|<span data-ttu-id="5bfda-127">**home_organization**</span><span class="sxs-lookup"><span data-stu-id="5bfda-127">**home_organization**</span></span>|<span data-ttu-id="5bfda-128">要為傳送者角色登錄或取消登錄的夥伴。</span><span class="sxs-lookup"><span data-stu-id="5bfda-128">The partner to be enlisted or unenlisted for a sender role.</span></span>|  
|<span data-ttu-id="5bfda-129">**mirror**</span><span class="sxs-lookup"><span data-stu-id="5bfda-129">**mirror**</span></span>|<span data-ttu-id="5bfda-130">建立根據協議中指定的回送協議\< **agreement_name**\>。</span><span class="sxs-lookup"><span data-stu-id="5bfda-130">Creates a loopback agreement based on the agreement designated in \<**agreement_name**\>.</span></span>|  
|<span data-ttu-id="5bfda-131">**實例**</span><span class="sxs-lookup"><span data-stu-id="5bfda-131">**unmirror**</span></span>|<span data-ttu-id="5bfda-132">刪除根據協議中指定的回送協議\< **agreement_name\>**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-132">Deletes the loopback agreement based on the agreement designated in \<**agreement_name\>**.</span></span>|  
|<span data-ttu-id="5bfda-133">**agreement_name**</span><span class="sxs-lookup"><span data-stu-id="5bfda-133">**agreement_name**</span></span>|<span data-ttu-id="5bfda-134">在回送實例中要建立鏡像或取消鏡像的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-134">The agreement to mirror or unmirror in the loopback scenario.</span></span>|  
|<span data-ttu-id="5bfda-135">**收到的 NoF**</span><span class="sxs-lookup"><span data-stu-id="5bfda-135">**NoF**</span></span>|<span data-ttu-id="5bfda-136">設定組**0A1 協議**屬性的動作訊息協議的 Loopback 公用程式來鏡像\<0A1_agreement\>。</span><span class="sxs-lookup"><span data-stu-id="5bfda-136">Sets the **0A1 agreement** property of the action-message agreement mirrored by the Loopback utility to \<0A1_agreement\>.</span></span> <span data-ttu-id="5bfda-137">A **/NoF**交換器只能加入至也包含的 Loopback 命令 **/鏡像**切換。</span><span class="sxs-lookup"><span data-stu-id="5bfda-137">A **/NoF** switch can only be added to a Loopback command that also contains a **/mirror** switch.</span></span>|  
|<span data-ttu-id="5bfda-138">**0A1_agreement**</span><span class="sxs-lookup"><span data-stu-id="5bfda-138">**0A1_agreement**</span></span>|<span data-ttu-id="5bfda-139">agreement_name 的鏡像協議要使用的 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-139">A 0A1 agreement to be used by the mirror agreement of agreement_name.</span></span> <span data-ttu-id="5bfda-140">此協議是藉由建立回應者 0A1 協議的鏡像來產生。</span><span class="sxs-lookup"><span data-stu-id="5bfda-140">This agreement is generated by mirroring a responder 0A1 agreement.</span></span>|  

## <a name="remarks"></a><span data-ttu-id="5bfda-141">備註</span><span class="sxs-lookup"><span data-stu-id="5bfda-141">Remarks</span></span>  
 <span data-ttu-id="5bfda-142">Loopback 公用程式會切換建立回送協議的角色。</span><span class="sxs-lookup"><span data-stu-id="5bfda-142">The Loopback utility switches the roles in creating the loopback agreement.</span></span> <span data-ttu-id="5bfda-143">如果某個組織在原始協議中是主要組織，則此公用程式會讓它在回送協議中成為夥伴組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-143">If an organization was the home organization in the original agreement, the utility makes it the partner organization in the loopback agreement.</span></span> <span data-ttu-id="5bfda-144">同樣的，如果組織在原始協議中是夥伴組織，此公用程式就會讓它在回送協議中成為主要組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-144">Similarly, if an organization was the partner organization in the original agreement, the utility makes it the home organization in the loopback agreement.</span></span> <span data-ttu-id="5bfda-145">此公用程式也會切換 Home 角色屬性的設定。</span><span class="sxs-lookup"><span data-stu-id="5bfda-145">The utility also switches the setting of the Home role property.</span></span> <span data-ttu-id="5bfda-146">如果 Home 角色屬性在原始協議中是啟動者，此公用程式就會讓它成為回應者，反之亦然。</span><span class="sxs-lookup"><span data-stu-id="5bfda-146">If the Home role property was the initiator in the original agreement, the utility makes it the responder, and vice versa.</span></span> <span data-ttu-id="5bfda-147">所有其他屬性仍然保持不變。</span><span class="sxs-lookup"><span data-stu-id="5bfda-147">All other properties remain the same.</span></span>  

 <span data-ttu-id="5bfda-148">Loopback 公用程式使用與原始協議相同的名稱來命名回送協議，但在前面加上 "loopback:"。</span><span class="sxs-lookup"><span data-stu-id="5bfda-148">The Loopback utility names the loopback agreement with the same name as the original agreement, preceded by "loopback:".</span></span> <span data-ttu-id="5bfda-149">為了避免混淆，命名協議時請勿以 "loopback" 開頭。</span><span class="sxs-lookup"><span data-stu-id="5bfda-149">To avoid confusion, do not name an agreement starting with "loopback".</span></span>  

 <span data-ttu-id="5bfda-150">如果您在已產生回送協議的協議上執行此公用程式，此公用程式就會取消現有的回送協議鏡像，並建立新的回送協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-150">If you run the utility on an agreement for which you have already generated a loopback agreement, the utility unmirrors the existing loopback agreement, and creates a new loopback agreement.</span></span>  

 <span data-ttu-id="5bfda-151">您需要使用回送公用程式，因為您無法在 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台中建立鏡像的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-151">You need the Loopback utility because you cannot create a mirrored agreement in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> <span data-ttu-id="5bfda-152">您無法在 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台中建立主要組織、夥伴組織和主要角色屬性都和現有協議的欄位相反，但所有其他欄位卻完全相同的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-152">You cannot create an agreement in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console for which the home organization, partner organization, and home role properties are reversed, and all other fields are identical to the fields of an existing agreement.</span></span> <span data-ttu-id="5bfda-153">同樣地，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 也不支援在主控台中直接變更回送協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-153">Similarly, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not support changing the loopback agreement directly in the Console.</span></span> <span data-ttu-id="5bfda-154">如果您嘗試在主控台中開啟回送協議，將會收到錯誤。</span><span class="sxs-lookup"><span data-stu-id="5bfda-154">You will receive an error if you try to open a loopback agreement in the Console.</span></span> <span data-ttu-id="5bfda-155">如果您必須對回送協議進行任何變更，請變更原始的協議，然後在該協議上再執行一次回送公用程式，重新產生回送協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-155">If you have to make any change to the loopback agreement, change the originating agreement and then run the Loopback utility on it again to regenerate the loopback agreement.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="5bfda-156">這個回送實例不支援已簽署的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-156">The loopback scenario does not support signed agreements.</span></span> <span data-ttu-id="5bfda-157">在此實例中，已簽署的訊息將驗證失敗，因為 [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] 讓您只能為單一簽章憑證設定一位合作對象。</span><span class="sxs-lookup"><span data-stu-id="5bfda-157">In this scenario, a signed message will fail validation, because [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] lets you configure only one party with a signing certificate.</span></span> <span data-ttu-id="5bfda-158">主要組織和夥伴組織無法使用相同的簽章憑證。</span><span class="sxs-lookup"><span data-stu-id="5bfda-158">A home organization and a partner organization cannot use the same signing certificate.</span></span> <span data-ttu-id="5bfda-159">這是 [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] 中關於使用簽章憑證以唯一識別某個合作對象的限制。</span><span class="sxs-lookup"><span data-stu-id="5bfda-159">This is a limitation in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] related to uniquely identifying a party by using a signing certificate.</span></span> <span data-ttu-id="5bfda-160">因此，BizTalk 的合作對象無法使用相同的憑證。</span><span class="sxs-lookup"><span data-stu-id="5bfda-160">Therefore, no two BizTalk parties can share the same certificate.</span></span>  

 <span data-ttu-id="5bfda-161">如需有關回送實作的詳細資訊，請參閱[Loopback 教學課程](../../adapters-and-accelerators/accelerator-rosettanet/loopback-tutorial.md)。</span><span class="sxs-lookup"><span data-stu-id="5bfda-161">For more information about the loopback implementation, see [Loopback Tutorial](../../adapters-and-accelerators/accelerator-rosettanet/loopback-tutorial.md).</span></span>  

## <a name="using-loopback-with-0a1-agreements"></a><span data-ttu-id="5bfda-162">使用具有 0A1 協議的 Loopback</span><span class="sxs-lookup"><span data-stu-id="5bfda-162">Using Loopback with 0A1 Agreements</span></span>  
 <span data-ttu-id="5bfda-163">您可以設定回送實例來產生 0A1 (失敗通知) 訊息。</span><span class="sxs-lookup"><span data-stu-id="5bfda-163">You can configure a loopback scenario to generate 0A1 (failure notification) messages.</span></span> <span data-ttu-id="5bfda-164">若要這樣做，您必須針對主要組織建立下列協議：要求動作訊息協議、啟動者 0A1 協議，以及回應者 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-164">To do this, you must create the following agreements for the home organization: a request action-message agreement, an initiator 0A1 agreement, and a responder 0A1 agreement.</span></span> <span data-ttu-id="5bfda-165">接著，您必須在以上每個協議上執行回送公用程式，以便針對夥伴組織建立下列協議：回應動作訊息協議、啟動者 0A1 協議，以及回應者 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-165">You must then run the Loopback utility on each of these agreements to create the following agreements for the partner organization: a response action-message agreement, an initiator 0A1 agreement, and a responder 0A1 agreement.</span></span> <span data-ttu-id="5bfda-166">這是必要的，因為您無法使用 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台建立這些協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-166">This is required because you cannot use the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console to create these agreements.</span></span>  

 <span data-ttu-id="5bfda-167">協議的完整集合必須包括下列訊息的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-167">The complete set of agreements must include agreements for the following messages.</span></span> <span data-ttu-id="5bfda-168">為了示範，動作訊息為 3A4：</span><span class="sxs-lookup"><span data-stu-id="5bfda-168">For illustration, the action message is a 3A4:</span></span>  

-   <span data-ttu-id="5bfda-169">Home_to_Partner_3A4 (動作訊息) 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-169">A Home_to_Partner_3A4 (action message) agreement.</span></span> <span data-ttu-id="5bfda-170">初始化從 HOME 組織到 PARTNER 組織之動作訊息 PIP 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-170">An agreement to initiate the action message PIP from the HOME organization to the PARTNER organization.</span></span>  

-   <span data-ttu-id="5bfda-171">Home_to_Partner_Initiator_0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-171">Home_to_Partner_Initiator_0A1 agreement.</span></span> <span data-ttu-id="5bfda-172">初始化從 HOME 組織到 PARTNER 組織之 PIP 0A1 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-172">An agreement to initiate a PIP 0A1 from the HOME organization to the PARTNER organization.</span></span>  

-   <span data-ttu-id="5bfda-173">Home_to_Partner_Responder_0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-173">Home_to_Partner_Responder_0A1 agreement.</span></span> <span data-ttu-id="5bfda-174">接收從 PARTNER 組織到 HOME 組織之 PIP 0A1 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-174">An agreement to receive a PIP 0A1 from the PARTNER organization to the HOME organization.</span></span>  

-   <span data-ttu-id="5bfda-175">Loopback:Home_to_Partner_3A4 (回應訊息) 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-175">Loopback:Home_to_Partner_3A4 (response message) agreement.</span></span> <span data-ttu-id="5bfda-176">接收從 HOME 組織到 PARTNER 組織之 PIP 3A4 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-176">An agreement to receive a PIP 3A4 from the HOME organization to the PARTNER organization.</span></span>  

-   <span data-ttu-id="5bfda-177">Loopback:Home_to_Partner_Responder_0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-177">Loopback:Home_to_Partner_Responder_0A1 agreement.</span></span> <span data-ttu-id="5bfda-178">初始化從 PARTNER 組織到 HOME 組織之 PIP 0A1 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-178">An agreement to initiate a PIP 0A1 from the PARTNER organization to the HOME organization.</span></span>  

-   <span data-ttu-id="5bfda-179">Loopback:Home_to_Partner_Initiator_0A1。</span><span class="sxs-lookup"><span data-stu-id="5bfda-179">Loopback:Home_to_Partner_Initiator_0A1.</span></span> <span data-ttu-id="5bfda-180">接收從 HOME 組織到 PARTNER 組織之 PIP 0A1 的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-180">An agreement to receive a PIP 0A1 from the HOME organization to the PARTNER organization.</span></span>  

## <a name="creating-the-loopback-agreements-for-0a1-messages"></a><span data-ttu-id="5bfda-181">建立 0A1 訊息的回送協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-181">Creating the Loopback Agreements for 0A1 Messages</span></span>  
 <span data-ttu-id="5bfda-182">如果要建立協議的完整集合，您必須使用回送公用程式在夥伴上建立動作訊息和 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-182">To create the full set of agreements, you must use the Loopback utility to create the action-message and 0A1 agreements on the partner.</span></span> <span data-ttu-id="5bfda-183">下表顯示要產生夥伴回送協議所需的 Loopback 作業。</span><span class="sxs-lookup"><span data-stu-id="5bfda-183">The following tables show the Loopback operations required to generate the partner loopback agreements.</span></span> <span data-ttu-id="5bfda-184">為了示範，本主題在表格中使用 3A4 訊息。</span><span class="sxs-lookup"><span data-stu-id="5bfda-184">For illustration, this topic uses a 3A4 message in the tables.</span></span>  

|<span data-ttu-id="5bfda-185">步驟</span><span class="sxs-lookup"><span data-stu-id="5bfda-185">Step</span></span>|<span data-ttu-id="5bfda-186">HOME 協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-186">HOME Agreements</span></span>|  
|----------|---------------------|  
|<span data-ttu-id="5bfda-187">1, 4</span><span class="sxs-lookup"><span data-stu-id="5bfda-187">1, 4</span></span>|<span data-ttu-id="5bfda-188">Home_to_Partner_3A4</span><span class="sxs-lookup"><span data-stu-id="5bfda-188">Home_to_Partner_3A4</span></span><br /><br /> <span data-ttu-id="5bfda-189">主要組織：HOME</span><span class="sxs-lookup"><span data-stu-id="5bfda-189">Home Org: HOME</span></span><br /><br /> <span data-ttu-id="5bfda-190">夥伴組織：PARTNER</span><span class="sxs-lookup"><span data-stu-id="5bfda-190">Partner Org: PARTNER</span></span><br /><br /> <span data-ttu-id="5bfda-191">主要組織角色：啟動者</span><span class="sxs-lookup"><span data-stu-id="5bfda-191">Home Org Role: Initiator</span></span><br /><br /> <span data-ttu-id="5bfda-192">0A1 協議：Home_to_Partner_Initiator_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-192">0A1 agreement: Home_to_Partner_Initiator_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-193">描述：起始從 HOME 到 PARTNER 之 PIP 3A4 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-193">Description: Agreement to initiate PIP 3A4 from HOME to PARTNER</span></span>|  
|<span data-ttu-id="5bfda-194">2</span><span class="sxs-lookup"><span data-stu-id="5bfda-194">2</span></span>|<span data-ttu-id="5bfda-195">Home_to_Partner_Initiator_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-195">Home_to_Partner_Initiator_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-196">主要組織：Home</span><span class="sxs-lookup"><span data-stu-id="5bfda-196">Home: Home</span></span><br /><br /> <span data-ttu-id="5bfda-197">夥伴組織：Partner</span><span class="sxs-lookup"><span data-stu-id="5bfda-197">Partner: Partner</span></span><br /><br /> <span data-ttu-id="5bfda-198">角色：啟動者</span><span class="sxs-lookup"><span data-stu-id="5bfda-198">Role: Initiator</span></span><br /><br /> <span data-ttu-id="5bfda-199">描述：起始從 HOME 到 PARTNER 之 PIP 0A1 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-199">Description: Agreement to initiate PIP 0A1 from HOME to PARTNER</span></span>|  
|<span data-ttu-id="5bfda-200">3</span><span class="sxs-lookup"><span data-stu-id="5bfda-200">3</span></span>|<span data-ttu-id="5bfda-201">Home_to_Partner_Responder_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-201">Home_to_Partner_Responder_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-202">主要組織：Home</span><span class="sxs-lookup"><span data-stu-id="5bfda-202">Home: Home</span></span><br /><br /> <span data-ttu-id="5bfda-203">夥伴組織：Partner</span><span class="sxs-lookup"><span data-stu-id="5bfda-203">Partner: Partner</span></span><br /><br /> <span data-ttu-id="5bfda-204">角色：回應者</span><span class="sxs-lookup"><span data-stu-id="5bfda-204">Role: Responder</span></span><br /><br /> <span data-ttu-id="5bfda-205">描述：接收從 PARTNER 到 HOME 之 PIP 0A1 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-205">Description: Agreement to receive PIP 0A1 from PARTNER to HOME</span></span>|  

|<span data-ttu-id="5bfda-206">步驟</span><span class="sxs-lookup"><span data-stu-id="5bfda-206">Step</span></span>|<span data-ttu-id="5bfda-207">PARTNER 協議 (使用 Loopback.exe 建立鏡像)</span><span class="sxs-lookup"><span data-stu-id="5bfda-207">PARTNER Agreements (Mirrored using Loopback.exe)</span></span>|  
|----------|--------------------------------------------------------|  
|<span data-ttu-id="5bfda-208">7</span><span class="sxs-lookup"><span data-stu-id="5bfda-208">7</span></span>|<span data-ttu-id="5bfda-209">Loopback:Home_to_Partner_3A4</span><span class="sxs-lookup"><span data-stu-id="5bfda-209">Loopback:Home_to_Partner_3A4</span></span><br /><br /> <span data-ttu-id="5bfda-210">主要組織：Partner</span><span class="sxs-lookup"><span data-stu-id="5bfda-210">Home: Partner</span></span><br /><br /> <span data-ttu-id="5bfda-211">合作夥伴： 首頁</span><span class="sxs-lookup"><span data-stu-id="5bfda-211">Partner: Home</span></span><br /><br /> <span data-ttu-id="5bfda-212">角色：回應者</span><span class="sxs-lookup"><span data-stu-id="5bfda-212">Role: Responder</span></span><br /><br /> <span data-ttu-id="5bfda-213">0A1 協議： Loopback:Home_to_Partner_Responder_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-213">0A1 agreement: Loopback:Home_to_Partner_Responder_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-214">描述：接收從 HOME 到 PARTNER 之 PIP 3A4 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-214">Description: Agreement to receive PIP 3A4 from HOME to PARTNER</span></span><br /><br /> <span data-ttu-id="5bfda-215">建立回送的回送命令：Loopback /mirror Home_to_Partner_3A4 /NoF Loopback:Home_to_Partner_Responder_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-215">Loopback Command to Create it: Loopback /mirror Home_to_Partner_3A4 /NoF Loopback:Home_to_Partner_Responder_0A1</span></span>|  
|<span data-ttu-id="5bfda-216">5</span><span class="sxs-lookup"><span data-stu-id="5bfda-216">5</span></span>|<span data-ttu-id="5bfda-217">Loopback:Home_to_Partner_Responder_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-217">Loopback:Home_to_Partner_Responder_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-218">主要組織：Partner</span><span class="sxs-lookup"><span data-stu-id="5bfda-218">Home: Partner</span></span><br /><br /> <span data-ttu-id="5bfda-219">合作夥伴： 首頁</span><span class="sxs-lookup"><span data-stu-id="5bfda-219">Partner: Home</span></span><br /><br /> <span data-ttu-id="5bfda-220">角色：啟動者</span><span class="sxs-lookup"><span data-stu-id="5bfda-220">Role: Initiator</span></span><br /><br /> <span data-ttu-id="5bfda-221">描述：起始從 PARTNER 到 HOME 之 PIP 0A1 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-221">Description: Agreement to initiate PIP 0A1 from PARTNER to HOME</span></span><br /><br /> <span data-ttu-id="5bfda-222">建立回送的回送命令：Loopback /mirror Home_to_Partner_Responder_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-222">Loopback Command to Create it: Loopback /mirror Home_to_Partner_Responder_0A1</span></span>|  
|<span data-ttu-id="5bfda-223">6</span><span class="sxs-lookup"><span data-stu-id="5bfda-223">6</span></span>|<span data-ttu-id="5bfda-224">Loopback:Home_to_Partner_Initiator_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-224">Loopback:Home_to_Partner_Initiator_0A1</span></span><br /><br /> <span data-ttu-id="5bfda-225">主要組織：Partner</span><span class="sxs-lookup"><span data-stu-id="5bfda-225">Home: Partner</span></span><br /><br /> <span data-ttu-id="5bfda-226">合作夥伴： 首頁</span><span class="sxs-lookup"><span data-stu-id="5bfda-226">Partner: Home</span></span><br /><br /> <span data-ttu-id="5bfda-227">角色：回應者</span><span class="sxs-lookup"><span data-stu-id="5bfda-227">Role: Responder</span></span><br /><br /> <span data-ttu-id="5bfda-228">描述：接收從 HOME 到 PARTNER 之 PIP 0A1 的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-228">Description: Agreement to receive PIP 0A1 from HOME to PARTNER</span></span><br /><br /> <span data-ttu-id="5bfda-229">建立回送的回送命令：Loopback /mirror Home_to_Partner_Initiator_0A1</span><span class="sxs-lookup"><span data-stu-id="5bfda-229">Loopback Command to Create it: Loopback /mirror Home_to_Partner_Initiator_0A1</span></span>|  

 <span data-ttu-id="5bfda-230">請執行這些表格中的 Loopback 命令，做為下列程序的一部分。</span><span class="sxs-lookup"><span data-stu-id="5bfda-230">Run the Loopback commands in these tables as part of the following procedure.</span></span>  

#### <a name="to-create-the-agreements-for-a-loopback-scenario-using-0a1-messages"></a><span data-ttu-id="5bfda-231">使用 0A1 訊息建立回送實例的協議</span><span class="sxs-lookup"><span data-stu-id="5bfda-231">To create the agreements for a loopback scenario using 0A1 messages</span></span>  

1. <span data-ttu-id="5bfda-232">在 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台中，建立主要組織將傳送之要求動作訊息的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-232">In the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console, create an agreement for the request action message to be sent by the home organization.</span></span>  

2. <span data-ttu-id="5bfda-233">建立主要組織將傳送之啟動者 0A1 訊息的協議，並執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="5bfda-233">Create an agreement for the initiator 0A1 message to be sent by the home organization, and do the following:</span></span>  


   |         <span data-ttu-id="5bfda-234">使用</span><span class="sxs-lookup"><span data-stu-id="5bfda-234">Use this</span></span>         |                  <span data-ttu-id="5bfda-235">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="5bfda-235">To do this</span></span>                  |
   |--------------------------|----------------------------------------------|
   |   <span data-ttu-id="5bfda-236">**我的組織**</span><span class="sxs-lookup"><span data-stu-id="5bfda-236">**My organization**</span></span>    |        <span data-ttu-id="5bfda-237">設為主要組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-237">Set to the home organization.</span></span>         |
   | <span data-ttu-id="5bfda-238">**夥伴組織**</span><span class="sxs-lookup"><span data-stu-id="5bfda-238">**Partner organization**</span></span> |             <span data-ttu-id="5bfda-239">設為夥伴。</span><span class="sxs-lookup"><span data-stu-id="5bfda-239">Set to the partner.</span></span>              |
   |      <span data-ttu-id="5bfda-240">**主要角色**</span><span class="sxs-lookup"><span data-stu-id="5bfda-240">**Home role**</span></span>       | <span data-ttu-id="5bfda-241">設定為**PIP Failure Notifier (Initiator)**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-241">Set to **PIP Failure Notifier (Initiator)**.</span></span> |


3. <span data-ttu-id="5bfda-242">使用 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台，針對要傳送到主要組織的回應者 0A1 訊息建立協議，並執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="5bfda-242">Using [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console, create an agreement for the responder 0A1 message to be sent to the home organization, and do the following:</span></span>  


   |         <span data-ttu-id="5bfda-243">使用</span><span class="sxs-lookup"><span data-stu-id="5bfda-243">Use this</span></span>         |                      <span data-ttu-id="5bfda-244">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="5bfda-244">To do this</span></span>                      |
   |--------------------------|------------------------------------------------------|
   |   <span data-ttu-id="5bfda-245">**我的組織**</span><span class="sxs-lookup"><span data-stu-id="5bfda-245">**My organization**</span></span>    |            <span data-ttu-id="5bfda-246">設為主要組織。</span><span class="sxs-lookup"><span data-stu-id="5bfda-246">Set to the home organization.</span></span>             |
   | <span data-ttu-id="5bfda-247">**夥伴組織**</span><span class="sxs-lookup"><span data-stu-id="5bfda-247">**Partner organization**</span></span> |                 <span data-ttu-id="5bfda-248">設為夥伴。</span><span class="sxs-lookup"><span data-stu-id="5bfda-248">Set to the partner.</span></span>                  |
   |      <span data-ttu-id="5bfda-249">**主要角色**</span><span class="sxs-lookup"><span data-stu-id="5bfda-249">**Home role**</span></span>       | <span data-ttu-id="5bfda-250">設定為**Failure Report Administrator (Responder)**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-250">Set to **Failure Report Administrator (Responder)**.</span></span> |


4. <span data-ttu-id="5bfda-251">使用[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理主控台中，設定**0A1 協議**主要組織之要求動作訊息協議名稱的啟動者 0A1 協議，主要組織屬性。</span><span class="sxs-lookup"><span data-stu-id="5bfda-251">Using [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console, set the **0A1 agreement** property for the home organization's request action-message agreement to the name of the initiator 0A1 agreement for the home organization.</span></span>  

5. <span data-ttu-id="5bfda-252">使用回送公用程式，建立夥伴組織將傳送之啟動者 0A1 訊息的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-252">Using the Loopback utility, create an agreement for the initiator 0A1 message to be sent by the partner organization.</span></span> <span data-ttu-id="5bfda-253">您可以建立主要組織之回應者 0A1 協議的鏡像來完成這個動作。</span><span class="sxs-lookup"><span data-stu-id="5bfda-253">You do this by mirroring the responder 0A1 agreement for the home organization.</span></span> <span data-ttu-id="5bfda-254">這會建立新的 「 0A1 」 協議同名**回送：\<0A1 協議名稱\>**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-254">This creates a new 0A1 agreement with the name **loopback:\<0A1 agreement name\>**.</span></span> <span data-ttu-id="5bfda-255">`My organization`屬性設為夥伴`Partner organization`屬性設為主要組織，而`Home role`屬性是**PIP Failure Notifier (Initiator)**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-255">The `My organization` property is set to the partner, the `Partner organization` property is set to the home organization, and the `Home role` property is **PIP Failure Notifier (Initiator)**.</span></span>  

6. <span data-ttu-id="5bfda-256">使用回送公用程式，建立夥伴組織將傳送之回應者 0A1 訊息的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-256">Using the Loopback utility, create an agreement for the responder 0A1 message for the partner organization.</span></span> <span data-ttu-id="5bfda-257">您可以建立主要組織之 0A1 啟動者協議的鏡像來完成這個動作。</span><span class="sxs-lookup"><span data-stu-id="5bfda-257">You do this by mirroring the 0A1 initiator agreement for the home organization.</span></span> <span data-ttu-id="5bfda-258">這會建立新的 「 0A1 」 協議同名**回送：\<0A1 協議名稱\>**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-258">This creates a new 0A1 agreement with the name **loopback:\<0A1 agreement name\>**.</span></span> <span data-ttu-id="5bfda-259">`My organization`屬性設為夥伴`Partner organization`屬性設為主要組織，而`Home role`屬性是**Failure Report Administrator (Responder)**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-259">The `My organization` property is set to the partner, the `Partner organization` property is set to the home organization, and the `Home role` property is **Failure Report Administrator (Responder)**.</span></span>  

7. <span data-ttu-id="5bfda-260">使用回送公用程式，建立夥伴組織將傳送之回應動作訊息的協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-260">Using the Loopback utility, create an agreement for the response action message for the partner organization.</span></span> <span data-ttu-id="5bfda-261">在同一個命令中，您必須將 0A1 agreement 屬性設為夥伴的回應者 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-261">In the same command, you must set the 0A1 agreement property to the responder 0A1 agreement for the partner.</span></span> <span data-ttu-id="5bfda-262">您執行這項操作鏡像要求動作訊息協議，為主要組織，並使用 **/NoF**切換夥伴的回應者 0A1 協議的名稱。</span><span class="sxs-lookup"><span data-stu-id="5bfda-262">You do this by mirroring the request action-message agreement for the home organization, and using the **/NoF** switch with the name of the partner's responder 0A1 agreement.</span></span> <span data-ttu-id="5bfda-263">此名稱建立新的回應動作訊息協議**Loopback:\<協議名稱\>**。</span><span class="sxs-lookup"><span data-stu-id="5bfda-263">This creates a new response action-message agreement with the name **Loopback:\<agreement name\>**.</span></span> <span data-ttu-id="5bfda-264">`My organization` 屬性會設為夥伴，而 0A1 agreement 屬性則設為夥伴的回應者 0A1 協議。</span><span class="sxs-lookup"><span data-stu-id="5bfda-264">The `My organization` property is set to the partner, and the 0A1 agreement property is set to the partner's responder 0A1 agreement.</span></span>  

## <a name="see-also"></a><span data-ttu-id="5bfda-265">另請參閱</span><span class="sxs-lookup"><span data-stu-id="5bfda-265">See Also</span></span>  
 <span data-ttu-id="5bfda-266">[公用程式](../../adapters-and-accelerators/accelerator-rosettanet/utilities1.md) </span><span class="sxs-lookup"><span data-stu-id="5bfda-266">[Utilities](../../adapters-and-accelerators/accelerator-rosettanet/utilities1.md) </span></span>  
 [<span data-ttu-id="5bfda-267">回送教學課程</span><span class="sxs-lookup"><span data-stu-id="5bfda-267">Loopback Tutorial</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/loopback-tutorial.md)
