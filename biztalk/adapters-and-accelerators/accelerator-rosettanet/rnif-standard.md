---
title: RNIF 標準 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- RNIF, message definitions
- RNIF, messaging framework patterns
- messages, message definitions
- RNIF, standards
- messages, messaging framework patterns
ms.assetid: d39a9683-1ef5-462b-9472-4e30fe873f7d
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f6b29d8c9c770893fd78769b86266ce33e31a336
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22211126"
---
# <a name="rnif-standard"></a><span data-ttu-id="f25d4-102">RNIF 標準</span><span class="sxs-lookup"><span data-stu-id="f25d4-102">RNIF Standard</span></span>
<span data-ttu-id="f25d4-103">RosettaNet 實作架構 (RNIF) 標準定義系統傳送 RosettaNet 訊息的方式。</span><span class="sxs-lookup"><span data-stu-id="f25d4-103">The RosettaNet Implementation Framework (RNIF) standard defines how systems transport a RosettaNet message.</span></span> <span data-ttu-id="f25d4-104">RNIF 標準是穩固的傳輸、傳送、封裝及安全性標準。</span><span class="sxs-lookup"><span data-stu-id="f25d4-104">The RNIF standard is a robust transfer, routing, packaging, and security standard.</span></span> <span data-ttu-id="f25d4-105">所有 RosettaNet 訊息系統必須遵循 RNIF 標準才能通過 RosettaNet 憑證。</span><span class="sxs-lookup"><span data-stu-id="f25d4-105">All RosettaNet messaging systems must comply with the RNIF standard to achieve RosettaNet certification.</span></span>  
  
 <span data-ttu-id="f25d4-106">標準定義了訊息結構、通知的需要、多用途網際網路郵件延伸標準 (MIME) 編碼及數位簽章。</span><span class="sxs-lookup"><span data-stu-id="f25d4-106">The standard defines message structure, the need for acknowledgements, Multipurpose Internet Mail Extensions (MIME) encoding, and the digital signature.</span></span> <span data-ttu-id="f25d4-107">核心標準包含對驗證、授權、加密及不可否認性的要求。</span><span class="sxs-lookup"><span data-stu-id="f25d4-107">The core standard includes requirements for authentication, authorization, encryption, and non-repudiation.</span></span> <span data-ttu-id="f25d4-108">RNIF 標準是以 HTTP、MIME、和 XML 標準為基礎，</span><span class="sxs-lookup"><span data-stu-id="f25d4-108">The RNIF standard is based on HTTP, MIME, and XML standards.</span></span> <span data-ttu-id="f25d4-109">不會指定平台或啟用應用程式。</span><span class="sxs-lookup"><span data-stu-id="f25d4-109">The RNIF standard does not specify a platform or an enabling application.</span></span>  
  
 [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)]<span data-ttu-id="f25d4-110">會實作兩種 RNIF 版本： RNIF Specification v02.00.01 與 RNIF Specification v1.1。</span><span class="sxs-lookup"><span data-stu-id="f25d4-110"> implements two versions of RNIF: RNIF Specification v02.00.01 and RNIF Specification v1.1.</span></span> <span data-ttu-id="f25d4-111">RNIF 2.01 已新增支援 RNIF 1.1 中，包括加密、 附件和同步交易的重要功能。</span><span class="sxs-lookup"><span data-stu-id="f25d4-111">RNIF 2.01 added significant functionality beyond that supported by RNIF 1.1, including encryption, attachments, and synchronous transactions.</span></span> <span data-ttu-id="f25d4-112">RNIF 2.0 對 RNIF 1.1 不具有回溯相容性。</span><span class="sxs-lookup"><span data-stu-id="f25d4-112">RNIF 2.0 is not backward compatible with RNIF 1.1.</span></span>  
  
## <a name="messaging-framework-patterns"></a><span data-ttu-id="f25d4-113">傳訊架構模式</span><span class="sxs-lookup"><span data-stu-id="f25d4-113">Messaging Framework Patterns</span></span>  
 <span data-ttu-id="f25d4-114">下表顯示 RNIF 支援的訊息傳送架構模式及同步訊息交換。</span><span class="sxs-lookup"><span data-stu-id="f25d4-114">The following table shows RNIF support for messaging framework patterns and synchronous message exchange.</span></span> <span data-ttu-id="f25d4-115">單向動作訊息是指不會涉及回應的訊息，而雙向動作訊息則會包括要求和回應。</span><span class="sxs-lookup"><span data-stu-id="f25d4-115">A single-action message is one that does not involve a response, whereas a double-action message includes a request and response.</span></span>  
  
|<span data-ttu-id="f25d4-116">架構</span><span class="sxs-lookup"><span data-stu-id="f25d4-116">Framework</span></span>|<span data-ttu-id="f25d4-117">模式</span><span class="sxs-lookup"><span data-stu-id="f25d4-117">Pattern</span></span>|<span data-ttu-id="f25d4-118">同步 /</span><span class="sxs-lookup"><span data-stu-id="f25d4-118">Synchronous/</span></span><br /><span data-ttu-id="f25d4-119">非同步的</span><span class="sxs-lookup"><span data-stu-id="f25d4-119">Asynchronous</span></span>|  
|---------------|-------------|---------------------------------|  
|<span data-ttu-id="f25d4-120">RNIF 1.1</span><span class="sxs-lookup"><span data-stu-id="f25d4-120">RNIF 1.1</span></span>|<span data-ttu-id="f25d4-121">通知</span><span class="sxs-lookup"><span data-stu-id="f25d4-121">Notification</span></span>|<span data-ttu-id="f25d4-122">非同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-122">Asynch</span></span>|  
|<span data-ttu-id="f25d4-123">RNIF 1.1</span><span class="sxs-lookup"><span data-stu-id="f25d4-123">RNIF 1.1</span></span>|<span data-ttu-id="f25d4-124">Transaction</span><span class="sxs-lookup"><span data-stu-id="f25d4-124">Transaction</span></span>|<span data-ttu-id="f25d4-125">非同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-125">Asynch</span></span>|  
|<span data-ttu-id="f25d4-126">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="f25d4-126">RNIF 2.0</span></span>|<span data-ttu-id="f25d4-127">雙向動作</span><span class="sxs-lookup"><span data-stu-id="f25d4-127">Double-action</span></span>|<span data-ttu-id="f25d4-128">同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-128">Synch</span></span>|  
|<span data-ttu-id="f25d4-129">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="f25d4-129">RNIF 2.0</span></span>|<span data-ttu-id="f25d4-130">雙向動作</span><span class="sxs-lookup"><span data-stu-id="f25d4-130">Double-action</span></span>|<span data-ttu-id="f25d4-131">非同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-131">Asynch</span></span>|  
|<span data-ttu-id="f25d4-132">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="f25d4-132">RNIF 2.0</span></span>|<span data-ttu-id="f25d4-133">單向動作</span><span class="sxs-lookup"><span data-stu-id="f25d4-133">Single-action</span></span>|<span data-ttu-id="f25d4-134">同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-134">Synch</span></span>|  
|<span data-ttu-id="f25d4-135">RNIF 2.0</span><span class="sxs-lookup"><span data-stu-id="f25d4-135">RNIF 2.0</span></span>|<span data-ttu-id="f25d4-136">單向動作</span><span class="sxs-lookup"><span data-stu-id="f25d4-136">Single-action</span></span>|<span data-ttu-id="f25d4-137">非同步</span><span class="sxs-lookup"><span data-stu-id="f25d4-137">Asynch</span></span>|  
  
## <a name="message-definitions"></a><span data-ttu-id="f25d4-138">訊息定義</span><span class="sxs-lookup"><span data-stu-id="f25d4-138">Message Definitions</span></span>  
 <span data-ttu-id="f25d4-139">RNIF 1.1 與 RNIF 2.01 對 RosettaNet 訊息的定義並不相同。</span><span class="sxs-lookup"><span data-stu-id="f25d4-139">RNIF 1.1 and RNIF 2.01 define the RosettaNet message differently.</span></span> <span data-ttu-id="f25d4-140">這些差異包括兩者對於附件、安全多用途網際網路郵件延伸 (Secure/Multipurpose Internet Mail Extensions，SMIME) 信封、傳遞標頭以及 MIME 封裝方法的處理方式。</span><span class="sxs-lookup"><span data-stu-id="f25d4-140">These differences include how they handle attachments, the Secure/Multipurpose Internet Mail Extensions (SMIME) envelope, delivery header, and MIME packaging.</span></span> <span data-ttu-id="f25d4-141">RNIF 2.01 特別加入了附件，因為 RNIF 2.01 新增了傳遞標頭，而 RNIF 1.1 沒有。</span><span class="sxs-lookup"><span data-stu-id="f25d4-141">RNIF 2.01 specifically includes attachments; RNIF 2.01 adds a delivery header, while RNIF 1.1 does not.</span></span>  
  
> [!NOTE]
>  [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="f25d4-142">不支援*Technical Recommendations for RNIF 1.1*發佈的 RosettaNet 組織 （一個是附件支援，一個是同步回應）。</span><span class="sxs-lookup"><span data-stu-id="f25d4-142"> does not support the *Technical Recommendations for RNIF 1.1* published by the RosettaNet organization (one for attachment support, and one for synchronous responses).</span></span>  
  
 <span data-ttu-id="f25d4-143">系統使用部分的 RNIF 1.1 與 RNIF 2.01 訊息，做為合作對象識別、傳送及服務層級識別目的。</span><span class="sxs-lookup"><span data-stu-id="f25d4-143">Systems use the parts of RNIF 1.1 and RNIF 2.01 messages for party identification, routing, and service-level identification purposes.</span></span> <span data-ttu-id="f25d4-144">在讀取及回覆服務內容本文 (即訊息的主要內容) 之前，每一個合作對象必須成功地填入或解譯標頭值。</span><span class="sxs-lookup"><span data-stu-id="f25d4-144">Before reading and replying to a body of service content, which is the main content of the message, each party must successfully populate or interpret the header values.</span></span>  
  
 <span data-ttu-id="f25d4-145">下圖描述 RNIF 1.1 與 RNIF 2.01 訊息定義。</span><span class="sxs-lookup"><span data-stu-id="f25d4-145">The following figure describes the RNIF 1.1 and RNIF 2.01 message definitions.</span></span>  
  
 <span data-ttu-id="f25d4-146">![& #60;沒有變更 & #62;](../../adapters-and-accelerators/accelerator-rosettanet/media/rn3-rnif-message-definitions.gif "RN3_RNIF_Message_Definitions")</span><span class="sxs-lookup"><span data-stu-id="f25d4-146">![&#60;No Change&#62;](../../adapters-and-accelerators/accelerator-rosettanet/media/rn3-rnif-message-definitions.gif "RN3_RNIF_Message_Definitions")</span></span>  
  
 <span data-ttu-id="f25d4-147">在 RNIF 1.1 訊息中，版本號碼代表 RNIF 版本。</span><span class="sxs-lookup"><span data-stu-id="f25d4-147">In the RNIF 1.1 message, the version number indicates the RNIF version.</span></span> <span data-ttu-id="f25d4-148">內容長度等於 RosettaNet 服務訊息 (Service Message) 的長度。</span><span class="sxs-lookup"><span data-stu-id="f25d4-148">The content length is the length of the RosettaNet Service Message.</span></span> <span data-ttu-id="f25d4-149">「服務訊息」包含了前序、服務標頭以及服務內容，是 multipart/related 的 MIME 實體。</span><span class="sxs-lookup"><span data-stu-id="f25d4-149">The Service Message, which includes the preamble, the service header, and the service content, is a multipart/related MIME entity.</span></span> <span data-ttu-id="f25d4-150">簽章長度等於簽章的長度 (以位元組為單位)。</span><span class="sxs-lookup"><span data-stu-id="f25d4-150">The signature length is the length of the signature in bytes.</span></span> <span data-ttu-id="f25d4-151">如果有簽章，即為服務訊息欄位上的「公開金鑰加密標準」(Public-Key Cryptography Standards，PKCS) #7 簽章。</span><span class="sxs-lookup"><span data-stu-id="f25d4-151">If the signature exists, it is a Public-Key Cryptography Standards (PKCS) #7 signature on the service message field.</span></span>  
  
 <span data-ttu-id="f25d4-152">RNIF 2.01 包括獨立於傳輸通訊協定的容器，將系統要在封裝中交換的商務承載、標頭元件及其他元素包裝在一起。</span><span class="sxs-lookup"><span data-stu-id="f25d4-152">RNIF 2.01 includes a transfer protocol-independent container that packs together the business payload, header components, and other elements that systems will exchange in the package.</span></span> <span data-ttu-id="f25d4-153">RosettaNet 商務訊息 (如 RNIF 2.01 的定義) 包含前序、傳遞標頭、服務標頭及服務內容。</span><span class="sxs-lookup"><span data-stu-id="f25d4-153">A RosettaNet Business Message (as defined for RNIF 2.01) contains a preamble, a delivery header, a service header, and service content.</span></span> <span data-ttu-id="f25d4-154">系統必須根據 RosettaNet 標準文件類型定義 (DTD) 文法驗證規則，對文件類型的結構描述驗證所有元素。</span><span class="sxs-lookup"><span data-stu-id="f25d4-154">Systems must validate all elements against the schema for the document type that contains it, based on the RosettaNet standard document type definition (DTD) grammar-validation rules.</span></span> <span data-ttu-id="f25d4-155">服務內容可以是動作訊息或信號訊息。</span><span class="sxs-lookup"><span data-stu-id="f25d4-155">Service content can be an action message or a signal message.</span></span> <span data-ttu-id="f25d4-156">如果服務內容是動作訊息，則訊息可以包含一或多個附件。</span><span class="sxs-lookup"><span data-stu-id="f25d4-156">If service content is an action message, the message can include one or more attachments.</span></span>  
  
 <span data-ttu-id="f25d4-157">RosettaNet 商務訊息是 multipart/related 的 MIME 實體。</span><span class="sxs-lookup"><span data-stu-id="f25d4-157">A RosettaNet Business Message is a multipart/related MIME entity.</span></span> <span data-ttu-id="f25d4-158">如上圖所示，標頭及服務內容會以 MIME multipart/related 建構封裝在一起，這與 RNIF 1.1 封裝結構描述類似。</span><span class="sxs-lookup"><span data-stu-id="f25d4-158">As shown in the preceding figure, the headers and service content are packaged together using a MIME multipart/related construct, which is similar to the RNIF 1.1 packaging scheme.</span></span> <span data-ttu-id="f25d4-159">系統可以選擇數位簽署 RosettaNet 商務訊息。</span><span class="sxs-lookup"><span data-stu-id="f25d4-159">Optionally, systems can digitally sign a RosettaNet Business Message.</span></span> <span data-ttu-id="f25d4-160">在 RNIF 1.1 中，您可以使用 RosettaNet 物件 (RNO) 格式達到相同目的。</span><span class="sxs-lookup"><span data-stu-id="f25d4-160">In RNIF 1.1, you would use the RosettaNet Object (RNO) format for this purpose.</span></span> <span data-ttu-id="f25d4-161">RNIF 2.0 捨棄了 RNO 格式，改用標準 S/MIME 編碼。</span><span class="sxs-lookup"><span data-stu-id="f25d4-161">RNIF 2.0 eliminates the RNO format, and instead uses standard S/MIME encoding.</span></span>  
  
 <span data-ttu-id="f25d4-162">系統可以加密 RNIF 2.01 承載或承載容器。</span><span class="sxs-lookup"><span data-stu-id="f25d4-162">A system may encrypt the RNIF 2.01 payload or payload container.</span></span> <span data-ttu-id="f25d4-163">為了達成上述目的，您必須將要加密的部分組合在一個 multipart/related MIME 實體，再進行加密。</span><span class="sxs-lookup"><span data-stu-id="f25d4-163">To do this, you bundle the parts that you want to encrypt in a multipart/related MIME entity, and then encrypt them.</span></span> <span data-ttu-id="f25d4-164">接著，封裝產生的 S/MIME 物件，做為 RosettaNet 商務訊息中的一部分。</span><span class="sxs-lookup"><span data-stu-id="f25d4-164">You then package the resulting S/MIME object as a single part in the RosettaNet Business Message.</span></span>  
  
 <span data-ttu-id="f25d4-165">信號訊息必須永遠是 RosettaNet 定義的信號訊息執行個體。</span><span class="sxs-lookup"><span data-stu-id="f25d4-165">A signal message must always be a RosettaNet-defined signal message instance.</span></span> <span data-ttu-id="f25d4-166">對於動作訊息，RNIF 2.01 規格提供了以協力廠商定義的格式送出商務動作訊息的選項。</span><span class="sxs-lookup"><span data-stu-id="f25d4-166">For action messages, the RNIF 2.01 specification provides the option of shipping business-action messages in a third-party defined format.</span></span> <span data-ttu-id="f25d4-167">RNIF 2.01 服務標頭為此目的包含了額外的欄位，例如識別「標準內文」的欄位，以及識別動作訊息遵守之規格版本的欄位。</span><span class="sxs-lookup"><span data-stu-id="f25d4-167">The RNIF 2.01 service header includes additional fields for this purpose, such as a field that identifies the “standard body” and a field that identifies the version of the specification to which the action message conforms.</span></span>  
  
 <span data-ttu-id="f25d4-168">只有動作訊息 (亦稱為商務內容) 可以是非 RosettaNet 來源。</span><span class="sxs-lookup"><span data-stu-id="f25d4-168">Only action messages (also known as business content) can be of non-RosettaNet origin.</span></span> <span data-ttu-id="f25d4-169">系統必須以 RosettaNet 定義的 PIP 交換這些訊息。</span><span class="sxs-lookup"><span data-stu-id="f25d4-169">Systems must exchange these messages in a RosettaNet-defined PIP.</span></span> <span data-ttu-id="f25d4-170">RosettaNet 必須明確識別 PIP 規格中已認可的協力廠商動作訊息，藉以認可這些訊息。</span><span class="sxs-lookup"><span data-stu-id="f25d4-170">RosettaNet must sanction these messages by explicitly identifying the sanctioned third-party action message in the PIP specification.</span></span> <span data-ttu-id="f25d4-171">此外，交易夥伴必須同意其交易夥伴協議才能交換協力廠商的商務內容。</span><span class="sxs-lookup"><span data-stu-id="f25d4-171">Additionally, trading partners must agree in their trading partner agreement to exchange third-party business content.</span></span> <span data-ttu-id="f25d4-172">協議中必須包含 PIP 承載繫結資訊，該資訊識別您可以使用哪個協力廠商商務內容取代 PIP 中的特定動作訊息。</span><span class="sxs-lookup"><span data-stu-id="f25d4-172">The agreement must include the PIP payload binding information, which identifies which third-party business content you would use as a replacement for a particular action message in a PIP.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f25d4-173">另請參閱</span><span class="sxs-lookup"><span data-stu-id="f25d4-173">See Also</span></span>  
 <span data-ttu-id="f25d4-174">[RosettaNet 與 CIDX 訊息標準](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-and-cidx-messaging-standards.md) </span><span class="sxs-lookup"><span data-stu-id="f25d4-174">[RosettaNet and CIDX Messaging Standards](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-and-cidx-messaging-standards.md) </span></span>  
 [<span data-ttu-id="f25d4-175">RosettaNet Pip</span><span class="sxs-lookup"><span data-stu-id="f25d4-175">RosettaNet PIPs</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/rosettanet-pips.md)