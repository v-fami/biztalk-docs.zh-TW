---
title: 交易夥伴協議 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- trading partners, agreements
- agreements, trading partners
ms.assetid: 846466d2-db39-42ba-8be1-ecca83a55a02
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 26c8ac38e9b3dd0c32b496f3f7750fa0dcd982a1
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/23/2018
ms.locfileid: "22208678"
---
# <a name="trading-partner-agreements"></a><span data-ttu-id="b532d-102">交易夥伴協議</span><span class="sxs-lookup"><span data-stu-id="b532d-102">Trading Partner Agreements</span></span>
[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]<span data-ttu-id="b532d-103"> [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] 交易夥伴協議 (TPA) 來處理與夥伴的訊息交換。</span><span class="sxs-lookup"><span data-stu-id="b532d-103"> [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] processes message exchange with a partner by a trading partner agreement (TPA).</span></span> <span data-ttu-id="b532d-104">TPA 定義兩個交易夥伴之間訊息處理及驗證的規格。</span><span class="sxs-lookup"><span data-stu-id="b532d-104">The TPA defines the specifics of message processing and validation between the two partners.</span></span> <span data-ttu-id="b532d-105">它定義了這些交易夥伴實作相關交易夥伴介面程序 (PIP) 的方式，指定所有特定訊息類型實作的訊息內容。</span><span class="sxs-lookup"><span data-stu-id="b532d-105">It defines how those partners implement the relevant Partner Interface Process (PIP), which specifies the message content for all implementations of a specific message type.</span></span> <span data-ttu-id="b532d-106">TPA 也定義交易夥伴在網際網路上交換訊息的規格。</span><span class="sxs-lookup"><span data-stu-id="b532d-106">The TPA also defines specifics of how the partners exchange messages over the Internet.</span></span>  
  
## <a name="trading-partner-agreement-contents"></a><span data-ttu-id="b532d-107">交易夥伴協議內容</span><span class="sxs-lookup"><span data-stu-id="b532d-107">Trading Partner Agreement Contents</span></span>  
 <span data-ttu-id="b532d-108">每個交易夥伴協議包含下列資訊：</span><span class="sxs-lookup"><span data-stu-id="b532d-108">Each trading partner agreement includes the following information:</span></span>  
  
-   <span data-ttu-id="b532d-109">交易夥伴的身份識別</span><span class="sxs-lookup"><span data-stu-id="b532d-109">The identities of the trading partners</span></span>  
  
-   <span data-ttu-id="b532d-110">公開程序，由 RosettaNet 實作架構 (RNIF) 版本所定義，每個 TPA 會參考單一公開程序以啟動或回應 PIP 動作</span><span class="sxs-lookup"><span data-stu-id="b532d-110">The public process, as defined by the RosettaNet Implementation Framework (RNIF) version—each TPA references a single public process to initiate or respond to PIP actions</span></span>  
  
-   <span data-ttu-id="b532d-111">程序組態設定檔，此為 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 的 PIP 實作</span><span class="sxs-lookup"><span data-stu-id="b532d-111">The process configuration profile, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] implementation of the PIP</span></span>  
  
-   <span data-ttu-id="b532d-112">ASPX 設定，包括動作 URL、信號 URL 和同步 URL</span><span class="sxs-lookup"><span data-stu-id="b532d-112">ASPX settings, including the action, signal, and synchronous URLs</span></span>  
  
-   <span data-ttu-id="b532d-113">編碼和加密的通訊協定</span><span class="sxs-lookup"><span data-stu-id="b532d-113">Protocols for encoding and encryption</span></span>  
  
-   <span data-ttu-id="b532d-114">自訂屬性</span><span class="sxs-lookup"><span data-stu-id="b532d-114">Custom properties</span></span>  
  
 <span data-ttu-id="b532d-115">若要建立交易夥伴協議，您必須使用 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台建立程序組態。</span><span class="sxs-lookup"><span data-stu-id="b532d-115">To create a trading partner agreement, you must use the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console to create a process configuration.</span></span> <span data-ttu-id="b532d-116">組態通常是以 RosettaNet PIP 為基礎，但是您也可以根據自訂的結構描述建立組態。</span><span class="sxs-lookup"><span data-stu-id="b532d-116">You typically base this configuration on a RosettaNet PIP, but you can also base it on a custom schema.</span></span> <span data-ttu-id="b532d-117">您也必須使用主控台來建立主要組織和夥伴。</span><span class="sxs-lookup"><span data-stu-id="b532d-117">You must also use the console to create a home organization and a partner.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="b532d-118"> 不支援未知合作對象之間交換訊息。</span><span class="sxs-lookup"><span data-stu-id="b532d-118"> does not support message exchange between unknown parties.</span></span> <span data-ttu-id="b532d-119">建立組態及組織之後，接著，您可以使用管理主控台建立交易夥伴協議。</span><span class="sxs-lookup"><span data-stu-id="b532d-119">After you create the configuration and the organization, you can then use the Management Console to create a partner agreement.</span></span>  
  
### <a name="process-configuration"></a><span data-ttu-id="b532d-120">程序組態</span><span class="sxs-lookup"><span data-stu-id="b532d-120">Process Configuration</span></span>  
 <span data-ttu-id="b532d-121">這些設定決定 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 處理訊息內容的方式。</span><span class="sxs-lookup"><span data-stu-id="b532d-121">These settings determine how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] processes message content.</span></span> <span data-ttu-id="b532d-122">它們會指定 RosettaNet PIP，並指示 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 如何實作 PIP。</span><span class="sxs-lookup"><span data-stu-id="b532d-122">They specify the RosettaNet PIP, and indicate how [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will implement the PIP.</span></span> <span data-ttu-id="b532d-123">為了達成上述目的，這些設定為 PIP 指定的行為設定提供特定值，例如逾時值及重試值。</span><span class="sxs-lookup"><span data-stu-id="b532d-123">To do this, they provide specific values for the behavioral settings that the PIP specifies, for example, time-out and retry values.</span></span> <span data-ttu-id="b532d-124">因此，兩個不同組的交易夥伴或同一組交易夥伴便能以兩種不同的方式實作相同的 PIP。</span><span class="sxs-lookup"><span data-stu-id="b532d-124">Therefore, two different sets of partners, or the same set of partners, can implement the same PIP in two different ways.</span></span>  
  
 <span data-ttu-id="b532d-125">這些設定也會指定標準 (RosettaNet 或 CIDX)，以及主要組織和交易夥伴兩個角色的一般層面。</span><span class="sxs-lookup"><span data-stu-id="b532d-125">These settings also specify the standard (RosettaNet or CIDX), and general aspects of the home organization and partner roles.</span></span> <span data-ttu-id="b532d-126">您也可以建立非 RosettaNet 內容的程序組態。</span><span class="sxs-lookup"><span data-stu-id="b532d-126">You can also create a process configuration for non-RosettaNet content.</span></span> <span data-ttu-id="b532d-127">若要這樣做，必須建立該內容的結構描述，再根據結構描述建立組態。</span><span class="sxs-lookup"><span data-stu-id="b532d-127">To do this, you must create a schema for that content, and then create the configuration based on that schema.</span></span> <span data-ttu-id="b532d-128">對於非 RosettaNet 內容，您必須輸入訊息標準 」、 「 標準版本 」 和 「 承載繫結識別碼設定**一般**索引標籤中**程序組態設定** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="b532d-128">For non-RosettaNet content, you must enter values for the Message standard, Standard version, and Payload Binding ID settings on the **General** tab in the **Process Configuration Settings** dialog box.</span></span> <span data-ttu-id="b532d-129">您只能使用 RNIF 2.0 傳輸非 RosettaNet 內容。</span><span class="sxs-lookup"><span data-stu-id="b532d-129">You can only transport non-RosettaNet content by using RNIF 2.0.</span></span>  
  
 <span data-ttu-id="b532d-130">如需有關如何設定這些屬性的詳細資訊，請參閱[如何建立或編輯程序組態](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md)。</span><span class="sxs-lookup"><span data-stu-id="b532d-130">For more information about setting these properties, see [How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md).</span></span>  
  
### <a name="home-organization"></a><span data-ttu-id="b532d-131">主要組織</span><span class="sxs-lookup"><span data-stu-id="b532d-131">Home Organization</span></span>  
 <span data-ttu-id="b532d-132">這些設定定義即將初始化訊息的主要組織。</span><span class="sxs-lookup"><span data-stu-id="b532d-132">These settings define the home organization that will initiate messages.</span></span> <span data-ttu-id="b532d-133">這些設定包含「全球商務識別碼」(Global Business Identifier，GBI)，這是商業唯一識別碼的 DUNS 編號，另外還包含某些交易所需的連絡資訊。</span><span class="sxs-lookup"><span data-stu-id="b532d-133">The settings include a Global Business Identifier (GBI), which is the DUNS number that is the unique identifier of the business, and contact information that is required in some transactions.</span></span> <span data-ttu-id="b532d-134">如需有關如何設定這些屬性的詳細資訊，請參閱[建立或編輯主要組織](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md)。</span><span class="sxs-lookup"><span data-stu-id="b532d-134">For more information about setting these properties, see [Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md).</span></span>  
  
### <a name="partner-organization"></a><span data-ttu-id="b532d-135">夥伴組織</span><span class="sxs-lookup"><span data-stu-id="b532d-135">Partner Organization</span></span>  
 <span data-ttu-id="b532d-136">這些設定會定義將會接收及回應訊息的夥伴。</span><span class="sxs-lookup"><span data-stu-id="b532d-136">These settings define the partner that will receive and respond to messages.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="b532d-137"> 驗證每個內送 RNIF 訊息來自有效的合作對象有協議與主要組織。</span><span class="sxs-lookup"><span data-stu-id="b532d-137"> validates that each incoming RNIF message originated from a valid party who has an agreement with the home organization.</span></span> <span data-ttu-id="b532d-138">如果不是，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 將無法進行驗證，並且也不會處理訊息。</span><span class="sxs-lookup"><span data-stu-id="b532d-138">If not, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] will fail to authenticate and not process the message.</span></span> <span data-ttu-id="b532d-139">如需有關如何設定這些屬性的詳細資訊，請參閱[建立或編輯夥伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md)。</span><span class="sxs-lookup"><span data-stu-id="b532d-139">For more information about setting these properties, see [Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md).</span></span>  
  
### <a name="agreements-trading-partner-agreement-variables"></a><span data-ttu-id="b532d-140">協議 (交易夥伴協議變數)</span><span class="sxs-lookup"><span data-stu-id="b532d-140">Agreements (Trading Partner Agreement Variables)</span></span>  
 <span data-ttu-id="b532d-141">協議指定交易夥伴關係的所有層面。</span><span class="sxs-lookup"><span data-stu-id="b532d-141">The agreement specifies all aspects of the trading partner relationship.</span></span> <span data-ttu-id="b532d-142">它指定程序組態設定的顯示代碼，如 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 管理主控台所定義。</span><span class="sxs-lookup"><span data-stu-id="b532d-142">It specifies the display code of the process configuration settings, as defined in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> <span data-ttu-id="b532d-143">它也指定 RNIF 版本、連接埠 URL、通訊協定設定 (編碼和加密) 及其他變數。</span><span class="sxs-lookup"><span data-stu-id="b532d-143">It also specifies the RNIF version, port URLs, protocol settings (encoding and encryption), and other variables.</span></span> <span data-ttu-id="b532d-144">如需有關如何設定這些屬性的詳細資訊，請參閱[建立或編輯協議](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="b532d-144">For more information about setting these properties, see [Creating or Editing an Agreement](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md).</span></span>  
  
 <span data-ttu-id="b532d-145">如需有關 [管理] 主控台的詳細資訊，請參閱[管理設定、 憑證、 資料庫和安全性](manage-configuration-certificates-databases-security.md)。</span><span class="sxs-lookup"><span data-stu-id="b532d-145">For more information about the management console, see [Manage configuration, certificates, databases, and security](manage-configuration-certificates-databases-security.md).</span></span> <span data-ttu-id="b532d-146">您也可以透過「開發人員參考」的 Microsoft.Solutions.BTARN.ConfigurationManager 命名空間中的類別及介面，以唯讀方式用程式存取這些設定。</span><span class="sxs-lookup"><span data-stu-id="b532d-146">You can also gain read-only programmatic access to these settings through the classes and interfaces in the Microsoft.Solutions.BTARN.ConfigurationManager Namespace in the Developer Reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b532d-147">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b532d-147">See Also</span></span>  
 <span data-ttu-id="b532d-148">[BizTalk Accelerator for RosettaNet 新增至 BizTalk Server](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-148">[What BizTalk Accelerator for RosettaNet Adds to BizTalk Server](../../adapters-and-accelerators/accelerator-rosettanet/what-biztalk-accelerator-for-rosettanet-adds-to-biztalk-server.md) </span></span>  
 <span data-ttu-id="b532d-149">[RNIF 管線](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-149">[RNIF Pipelines](../../adapters-and-accelerators/accelerator-rosettanet/rnif-pipelines.md) </span></span>  
 <span data-ttu-id="b532d-150">[如何建立或編輯程序組態](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-150">[How to Create or Edit a Process Configuration](../../adapters-and-accelerators/accelerator-rosettanet/how-to-create-or-edit-a-process-configuration.md) </span></span>  
 <span data-ttu-id="b532d-151">[建立或編輯主要組織](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-151">[Creating or Editing a Home Organization](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-home-organization.md) </span></span>  
 <span data-ttu-id="b532d-152">[建立或編輯夥伴](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span><span class="sxs-lookup"><span data-stu-id="b532d-152">[Creating or Editing a Partner](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-a-partner.md) </span></span>  
 [<span data-ttu-id="b532d-153">建立或編輯協議</span><span class="sxs-lookup"><span data-stu-id="b532d-153">Creating or Editing an Agreement</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/creating-or-editing-an-agreement.md)