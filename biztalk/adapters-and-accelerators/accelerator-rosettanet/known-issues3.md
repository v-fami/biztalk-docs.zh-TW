---
title: 在 BizTalk Server RosettaNet 加速器的已知問題 |Microsoft 文件
description: 請參閱 < 已知的問題與失敗、 BAM、 安裝及設定，並在 BizTalk Server 中的 BTARN 更 0A1 通知的解決方式
caps.latest.revision: 11
author: MandiOhlinger
manager: anneta
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 335eb3c9-b565-470f-b69c-2a771ef8b476
ms.author: mandia
ms.openlocfilehash: bbb7ddc2028383f8ac346e7876459f322d2dd96b
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/01/2017
ms.locfileid: "26010775"
---
# <a name="known-issues"></a><span data-ttu-id="c154a-103">已知問題</span><span class="sxs-lookup"><span data-stu-id="c154a-103">Known Issues</span></span>
<span data-ttu-id="c154a-104">本節包含的有用資訊，可幫助您避免 [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] 的錯誤。</span><span class="sxs-lookup"><span data-stu-id="c154a-104">This section contains useful information that may help you avoid errors with [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)].</span></span> <span data-ttu-id="c154a-105">已知的問題可分為以下各類：</span><span class="sxs-lookup"><span data-stu-id="c154a-105">The known issues are grouped into the following areas:</span></span>  
  
-   <span data-ttu-id="c154a-106">0A1 失敗通知</span><span class="sxs-lookup"><span data-stu-id="c154a-106">0A1 Notification of Failure</span></span>  
  
-   <span data-ttu-id="c154a-107">商務活動監控 (BAM)</span><span class="sxs-lookup"><span data-stu-id="c154a-107">Business Activity Monitoring (BAM)</span></span>  
  
-   <span data-ttu-id="c154a-108">安裝與組態</span><span class="sxs-lookup"><span data-stu-id="c154a-108">Installation and Configuration</span></span>  
  
-   <span data-ttu-id="c154a-109">其他</span><span class="sxs-lookup"><span data-stu-id="c154a-109">Miscellaneous</span></span>  
  
## <a name="0a1-notification-of-failure"></a><span data-ttu-id="c154a-110">0A1 失敗通知</span><span class="sxs-lookup"><span data-stu-id="c154a-110">0A1 Notification of Failure</span></span>  
  
### <a name="btarn-does-not-perform-cross-field-validation-for-the-cidx-process-configuration-property-and-the-0a1-agreement-property"></a><span data-ttu-id="c154a-111">BTARN 不會對 CIDX 程序組態屬性與 0A1 協議屬性執行跨欄位驗證。</span><span class="sxs-lookup"><span data-stu-id="c154a-111">BTARN does not perform cross-field validation for the CIDX process-configuration property and the 0A1 agreement property</span></span>  
 <span data-ttu-id="c154a-112">當您使用程序組態設定檔，將協議的「0A1 協議」屬性設為 0A1 時，即使 CIDX 不支援 0A1 協議，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 仍舊不會防止您將程序組態設定檔的「標準」屬性設為 "CIDX"。</span><span class="sxs-lookup"><span data-stu-id="c154a-112">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not prevent you from setting the "Standard" property for a process configuration profile to "CIDX", after you have set the "0A1 agreement" property for an agreement using that profile to "0A1", even though a CIDX does not support 0A1 agreements.</span></span>  
  
## <a name="business-activity-monitoring"></a><span data-ttu-id="c154a-113">商務活動監控</span><span class="sxs-lookup"><span data-stu-id="c154a-113">Business Activity Monitoring</span></span>  
  
### <a name="duplicate-column-data-appears-in-the-business-activity-monitoring-reports"></a><span data-ttu-id="c154a-114">商務活動監控報告中出現重複的欄位資料</span><span class="sxs-lookup"><span data-stu-id="c154a-114">Duplicate column data appears in the Business Activity Monitoring reports</span></span>  
 <span data-ttu-id="c154a-115">在 BAM 活動 Web 報告中的 ActivityID 與 PIPInstanceID 資料欄位，包含相同的內容。</span><span class="sxs-lookup"><span data-stu-id="c154a-115">The ActivityID and PIPInstanceID columns in the BAM activities Web reports contain the same content.</span></span> <span data-ttu-id="c154a-116">此資料正確地反映交易夥伴介面程序 (PIP) 執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="c154a-116">This data accurately reflects the Partner Interface Process (PIP) instance identifier.</span></span> <span data-ttu-id="c154a-117">ActivityID 用這個值進行內部相互關聯。</span><span class="sxs-lookup"><span data-stu-id="c154a-117">The ActivityID uses this value for internal correlation.</span></span> <span data-ttu-id="c154a-118">您可以忽略此訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-118">You can ignore this message.</span></span>  
  
### <a name="empty-data-columns-in-the-business-activity-monitoring-web-reports"></a><span data-ttu-id="c154a-119">商務活動監控 Web 報告中出現空白資料欄位</span><span class="sxs-lookup"><span data-stu-id="c154a-119">Empty data columns in the Business Activity Monitoring Web reports</span></span>  
 <span data-ttu-id="c154a-120">商務活動監控 (BAM) Web 報告內沒有 0A1 訊息程序的任何資料。</span><span class="sxs-lookup"><span data-stu-id="c154a-120">The Business Activity Monitoring (BAM) Web reports do not contain any data for 0A1 message processes.</span></span> <span data-ttu-id="c154a-121">Web 報告中的 0A1 訊息欄都是以「初始化的 0A1」進行硬式編碼。</span><span class="sxs-lookup"><span data-stu-id="c154a-121">The 0A1 message columns in the Web reports are hard-coded with "Initiated 0A1".</span></span>  
  
## <a name="installation-and-configuration"></a><span data-ttu-id="c154a-122">安裝與組態</span><span class="sxs-lookup"><span data-stu-id="c154a-122">Installation and Configuration</span></span>  
  
### <a name="groups-and-users-in-either-the-biztalk-application-users-group-and-the-biztalk-server-administrators-group-must-be-in-the-same-domain"></a><span data-ttu-id="c154a-123">BizTalk 應用程式使用者群組以及 BizTalk Server  Administrator 群組中的群組與使用者，必須位於同一個網域中</span><span class="sxs-lookup"><span data-stu-id="c154a-123">Groups and users in either the BizTalk Application Users group and the BizTalk Server Administrators group must be in the same domain</span></span>  
 [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)]<span data-ttu-id="c154a-124"> 支援將群組加入至「BizTalk 應用程式使用者」群組或「BizTalk Server 系統管理員」群組，</span><span class="sxs-lookup"><span data-stu-id="c154a-124"> supports adding a group to either the BizTalk Application Users group or BizTalk Server Administrators group.</span></span> <span data-ttu-id="c154a-125">但隸屬於「BizTalk 應用程式使用者」群組或「BizTalk Server 系統管理員」群組的個別使用者帳戶與群組，都必須位於同一個網域中才行。</span><span class="sxs-lookup"><span data-stu-id="c154a-125">However, individual user accounts and groups that belong to either the BizTalk Application Users group or the BizTalk Server Administrators group must be a part of the same domain.</span></span>  
  
### <a name="uninstallation-of-btarn-fails-if-biztalk-server-is-removed-first"></a><span data-ttu-id="c154a-126">如果 BizTalk Server 會先移除，就會失敗，解除安裝 BTARN</span><span class="sxs-lookup"><span data-stu-id="c154a-126">Uninstallation of BTARN fails if BizTalk Server is removed first</span></span>  
 <span data-ttu-id="c154a-127">如果您移除 BizTalk Server，然後再移除[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]、[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]移除程序失敗，而且未發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="c154a-127">If you remove BizTalk Server before removing [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)], the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] removal process fails without errors.</span></span> <span data-ttu-id="c154a-128">若要解決此問題，重新安裝並重新設定 BizTalk Server，然後再移除[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="c154a-128">To resolve this issue, re-install and reconfigure BizTalk Server and then remove [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="distributed-deployment-requires-a-domain-controller"></a><span data-ttu-id="c154a-129">分散式部署需要有網域控制站</span><span class="sxs-lookup"><span data-stu-id="c154a-129">Distributed deployment requires a domain controller</span></span>  
 <span data-ttu-id="c154a-130">在多伺服器環境中部署 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] (例如將 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 安裝在某一台伺服器上，並將設定組態所需的 [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] 資料庫安裝在另一台伺服器上) 時，就需要有網域控制站。</span><span class="sxs-lookup"><span data-stu-id="c154a-130">Deploying [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] in a multi-server environment requires a domain controller, for example, when you have installed [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] on one server and the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases used for configuration on another server.</span></span>  
  
### <a name="custom-pip-configurations-are-not-supported"></a><span data-ttu-id="c154a-131">不支援自訂 PIP 組態</span><span class="sxs-lookup"><span data-stu-id="c154a-131">Custom PIP configurations are not supported</span></span>  
 <span data-ttu-id="c154a-132">目前的 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 版本不支援使用自訂項目或其他非 RosettaNet 標準資訊設定 PIP。</span><span class="sxs-lookup"><span data-stu-id="c154a-132">The current release of [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not support configuring PIPs with custom elements or other non-RosettaNet standard information.</span></span>  
  
### <a name="btarn-automatically-starts-the-single-sign-on-service"></a><span data-ttu-id="c154a-133">BTARN 自動啟動單一登入服務</span><span class="sxs-lookup"><span data-stu-id="c154a-133">BTARN automatically starts the Single Sign-On service</span></span>  
 <span data-ttu-id="c154a-134">當 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 需要「單一登入」(SSO) 服務，但 SSO 服務並未執行時，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 就會自動啟動 SSO 服務。</span><span class="sxs-lookup"><span data-stu-id="c154a-134">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] automatically starts the Single Sign-On (SSO) in an event when [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] requires it and the SSO service is not running.</span></span>  
  
### <a name="the-configuration-program-will-not-remove-btarn-virtual-directories-from-the-excluded-paths-list-when-webapps-is-not-configured-for-the-default-web-site"></a><span data-ttu-id="c154a-135">未對預設網站設定 WebApps 時，組態程式不會從排除的路徑清單移除 BTARN 虛擬目錄</span><span class="sxs-lookup"><span data-stu-id="c154a-135">The configuration program will not remove BTARN virtual directories from the excluded paths list when WebApps is not configured for the default Web site</span></span>  
 <span data-ttu-id="c154a-136">如果您取消設定 Web 應用程式虛擬資料夾設定為 [SharePoint Server] 而非 [預設的網站] 的 [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] 安裝，則在取消設定之後，您必須在 SharePoint 管理中心網站，以手動方式從排除的路徑清單中移除 btarnapp 和 btarnhttpreceive 虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="c154a-136">If you unconfigure a [!INCLUDE[BTARN_CurrentVersion_abbrev](../../includes/btarn-currentversion-abbrev-md.md)] installation in which the Web application virtual folder was configured to be SharePoint Server, not Default Web Site, after unconfiguration you will have to manually remove the btarnapp and btarnhttpreceive virtual directories from the Excluded Paths list in the SharePoint Central Administration site.</span></span> <span data-ttu-id="c154a-137">發生這種情況是因為在設定 Web 應用程式虛擬資料夾為 [SharePoint Server] 時，您必須將 btarnapp 和 btarnhttpreceive 以手動方式加入到排除的路徑清單。</span><span class="sxs-lookup"><span data-stu-id="c154a-137">This occurs because when you configure the Web application virtual folder to be SharePoint Server, you have to manually add btarnapp and btarnhttpreceive to the Excluded Paths list.</span></span> <span data-ttu-id="c154a-138">組態程式不會從排除的路徑清單自動移除它們。</span><span class="sxs-lookup"><span data-stu-id="c154a-138">The configuration program will not be able to automatically remove them from the Excluded Paths list.</span></span>  
  
## <a name="miscellaneous"></a><span data-ttu-id="c154a-139">其他</span><span class="sxs-lookup"><span data-stu-id="c154a-139">Miscellaneous</span></span>  
  
### <a name="btarn-will-receive-messages-encrypted-in-either-encryption-algorithm"></a><span data-ttu-id="c154a-140">BTARN 可接收用任何一種加密演算法加密的訊息</span><span class="sxs-lookup"><span data-stu-id="c154a-140">BTARN will receive messages encrypted in either encryption algorithm</span></span>  
 <span data-ttu-id="c154a-141">即使用於加密訊息的通訊協定與此欄位的「編碼」設定不符，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 接收管線仍然會接收並解密訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-141">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receive pipeline receives and decrypts a message even if the protocol that is used to encrypt the message and the Encoding setting in this field do not match.</span></span> <span data-ttu-id="c154a-142">因此，不論是以 RC2-40 或 3DES 加密的訊息，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 都會接收。</span><span class="sxs-lookup"><span data-stu-id="c154a-142">Therefore, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] receives messages that are encrypted in either RC2-40 or 3DES.</span></span>  
  
### <a name="btarn-requires-a-signal-in-a-single-action-synchronous-scenario"></a><span data-ttu-id="c154a-143">在單向動作同步實例中，BTARN 需要收到信號</span><span class="sxs-lookup"><span data-stu-id="c154a-143">BTARN requires a signal in a single-action synchronous scenario</span></span>  
 <span data-ttu-id="c154a-144">在單向動作同步實例中，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 都會等待接收信號，也會產生信號。</span><span class="sxs-lookup"><span data-stu-id="c154a-144">In a single-action synchronous scenario, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] always expects and generates signals.</span></span> <span data-ttu-id="c154a-145">此行為與 RosettaNet 規格的定義不同。根據 RosettaNet 規格，在單向動作同步實例中，信號可以為必要或非必要。</span><span class="sxs-lookup"><span data-stu-id="c154a-145">This behavior is different from the RosettaNet specification that a signal may or may not be required in a single-action synchronous scenario.</span></span> <span data-ttu-id="c154a-146">若 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 為回應者，當 BTARN 收到來自啟動者的訊息後，一定會產生信號做為回應。</span><span class="sxs-lookup"><span data-stu-id="c154a-146">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is a responder, it always generates a signal in response to a message from the initiator.</span></span> <span data-ttu-id="c154a-147">如果 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 是啟動者，則 BTARN 會一直等待回應者傳回信號。</span><span class="sxs-lookup"><span data-stu-id="c154a-147">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] is an initiator, it always expects a signal back from the responder.</span></span> <span data-ttu-id="c154a-148">如果 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 在程序組態設定的 `Time To Perform` 屬性中指定的時間內都沒有收到信號，就會視為逾期，並產生 0A1 訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-148">If [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not receive a signal, it times out after the interval specified in the `Time To Perform` property in the process configuration settings, and it generates a 0A1 message.</span></span>  
  
### <a name="btarn-supports-utf-16-in-received-messages"></a><span data-ttu-id="c154a-149">BTARN 可以接收 UTF-16 的訊息</span><span class="sxs-lookup"><span data-stu-id="c154a-149">BTARN supports UTF-16 in received messages</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-150">接收和處理 utf-16 字元集的訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-150"> receives and processes messages that have a character set of UTF-16.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-151">傳送訊息的 utf-8 的字元集。</span><span class="sxs-lookup"><span data-stu-id="c154a-151"> sends messages with a character set of UTF-8.</span></span>  
  
### <a name="namespaces-must-be-stripped-from-response-messages-mapped-from-request-messages"></a><span data-ttu-id="c154a-152">從要求訊息對應的回應訊息中，其命名空間必須加以刪除</span><span class="sxs-lookup"><span data-stu-id="c154a-152">Namespaces must be stripped from response messages mapped from request messages</span></span>  
 <span data-ttu-id="c154a-153">若您在雙向動作實例的私用程序中使用 BizTalk 對應工具，BizTalk 對應工具將會在對應要求訊息的回應訊息執行個體中，新增命名空間至部分項目標記。</span><span class="sxs-lookup"><span data-stu-id="c154a-153">If you use BizTalk Mapper in the private process of a double-action scenario, BizTalk Mapper adds namespaces to some element tags in response message instances mapped from request messages.</span></span> <span data-ttu-id="c154a-154">這些命名空間會導致傳送管線的失敗。</span><span class="sxs-lookup"><span data-stu-id="c154a-154">These namespaces cause a failure in the send pipeline.</span></span> <span data-ttu-id="c154a-155">您必須移除這些命名空間。</span><span class="sxs-lookup"><span data-stu-id="c154a-155">You must remove these namespaces.</span></span> <span data-ttu-id="c154a-156">請用 HeaderHelper 範例進行這項作業。</span><span class="sxs-lookup"><span data-stu-id="c154a-156">Use the HeaderHelper sample to do this.</span></span> <span data-ttu-id="c154a-157">如需詳細資訊，請參閱[雙向動作 PIPAutomation 協調流程 &#91;RN3 &#93;](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md)和[步驟 4： 建立 HeaderHelper 專案 &#91;RN3 &#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md).</span><span class="sxs-lookup"><span data-stu-id="c154a-157">For more information, see [Double Action PIPAutomation Orchestration &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/double-action-pipautomation-orchestration.md) and [Step 4: Creating the HeaderHelper Project &#91;RN3&#93;](../../adapters-and-accelerators/accelerator-rosettanet/step-4-creating-the-headerhelper-project.md).</span></span>  
  
### <a name="changing-uri-settings-requires-iisreset"></a><span data-ttu-id="c154a-158">變更 URI 設定需要使用 IISRESET</span><span class="sxs-lookup"><span data-stu-id="c154a-158">Changing URI settings requires IISRESET</span></span>  
 <span data-ttu-id="c154a-159">執行安裝程式時，您會設定接收與傳送 .aspx 頁面要使用的 URI 設定，以及接收配接器與傳送配接器的 URI 設定。</span><span class="sxs-lookup"><span data-stu-id="c154a-159">While running the Setup program, you set the URI settings that the receive and send .aspx pages use and the URI settings of the receive and send adapters.</span></span> <span data-ttu-id="c154a-160">如果您變更了 .aspx 頁面或配接器所在電腦的電腦名稱，就必須變更這些設定。</span><span class="sxs-lookup"><span data-stu-id="c154a-160">You must change these settings if you change the name of the computer that the .aspx pages or the adapters are installed on.</span></span> <span data-ttu-id="c154a-161">您可以重新執行組態程序以變更這些設定，但是這麼做將需要重設所有的組態設定。</span><span class="sxs-lookup"><span data-stu-id="c154a-161">You can change these settings by re-running the configuration process, but this requires resetting all configuration settings.</span></span> <span data-ttu-id="c154a-162">您也可以變更關聯的登錄機碼 (`AsyncReceivePortURI`、`RNIFSenderURI` 和 `SyncReceivePortURI`)，這樣就只會變更 URI 設定而已。</span><span class="sxs-lookup"><span data-stu-id="c154a-162">You can change the URI settings alone by changing the associated registry keys (`AsyncReceivePortURI`, `RNIFSenderURI`, and `SyncReceivePortURI`).</span></span> <span data-ttu-id="c154a-163">變更上述任何一項登錄機碼設定之後，您必須執行 IISRESET，變更才會生效。</span><span class="sxs-lookup"><span data-stu-id="c154a-163">After changing any one of these registry settings, you must run IISRESET for the changes to take effect.</span></span> <span data-ttu-id="c154a-164">這是因為 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 會快取設定以供本身使用。</span><span class="sxs-lookup"><span data-stu-id="c154a-164">This is because [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] caches the settings for its use.</span></span> <span data-ttu-id="c154a-165">執行 IISRESET 後，還必須重新啟動 BizTalk 服務。</span><span class="sxs-lookup"><span data-stu-id="c154a-165">After running IISRESET, you must also restart BizTalk services.</span></span>  
  
### <a name="btarn-does-not-enforce-restrictions-on-rnif-v11-enumerations"></a><span data-ttu-id="c154a-166">BTARN 不會對 RNIF v1.1 列舉強制執行限制條件</span><span class="sxs-lookup"><span data-stu-id="c154a-166">BTARN does not enforce restrictions on RNIF v1.1 enumerations</span></span>  
 <span data-ttu-id="c154a-167">RosettaNet 實作架構 (RNIF) 規格 v1.1 某些 RNIF 結構描述列舉型別上指定的限制。</span><span class="sxs-lookup"><span data-stu-id="c154a-167">The RosettaNet Implementation Framework (RNIF) Specification v1.1 specifies restrictions on some RNIF schema enumerations.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-168">不會強制這些限制，並不會驗證符合這些限制。</span><span class="sxs-lookup"><span data-stu-id="c154a-168"> does not enforce these restrictions, and does not validate against those restrictions.</span></span> <span data-ttu-id="c154a-169">這些限制不適用於 RNIF v2.01。</span><span class="sxs-lookup"><span data-stu-id="c154a-169">The restrictions do not apply to RNIF v2.01.</span></span>  
  
 <span data-ttu-id="c154a-170">上述原則適用於下列服務標頭項目：</span><span class="sxs-lookup"><span data-stu-id="c154a-170">This is true for the following service header elements:</span></span>  
  
-   `GlobalBusinessActionCode`  
  
-   `GlobalPartnerClassificationCode`  
  
-   `GlobalBusinessServiceCode`  
  
-   `GlobalProcessCode`  
  
-   `GlobalProcessIndicatorCode`  
  
-   `VersionIdentifier`  
  
### <a name="performancecontrolrequest-parameters-will-not-override-default-process-configuration-settings"></a><span data-ttu-id="c154a-171">PerformanceControlRequest 參數不會覆寫預設的程序組態設定</span><span class="sxs-lookup"><span data-stu-id="c154a-171">PerformanceControlRequest parameters will not override default process configuration settings</span></span>  
 <span data-ttu-id="c154a-172">內送訊息的服務標頭中可以含有 `PerformanceControlRequest` 參數。</span><span class="sxs-lookup"><span data-stu-id="c154a-172">Incoming messages can contain `PerformanceControlRequest` parameters in the service header.</span></span> <span data-ttu-id="c154a-173">這些參數包括在進行中的程序組態設定中所設定的通知 （接收） 和執行，時間的時間延遲參數值[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理主控台。</span><span class="sxs-lookup"><span data-stu-id="c154a-173">These parameters include values for the time delay parameters of Time to Acknowledge (Receipt) and Time to Perform, as set in the process configuration settings made in the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-174">不會以動態方式設定為基礎的時間延遲`PerformanceControlRequest`內送訊息中的參數。</span><span class="sxs-lookup"><span data-stu-id="c154a-174"> does not dynamically set the time delays based on the `PerformanceControlRequest` parameters in the incoming message.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-175">一律會在程序組態設定中設定之預設 PIP 值中的時間延遲。</span><span class="sxs-lookup"><span data-stu-id="c154a-175"> always takes the time delays from the default PIP values set in the process configuration settings.</span></span> <span data-ttu-id="c154a-176">這符合 RosettaNet 實作架構 (RNIF) 規格 v1.1。</span><span class="sxs-lookup"><span data-stu-id="c154a-176">This follows the RosettaNet Implementation Framework (RNIF) Specification v1.1.</span></span>  
  
### <a name="the-pip-name-and-pip-version-of-double-action-messages-are-case-sensitive"></a><span data-ttu-id="c154a-177">雙向動作訊息的 PIP 名稱與 PIP 版本有區分大小寫</span><span class="sxs-lookup"><span data-stu-id="c154a-177">The PIP name and PIP version of double-action messages are case-sensitive</span></span>  
 <span data-ttu-id="c154a-178">若回應訊息的 PIP 名稱與 PIP 版本的大小寫，與原始雙向動作要求訊息中對應值的大小寫不同，則啟動者 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 會將回應訊息視為無效而拒絕，並產生例外狀況傳回給回應者。</span><span class="sxs-lookup"><span data-stu-id="c154a-178">If the PIP name and PIP version of a response message have a different case than the corresponding values of the original double-action request message, the initiator [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] rejects the response message as not valid and returns an exception to the responder.</span></span>  
  
### <a name="btarn-does-not-support-changing-agreement-settings-while-there-are-active-processes"></a><span data-ttu-id="c154a-179">當有作用中的程序時，BTARN 不支援變更協議設定。</span><span class="sxs-lookup"><span data-stu-id="c154a-179">BTARN does not support changing agreement settings while there are active processes</span></span>  
 <span data-ttu-id="c154a-180">協議屬性變更會套用，當您按一下**套用**或**確定**接受條款。</span><span class="sxs-lookup"><span data-stu-id="c154a-180">Changes to agreement properties will apply as soon as you click **Apply** or **OK** to accept them.</span></span> <span data-ttu-id="c154a-181">在您更改了協議之後，只要牽涉到該協議的執行中程序或新程序，其中的所有新活動都會使用變更過的協議屬性。</span><span class="sxs-lookup"><span data-stu-id="c154a-181">After you change an agreement, any new activity in an already running process or any new process involving that agreement will use the changed agreement properties.</span></span> <span data-ttu-id="c154a-182">在您變更協議的同時，如果有正在執行的程序，此程序可能已經對訊息使用了先前的協議屬性。</span><span class="sxs-lookup"><span data-stu-id="c154a-182">If there was a process running when you changed the agreement, it may have already used the previous agreement properties for a message.</span></span> <span data-ttu-id="c154a-183">然而，這個程序的新訊息會使用新的協議設定，這樣將導致無法預測的後果。</span><span class="sxs-lookup"><span data-stu-id="c154a-183">The new messages for that process will use the new agreement settings, which may generate unpredictable results.</span></span> <span data-ttu-id="c154a-184">建議您最好在沒有執行任何程序時，才對協議設定進行變更。</span><span class="sxs-lookup"><span data-stu-id="c154a-184">It is recommended that you change agreement settings when there are no processes running.</span></span>  
  
### <a name="btarn-will-not-perform-cross-field-validation-after-changes-to-a-process-configuration-profile"></a><span data-ttu-id="c154a-185">變更了程序組態設定檔之後，BTARN 並不會執行跨欄位驗證</span><span class="sxs-lookup"><span data-stu-id="c154a-185">BTARN will not perform cross-field validation after changes to a process configuration profile</span></span>  
 <span data-ttu-id="c154a-186">當您建立程序組態設定檔，然後建立協議時，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 會執行跨欄位驗證，以確保協議屬性與設定檔相容。</span><span class="sxs-lookup"><span data-stu-id="c154a-186">When you create a process configuration profile and then create an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] performs cross-field validation to make sure that the properties of the agreement and the profile are compatible.</span></span> <span data-ttu-id="c154a-187">例如，若設定檔的「標準」屬性設為「CIDX」，BTARN 就會檢查協議的「0A1」協議屬性是否設為「No 0A1」。</span><span class="sxs-lookup"><span data-stu-id="c154a-187">For example, it checks that for a profile with the Standard property set to "CIDX", the 0A1 agreement property of the agreement is set to "No 0A1".</span></span> <span data-ttu-id="c154a-188">不過，若您在建立協議之後才變更程序組態設定檔，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 就不會執行跨欄位驗證。</span><span class="sxs-lookup"><span data-stu-id="c154a-188">However, if you change a process configuration profile after having created an agreement, [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not perform cross-field validation.</span></span> <span data-ttu-id="c154a-189">若將「標準」屬性從「RosettaNet」變更為「CIDX」，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 並不會驗證協議的「0A1」協議屬性是否設為「No 0A1」。</span><span class="sxs-lookup"><span data-stu-id="c154a-189">If you change the Standard property from "RosettaNet" to "CIDX", [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] does not verify that the 0A1 agreement property of the agreement is set to "No 0A1".</span></span>  
  
### <a name="errors-will-result-if-all-orchestrations-are-not-started"></a><span data-ttu-id="c154a-190">如果協調流程並未全部啟動，就會發生錯誤</span><span class="sxs-lookup"><span data-stu-id="c154a-190">Errors will result if all orchestrations are not started</span></span>  
 <span data-ttu-id="c154a-191">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 安裝程式安裝了九項協調流程。</span><span class="sxs-lookup"><span data-stu-id="c154a-191">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Setup program installs nine orchestrations.</span></span> <span data-ttu-id="c154a-192">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 若要能成功地處理訊息，您必須在啟動處理作業之前，繫結、登錄與啟動這九項協調流程。</span><span class="sxs-lookup"><span data-stu-id="c154a-192">For [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] to process messages successfully, you must bind, enlist, and start all nine of these orchestrations before initiating processing.</span></span> <span data-ttu-id="c154a-193">如需詳細資訊，請參閱在 BizTalk Server 說明中的 「 協調流程管理在 BizTalk 總管 」 或 「 管理協調流程 」 主題。</span><span class="sxs-lookup"><span data-stu-id="c154a-193">For more information, see the "Orchestration Management in BizTalk Explorer" or "Managing Orchestrations" topics in BizTalk Server Help.</span></span>  
  
### <a name="rnifreceiveaspx-does-not-remove-the-mime-bottom-boundary-from-a-message"></a><span data-ttu-id="c154a-194">RNIFReceive.aspx 並未刪除訊息的 MIME 下界限</span><span class="sxs-lookup"><span data-stu-id="c154a-194">RNIFReceive.aspx does not remove the MIME bottom boundary from a message</span></span>  
 <span data-ttu-id="c154a-195">當 RNIFReceive.aspx 頁面從夥伴的 RNIFSend.aspx 頁面接收訊息時，該訊息中會含有 MIME 標頭與以及 MIME 上下界限 (base 64 數字)。</span><span class="sxs-lookup"><span data-stu-id="c154a-195">When the RNIFReceive.aspx page receives a message from an RNIFSend.aspx page of a partner, the message includes a MIME header, and a MIME top and bottom boundary, a base 64 number.</span></span> <span data-ttu-id="c154a-196">RNIFSend.aspx 會為 RNIF 傳輸，新增標頭與界限至訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-196">RNIFSend.aspx adds the header and boundaries to the message for RNIF transmission.</span></span> <span data-ttu-id="c154a-197">RNIFReceive.aspx 提交訊息至公開程序前，應移除訊息中的 MIME 標頭與界限。</span><span class="sxs-lookup"><span data-stu-id="c154a-197">RNIFReceive.aspx should remove the MIME header and boundaries from the message before submitting the message to the public process.</span></span> <span data-ttu-id="c154a-198">RNIFReceive.aspx 會移除 MIME 標頭與上界限，但不會移除下界限。</span><span class="sxs-lookup"><span data-stu-id="c154a-198">RNIFReceive.aspx removes the MIME header and the upper boundary, but it does not remove the bottom boundary.</span></span> <span data-ttu-id="c154a-199">遺留的下界限，並不會影響在公開程序中的訊息處理。</span><span class="sxs-lookup"><span data-stu-id="c154a-199">The presence of the bottom boundary does not affect processing of the message in the public process.</span></span>  
  
### <a name="btarn-does-not-support-a-case-sensitive-configuration-of-sql-server-databases"></a><span data-ttu-id="c154a-200">BTARN 不支援要區分大小寫的 SQL Server 資料庫組態</span><span class="sxs-lookup"><span data-stu-id="c154a-200">BTARN does not support a case-sensitive configuration of SQL Server databases</span></span>  
 <span data-ttu-id="c154a-201">如果您進行[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]資料庫與資料庫物件區分大小寫，[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]管理主控台中找不到資料庫資源，而擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="c154a-201">If you make [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects case-sensitive, the [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] Management Console cannot find database resources and throws an exception.</span></span> <span data-ttu-id="c154a-202">[!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)]資料庫與資料庫物件必須是不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="c154a-202">The [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)][!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases and database objects must be case-insensitive.</span></span>  
  
### <a name="all-queries-in-database-maintenance-scripts-should-be-written-for-utc-time"></a><span data-ttu-id="c154a-203">資料庫維護指令碼中的所有查詢都必須使用 UTC 時間</span><span class="sxs-lookup"><span data-stu-id="c154a-203">All queries in database maintenance scripts should be written for UTC time</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-204"> [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] 資料庫使用 UTC (世界標準時間) 時間，因此為維護這些資料庫的其中一個資料庫而建立的任何查詢，也都必須使用 UTC 時間。</span><span class="sxs-lookup"><span data-stu-id="c154a-204"> [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] databases use UTC (Universal Time Coordinate) time, so that any query that you create to maintain one of these databases must be written for UTC time.</span></span> <span data-ttu-id="c154a-205">例如，如果您的維護指令碼要使用 `GetDate()` 命令，應將其變更為 `GetUTCDate()`。</span><span class="sxs-lookup"><span data-stu-id="c154a-205">For example, if your maintenance script were to use the `GetDate()` command, you should change it to `GetUTCDate()`.</span></span>  
  
### <a name="a-publicresponder-orchestration-will-reject-a-duplicate-request-action-message"></a><span data-ttu-id="c154a-206">PublicResponder 協調流程會拒絕重複的要求動作訊息</span><span class="sxs-lookup"><span data-stu-id="c154a-206">A PublicResponder orchestration will reject a duplicate request action message</span></span>  
 <span data-ttu-id="c154a-207">當 `PublicResponder` 協調流程 (PublicResponderV11.odx) 收到重複的要求動作訊息時，會在事件日誌中記錄警告，然後拒絕該訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-207">When a `PublicResponder` orchestration (PublicResponderV11.odx) receives a duplicate request action message, it will log a warning in the event log, and then reject the message.</span></span> <span data-ttu-id="c154a-208">在回應者協調流程完成後，若收到重複的訊息，由於已經沒有任何訂閱，因此 BizTalk Server 會停止該訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-208">If a duplicate message is received after the responder orchestration has completed, BizTalk Server will stop the message because there are no subscriptions.</span></span>  
  
### <a name="transmission-errors-will-not-be-shown-in-bam-if-the-public-process-has-stopped"></a><span data-ttu-id="c154a-209">公開程序停止後，傳輸錯誤不會顯示在 BAM 中</span><span class="sxs-lookup"><span data-stu-id="c154a-209">Transmission errors will not be shown in BAM if the public process has stopped</span></span>  
 <span data-ttu-id="c154a-210">當公開程序協調流程處理其最終訊息時，若發生傳輸錯誤，事件日誌與 HAT 會顯示錯誤，但 BAM 不會顯示該項錯誤。</span><span class="sxs-lookup"><span data-stu-id="c154a-210">If a transmission error occurs when a public-process orchestration processes its final message, the event log and HAT display the error, but BAM does not.</span></span> <span data-ttu-id="c154a-211">這是因為協調流程已停止，因此 BAM 無法顯示訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-211">BAM cannot display the message because the orchestration has stopped.</span></span>  
  
### <a name="the-pipelineexe-tool-cannot-be-used-to-debug-a-btarn-receive-pipeline"></a><span data-ttu-id="c154a-212">pipeline.exe 工具不能用來對 BTARN 接收管線進行偵錯</span><span class="sxs-lookup"><span data-stu-id="c154a-212">The pipeline.exe tool cannot be used to debug a BTARN receive pipeline</span></span>  
 <span data-ttu-id="c154a-213">要對接收管線進行偵錯，則必須建立裝載該管線的連接埠，</span><span class="sxs-lookup"><span data-stu-id="c154a-213">If you want to debug a receive pipeline, you have to create a port hosting the pipeline.</span></span> <span data-ttu-id="c154a-214">您無法使用 BizTalk Server 提供的 pipeline.exe 工具偵錯。</span><span class="sxs-lookup"><span data-stu-id="c154a-214">You cannot debug it using the pipeline.exe tool that BizTalk Server provides.</span></span>  
  
### <a name="an-error-may-be-generated-for-a-retried-message-that-is-successfully-processed-after-the-orchestration-finishes"></a><span data-ttu-id="c154a-215">可能因為重試訊息在協調流程完成後才成功處理完畢而產生錯誤</span><span class="sxs-lookup"><span data-stu-id="c154a-215">An error may be generated for a retried message that is successfully processed after the orchestration finishes</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-216"> 使用協調流程代表處理流程。</span><span class="sxs-lookup"><span data-stu-id="c154a-216"> uses orchestrations to represent process flow.</span></span> <span data-ttu-id="c154a-217">在某些情況下，在其中幾個重試的訊息時重試，之前的重試的訊息抵達 BizTalk MessageBox 中,，可能會成功地完成協調流程。</span><span class="sxs-lookup"><span data-stu-id="c154a-217">In some cases, in which several retried messages are retried, the orchestration may finish successfully before a retried message arrives in the BizTalk MessageBox.</span></span> <span data-ttu-id="c154a-218">這種狀況發生時，[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] 會產生對應的「完成但捨棄」錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-218">When this behavior occurs, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] generates a corresponding "completed but discarded" error message.</span></span> <span data-ttu-id="c154a-219">此時應該查看商務營運系統 (LOB) 應用程式，才能判斷該程序是否已經完成。</span><span class="sxs-lookup"><span data-stu-id="c154a-219">You should look at your line-of-business (LOB) application to determine whether the process has finished or not.</span></span> <span data-ttu-id="c154a-220">如果 LOB 應用程式表示程序已成功完成，您就可以忽略「完成但捨棄」訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-220">If the LOB application indicates successful completion, you can ignore the "completed but discarded" message.</span></span>  
  
### <a name="an-xml-file-exported-from-trackingxls-may-have-incorrect-fields"></a><span data-ttu-id="c154a-221">從 tracking.xls 匯出的 XML 檔案可能含有不正確的欄位</span><span class="sxs-lookup"><span data-stu-id="c154a-221">An XML file exported from tracking.xls may have incorrect fields</span></span>  
 <span data-ttu-id="c154a-222">當您在追蹤 XLS 檔案內定義新的追蹤檢視，並從這個追蹤 XLS 檔案匯出 XML 檔案時，某些欄位的名稱可能會被稍微修改。</span><span class="sxs-lookup"><span data-stu-id="c154a-222">When you define new tracking views in a tracking XLS file, and export an XML file from the tracking XLS file, some of the field names will be slightly modified.</span></span> <span data-ttu-id="c154a-223">請把您自訂的追蹤 XML 檔案中的這些欄位，和 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 安裝程式安裝的標準 tracking.xml 欄位比對，就可以找出並予以更正。</span><span class="sxs-lookup"><span data-stu-id="c154a-223">To correct this, verify the fields in your customized tracking XML file against the standard tracking.xml field installed by [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] setup.</span></span>  
  
### <a name="rnif-11-service-header-schema-for-signals-and-responses-may-need-modification"></a><span data-ttu-id="c154a-224">信號和回應的 RNIF 1.1 服務標頭結構描述可能需要修改</span><span class="sxs-lookup"><span data-stu-id="c154a-224">RNIF 1.1 service header schema for signals and responses may need modification</span></span>  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-225"> 提供所有現成的 RosettaNet 標頭結構描述。</span><span class="sxs-lookup"><span data-stu-id="c154a-225"> ships all RosettaNet header schemas out of the box.</span></span> <span data-ttu-id="c154a-226">某些實作使用 [信號控制] 和 [動作控制] 節點的方式較為不同，如下所述。</span><span class="sxs-lookup"><span data-stu-id="c154a-226">Some implementations use the Signal Control and Action Control nodes differently than others, as described below.</span></span>  
  
 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="c154a-227"> 提供現成的「信號控制」項目，如下所示。</span><span class="sxs-lookup"><span data-stu-id="c154a-227"> out of the box ships the Signal Control element as below.</span></span> <span data-ttu-id="c154a-228">請注意，以下也可能適用於「動作控制」項目。</span><span class="sxs-lookup"><span data-stu-id="c154a-228">Note that the same may be true for the Action Control element.</span></span>  
  
```  
<!ELEMENT SignalControl (  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity,  
          inResponseTo)>  
```  
  
 <span data-ttu-id="c154a-229">如果您的解決方案需要的是上述序列，您就不需要作任何動作。</span><span class="sxs-lookup"><span data-stu-id="c154a-229">If your solution requires this sequence, then you do not need to do anything.</span></span>  
  
 <span data-ttu-id="c154a-230">但是某些實作是使用下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="c154a-230">Some other implementations, on the other hand, use the following code:</span></span>  
  
```  
<!ELEMENT SignalControl (  
          inResponseTo,  
          InstanceIdentifier,  
          PartnerRoute,  
          SignalIdentity)>  
```  
  
 <span data-ttu-id="c154a-231">如果您的解決方案需要這個序列，請參閱 KB 889523。</span><span class="sxs-lookup"><span data-stu-id="c154a-231">If your solution requires this sequence, refer to KB 889523.</span></span> <span data-ttu-id="c154a-232">此軟體更新將會變更對應的 XML 結構描述。</span><span class="sxs-lookup"><span data-stu-id="c154a-232">This software update will change the corresponding XML schema.</span></span> <span data-ttu-id="c154a-233">請注意，這個更新只會影響 RNIF 1.1 程序。</span><span class="sxs-lookup"><span data-stu-id="c154a-233">Note that this update only affects RNIF 1.1 processes.</span></span>  
  
### <a name="pipautomationgetaction-sql-stored-procedure-needs-update"></a><span data-ttu-id="c154a-234">PipAutomationGetAction SQL 預存程序需要更新</span><span class="sxs-lookup"><span data-stu-id="c154a-234">PipAutomationGetAction SQL stored procedure needs update</span></span>  
 <span data-ttu-id="c154a-235">您必須更新 PipAutomationGetAction SQL 預存程序，才能鎖定單一記錄。</span><span class="sxs-lookup"><span data-stu-id="c154a-235">You need to update the PipAutomationGetAction SQL stored procedure to lock single records.</span></span> <span data-ttu-id="c154a-236">請刪除以下程式碼行：</span><span class="sxs-lookup"><span data-stu-id="c154a-236">Delete the following lines:</span></span>  
  
```  
IF @@ERROR <> 0  
    UPDATE MessagesToLOB SET Delivered = -1 WHERE MessageID = @tempGUID  
```  
  
 <span data-ttu-id="c154a-237">以下才是正確的 PipAutomationGetAction 預存程序：</span><span class="sxs-lookup"><span data-stu-id="c154a-237">The correct PipAutomationGetAction stored procedure is as follows:</span></span>  
  
```  
CREATE PROCEDURE PipAutomationGetAction  
AS  
 SET TRANSACTION ISOLATION LEVEL READ COMMITTED  
BEGIN TRANSACTION  
DECLARE @tempGUID nvarchar(36)  
SELECT TOP 1 @tempGUID = MessageID FROM MessagesToLOB WITH (READPAST,UPDLOCK,ROWLOCK)  
   WHERE Delivered = 0 AND MessageCategory = 10  
  ORDER BY TimeCreated  
  SELECT PIPInstanceID,DestinationPartyName,SourcePartyName,PIPCode,PIPVersion, ServiceContent FROM MessagesToLOB  
   WHERE MessageID = @tempGUID  
For xml auto  
UPDATE MessagesToLOB SET Delivered = 1 WHERE MessageID = @tempGUID  
 COMMIT TRANSACTION  
GO  
```  
  
### <a name="you-can-customize-aspx-code-to-return-the-error-description"></a><span data-ttu-id="c154a-238">您可以自訂 aspx 程式碼以傳回錯誤描述</span><span class="sxs-lookup"><span data-stu-id="c154a-238">You can customize aspx code to return the error description</span></span>  
 <span data-ttu-id="c154a-239">如果您需要記錄或傳送錯誤描述，可以自訂 aspx 程式碼，將實際的文字放在回應中傳回，</span><span class="sxs-lookup"><span data-stu-id="c154a-239">If you need to log or send an error description, you can customize the aspx code to have the actual text returned in the response.</span></span> <span data-ttu-id="c154a-240">方法是使用 HttpResponse.Status (此為內建 asp 要求的回應物件) 或 HttpWebResponse.StatusDescription (由 [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] 呼叫 HttpWebRequest 物件的 GetResponse 方法傳回)。</span><span class="sxs-lookup"><span data-stu-id="c154a-240">To do so, use HttpResponse.Status (which is the intrinsic asp request’s response object) or HttpWebResponse.StatusDescription (which is returned by the [!INCLUDE[btsDotNet](../../includes/btsdotnet-md.md)] call to the HttpWebRequest object’s GetResponse method).</span></span> <span data-ttu-id="c154a-241">若要將其中一個適用回應物件的傳回值傳回，請以 [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)] 所附的 aspx 程式碼中 Response.StatusCode 的設定方式，對 Response.Status 的值作類似的設定。</span><span class="sxs-lookup"><span data-stu-id="c154a-241">To return the return values from one of the applicable response objects, set the Response.Status value similar to how Response.StatusCode is set in the aspx code that ships with [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)].</span></span>  
  
### <a name="rnif-11-messages-cannot-be-read-in-plain-text-from-non-repudiation-tables-if-the-encoding-method-is-set-to-base64"></a><span data-ttu-id="c154a-242">如果編碼方式設定為 Base64，就無法從不可否認性資料表中讀出純文字的 RNIF 1.1 訊息</span><span class="sxs-lookup"><span data-stu-id="c154a-242">RNIF 1.1 messages cannot be read in plain text from non-repudiation tables if the encoding method is set to Base64</span></span>  
 <span data-ttu-id="c154a-243">這種狀況只有在編碼方式設定為 Base64 時才會發生。</span><span class="sxs-lookup"><span data-stu-id="c154a-243">This only happens if the encoding method is set to Base64.</span></span> <span data-ttu-id="c154a-244">當編碼方式設定為 quoted-printable 或 8-bit 時，可以從不可否認性資料表中讀出純文字的訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-244">Messages can be read in clear text from non-repudiation tables if encoding method is set to quoted-printable or 8-bit.</span></span> <span data-ttu-id="c154a-245">您必須將訊息檔案存成 \*.eml 副檔名，然後使用 Outlook Express 開啟檔案讀取訊息，這樣 Outlook Express 就會幫您把這個訊息解碼。</span><span class="sxs-lookup"><span data-stu-id="c154a-245">You need to save the message file with \*.eml extension and then open it using Outlook Express to read the message and Outlook Express will decode the message for you.</span></span> <span data-ttu-id="c154a-246">您也可以利用以下的程式碼，從不可否認性資料表中讀取以 Base64 方式編碼的訊息。</span><span class="sxs-lookup"><span data-stu-id="c154a-246">You may also use the code below to read the Base64 encoded messages from non-repudiation tables.</span></span>  
  
```  
byte[] textBytes = Convert.FromBase64String(txtEncodedText.Text);  
string plainText = Encoding.UTF8.GetString(textBytes);  
txtOutput.Text = plainText;  
```  
  
## <a name="see-also"></a><span data-ttu-id="c154a-247">請參閱</span><span class="sxs-lookup"><span data-stu-id="c154a-247">See Also</span></span>  
[<span data-ttu-id="c154a-248">疑難排解和已知問題</span><span class="sxs-lookup"><span data-stu-id="c154a-248">Troubleshooting and known issues</span></span>](troubleshooting-and-known-issues-in-rosettanet.md)