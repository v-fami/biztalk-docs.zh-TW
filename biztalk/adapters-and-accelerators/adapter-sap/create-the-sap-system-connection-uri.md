---
title: 建立 SAP 系統連線 URI |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- connection URI
- how to, connect using connection URI
- connecting using connection URI
- connecting to SAP, using the connection URI
ms.assetid: e41ed488-07a7-4fb7-97c0-6d626e041e95
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a1a54dc12b4bca6418cea1ea4ae63c6c63dcba6e
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36969487"
---
# <a name="create-the-sap-system-connection-uri"></a><span data-ttu-id="69101-102">建立 SAP 系統連線 URI</span><span class="sxs-lookup"><span data-stu-id="69101-102">Create the SAP system connection URI</span></span>
<span data-ttu-id="69101-103">[!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]連線 URI 包含配接器用來連接到 SAP 系統的屬性。</span><span class="sxs-lookup"><span data-stu-id="69101-103">The [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)] connection URI contains properties that the adapter uses to establish a connection to the SAP system.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="69101-104">根據預設，SAP 用戶端程式庫 (librfc32u.dll) 最多可支援 100 個連線到 SAP 系統。</span><span class="sxs-lookup"><span data-stu-id="69101-104">By default, the SAP client library (librfc32u.dll) supports a maximum of 100 connections to the SAP system.</span></span> <span data-ttu-id="69101-105">如果您超過此連線的數目，將會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="69101-105">If you exceed this number of connections, an exception will be thrown.</span></span> <span data-ttu-id="69101-106">基於這個理由，您應該設定**MaxConnectionsPerSystem**繫結屬性來限制連線數目，[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]會嘗試開啟 SAP 系統，或將 CPIC_MAX_CONV 環境變數設定為增加 SAP 用戶端程式庫所支援的連線數目。</span><span class="sxs-lookup"><span data-stu-id="69101-106">For this reason, you should either set the **MaxConnectionsPerSystem** binding property to limit the number of connections that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] will try to open on the SAP system; or set the CPIC_MAX_CONV environment variable to increase the number of connections supported by the SAP client library.</span></span> <span data-ttu-id="69101-107">如果您變更 CPIC_MAX_CONV 時，您必須重新啟動您的電腦，變更才會生效。</span><span class="sxs-lookup"><span data-stu-id="69101-107">If you change CPIC_MAX_CONV, you must restart your computer for the change to take effect.</span></span> <span data-ttu-id="69101-108">如需詳細資訊[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]繫結屬性，請參閱[了解 BizTalk Adapter for mySAP Business Suite 繫結屬性](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-108">For more information about the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] binding properties, see [Read about BizTalk Adapter for mySAP Business Suite binding properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  

 <span data-ttu-id="69101-109">本主題會提供 SAP 連線 URI 的相關資訊，並也會提供說明如何在不同的程式設計案例中，指定連線 URI 的其他主題的連結。</span><span class="sxs-lookup"><span data-stu-id="69101-109">This topic provides information about the SAP connection URI and also provides links to other topics that explain how to specify a connection URI in different programming scenarios.</span></span>  

## <a name="connection-uri-for-the-sap-adapter"></a><span data-ttu-id="69101-110">SAP 配接器的連線 URI</span><span class="sxs-lookup"><span data-stu-id="69101-110">Connection URI for the SAP Adapter</span></span>  
 <span data-ttu-id="69101-111">一般[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]端點位址 URI 表示，如下所示：</span><span class="sxs-lookup"><span data-stu-id="69101-111">A typical [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] endpoint address URI is represented as follows:</span></span>  

```  
scheme://userinfoparams@hostinfoparams?query_string  
```  

 <span data-ttu-id="69101-112">端點位址 URI 包含下列元件：</span><span class="sxs-lookup"><span data-stu-id="69101-112">The endpoint address URI contains the following components:</span></span>  

- <span data-ttu-id="69101-113">配置為配置名稱。</span><span class="sxs-lookup"><span data-stu-id="69101-113">scheme is the scheme name.</span></span>  

- <span data-ttu-id="69101-114">userinfoparams 是由端點所需進行使用者驗證的參數名稱 / 值集合。</span><span class="sxs-lookup"><span data-stu-id="69101-114">userinfoparams is a name-value collection of parameters required for user authentication by the endpoint.</span></span>  

- <span data-ttu-id="69101-115">hostinfoparams 是連線到主機; 所需的資訊例如，路徑。</span><span class="sxs-lookup"><span data-stu-id="69101-115">hostinfoparams is information required to establish the connection to the host; for example, a path.</span></span>  

- <span data-ttu-id="69101-116">query_string 是以問號 （？） 分隔的參數的選擇性名稱 / 值集合。</span><span class="sxs-lookup"><span data-stu-id="69101-116">query_string is an optional name-value collection of parameters delimited by a question mark (?).</span></span>  

  <span data-ttu-id="69101-117">端點位址 URI， [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] SAP 系統的使用由使用 SAP 連線的 URI。</span><span class="sxs-lookup"><span data-stu-id="69101-117">The endpoint address URI that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses for a SAP system is specified by using a SAP connection URI.</span></span> <span data-ttu-id="69101-118">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]實作此連線 URI，如下所示：</span><span class="sxs-lookup"><span data-stu-id="69101-118">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] implements this connection URI as follows:</span></span>  

```  
sap://user=[USER_NAME];passwd=[PASSWORD];Client=[CLIENT];lang=[LANGUAGE];[UseSnc]=[True|False]@connectiontype/conndetail1/conndetail2?GwHost=[GWHOST]?GwServ=[GWSERV]?MsServ=[MSSERV]?Group=[GROUP]?ListenerDest=[LISTENERDEST]?ListenerGwHost=[LISTENERGWHOST]?ListenerGwServ=[LISTENERGWSERV]?ListenerProgramId=[LISTENERPROGRAMID]?RfcSdkTrace=[true/false]?AbapDebug=[true/false]  
```  

 <span data-ttu-id="69101-119">下列各節說明連線 URI 的元件。</span><span class="sxs-lookup"><span data-stu-id="69101-119">The components of the connection URI are explained in the following sections.</span></span>  

### <a name="the-sap-connection-uri-scheme"></a><span data-ttu-id="69101-120">SAP 連線的 URI 配置</span><span class="sxs-lookup"><span data-stu-id="69101-120">The SAP Connection URI scheme</span></span>  
 <span data-ttu-id="69101-121">SAP 連線 URI 的配置是 「 sap 」。</span><span class="sxs-lookup"><span data-stu-id="69101-121">The scheme for the SAP connection URI is "sap".</span></span>  

### <a name="user-information-in-the-sap-connection-uri"></a><span data-ttu-id="69101-122">在 SAP 連接 URI 中的使用者資訊</span><span class="sxs-lookup"><span data-stu-id="69101-122">User Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="69101-123">SAP 連線的 URI 以使用者驗證、 用戶端識別碼和語言規格所需的參數名稱 / 值集合中的使用者資訊 (userinfoparams)。</span><span class="sxs-lookup"><span data-stu-id="69101-123">The user information (userinfoparams) in the SAP connection URI is represented as a name-value collection of parameters required for user authentication, client identification, and language specification.</span></span> <span data-ttu-id="69101-124">下表描述這些參數。</span><span class="sxs-lookup"><span data-stu-id="69101-124">The following table describes these parameters.</span></span>  


| <span data-ttu-id="69101-125">屬性</span><span class="sxs-lookup"><span data-stu-id="69101-125">Property</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="69101-126">描述</span><span class="sxs-lookup"><span data-stu-id="69101-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   <span data-ttu-id="69101-127">使用者</span><span class="sxs-lookup"><span data-stu-id="69101-127">User</span></span>   |                                                                                                                                                                                                            <span data-ttu-id="69101-128">SAP 系統; 上的使用者名稱這個值會區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="69101-128">The user name on the SAP system; this value is case sensitive.</span></span> <span data-ttu-id="69101-129">您必須設定**AcceptCredentialsInUri**屬性來繫結 **，則為 true**連線 URI 中指定的使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="69101-129">You must set the **AcceptCredentialsInUri** binding property to **true** to specify the user name and password in the connection URI.</span></span> <span data-ttu-id="69101-130">**注意︰** [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]保留開啟 SAP 系統上的連線時，您輸入使用者名稱值的大小寫。</span><span class="sxs-lookup"><span data-stu-id="69101-130">**Note:**  The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] preserves the case of the value that you enter for the user name when it opens a connection on the SAP system.</span></span>                                                                                                                                                                                                             |
|  <span data-ttu-id="69101-131">Passwd</span><span class="sxs-lookup"><span data-stu-id="69101-131">Passwd</span></span>  |                                                                                                                                                                                                       <span data-ttu-id="69101-132">SAP 系統; 上使用者的密碼這個值會區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="69101-132">The password for the user on the SAP system; this value is case sensitive.</span></span> <span data-ttu-id="69101-133">您必須設定**AcceptCredentialsInUri**屬性來繫結 **，則為 true**連線 URI 中指定的使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="69101-133">You must set the **AcceptCredentialsInUri** binding property to **true** to specify the user name and password in the connection URI.</span></span> <span data-ttu-id="69101-134">**注意︰** [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]保留開啟 SAP 系統上的連線時，您輸入的密碼值的大小寫。</span><span class="sxs-lookup"><span data-stu-id="69101-134">**Note:**  The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] preserves the case of the value that you enter for the password when it opens a connection on the SAP system.</span></span>                                                                                                                                                                                                       |
|  <span data-ttu-id="69101-135">用戶端</span><span class="sxs-lookup"><span data-stu-id="69101-135">Client</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="69101-136">SAP 系統用戶端識別碼。</span><span class="sxs-lookup"><span data-stu-id="69101-136">The SAP system client id.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="69101-137">語言</span><span class="sxs-lookup"><span data-stu-id="69101-137">Language</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="69101-138">語言。</span><span class="sxs-lookup"><span data-stu-id="69101-138">Language.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
|  <span data-ttu-id="69101-139">UseSnc</span><span class="sxs-lookup"><span data-stu-id="69101-139">UseSnc</span></span>  | <span data-ttu-id="69101-140">選擇性參數，指定是否要啟用 SAP 安全網路通訊 (SNC)。</span><span class="sxs-lookup"><span data-stu-id="69101-140">Optional parameter that specifies whether SAP Secure Network Communications (SNC) is enabled.</span></span> <span data-ttu-id="69101-141">此值可以是 True 或 False。如果為 True，則會啟用 SNC。</span><span class="sxs-lookup"><span data-stu-id="69101-141">The value can be True or False; if True, SNC is enabled.</span></span> <span data-ttu-id="69101-142">預設值為 False</span><span class="sxs-lookup"><span data-stu-id="69101-142">The default is False</span></span><br /><br /> <span data-ttu-id="69101-143">當您啟用 SNC 時，您也必須設定**SncPartnerName**並**SncLibrary**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="69101-143">When you enable SNC, you must also set the **SncPartnerName** and **SncLibrary** binding properties.</span></span> <span data-ttu-id="69101-144">如需詳細資訊，請參閱 <<c0> [ 了解 BizTalk Adapter for mySAP Business Suite 繫結屬性](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-144">For more information, see [Read about BizTalk Adapter for mySAP Business Suite binding properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span><br /><br /> <span data-ttu-id="69101-145">如果已啟用 SNC 連線 URI 包含認證，配接器會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="69101-145">If SNC is enabled and the connection URI contains credentials, the adapter throws an exception.</span></span> <span data-ttu-id="69101-146">**注意：** UseSnc 連線參數則僅適用於連線類型 A 和 b。本主題稍後的詳細說明是不同連接類型和其意義。</span><span class="sxs-lookup"><span data-stu-id="69101-146">**Note:**  UseSnc connection parameter is applicable only for connection types A and B. The different connection types and their significance is described in detail later in this topic.</span></span> |

> [!NOTE]
>  <span data-ttu-id="69101-147">在 SAP 連接 URI，您必須指定用戶端和語言。</span><span class="sxs-lookup"><span data-stu-id="69101-147">You must specify the Client and Language in the SAP connection URI.</span></span>  

 <span data-ttu-id="69101-148">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]表面**AcceptCredentialsinUri**繫結屬性，以便您可以控制是否可以在 連線 URI 中指定 SAP 系統的認證。</span><span class="sxs-lookup"><span data-stu-id="69101-148">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces the **AcceptCredentialsinUri** binding property so you can control whether SAP system credentials can be specified in the connection URI.</span></span> <span data-ttu-id="69101-149">這是因為認證以純文字中的連線 URI，以及這對造成固有的安全性風險。</span><span class="sxs-lookup"><span data-stu-id="69101-149">This is because the credentials are represented as plain text in the connection URI and this poses an inherent security risk.</span></span> <span data-ttu-id="69101-150">根據預設， **AcceptCredentialsInUri**繫結屬性為 false，而且如果在 連線 URI 中指定認證，則配接器擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="69101-150">By default, the **AcceptCredentialsInUri** binding property is false and the adapter throws an exception if credentials are specified in the connection URI.</span></span>  

 <span data-ttu-id="69101-151">某些情況下，它是必要的連線 URI; 中指定認證比方說，若要從 SAP 接收輸入的操作系統時，您可以使用 WCF 服務的 WCF 通道模型。</span><span class="sxs-lookup"><span data-stu-id="69101-151">There are some scenarios in which it is necessary to specify credentials in the connection URI; for example, to receive the inbound operations from the SAP system when you use the WCF service model or the WCF channel model.</span></span> <span data-ttu-id="69101-152">您可以設定**AcceptCredentialsInUri**屬性設為 true，針對這些案例。</span><span class="sxs-lookup"><span data-stu-id="69101-152">You can set the **AcceptCredentialsInUri** property to true for these scenarios.</span></span> <span data-ttu-id="69101-153">它是最佳作法，不過，為了避免直接在 連線 URI 中的認證。</span><span class="sxs-lookup"><span data-stu-id="69101-153">It is a best practice, however, to avoid providing credentials directly in the connection URI.</span></span> <span data-ttu-id="69101-154">如需如何更安全的方式提供認證以取得 SAP 連線的詳細資訊，請參閱[保護您的 SAP 應用程式](../../adapters-and-accelerators/adapter-sap/secure-your-sap-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-154">For more information about how to more securely provide credentials for the SAP connection, see [Secure your SAP applications](../../adapters-and-accelerators/adapter-sap/secure-your-sap-applications.md).</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="69101-155">如果您啟用安全網路通訊 (SNC) UseSnc 參數設定為 true 時，配接器會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="69101-155">If you enable Secure Network Communications (SNC) by setting the UseSnc parameter to true, the adapter throws an exception.</span></span>  

### <a name="host-information-in-the-sap-connection-uri"></a><span data-ttu-id="69101-156">在 SAP 連線 URI 的主機資訊</span><span class="sxs-lookup"><span data-stu-id="69101-156">Host Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="69101-157">SAP 主機資訊 (hostinfoparams) 由 SAP 連線 URI 中的下列元素： `connectiontype/conndetail1/conndetail2`。</span><span class="sxs-lookup"><span data-stu-id="69101-157">The SAP host information (hostinfoparams) is represented by the following elements in the SAP connection URI: `connectiontype/conndetail1/conndetail2`.</span></span> <span data-ttu-id="69101-158">這些參數會指定用戶端連接到 SAP 系統的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="69101-158">These parameters specify details about the client connection to the SAP system.</span></span> <span data-ttu-id="69101-159">SAP 用戶端連線相關的其他詳細資料，以及連接到 SAP RFC 目的地的接聽程式的詳細資料，都可以指定在 query_string。</span><span class="sxs-lookup"><span data-stu-id="69101-159">Additional details about the SAP client connection as well as details that establish a connection as a listener to an SAP RFC destination can be specified in the query_string.</span></span> <span data-ttu-id="69101-160">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] SAP 連線 URI 中支援下列用戶端連線類型：</span><span class="sxs-lookup"><span data-stu-id="69101-160">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports the following client connection types in the SAP connection URI:</span></span>  

- <span data-ttu-id="69101-161">答： 應用程式主機型連線 URI 中指定透過此應用程式伺服器的連接[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]連接到 SAP。</span><span class="sxs-lookup"><span data-stu-id="69101-161">A: An application-host based connection in which the connection URI specifies an application server through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to SAP.</span></span>  

- <span data-ttu-id="69101-162">B： 使用負載平衡的連線 URI 中指定透過它的訊息伺服器的連線[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]連接到 SAP。</span><span class="sxs-lookup"><span data-stu-id="69101-162">B: A load balanced connection in which the connection URI specifies a message server through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to SAP.</span></span>  

- <span data-ttu-id="69101-163">D： 目的地型連線所在的連線 URI 會指定包含適用於 SAP 的連線參數 saprfc.ini 檔案中的目的地。</span><span class="sxs-lookup"><span data-stu-id="69101-163">D: A destination-based connection in which the connection URI specifies a destination in the saprfc.ini file that contains the connection parameters for SAP.</span></span>  

  > [!NOTE]
  > <span data-ttu-id="69101-164">類型 B 連接僅適用於傳送埠。</span><span class="sxs-lookup"><span data-stu-id="69101-164">Connection Type B only applies to send ports.</span></span>  <span data-ttu-id="69101-165">設定接收位置時，選擇連線類型 A 或 d。</span><span class="sxs-lookup"><span data-stu-id="69101-165">When configuring a receive location, choose Connection Type A or D.</span></span>

  <span data-ttu-id="69101-166">下表描述如何在 SAP 連接 URI 中指定這些連接。</span><span class="sxs-lookup"><span data-stu-id="69101-166">The following table describes how these connections are specified in the SAP connection URI.</span></span>  

|<span data-ttu-id="69101-167">連接類型</span><span class="sxs-lookup"><span data-stu-id="69101-167">Connection Type</span></span>|<span data-ttu-id="69101-168">Conndetail1</span><span class="sxs-lookup"><span data-stu-id="69101-168">Conndetail1</span></span>|<span data-ttu-id="69101-169">Conndetail2</span><span class="sxs-lookup"><span data-stu-id="69101-169">Conndetail2</span></span>|<span data-ttu-id="69101-170">描述</span><span class="sxs-lookup"><span data-stu-id="69101-170">Description</span></span>|  
|---------------------|-----------------|-----------------|-----------------|  
|<span data-ttu-id="69101-171">只有在次要複本設定成手動容錯移轉模式，而且至少一個次要複本目前與主要複本 SYNCHRONIZED 時，</span><span class="sxs-lookup"><span data-stu-id="69101-171">A</span></span>|<span data-ttu-id="69101-172">ASHOST （應用程式伺服器主控件）</span><span class="sxs-lookup"><span data-stu-id="69101-172">ASHOST (Application Server Host)</span></span>|<span data-ttu-id="69101-173">SYSNR （SAP 系統編號）</span><span class="sxs-lookup"><span data-stu-id="69101-173">SYSNR (SAP System Number)</span></span>|<span data-ttu-id="69101-174">指定應用程式的主機型連接。</span><span class="sxs-lookup"><span data-stu-id="69101-174">Specifies an application host-based connection.</span></span> <span data-ttu-id="69101-175">Query_string 中可以指定選擇性的閘道器主機和閘道服務的應用程式主機型連線。</span><span class="sxs-lookup"><span data-stu-id="69101-175">For an application host-based connection, an optional Gateway Host and Gateway Service can be specified in the query_string.</span></span>|  
|<span data-ttu-id="69101-176">B</span><span class="sxs-lookup"><span data-stu-id="69101-176">B</span></span>|<span data-ttu-id="69101-177">MSHOST （郵件伺服器主機）</span><span class="sxs-lookup"><span data-stu-id="69101-177">MSHOST (Message Server Host)</span></span>|<span data-ttu-id="69101-178">R3NAME （SAP R3 名稱）</span><span class="sxs-lookup"><span data-stu-id="69101-178">R3NAME (SAP R3 Name)</span></span>|<span data-ttu-id="69101-179">指定負載平衡透過郵件伺服器的連線。</span><span class="sxs-lookup"><span data-stu-id="69101-179">Specifies a load balancing connection through a message server.</span></span> <span data-ttu-id="69101-180">Query_string 中可以指定選用的伺服器群組和訊息服務的負載平衡連線。</span><span class="sxs-lookup"><span data-stu-id="69101-180">For a load balancing connection, an optional server Group and Message Service can be specified in the query_string.</span></span>|  
|<span data-ttu-id="69101-181">D</span><span class="sxs-lookup"><span data-stu-id="69101-181">D</span></span>|<span data-ttu-id="69101-182">目的地 （包含 saprfc.ini 檔案中的連線參數的目的）</span><span class="sxs-lookup"><span data-stu-id="69101-182">DEST (Destination that contains the connection parameters in the saprfc.ini file)</span></span>|--|<span data-ttu-id="69101-183">指定的目的地型連線。</span><span class="sxs-lookup"><span data-stu-id="69101-183">Specifies a destination-based connection.</span></span> <span data-ttu-id="69101-184">SAP 連接參數會包含在 saprfc.ini 檔案中指定的目的地。</span><span class="sxs-lookup"><span data-stu-id="69101-184">The SAP connection parameters are contained in the specified destination in the saprfc.ini file.</span></span> <span data-ttu-id="69101-185">目的地中，可以指定只有 A 和 B 類型的連線。</span><span class="sxs-lookup"><span data-stu-id="69101-185">Only A-type and B-type connections can be specified in the destination.</span></span>|  

> [!NOTE]
>  <span data-ttu-id="69101-186">如果您 saprfc.ini 檔案中指定連接值，請確定該檔案位於相同的資料夾存取檔案的.exe 或所需的 SAP 系統的標準位置中。</span><span class="sxs-lookup"><span data-stu-id="69101-186">If you specify connection values in the saprfc.ini file, make sure the file is located in the same folder as the .exe accessing the file or at a standard location as required by the SAP system.</span></span> <span data-ttu-id="69101-187">如需詳細資訊，請參閱 SAP 文件。</span><span class="sxs-lookup"><span data-stu-id="69101-187">For more information, see the SAP documentation.</span></span>  

### <a name="query-information-in-the-sap-connection-uri"></a><span data-ttu-id="69101-188">在 SAP 連線 URI 的查詢資訊</span><span class="sxs-lookup"><span data-stu-id="69101-188">Query Information in the SAP Connection URI</span></span>  
 <span data-ttu-id="69101-189">在 SAP 連線 URI 的查詢資訊 (query_string) 包含選擇性的參數可以包含指定下列項目：</span><span class="sxs-lookup"><span data-stu-id="69101-189">The query information (query_string) in the SAP connection URI contains optional parameters that can be included to specify the following:</span></span>  

- <span data-ttu-id="69101-190">應用程式主機型連接 (A) 的其他連接詳細資料。</span><span class="sxs-lookup"><span data-stu-id="69101-190">Additional connection details for application host-based connections (A).</span></span>  

- <span data-ttu-id="69101-191">其他的連線詳細資料的負載平衡連線 (B)。</span><span class="sxs-lookup"><span data-stu-id="69101-191">Additional connection details for load balancing connections (B).</span></span>  

- <span data-ttu-id="69101-192">接聽程式的詳細資料指定於 SAP 系統可以透過此傳送 Rfc、 Trfc 和 Idoc 至 SAP 系統的 RFC 目的地[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="69101-192">Listener details that specify an RFC Destination on the SAP system through which the SAP system can send RFCs, TRFCs, and IDocs to the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  

- <span data-ttu-id="69101-193">是否要啟用 SAP 安全網路通訊 (SNC)。</span><span class="sxs-lookup"><span data-stu-id="69101-193">Whether to enable SAP Secure Network Communications (SNC).</span></span>  

- <span data-ttu-id="69101-194">指定偵錯組態的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="69101-194">Details that specify debugging configuration.</span></span>  

  <span data-ttu-id="69101-195">查詢參數都是選擇性的;不過，必須指定接聽程式的詳細資料如[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]做為 RFC 伺服器。</span><span class="sxs-lookup"><span data-stu-id="69101-195">Query parameters are optional; however, listener details must be specified for the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to act as an RFC server.</span></span>  

  <span data-ttu-id="69101-196">下表描述的查詢參數，並指出其有效的 SAP 連接類型。</span><span class="sxs-lookup"><span data-stu-id="69101-196">The following table describes the query parameters and indicates the SAP connection types for which they are valid.</span></span>  

|       <span data-ttu-id="69101-197">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="69101-197">Value</span></span>       | <span data-ttu-id="69101-198">有效的連接類型</span><span class="sxs-lookup"><span data-stu-id="69101-198">Valid Connection Type</span></span> |                                                                                                                                                                                                                                    <span data-ttu-id="69101-199">描述</span><span class="sxs-lookup"><span data-stu-id="69101-199">Description</span></span>                                                                                                                                                                                                                                     |
|-------------------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      <span data-ttu-id="69101-200">GwHost</span><span class="sxs-lookup"><span data-stu-id="69101-200">GwHost</span></span>       |           <span data-ttu-id="69101-201">只有在次要複本設定成手動容錯移轉模式，而且至少一個次要複本目前與主要複本 SYNCHRONIZED 時，</span><span class="sxs-lookup"><span data-stu-id="69101-201">A</span></span>           |                                                                                                                                                                                              <span data-ttu-id="69101-202">在應用程式主機型連接中指定選擇性的閘道器主機的名稱。</span><span class="sxs-lookup"><span data-stu-id="69101-202">Specifies the name of an optional gateway host in an application host-based connection.</span></span>                                                                                                                                                                                               |
|      <span data-ttu-id="69101-203">GwServ</span><span class="sxs-lookup"><span data-stu-id="69101-203">GwServ</span></span>       |           <span data-ttu-id="69101-204">只有在次要複本設定成手動容錯移轉模式，而且至少一個次要複本目前與主要複本 SYNCHRONIZED 時，</span><span class="sxs-lookup"><span data-stu-id="69101-204">A</span></span>           |                                                                                                                                                                                             <span data-ttu-id="69101-205">在應用程式主機型連接中指定選擇性的閘道服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="69101-205">Specifies the name of an optional gateway service in an application host-based connection.</span></span>                                                                                                                                                                                             |
|      <span data-ttu-id="69101-206">MsServ</span><span class="sxs-lookup"><span data-stu-id="69101-206">MsServ</span></span>       |           <span data-ttu-id="69101-207">B</span><span class="sxs-lookup"><span data-stu-id="69101-207">B</span></span>           |                                                                                                                                                                                                 <span data-ttu-id="69101-208">負載平衡連接中指定選擇性的訊息服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="69101-208">Specifies the name of an optional message service in a load balancing connection.</span></span>                                                                                                                                                                                                  |
|       <span data-ttu-id="69101-209">群組</span><span class="sxs-lookup"><span data-stu-id="69101-209">Group</span></span>       |           <span data-ttu-id="69101-210">B</span><span class="sxs-lookup"><span data-stu-id="69101-210">B</span></span>           |                                                                                                                                                                                                 <span data-ttu-id="69101-211">負載平衡連接中指定選用的應用程式伺服器群組。</span><span class="sxs-lookup"><span data-stu-id="69101-211">Specifies an optional group of application servers in a load balancing connection.</span></span>                                                                                                                                                                                                 |
|   <span data-ttu-id="69101-212">ListenerDest</span><span class="sxs-lookup"><span data-stu-id="69101-212">ListenerDest</span></span>    |          <span data-ttu-id="69101-213">(R)</span><span class="sxs-lookup"><span data-stu-id="69101-213">(R)</span></span>          |                                                                                                                                                                      <span data-ttu-id="69101-214">Saprfc.ini 檔案中的 rfc 伺服器連接中指定選擇性的目的地。</span><span class="sxs-lookup"><span data-stu-id="69101-214">Specifies an optional destination in the saprfc.ini file in an rfc server connection.</span></span> <span data-ttu-id="69101-215">目的地必須指定 R 類型連線。</span><span class="sxs-lookup"><span data-stu-id="69101-215">The destination must specify an R-type connection.</span></span>                                                                                                                                                                      |
|  <span data-ttu-id="69101-216">ListenerGwHost</span><span class="sxs-lookup"><span data-stu-id="69101-216">ListenerGwHost</span></span>   |          <span data-ttu-id="69101-217">(R)</span><span class="sxs-lookup"><span data-stu-id="69101-217">(R)</span></span>          |                                                                                      <span data-ttu-id="69101-218">指定的 rfc 伺服器連線的閘道主機。</span><span class="sxs-lookup"><span data-stu-id="69101-218">Specifies the gateway host for an rfc server connection.</span></span> <span data-ttu-id="69101-219">這個參數是選擇性的;不過，如果想要使用 rfc 伺服器連線和 LISTENERDEST 未指定，或沒有閘道器主機由 saprfc.ini 檔案中的目的地，然後 LISTENERGWHOST 必須包含有效的閘道主機。</span><span class="sxs-lookup"><span data-stu-id="69101-219">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway host is specified by the destination in the saprfc.ini file, then LISTENERGWHOST must contain a valid gateway host.</span></span>                                                                                      |
|  <span data-ttu-id="69101-220">ListenerGwServ</span><span class="sxs-lookup"><span data-stu-id="69101-220">ListenerGwServ</span></span>   |          <span data-ttu-id="69101-221">(R)</span><span class="sxs-lookup"><span data-stu-id="69101-221">(R)</span></span>          |                                                                                 <span data-ttu-id="69101-222">指定的 rfc 伺服器連線的閘道服務。</span><span class="sxs-lookup"><span data-stu-id="69101-222">Specifies the gateway service for an rfc server connection.</span></span> <span data-ttu-id="69101-223">這個參數是選擇性的;不過，如果想要使用 rfc 伺服器連線和 LISTENERDEST 未指定，或沒有閘道器服務由 saprfc.ini 檔案中的目的地，然後 LISTENERGWSERV 必須包含有效的閘道服務。</span><span class="sxs-lookup"><span data-stu-id="69101-223">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway service is specified by the destination in the saprfc.ini file, then LISTENERGWSERV must contain a valid gateway service.</span></span>                                                                                  |
| <span data-ttu-id="69101-224">ListenerProgramId</span><span class="sxs-lookup"><span data-stu-id="69101-224">ListenerProgramId</span></span> |          <span data-ttu-id="69101-225">(R)</span><span class="sxs-lookup"><span data-stu-id="69101-225">(R)</span></span>          |                                                                                  <span data-ttu-id="69101-226">指定的 rfc 伺服器連線的程式識別碼。</span><span class="sxs-lookup"><span data-stu-id="69101-226">Specifies the program id for an rfc server connection.</span></span> <span data-ttu-id="69101-227">這個參數是選擇性的;不過，如果想要使用 rfc 伺服器連線和 LISTENERDEST 未指定，或沒有閘道器服務由 saprfc.ini 檔案中的目的地，然後 LISTENERPROGRAMID 必須包含有效的閘道服務。</span><span class="sxs-lookup"><span data-stu-id="69101-227">This parameter is optional; however, if an rfc server connection is desired and LISTENERDEST is not specified or no gateway service is specified by the destination in the saprfc.ini file, then LISTENERPROGRAMID must contain a valid gateway service.</span></span>                                                                                   |
|    <span data-ttu-id="69101-228">RfcSdkTrace</span><span class="sxs-lookup"><span data-stu-id="69101-228">RfcSdkTrace</span></span>    |          <span data-ttu-id="69101-229">All</span><span class="sxs-lookup"><span data-stu-id="69101-229">All</span></span>          | <span data-ttu-id="69101-230">指定是否要啟用 RFC 程式庫追蹤的選擇性參數。</span><span class="sxs-lookup"><span data-stu-id="69101-230">Optional parameter that specifies whether RFC library tracing is enabled.</span></span> <span data-ttu-id="69101-231">此值可以是 True 或 False。如果為 True，則會啟用 RFC 程式庫的追蹤。</span><span class="sxs-lookup"><span data-stu-id="69101-231">The value can be True or False; if True, RFC Library tracing is enabled.</span></span> <span data-ttu-id="69101-232">預設值是 False。</span><span class="sxs-lookup"><span data-stu-id="69101-232">The default is False.</span></span><br /><br /> <span data-ttu-id="69101-233">啟用 RfcSdkTrace 參數所追蹤的層級取決於 RFC_TRACE 環境變數。</span><span class="sxs-lookup"><span data-stu-id="69101-233">The level of tracing enabled by the RfcSdkTrace parameter depends upon the environment variable RFC_TRACE.</span></span><br /><br /> <span data-ttu-id="69101-234">-如果 RFC_TRACE 不存在，或設為 0，則會啟用追蹤的最低層級。</span><span class="sxs-lookup"><span data-stu-id="69101-234">-   If RFC_TRACE not present, or is set to 0, then the minimum level of tracing is enabled.</span></span><br /><span data-ttu-id="69101-235">-您可以設定 RFC_TRACE 設為 1 或 2，以增加的追蹤層級。</span><span class="sxs-lookup"><span data-stu-id="69101-235">-   You can set RFC_TRACE to 1 or 2 to increase the level of tracing.</span></span> |
|     <span data-ttu-id="69101-236">AbapDebug</span><span class="sxs-lookup"><span data-stu-id="69101-236">AbapDebug</span></span>     |          <span data-ttu-id="69101-237">All</span><span class="sxs-lookup"><span data-stu-id="69101-237">All</span></span>          |                                                                                             <span data-ttu-id="69101-238">選擇性參數，指定是否從偵錯 ABAP[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]已啟用。</span><span class="sxs-lookup"><span data-stu-id="69101-238">Optional parameter that specifies whether ABAP debugging from [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] is enabled.</span></span> <span data-ttu-id="69101-239">此值可以是 True 或 False。如果為 True，將啟用 ABAP 偵錯。</span><span class="sxs-lookup"><span data-stu-id="69101-239">The value can be True or False; if True, ABAP debugging is enabled.</span></span> <span data-ttu-id="69101-240">預設值是 False。</span><span class="sxs-lookup"><span data-stu-id="69101-240">The default is False.</span></span> <span data-ttu-id="69101-241">如果 AbapDebug 為 True，則會開啟 SAP GUI。</span><span class="sxs-lookup"><span data-stu-id="69101-241">If AbapDebug is True, the SAP GUI is opened.</span></span>                                                                                             |

 <span data-ttu-id="69101-242">查詢字串中的參數是 SAP 參數和其值會定義 sap。</span><span class="sxs-lookup"><span data-stu-id="69101-242">The parameters in the query string are SAP parameters and their values are defined by SAP.</span></span> <span data-ttu-id="69101-243">如需這些參數的詳細資訊，請參閱您的 SAP 文件。</span><span class="sxs-lookup"><span data-stu-id="69101-243">For more information about these parameters please see your SAP documentation.</span></span>  

 <span data-ttu-id="69101-244">下圖顯示應用程式主機型連接的範例連接 URI:</span><span class="sxs-lookup"><span data-stu-id="69101-244">The following shows a sample connection URI for an application host-based connection:</span></span>  

```  
sap://Client=800;lang=EN@A/YourSAPHOST/00  
```  

## <a name="connection-uri-properties-in-the-configure-adapter-dialog-box"></a><span data-ttu-id="69101-245">中的連接 URI 屬性設定配接器 對話方塊</span><span class="sxs-lookup"><span data-stu-id="69101-245">Connection URI Properties in the Configure Adapter Dialog Box</span></span>  
 <span data-ttu-id="69101-246">當您連接到 SAP 系統[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)]從 URI 參數設定的連接**URI 屬性**索引標籤中**設定配接器** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="69101-246">When you connect to the SAP system with the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] you set the connection URI parameters from the **URI Properties** tab in the **Configure Adapter** dialog box.</span></span> <span data-ttu-id="69101-247">下表顯示的 URI 屬性中的顯示方式**URI 屬性**工作表。</span><span class="sxs-lookup"><span data-stu-id="69101-247">The following table shows how the URI properties are displayed in the **URI Properties** sheet.</span></span> <span data-ttu-id="69101-248">（URI 屬性群組中的 URI 屬性工作表中出現的順序列出）。</span><span class="sxs-lookup"><span data-stu-id="69101-248">(The URI properties are listed by group in the order they appear in the URI Properties sheet.)</span></span>  

|<span data-ttu-id="69101-249">類別目錄</span><span class="sxs-lookup"><span data-stu-id="69101-249">Category</span></span>|<span data-ttu-id="69101-250">URI 屬性</span><span class="sxs-lookup"><span data-stu-id="69101-250">URI Property</span></span>|<span data-ttu-id="69101-251">URI 的組件</span><span class="sxs-lookup"><span data-stu-id="69101-251">URI Part</span></span>|  
|--------------|------------------|--------------|  
|<span data-ttu-id="69101-252">應用程式伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-252">Application Server</span></span>|<span data-ttu-id="69101-253">應用程式伺服器主機</span><span class="sxs-lookup"><span data-stu-id="69101-253">Application Server Host</span></span>|<span data-ttu-id="69101-254">Conndetail1 （主機資訊連接 A）</span><span class="sxs-lookup"><span data-stu-id="69101-254">Conndetail1 (host information connection type A)</span></span>|  
|<span data-ttu-id="69101-255">應用程式伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-255">Application Server</span></span>|<span data-ttu-id="69101-256">閘道器主機</span><span class="sxs-lookup"><span data-stu-id="69101-256">Gateway Host</span></span>|<span data-ttu-id="69101-257">GwHost （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-257">GwHost (query string)</span></span>|  
|<span data-ttu-id="69101-258">應用程式伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-258">Application Server</span></span>|<span data-ttu-id="69101-259">閘道器服務</span><span class="sxs-lookup"><span data-stu-id="69101-259">Gateway Service</span></span>|<span data-ttu-id="69101-260">GwServ （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-260">GwServ (query string)</span></span>|  
|<span data-ttu-id="69101-261">應用程式伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-261">Application Server</span></span>|<span data-ttu-id="69101-262">系統編號</span><span class="sxs-lookup"><span data-stu-id="69101-262">System Number</span></span>|<span data-ttu-id="69101-263">Conndetail2 （主機資訊連接 A）</span><span class="sxs-lookup"><span data-stu-id="69101-263">Conndetail2 (host information connection type A)</span></span>|  
|<span data-ttu-id="69101-264">目的地</span><span class="sxs-lookup"><span data-stu-id="69101-264">Destination</span></span>|<span data-ttu-id="69101-265">目的地名稱</span><span class="sxs-lookup"><span data-stu-id="69101-265">Destination Name</span></span>|<span data-ttu-id="69101-266">Conndetail1 （主機資訊連接類型 D）</span><span class="sxs-lookup"><span data-stu-id="69101-266">Conndetail1 (host information connection type D)</span></span>|  
|<span data-ttu-id="69101-267">診斷</span><span class="sxs-lookup"><span data-stu-id="69101-267">Diagnostics</span></span>|<span data-ttu-id="69101-268">RFC 追蹤</span><span class="sxs-lookup"><span data-stu-id="69101-268">RFC Trace</span></span>|<span data-ttu-id="69101-269">RfcSdkTrace （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-269">RfcSdkTrace (query string)</span></span>|  
|<span data-ttu-id="69101-270">診斷</span><span class="sxs-lookup"><span data-stu-id="69101-270">Diagnostics</span></span>|<span data-ttu-id="69101-271">ABAP 偵錯</span><span class="sxs-lookup"><span data-stu-id="69101-271">ABAP Debug</span></span>|<span data-ttu-id="69101-272">AbapDebug （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-272">AbapDebug (query string)</span></span>|  
|<span data-ttu-id="69101-273">登入資訊</span><span class="sxs-lookup"><span data-stu-id="69101-273">Login Information</span></span>|<span data-ttu-id="69101-274">用戶端</span><span class="sxs-lookup"><span data-stu-id="69101-274">Client</span></span>|<span data-ttu-id="69101-275">用戶端 (userinfoparams)</span><span class="sxs-lookup"><span data-stu-id="69101-275">Client (userinfoparams)</span></span>|  
|<span data-ttu-id="69101-276">登入資訊</span><span class="sxs-lookup"><span data-stu-id="69101-276">Login Information</span></span>|<span data-ttu-id="69101-277">語言</span><span class="sxs-lookup"><span data-stu-id="69101-277">Language</span></span>|<span data-ttu-id="69101-278">語言 (userinfoparams)</span><span class="sxs-lookup"><span data-stu-id="69101-278">Language (userinfoparams)</span></span>|  
|<span data-ttu-id="69101-279">訊息伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-279">Message Server</span></span>|<span data-ttu-id="69101-280">應用程式伺服器群組名稱</span><span class="sxs-lookup"><span data-stu-id="69101-280">Application Server Group Name</span></span>|<span data-ttu-id="69101-281">群組 （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-281">Group (query string)</span></span>|  
|<span data-ttu-id="69101-282">訊息伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-282">Message Server</span></span>|<span data-ttu-id="69101-283">訊息伺服器主機</span><span class="sxs-lookup"><span data-stu-id="69101-283">Message Server Host</span></span>|<span data-ttu-id="69101-284">Conndetail1 （主機資訊連接類型 B）</span><span class="sxs-lookup"><span data-stu-id="69101-284">Conndetail1 (host information connection type B)</span></span>|  
|<span data-ttu-id="69101-285">訊息伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-285">Message Server</span></span>|<span data-ttu-id="69101-286">訊息伺服器服務</span><span class="sxs-lookup"><span data-stu-id="69101-286">Message Server Service</span></span>|<span data-ttu-id="69101-287">MsServ （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-287">MsServ (query string)</span></span>|  
|<span data-ttu-id="69101-288">訊息伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-288">Message Server</span></span>|<span data-ttu-id="69101-289">R/3 系統名稱</span><span class="sxs-lookup"><span data-stu-id="69101-289">R/3 System Name</span></span>|<span data-ttu-id="69101-290">Conndetail2 （主機資訊連接類型 B）</span><span class="sxs-lookup"><span data-stu-id="69101-290">Conndetail2 (host information connection type B)</span></span>|  
|<span data-ttu-id="69101-291">其他</span><span class="sxs-lookup"><span data-stu-id="69101-291">Misc</span></span>|<span data-ttu-id="69101-292">連接類型</span><span class="sxs-lookup"><span data-stu-id="69101-292">Connection Type</span></span>|<span data-ttu-id="69101-293">連線類型 (主機資訊： A、 B 或 D)</span><span class="sxs-lookup"><span data-stu-id="69101-293">Connection Type (host information: A, B, or D)</span></span>|  
|<span data-ttu-id="69101-294">RFC 伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-294">RFC Server</span></span>|<span data-ttu-id="69101-295">目的地名稱</span><span class="sxs-lookup"><span data-stu-id="69101-295">Destination Name</span></span>|<span data-ttu-id="69101-296">ListenerDest （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-296">ListenerDest (query string)</span></span>|  
|<span data-ttu-id="69101-297">RFC 伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-297">RFC Server</span></span>|<span data-ttu-id="69101-298">閘道器主機</span><span class="sxs-lookup"><span data-stu-id="69101-298">Gateway Host</span></span>|<span data-ttu-id="69101-299">ListenerGwHost （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-299">ListenerGwHost (query string)</span></span>|  
|<span data-ttu-id="69101-300">RFC 伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-300">RFC Server</span></span>|<span data-ttu-id="69101-301">閘道器服務</span><span class="sxs-lookup"><span data-stu-id="69101-301">Gateway Service</span></span>|<span data-ttu-id="69101-302">ListenerGwServ （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-302">ListenerGwServ (query string)</span></span>|  
|<span data-ttu-id="69101-303">RFC 伺服器</span><span class="sxs-lookup"><span data-stu-id="69101-303">RFC Server</span></span>|<span data-ttu-id="69101-304">程式識別碼</span><span class="sxs-lookup"><span data-stu-id="69101-304">Program Id</span></span>|<span data-ttu-id="69101-305">ListenerProgramId （查詢字串）</span><span class="sxs-lookup"><span data-stu-id="69101-305">ListenerProgramId (query string)</span></span>|  
|<span data-ttu-id="69101-306">SNC</span><span class="sxs-lookup"><span data-stu-id="69101-306">SNC</span></span>|<span data-ttu-id="69101-307">UseSnc</span><span class="sxs-lookup"><span data-stu-id="69101-307">UseSnc</span></span>|<span data-ttu-id="69101-308">UseSnc （使用者資訊）</span><span class="sxs-lookup"><span data-stu-id="69101-308">UseSnc (user info)</span></span>|  

## <a name="how-to-specify-a-connection-uri-for-rfc-server-connections"></a><span data-ttu-id="69101-309">如何指定連線 URI RFC 伺服器的連接。</span><span class="sxs-lookup"><span data-stu-id="69101-309">How to specify a Connection URI for RFC Server Connections.</span></span>  
 <span data-ttu-id="69101-310">若要建立的端點位址，透過此[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]可以做為 RFC 伺服器，您必須指定 SAP 程式 id、 SAP 閘道主機，以及對應至 SAP 系統的 RFC 目的地的 SAP 閘道服務。</span><span class="sxs-lookup"><span data-stu-id="69101-310">To create an endpoint address through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can act as an RFC server, you must specify a SAP program id, a SAP gateway host, and a SAP gateway service that correspond to an RFC destination on the SAP system.</span></span> <span data-ttu-id="69101-311">如需有關如何設定 SAP RFC 目的地的資訊，請參閱[建立 RFC、 RFC 目的地並傳送從 SAP RFC](creating-an-rfc-in-an-sap-system.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-311">For information about how to setup an RFC destination on SAP, see [Create an RFC, RFC destination, and send an RFC from SAP](creating-an-rfc-in-an-sap-system.md).</span></span>  

 <span data-ttu-id="69101-312">您可以指定連線 URI 中有兩種程式識別碼、 閘道器主機和閘道服務：</span><span class="sxs-lookup"><span data-stu-id="69101-312">You can specify the program id, gateway host, and gateway service in the connection URI in one of two ways:</span></span>  

-   <span data-ttu-id="69101-313">藉由設定 ListenerGwHost、 ListenerGwServ 和 ListenerProgramId 的查詢參數</span><span class="sxs-lookup"><span data-stu-id="69101-313">by setting the ListenerGwHost, ListenerGwServ, and ListenerProgramId query parameters</span></span>  

-   <span data-ttu-id="69101-314">ListenerDest 查詢參數設為 saprfc.ini 檔案中的目的地，可以指定 R 類型的連接。</span><span class="sxs-lookup"><span data-stu-id="69101-314">by setting the ListenerDest query parameter to a destination in the saprfc.ini file that specifies an R-type connection.</span></span>  

> [!NOTE]
>  <span data-ttu-id="69101-315">如果您指定 saprfc.ini 檔案中的連線值，請確定檔案位在相同的位置存取該檔案的.exe 或所需的 SAP 系統的標準位置。</span><span class="sxs-lookup"><span data-stu-id="69101-315">If you specify connection values in the saprfc.ini file, make sure the file resides at the same location as the .exe accessing the file or at a standard location as required by the SAP system.</span></span> <span data-ttu-id="69101-316">如需詳細資訊，請參閱 SAP 文件。</span><span class="sxs-lookup"><span data-stu-id="69101-316">For more information, see the SAP documentation.</span></span>  

 <span data-ttu-id="69101-317">若要指定的 RFC 伺服器連線的連線 URI 中,，您可以指定規則的用戶端連接以指定在查詢字串中，如下列範例所示的 RFC 目的地：</span><span class="sxs-lookup"><span data-stu-id="69101-317">To specify a connection URI for an RFC server connection, you specify a regular client connection with an RFC destination specified in the query string, as in the following example:</span></span>  

```  
sap://Client=800;lang=EN@A/YourSAPHOST/00?ListenerGwHost=YourSAPHOST&ListenerGwServ=SAPGW00&ListenerProgramId=MyProgramId  
```  

 <span data-ttu-id="69101-318">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]用以擷取中繼資料從 SAP 系統的連線 URI 的 userinfoparams 和 hostinfoparams 部分中包含的資訊，並使用查詢字串中的接聽程式參數所提供的資訊，來註冊其本身做為在 SAP RFC 目的地的接聽程式。</span><span class="sxs-lookup"><span data-stu-id="69101-318">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the information contained in the userinfoparams and hostinfoparams part of the connection URI to retrieve metadata from the SAP system and uses the information provided by the Listener parameters in the query string to register itself as a listener at the SAP RFC Destination.</span></span>  

## <a name="using-reserved-characters-in-the-connection-uri"></a><span data-ttu-id="69101-319">在 連線 URI 中使用保留的字元</span><span class="sxs-lookup"><span data-stu-id="69101-319">Using Reserved Characters in the Connection URI</span></span>  
 <span data-ttu-id="69101-320">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]不支援指定的連線有任何參數值的特殊字元的 URI。</span><span class="sxs-lookup"><span data-stu-id="69101-320">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not support specifying a connection URI that has special characters for any of the parameter values.</span></span> <span data-ttu-id="69101-321">如果連線參數值包含特殊字元，請確定您執行下列其中一項：</span><span class="sxs-lookup"><span data-stu-id="69101-321">If the connection parameter values contain special characters, make sure you do one of the following:</span></span>  

- <span data-ttu-id="69101-322">如果您要指定在 URI[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]使用[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]或[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，您必須指定為-處於**URI 屬性**索引標籤上，也就是不使用任何逸出字元。</span><span class="sxs-lookup"><span data-stu-id="69101-322">If you are specifying the URI in [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], you must specify them as-is in the **URI Properties** tab, that is, without using any escape characters.</span></span> <span data-ttu-id="69101-323">如果您指定直接在 URI**設定 URI**欄位和連接參數包含保留的字元，您必須指定下列連線參數，使用適當的逸出字元。</span><span class="sxs-lookup"><span data-stu-id="69101-323">If you specify the URI directly in the **Configure a URI** field and the connection parameters contain reserved characters, you must specify the connection parameters using proper escape characters.</span></span>  

- <span data-ttu-id="69101-324">如果您指定的 URI 時建立傳送或接收埠中的[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理主控台和連接參數包含保留的字元，您必須指定下列連線參數，使用適當的逸出字元。</span><span class="sxs-lookup"><span data-stu-id="69101-324">If you are specifying the URI while creating a send or receive port in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, and the connection parameters contain reserved characters, you must specify the connection parameters using proper escape characters.</span></span>  

## <a name="using-the-connection-uri-to-connect-to-the-sap-system"></a><span data-ttu-id="69101-325">使用連線到 SAP 系統的連線 URI</span><span class="sxs-lookup"><span data-stu-id="69101-325">Using the Connection URI to Connect to the SAP System</span></span>  
 <span data-ttu-id="69101-326">如需如何連接到 SAP 系統時您：</span><span class="sxs-lookup"><span data-stu-id="69101-326">For information about how to establish a connection to the SAP system when you:</span></span>  

- <span data-ttu-id="69101-327">使用[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)]，請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-327">Use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)], see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  

- <span data-ttu-id="69101-328">設定傳送埠或接收埠 （位置） 中[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]解決方案，請參閱 <<c2> [ 手動設定 SAP 配接器的實體連接埠繫結](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-328">Configure a send port or receive port (location) in a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] solution, see [Manually configure a physical port binding to the SAP adapter](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span></span>  

- <span data-ttu-id="69101-329">程式設計解決方案中使用的 WCF 通道模型，請參閱 <<c0> [ 建立通道，使用 SAP](../../adapters-and-accelerators/adapter-sap/create-a-channel-using-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-329">Use the WCF channel model in a programming solution, see [Create a channel using SAP](../../adapters-and-accelerators/adapter-sap/create-a-channel-using-sap.md).</span></span>  

- <span data-ttu-id="69101-330">程式設計解決方案中使用的 WCF 服務模型，請參閱 <<c0> [ 設定用戶端繫結 SAP 系統的](../../adapters-and-accelerators/adapter-sap/configure-a-client-binding-for-the-sap-system.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-330">Use the WCF service model in a programming solution, see [Configure a client binding for the SAP system](../../adapters-and-accelerators/adapter-sap/configure-a-client-binding-for-the-sap-system.md).</span></span>  

- <span data-ttu-id="69101-331">使用 WCF ServiceModel Metadata Utility Tool (svcutil.exe)，請參閱[ServiceModel Metadata Utility Tool 與 BizTalk 配接器用於 mySAP Business Suite](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md)。</span><span class="sxs-lookup"><span data-stu-id="69101-331">Use the WCF ServiceModel Metadata Utility Tool (svcutil.exe), see [Using the ServiceModel Metadata Utility Tool with the BizTalk Adapter for mySAP Business Suite](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="69101-332">另請參閱</span><span class="sxs-lookup"><span data-stu-id="69101-332">See Also</span></span>  
 [<span data-ttu-id="69101-333">建立與 SAP 系統的連線</span><span class="sxs-lookup"><span data-stu-id="69101-333">Create a connection to the SAP system</span></span>](../../adapters-and-accelerators/adapter-sap/create-a-connection-to-the-sap-system.md)