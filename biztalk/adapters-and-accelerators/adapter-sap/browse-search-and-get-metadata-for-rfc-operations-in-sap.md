---
title: 瀏覽、 搜尋，並取得中繼資料中 SAP RFC 作業 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- browsing, RFCs
- RFCs, searching
- RFCs, browsing
- RFC operations, generating schema
- RFC operations
- searching, RFCs
- WCF client, generating a
ms.assetid: 68d9e7b2-b8ab-47f5-afda-2811f68e834b
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3aae3cb0963b4ccbc5c3e891af70706587f8e4b9
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2018
---
# <a name="browse-search-and-get-metadata-for-rfc-operations-in-sap"></a><span data-ttu-id="73b21-102">瀏覽、 搜尋和 sap RFC 作業取得中繼資料</span><span class="sxs-lookup"><span data-stu-id="73b21-102">Browse, search, and get metadata for RFC operations in SAP</span></span>
<span data-ttu-id="73b21-103">本節提供有關如何瀏覽、 搜尋和中繼資料擷取 RFC 作業使用的 SAP 指示[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-103">This section provides instructions on how to browse, search, and retrieve metadata from SAP for RFC operations using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="73b21-104">大部分的指示會針對所有三種使用者介面相同。</span><span class="sxs-lookup"><span data-stu-id="73b21-104">Most of the instructions are same for all three user interface.</span></span> <span data-ttu-id="73b21-105">只要適用的話，個別的程序提供相關的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="73b21-105">Wherever applicable, separate procedures are provided for the relevant user interface.</span></span>  
  
 <span data-ttu-id="73b21-106">執行下列各節將提供的步驟之前，您必須：</span><span class="sxs-lookup"><span data-stu-id="73b21-106">Before performing the steps provided in the following sections, you must have:</span></span>  
  
-   <span data-ttu-id="73b21-107">建立[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]專案。</span><span class="sxs-lookup"><span data-stu-id="73b21-107">Created a [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
-   <span data-ttu-id="73b21-108">連接到 SAP 系統使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-108">Connected to the SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="73b21-109">如需指示，請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-109">For instructions see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  
  
## <a name="browsing-rfcs-in-an-sap-system"></a><span data-ttu-id="73b21-110">瀏覽 Rfc，SAP 系統中</span><span class="sxs-lookup"><span data-stu-id="73b21-110">Browsing RFCs in an SAP System</span></span>  
 <span data-ttu-id="73b21-111">在瀏覽中繼資料使用時[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)][!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]介面：</span><span class="sxs-lookup"><span data-stu-id="73b21-111">While browsing metadata using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces:</span></span>  
  
-   <span data-ttu-id="73b21-112">做為作業可以在 SAP 系統上叫用的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-112">RFCs as operations that can be invoked on the SAP system.</span></span>  
  
-   <span data-ttu-id="73b21-113">RfcGetAttributes 作業，可讓配接器用戶端取得 RFC 連線參數的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="73b21-113">RfcGetAttributes operation, which enables adapter clients to get information about the RFC connection parameters.</span></span>  
  
 <span data-ttu-id="73b21-114">如需有關如何瀏覽 SAP 中繼資料的詳細資訊，請參閱[公開介面卡設定為繫結屬性使用 WCF LOB 配接器 SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-114">Fore more information about browsing SAP metadata, see [Expose adapter settings as a binding property using the WCF LOB Adapter SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md).</span></span>
  
 <span data-ttu-id="73b21-115">執行下列步驟來瀏覽 Rfc，SAP 系統使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-115">Perform the following steps to browse RFCs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-browse-rfcs-in-an-sap-system"></a><span data-ttu-id="73b21-116">若要瀏覽 Rfc，SAP 系統中</span><span class="sxs-lookup"><span data-stu-id="73b21-116">To browse RFCs in an SAP system</span></span>  
  
1.  <span data-ttu-id="73b21-117">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-117">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="73b21-118">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="73b21-118">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="73b21-119">從**選取合約型別**下拉式清單中，選取 根據是否將執行使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="73b21-119">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="73b21-120">在**選取類別目錄**方塊中，按一下要查看 RFC 功能群組中的 RFC 節點**可用的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-120">In the **Select a category** box, click the RFC node to see the RFC functional groups in the **Available categories and operations** box.</span></span> <span data-ttu-id="73b21-121">或者，您也可以在展開 RFC 節點，查看 RFC 功能群組。</span><span class="sxs-lookup"><span data-stu-id="73b21-121">Alternatively, you can also see the RFC functional groups by expanding the RFC node.</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="73b21-122">您可以直接移至 「 立即 」 的類別目錄節點或子類別目錄節點的樹狀目錄中，輸入中的成品名稱時的焦點所在的樹狀檢閱中**選取類別目錄**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-122">You can directly go to the “immediate” category node or subcategory nodes in the tree, by typing the name of the artifact in while the focus is on the tree view in the **Select a category** box.</span></span> <span data-ttu-id="73b21-123">例如，若要跳至**基礎**RFC 功能群組中，將焦點放在**RFC**  節點，然後輸入`Basis`。</span><span class="sxs-lookup"><span data-stu-id="73b21-123">For example, to jump to the **Basis** RFC functional group, keep the focus on the **RFC** node, and then type `Basis`.</span></span>  
  
     <span data-ttu-id="73b21-124">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 RFC 功能群組。</span><span class="sxs-lookup"><span data-stu-id="73b21-124">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the RFC functional groups.</span></span>  
  
     <span data-ttu-id="73b21-125">![瀏覽 RFC 功能群組](../../adapters-and-accelerators/adapter-sap/media/958cba26-1644-4700-a647-9eeb0273ebd1.gif "958cba26-1644-4700-a647-9eeb0273ebd1")</span><span class="sxs-lookup"><span data-stu-id="73b21-125">![Browsing RFC functional groups](../../adapters-and-accelerators/adapter-sap/media/958cba26-1644-4700-a647-9eeb0273ebd1.gif "958cba26-1644-4700-a647-9eeb0273ebd1")</span></span>  
  
4.  <span data-ttu-id="73b21-126">按一下以查看相關的 Rfc RFC 功能群組。</span><span class="sxs-lookup"><span data-stu-id="73b21-126">Click the RFC functional groups to see the relevant RFCs.</span></span> <span data-ttu-id="73b21-127">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]與特定的 RFC 功能群組下的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-127">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] with the RFCs under a particular RFC functional group.</span></span>  
  
     <span data-ttu-id="73b21-128">![瀏覽 Rfc 功能群組](../../adapters-and-accelerators/adapter-sap/media/bf725aa9-a547-4f20-8246-d9c8fedadb40.gif "bf725aa9-a547-4f20-8246-d9c8fedadb40")</span><span class="sxs-lookup"><span data-stu-id="73b21-128">![Browsing RFCs in a functional group](../../adapters-and-accelerators/adapter-sap/media/bf725aa9-a547-4f20-8246-d9c8fedadb40.gif "bf725aa9-a547-4f20-8246-d9c8fedadb40")</span></span>  
  
## <a name="searching-rfcs-in-an-sap-system"></a><span data-ttu-id="73b21-129">搜尋 SAP 系統中的 Rfc</span><span class="sxs-lookup"><span data-stu-id="73b21-129">Searching RFCs in an SAP System</span></span>  
 <span data-ttu-id="73b21-130">在 SAP 系統使用 Rfc 搜尋中繼資料時[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="73b21-130">While searching metadata for RFCs in an SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span></span>  
  
-   <span data-ttu-id="73b21-131">支援萬用字元搜尋運算式中。</span><span class="sxs-lookup"><span data-stu-id="73b21-131">Supports wildcard characters in the search expression.</span></span>  
  
-   <span data-ttu-id="73b21-132">啟用立即節點下搜尋在其中執行搜尋作業。</span><span class="sxs-lookup"><span data-stu-id="73b21-132">Enables search immediately under the node at which the search operation is performed.</span></span>  
  
 <span data-ttu-id="73b21-133">下表列出可用於搜尋和由其解譯的特殊字元[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-133">The following table lists the special characters that can be used for search and their interpretation by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
|<span data-ttu-id="73b21-134">特殊字元</span><span class="sxs-lookup"><span data-stu-id="73b21-134">Special character</span></span>|<span data-ttu-id="73b21-135">解譯</span><span class="sxs-lookup"><span data-stu-id="73b21-135">Interpretation</span></span>|  
|-----------------------|--------------------|  
|<span data-ttu-id="73b21-136">+ (加號)</span><span class="sxs-lookup"><span data-stu-id="73b21-136">+ (plus)</span></span>|<span data-ttu-id="73b21-137">比對一個字元。</span><span class="sxs-lookup"><span data-stu-id="73b21-137">Matches exactly one character.</span></span><br /><br /> <span data-ttu-id="73b21-138">例如，A + 比對 AB、 AC、 AD</span><span class="sxs-lookup"><span data-stu-id="73b21-138">For example, A+ matches AB, AC, AD</span></span>|  
|<span data-ttu-id="73b21-139">\* (星號)</span><span class="sxs-lookup"><span data-stu-id="73b21-139">\* (asterisk)</span></span>|<span data-ttu-id="73b21-140">比對零個或多個字元。</span><span class="sxs-lookup"><span data-stu-id="73b21-140">Matches zero or more characters.</span></span><br /><br /> <span data-ttu-id="73b21-141">例如，A \* 比對 A，AB，ABC。</span><span class="sxs-lookup"><span data-stu-id="73b21-141">For example, A\* matches A, AB, ABC.</span></span>|  
  
 <span data-ttu-id="73b21-142">如需配接器支援的特殊字元的詳細資訊，請參閱[公開介面卡設定為繫結屬性使用 WCF LOB 配接器 SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-142">For more information about the special characters supported by the adapter, see [Expose adapter settings as a binding property using the WCF LOB Adapter SDK](../../adapters-and-accelerators/wcf-lob-adapter-sdk/expose-adapter-settings-as-a-binding-property-using-the-wcf-lob-adapter-sdk.md).</span></span>
  
 <span data-ttu-id="73b21-143">執行下列步驟，以搜尋 SAP 系統使用 Rfc [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-143">Perform the following steps to search RFCs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-search-rfcs-in-an-sap-system"></a><span data-ttu-id="73b21-144">搜尋 SAP 系統中的 Rfc</span><span class="sxs-lookup"><span data-stu-id="73b21-144">To search RFCs in an SAP system</span></span>  
  
1.  <span data-ttu-id="73b21-145">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-145">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="73b21-146">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="73b21-146">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="73b21-147">從**選取合約型別**下拉式清單中，選取 根據是否您將會搜尋使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="73b21-147">From the **Select contract type** drop-down list, select the type of contract based on whether you will be searching for inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="73b21-148">在**選取類別目錄**方塊中，按一下包含您想要搜尋的 RFC 的 RFC 功能群組。</span><span class="sxs-lookup"><span data-stu-id="73b21-148">In the **Select a category** box, click the RFC functional group containing the RFC you want to search.</span></span> <span data-ttu-id="73b21-149">如果您不確定哪一個要搜尋的功能群組，請按一下 根 RFC 節點。</span><span class="sxs-lookup"><span data-stu-id="73b21-149">If you are not sure which functional group to search in, click the root RFC node.</span></span>  
  
4.  <span data-ttu-id="73b21-150">在**類別目錄中的搜尋**文字方塊中，輸入要搜尋特定的 RFC 搜尋運算式。</span><span class="sxs-lookup"><span data-stu-id="73b21-150">In the **Search in category** text box, enter a search expression to search for a specific RFC.</span></span> <span data-ttu-id="73b21-151">例如，若要搜尋名稱中有"RFC_CUST"的 Rfc，請輸入 * RFC_CUST\*在文字方塊中。</span><span class="sxs-lookup"><span data-stu-id="73b21-151">For example, to search for RFCs that have "RFC_CUST" in their names, type *RFC_CUST\* in the text box.</span></span>  
  
5.  <span data-ttu-id="73b21-152">按一下向右箭號圖示，開始搜尋 按鈕。</span><span class="sxs-lookup"><span data-stu-id="73b21-152">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="73b21-153">搜尋完成之後，**可用的類別和作業**方塊會列出符合搜尋準則的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-153">After the search is complete, the **Available categories and operations** box lists the RFCs that satisfy the search criteria.</span></span>  
  
     <span data-ttu-id="73b21-154">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 RFC 搜尋結果。</span><span class="sxs-lookup"><span data-stu-id="73b21-154">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the RFC search result.</span></span>  
  
     <span data-ttu-id="73b21-155">![搜尋 SAP 系統中的 RFC](../../adapters-and-accelerators/adapter-sap/media/2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6.gif "2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6")</span><span class="sxs-lookup"><span data-stu-id="73b21-155">![Search RFC in an SAP system](../../adapters-and-accelerators/adapter-sap/media/2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6.gif "2cf0b262-bbc7-4d0f-a9cf-5b090fb744b6")</span></span>  
  
## <a name="generating-schema-for-biztalk-projects"></a><span data-ttu-id="73b21-156">產生結構描述的 BizTalk 專案</span><span class="sxs-lookup"><span data-stu-id="73b21-156">Generating Schema for BizTalk Projects</span></span>  
 <span data-ttu-id="73b21-157">您可以使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]產生結構描述選取 SAP 成品。</span><span class="sxs-lookup"><span data-stu-id="73b21-157">You can use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate schema for selected SAP artifacts.</span></span> <span data-ttu-id="73b21-158">一旦您瀏覽並搜尋您想要叫用的成品，您可以產生結構描述的那些成品，並傳送訊息，符合結構描述至 SAP 系統。</span><span class="sxs-lookup"><span data-stu-id="73b21-158">Once you have browsed and searched for the artifacts you want to invoke, you can generate schema for those artifacts and send messages, conforming to the schema, to the SAP system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="73b21-159">您可以選取要在該類別目錄子樹狀結構中傳回所有作業類別目錄節點： 例如，您可以選取整個 RFC 功能群組 （若要產生結構描述的該群組中的所有 Rfc） 或選取特定的 Rfc 來產生結構描述只有這些 rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-159">You can select category nodes to return all the operations in that category's sub-tree—for example, you can select an entire RFC functional group (to generate schema for all the RFCs in that group) or select specific RFCs to generate schema for only those RFCs.</span></span> <span data-ttu-id="73b21-160">如需節點的詳細資訊，請參閱[中繼資料的節點識別碼](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-160">For more information about the nodes, see [Metadata Node IDs](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md).</span></span>  
  
#### <a name="to-retrieve-metadata-for-rfcs"></a><span data-ttu-id="73b21-161">若要擷取 Rfc 的中繼資料</span><span class="sxs-lookup"><span data-stu-id="73b21-161">To retrieve metadata for RFCs</span></span>  
  
1.  <span data-ttu-id="73b21-162">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-162">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or the [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)].</span></span> <span data-ttu-id="73b21-163">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="73b21-163">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="73b21-164">從**選取合約型別**下拉式清單中，選取 根據是否將執行使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="73b21-164">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="73b21-165">在**選取類別目錄**方塊中，按一下包含您要產生中繼資料的 RFC 的 RFC 功能群組。</span><span class="sxs-lookup"><span data-stu-id="73b21-165">In the **Select a category** box, click the RFC functional group containing the RFC for which you want to generate metadata.</span></span>  
  
     <span data-ttu-id="73b21-166">您也可以搜尋特定的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-166">You can also search for specific RFCs.</span></span> <span data-ttu-id="73b21-167">例如，若要搜尋如 Rfc"RFC_CUST 」 包含在其名稱，請按一下 RFC 節點和**類別目錄中的搜尋**文字方塊中輸入\*RFC_CUST\*。</span><span class="sxs-lookup"><span data-stu-id="73b21-167">For example, to search for RFCs that contain "RFC_CUST" in their name, click the RFC node and in the **Search in category** text box type \*RFC_CUST\*.</span></span> <span data-ttu-id="73b21-168">按一下向右箭號圖示，開始搜尋 按鈕。</span><span class="sxs-lookup"><span data-stu-id="73b21-168">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="73b21-169">**可用的類別和作業**方塊會列出所有其名稱中含有"RFC_CUST"的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-169">The **Available categories and operations** box lists all the RFCs that have "RFC_CUST" in their name.</span></span>  
  
4.  <span data-ttu-id="73b21-170">在**可用的類別和作業**方塊中，選取您要產生中繼資料，並按一下 的 Rfc**新增**。</span><span class="sxs-lookup"><span data-stu-id="73b21-170">In the **Available categories and operations** box, select the RFCs for which you want to generate metadata and click **Add**.</span></span> <span data-ttu-id="73b21-171">中所列的所選的 Rfc**加入的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-171">The selected RFCs are listed in the **Added categories and operations** box.</span></span>  
  
     <span data-ttu-id="73b21-172">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出所選的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-172">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the selected RFCs.</span></span>  
  
     <span data-ttu-id="73b21-173">![擷取 RFC 的中繼資料](../../adapters-and-accelerators/adapter-sap/media/f7c89882-e2d7-409b-af2e-e35c7268c137.gif "f7c89882-e2d7-409b-af2e-e35c7268c137")</span><span class="sxs-lookup"><span data-stu-id="73b21-173">![Retrieve metadata for RFC](../../adapters-and-accelerators/adapter-sap/media/f7c89882-e2d7-409b-af2e-e35c7268c137.gif "f7c89882-e2d7-409b-af2e-e35c7268c137")</span></span>  
  
     <span data-ttu-id="73b21-174">如果您想要產生結構描述的多個作業，可能是在這些失敗可能導致編譯 BizTalk 專案的結構描述之間的一些重複的項目定義。</span><span class="sxs-lookup"><span data-stu-id="73b21-174">If you want to generate schema for multiple operations, there may be some duplicate element definitions among these schema that may cause failure in compiling the BizTalk project.</span></span> <span data-ttu-id="73b21-175">例如，假設您用來產生 「 Op1 」 作業的結構描述。</span><span class="sxs-lookup"><span data-stu-id="73b21-175">For example, consider a scenario where you generate schema for an operation “Op1”.</span></span> <span data-ttu-id="73b21-176">「 Op1"的結構描述包含複雜資料類型"CT1"的參數。</span><span class="sxs-lookup"><span data-stu-id="73b21-176">The schema for “Op1” contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="73b21-177">在您關閉之後產生結構描述的 「 Op1" [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] ，再重新開啟 「 Op2"的另一個作業產生結構描述。</span><span class="sxs-lookup"><span data-stu-id="73b21-177">After generating the schema for “Op1” you close the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and re-open it to generate schema for another operation “Op2”.</span></span> <span data-ttu-id="73b21-178">假設 「 Op2 」 也包含複雜資料類型"CT1"的參數。</span><span class="sxs-lookup"><span data-stu-id="73b21-178">Assume that “Op2” also contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="73b21-179">結束之後[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]編譯專案，就會發生編譯錯誤，因為複雜資料型別"CT1 」 定義不同的 XSD 檔案中的兩倍。</span><span class="sxs-lookup"><span data-stu-id="73b21-179">After you exit the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and compile the project, you will get compilation errors because the complex data type “CT1” is defined twice in different XSD files.</span></span> <span data-ttu-id="73b21-180">在這種情況下，我們建議下列各項：</span><span class="sxs-lookup"><span data-stu-id="73b21-180">In such situations, we recommend the following:</span></span>  
  
    -   <span data-ttu-id="73b21-181">產生的所有作業的結構描述中的單一執行[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="73b21-181">Generate schema for all the operations in a single run of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="73b21-182">如此可確保[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]會產生只有一個定義的複雜資料型別"CT1"。</span><span class="sxs-lookup"><span data-stu-id="73b21-182">This ensures that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates only one definition for the complex data type “CT1”.</span></span>  
  
    -   <span data-ttu-id="73b21-183">如果您想要產生多個作業的結構描述的不同執行[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，請確定您選取**產生唯一的結構描述型別**核取方塊，以便讓所產生的 XSD 檔案包含複雜的唯一命名空間資料型別"CT1"。</span><span class="sxs-lookup"><span data-stu-id="73b21-183">If you want to generate schema for multiple operations across different runs of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], make sure you select the **Generate unique schema types** check box so that the generated XSD files contain unique namespaces for the complex data type “CT1”.</span></span>  
  
5.  <span data-ttu-id="73b21-184">按一下 **[確定]**。</span><span class="sxs-lookup"><span data-stu-id="73b21-184">Click **OK**.</span></span> <span data-ttu-id="73b21-185">結構描述檔案會儲存具有.xsd 副檔名為 BizTalk 專案的相同位置。</span><span class="sxs-lookup"><span data-stu-id="73b21-185">The schema file is saved with an .xsd extension at the same location as the BizTalk project.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="73b21-186">如果您使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，根據預設，檔案會建立命名慣例 」 SAPBinding\<n >.xsd"，其中 'n' 可以是 1，2，等等取決於建立的結構描述檔案數目。</span><span class="sxs-lookup"><span data-stu-id="73b21-186">If you are using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], by default the files are created with the naming convention "SAPBinding\<n>.xsd", where 'n' can be 1, 2, etc. depending on the number of schema files created.</span></span> <span data-ttu-id="73b21-187">或者，您可以提供自訂結構描述檔案名稱中輸入名稱**檔案名稱前置詞**文字方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-187">Alternatively, you can provide a custom name to the schema files by entering a name in the **Filename prefix** text box.</span></span> <span data-ttu-id="73b21-188">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]現在建立結構描述檔案命名慣例\<檔案名稱前置詞 >\<n >.xsd。</span><span class="sxs-lookup"><span data-stu-id="73b21-188">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] now creates schema files with the naming convention \<filename prefix>\<n>.xsd.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="73b21-189">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]也會建立包含產生結構描述時指定的繫結屬性的繫結檔案 （XML 檔案） 的作業和要叫用作業的 SOAP 動作。</span><span class="sxs-lookup"><span data-stu-id="73b21-189">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also creates a binding file (an XML file) containing the binding properties that you specified while generating the schema for an operation and the SOAP action to invoke the operation.</span></span> <span data-ttu-id="73b21-190">您可以匯入此繫結檔案，在 BizTalk Server 管理主控台中，建立 WCF 自訂連接埠與連接 URI，繫結屬性和設定的 SOAP 動作。</span><span class="sxs-lookup"><span data-stu-id="73b21-190">You can import this binding file in the BizTalk Server Administration console to create a WCF-Custom port with the connection URI, binding properties, and the SOAP action set.</span></span> <span data-ttu-id="73b21-191">如需詳細資訊，請參閱[設定實體連接埠繫結使用連接埠繫結檔案至 SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-191">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
6.  <span data-ttu-id="73b21-192">按一下 [ **檔案** ] 功能表上的 [ **全部儲存**]。</span><span class="sxs-lookup"><span data-stu-id="73b21-192">On the **File** menu, click **Save All**.</span></span>  
  
## <a name="generating-a-wcf-client-for-rfc-operations-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="73b21-193">產生 WCF 用戶端使用 RFC 作業新增配接器服務參考外掛程式</span><span class="sxs-lookup"><span data-stu-id="73b21-193">Generating a WCF Client for RFC Operations Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="73b21-194">您可以使用[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]產生其中一個 WCF 用戶端程式碼傳送到 SAP Rfc 系統或 WCF 服務合約和程式碼從 SAP 系統接收 Rfc （RFC 伺服器）。</span><span class="sxs-lookup"><span data-stu-id="73b21-194">You can use the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate either WCF client code to send RFCs to the SAP system or a WCF service contract and code to receive RFCs (RFC server) from the SAP system.</span></span>  
  
#### <a name="to-generate-a-wcf-client-or-a-wcf-service-contract-for-rfcs"></a><span data-ttu-id="73b21-195">若要針對 Rfc 產生 WCF 用戶端或 WCF 服務合約</span><span class="sxs-lookup"><span data-stu-id="73b21-195">To generate a WCF client or a WCF service contract for RFCs</span></span>  
  
1.  <span data-ttu-id="73b21-196">在[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]，從**選取合約型別**下拉式清單中，選取 根據是否執行的輸入 （RFC 伺服器） 或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="73b21-196">In the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], from the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound (RFC server) or outbound operations.</span></span>  
  
2.  <span data-ttu-id="73b21-197">在**選取類別目錄**方塊中，展開  **RFC**  節點，然後按一下 RFC 功能群組包含您要產生 WCF 用戶端或 WCF 服務合約的 RFC。</span><span class="sxs-lookup"><span data-stu-id="73b21-197">In the **Select a category** box, expand the **RFC** node, and then click the RFC functional group that contains the RFC for which you want to generate a WCF client or WCF service contract.</span></span>  
  
     <span data-ttu-id="73b21-198">您也可以搜尋 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-198">You can also search for RFCs.</span></span> <span data-ttu-id="73b21-199">例如，若要搜尋名稱中含有"RFC_CUST"的 Rfc，請按一下**RFC**節點並在**類別目錄中的搜尋**文字方塊中輸入\*RFC_CUST\*。</span><span class="sxs-lookup"><span data-stu-id="73b21-199">For example, to search for RFCs that contain "RFC_CUST" in their name, click the **RFC** node and in the **Search in category** text box type \*RFC_CUST\*.</span></span> <span data-ttu-id="73b21-200">按一下向右箭號圖示，開始搜尋 按鈕。</span><span class="sxs-lookup"><span data-stu-id="73b21-200">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="73b21-201">**可用的類別和作業**方塊會列出所有其名稱中含有"RFC_CUST"的 Rfc。</span><span class="sxs-lookup"><span data-stu-id="73b21-201">The **Available categories and operations** box lists all the RFCs that have "RFC_CUST" in their name.</span></span>  
  
3.  <span data-ttu-id="73b21-202">在**可用的類別和作業**方塊中，選取您要產生 WCF 用戶端 （或 WCF 服務合約），然後按一下 類別目錄 （RFC 功能群組） 的作業**新增**。</span><span class="sxs-lookup"><span data-stu-id="73b21-202">In the **Available categories and operations** box, select the operations or categories (RFC functional groups) for which you want to generate a WCF client (or WCF service contract), and then click **Add**.</span></span> <span data-ttu-id="73b21-203">選取的作業中所列**加入的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-203">The selected operations are listed in the **Added categories and operations** box.</span></span> <span data-ttu-id="73b21-204">您可以選取任何節點中所列**可用的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-204">You can select any node that is listed in the **Available categories and operations** box.</span></span> <span data-ttu-id="73b21-205">如果您選取類別目錄節點，則所有可在該節點和其子節點的作業會加入。</span><span class="sxs-lookup"><span data-stu-id="73b21-205">If you select a category node, then all of the operations available under that node and its sub-nodes will be added.</span></span>  
  
4.  <span data-ttu-id="73b21-206">在大部分情況下，預設序列化選項已經足夠;不過，如果需要您可以控制所產生的程式碼的幾個層面和序列化程式所使用的類型。</span><span class="sxs-lookup"><span data-stu-id="73b21-206">For most scenarios the default serialization options are sufficient; however, if needed, you can control several aspects about the code that is generated and the type of serializer that is used.</span></span> <span data-ttu-id="73b21-207">若要設定這些選項：</span><span class="sxs-lookup"><span data-stu-id="73b21-207">To set these options:</span></span>  
  
    1.  <span data-ttu-id="73b21-208">按一下**進階選項**開啟**進階選項**方塊。</span><span class="sxs-lookup"><span data-stu-id="73b21-208">Click **Advanced Options** to open the **Advanced Options** box.</span></span>  
  
    2.  <span data-ttu-id="73b21-209">在**進階選項**下方的 **選擇選項來產生 proxy**，選取您想要的選項。</span><span class="sxs-lookup"><span data-stu-id="73b21-209">In the **Advanced Options** box under **Choose options for generated proxy**, select the options that you want.</span></span> <span data-ttu-id="73b21-210">例如，您可以選取是否非同步方法產生 WCF 用戶端，或停用組態檔的產生。</span><span class="sxs-lookup"><span data-stu-id="73b21-210">For example, you can select whether asynchronous methods are generated for the WCF client or disable the generation of a configuration file.</span></span>  
  
    3.  <span data-ttu-id="73b21-211">在下**序列化程式**選取應該使用的序列化程式。</span><span class="sxs-lookup"><span data-stu-id="73b21-211">Under **Serializer** select the serializer that should be used.</span></span>  
  
     <span data-ttu-id="73b21-212">下圖顯示**進階選項**隨附的預設選項 (**自動**選取所選的序列化程式，且沒有其他選項)。</span><span class="sxs-lookup"><span data-stu-id="73b21-212">The following figure shows the **Advanced Options** box with the default selections (**Auto** is selected for the serializer and no other options are selected).</span></span>  
  
     <span data-ttu-id="73b21-213">![[進階選項] 方塊預設設定](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span><span class="sxs-lookup"><span data-stu-id="73b21-213">![The Advanced Options box default settings](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span></span>  
  
     <span data-ttu-id="73b21-214">您可以在設定的選項**進階選項**方塊相當於某些可用的選項時使用 ServiceModel Metadata Utility Tool (svcutil.exe)。</span><span class="sxs-lookup"><span data-stu-id="73b21-214">The options that you can configure in the **Advanced Options** box are equivalent to some of the options available when you use the ServiceModel Metadata Utility Tool (svcutil.exe).</span></span> <span data-ttu-id="73b21-215">如需有關這些選項的詳細資訊，請參閱[ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx)。</span><span class="sxs-lookup"><span data-stu-id="73b21-215">For more information about these options, see [ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx).</span></span>
  
5.  <span data-ttu-id="73b21-216">按一下 **[確定]**。</span><span class="sxs-lookup"><span data-stu-id="73b21-216">Click **OK**.</span></span> <span data-ttu-id="73b21-217">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] WCF 用戶端類別 （或 WCF 服務介面） 會將儲存和協助程式程式碼的作業和專案目錄中所選取的類別。</span><span class="sxs-lookup"><span data-stu-id="73b21-217">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] saves the WCF client class (or WCF service interface) and helper code for the operations and categories that you have selected in your project directory.</span></span> <span data-ttu-id="73b21-218">根據預設，也會儲存組態檔。</span><span class="sxs-lookup"><span data-stu-id="73b21-218">By default, a configuration file is also saved.</span></span> <span data-ttu-id="73b21-219">輸入和輸出作業; 產生稍有不同的檔案如需詳細資訊，請參閱[產生 WCF 用戶端或 WCF 服務合約的 SAP 方案成品](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)。</span><span class="sxs-lookup"><span data-stu-id="73b21-219">Slightly different files are generated for inbound and outbound operations; for more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="73b21-220">另請參閱</span><span class="sxs-lookup"><span data-stu-id="73b21-220">See Also</span></span>  
 [<span data-ttu-id="73b21-221">在 Visual Studio 中取得 SAP 作業的中繼資料</span><span class="sxs-lookup"><span data-stu-id="73b21-221">Get Metadata for SAP Operations in Visual Studio</span></span>](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md)