---
title: BizTalk Adapter for mySAP Business Suite 的架構概觀 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- architecture of SAP adapter
- adapters, architecture
ms.assetid: 1b45edb0-2476-427b-b6cd-41e38ed815e0
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d571cdd3beea2bc9a57ec7ad15f865e7ef51e53a
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/23/2018
ms.locfileid: "22218414"
---
# <a name="architecture-overview-of-the-biztalk-adapter-for-mysap-business-suite"></a><span data-ttu-id="64f88-102">BizTalk Adapter for mySAP Business Suite 的架構概觀</span><span class="sxs-lookup"><span data-stu-id="64f88-102">Architecture overview of the BizTalk Adapter for mySAP Business Suite</span></span>
<span data-ttu-id="64f88-103">[!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]實作[!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)]自訂繫結，其中包含單一的自訂傳輸繫結項目，可讓與 SAP 系統的通訊。</span><span class="sxs-lookup"><span data-stu-id="64f88-103">The [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)] implements a [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)] custom binding, which contains a single custom transport binding element that enables communication with an SAP system.</span></span> <span data-ttu-id="64f88-104">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]包裝[!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)]執行階段，並公開至應用程式可以透過[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道架構。</span><span class="sxs-lookup"><span data-stu-id="64f88-104">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] is wrapped by the [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] runtime and is exposed to applications through the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel architecture.</span></span> <span data-ttu-id="64f88-105">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]會與透過 SAP Unicode RFC SDK (librfc32u.dll) 的 64 位元或 32 位元版本的 SAP 系統通訊。</span><span class="sxs-lookup"><span data-stu-id="64f88-105">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] communicates with the SAP system through either the 64-bit or 32-bit version of the SAP Unicode RFC SDK (librfc32u.dll).</span></span> 

<span data-ttu-id="64f88-106">下圖顯示使用開發解決方案的端對端架構[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-106">The following figure shows the end-to-end architecture for solutions that are developed by using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
 <span data-ttu-id="64f88-107">![SAP 端&#45;至&#45;結束架構](../../adapters-and-accelerators/adapter-sap/media/9ba0c31f-90df-444d-8192-42743c893d51.gif "9ba0c31f-90df-444d-8192-42743c893d51")</span><span class="sxs-lookup"><span data-stu-id="64f88-107">![SAP End&#45;to&#45;End Architecture](../../adapters-and-accelerators/adapter-sap/media/9ba0c31f-90df-444d-8192-42743c893d51.gif "9ba0c31f-90df-444d-8192-42743c893d51")</span></span>  
  
## <a name="consuming-the-adapter"></a><span data-ttu-id="64f88-108">使用配接器</span><span class="sxs-lookup"><span data-stu-id="64f88-108">Consuming the Adapter</span></span>  
 <span data-ttu-id="64f88-109">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]公開為 SAP 系統[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="64f88-109">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] exposes the SAP system as a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service to client applications.</span></span> <span data-ttu-id="64f88-110">用戶端應用程式交換的 SOAP 訊息[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]透過[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道可執行作業，而且存取 SAP 系統上的資料。</span><span class="sxs-lookup"><span data-stu-id="64f88-110">Client applications exchange SOAP messages with the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] through [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channels to perform operations and to access data on the SAP system.</span></span> <span data-ttu-id="64f88-111">上圖顯示四種方式在其中[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]可以取用。</span><span class="sxs-lookup"><span data-stu-id="64f88-111">The preceding figure shows four ways in which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can be consumed.</span></span>  
  
-   <span data-ttu-id="64f88-112">透過[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道執行 SAP 系統上的作業使用的應用程式[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道模型交換 SOAP 訊息直接與[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-112">Through a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel application that performs operations on the SAP system by using the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel model to exchange SOAP messages directly with the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="64f88-113">如需有關開發方案[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]使用[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道模型程式設計，請參閱[開發應用程式使用 WCF 通道模型](../../adapters-and-accelerators/adapter-sap/develop-sap-applications-using-the-wcf-channel-model.md)。</span><span class="sxs-lookup"><span data-stu-id="64f88-113">For more information about developing solutions for the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] by using [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel model programming, see [Develop applications using the WCF Channel Model](../../adapters-and-accelerators/adapter-sap/develop-sap-applications-using-the-wcf-channel-model.md).</span></span>  
  
-   <span data-ttu-id="64f88-114">透過[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務模型應用程式呼叫之方法上[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]SAP 系統上執行作業的用戶端。</span><span class="sxs-lookup"><span data-stu-id="64f88-114">Through a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service model application that calls methods on a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] client to perform operations on the SAP system.</span></span> <span data-ttu-id="64f88-115">A[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]用戶端模型所公開的作業[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]做為.NET 方法。</span><span class="sxs-lookup"><span data-stu-id="64f88-115">A [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] client models the operations exposed by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] as .NET methods.</span></span> <span data-ttu-id="64f88-116">您可以使用[!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)]或 svcutil.exe 工具來建立[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]所公開的中繼資料從用戶端類別[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-116">You can use the [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] or the svcutil.exe tool to create a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] client class from metadata exposed by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="64f88-117">如需有關[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務模型程式設計和[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]，請參閱[開發應用程式使用 WCF 服務模型](../../adapters-and-accelerators/adapter-sap/develop-sap-applications-using-the-wcf-service-model.md)。</span><span class="sxs-lookup"><span data-stu-id="64f88-117">For more information about [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service model programming and the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], see [Develop applications using the WCF Service Model](../../adapters-and-accelerators/adapter-sap/develop-sap-applications-using-the-wcf-service-model.md).</span></span>  
  
-   <span data-ttu-id="64f88-118">透過 BizTalk 連接埠是設定為使用 BizTalk WCF 自訂配接器與 SAP 繫結設定的繫結中的 WCF 自訂傳輸類型為[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]應用程式。</span><span class="sxs-lookup"><span data-stu-id="64f88-118">Through a BizTalk port that is configured to use the BizTalk WCF-Custom adapter with the SAP Binding configured as the binding for the WCF-Custom transport type in a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] application.</span></span> <span data-ttu-id="64f88-119">BizTalk WCF 自訂配接器可讓通訊[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]應用程式和[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務。</span><span class="sxs-lookup"><span data-stu-id="64f88-119">The BizTalk WCF-Custom adapter enables communication between a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] application and a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="64f88-120">BizTalk WCF 自訂配接器支援自訂[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]透過 WCF 自訂繫結的傳輸類型，可讓您設定任何[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]公開至組態系統當做 BizTalk Wcf-custom 配接器所使用的繫結的繫結。</span><span class="sxs-lookup"><span data-stu-id="64f88-120">The BizTalk WCF-Custom adapter supports custom [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] bindings through its WCF-Custom transport type, which enables you to configure any [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] binding exposed to the configuration system as the binding used by the BizTalk WCF-Custom adapter.</span></span> <span data-ttu-id="64f88-121">如需有關如何使用[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]中[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]解決方案，請參閱[開發 BizTalk 應用程式](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="64f88-121">For more information about how to use the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] solutions, see [Develop BizTalk applications](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md).</span></span> <span data-ttu-id="64f88-122">支援 BizTalk 交易 BizTalk 分層通道繫結項目可以載入由 SAP 繫結上設定繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="64f88-122">BizTalk transactions are supported by the BizTalk Layered Channel binding element which can be loaded by setting a binding property on the SAP Binding.</span></span>  
  
-   <span data-ttu-id="64f88-123">透過 IIS 裝載的 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="64f88-123">Through an IIS-hosted Web service.</span></span> <span data-ttu-id="64f88-124">在此案例中，[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]透過公開[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務 proxy，裝載於 IIS 使用其中一種標準[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]HTTP 繫結。</span><span class="sxs-lookup"><span data-stu-id="64f88-124">In this scenario, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] is exposed through a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] Service proxy, which is hosted in IIS by using one of the standard [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] HTTP bindings.</span></span>  
  
-   <span data-ttu-id="64f88-125">透過[!INCLUDE[adoprovidersaplong](../../includes/adoprovidersaplong-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-125">Through the [!INCLUDE[adoprovidersaplong](../../includes/adoprovidersaplong-md.md)].</span></span> <span data-ttu-id="64f88-126">[!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)]之上執行[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]並提供給 SAP 系統的 ADO.NET 介面。</span><span class="sxs-lookup"><span data-stu-id="64f88-126">The [!INCLUDE[adoprovidersapshort](../../includes/adoprovidersapshort-md.md)] runs on top of the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] and provides an ADO.NET interface to an SAP system.</span></span>  
  
 <span data-ttu-id="64f88-127">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]和 SAP RFC 程式庫一律裝載同處理序的應用程式或服務取用配接器。</span><span class="sxs-lookup"><span data-stu-id="64f88-127">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] and the SAP RFC library are always hosted in-process with the application or service that consumes the adapter.</span></span>  
  
## <a name="sap-adapter-and-wcf"></a><span data-ttu-id="64f88-128">SAP 配接器和 WCF</span><span class="sxs-lookup"><span data-stu-id="64f88-128">SAP Adapter and WCF</span></span>  
 [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]<span data-ttu-id="64f88-129"> 提供程式設計模型，根據 SOAP 訊息交換，透過用戶端和服務之間的通道。</span><span class="sxs-lookup"><span data-stu-id="64f88-129"> presents a programming model based on the exchange of SOAP messages over channels between clients and services.</span></span> <span data-ttu-id="64f88-130">通訊的用戶端和服務所公開的端點之間傳送這些訊息。</span><span class="sxs-lookup"><span data-stu-id="64f88-130">These messages are sent between endpoints exposed by a communicating client and service.</span></span>  
  
 <span data-ttu-id="64f88-131">端點包含*端點位址*速率接收訊息的位置指定*繫結*指定用來交換訊息，以及通訊協定*合約*指定端點所公開的作業和資料類型。</span><span class="sxs-lookup"><span data-stu-id="64f88-131">An endpoint consists of an *endpoint address* which specifies the location at which messages are received, a *binding* which specifies the communication protocols used to exchange messages, and a *contract* which specifies the operations and data types exposed by the endpoint.</span></span> <span data-ttu-id="64f88-132">繫結堆疊在彼此的上方來定義與端點交換訊息的方式的一或多個繫結項目所組成。</span><span class="sxs-lookup"><span data-stu-id="64f88-132">A binding consists of one or more binding elements that stack on top of each other to define how messages are exchanged with the endpoint.</span></span>  
  
 <span data-ttu-id="64f88-133">最少的傳輸和編碼用來與端點交換訊息，必須指定繫結。</span><span class="sxs-lookup"><span data-stu-id="64f88-133">At a minimum, a binding must specify the transport and encoding used to exchange messages with the endpoint.</span></span> <span data-ttu-id="64f88-134">端點之間交換訊息會透過所組成的一個或多個通道的通道堆疊。</span><span class="sxs-lookup"><span data-stu-id="64f88-134">Message exchange between endpoints occurs over a channel stack that is composed of one or more channels.</span></span> <span data-ttu-id="64f88-135">每個通道是其中一個繫結項目設定之端點的繫結中的具象實作。</span><span class="sxs-lookup"><span data-stu-id="64f88-135">Each channel is a concrete implementation of one of the binding elements in the binding configured for the endpoint.</span></span>  
  
<span data-ttu-id="64f88-136">[WCF 文件](http://go.microsoft.com/fwlink/?LinkID=196850)包含更多詳細資料，關於[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]，而[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]程式設計模型。</span><span class="sxs-lookup"><span data-stu-id="64f88-136">The [WCF documentation](http://go.microsoft.com/fwlink/?LinkID=196850) includes more details about [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)], and the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] programming model.</span></span>  
  
 <span data-ttu-id="64f88-137">[!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]公開[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]自訂繫結，SAP 繫結 (**Microsoft.Adapters.SAP.SAPBinding**)。</span><span class="sxs-lookup"><span data-stu-id="64f88-137">The [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)] exposes a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] custom binding, the SAP Binding (**Microsoft.Adapters.SAP.SAPBinding**).</span></span> <span data-ttu-id="64f88-138">根據預設，此繫結包含單一的自訂傳輸繫結項目，SAP 配接器繫結項目 (**Microsoft.Adapters.SAP.SAPAdapter**)，可讓 SAP 系統上的作業。</span><span class="sxs-lookup"><span data-stu-id="64f88-138">By default, this binding contains a single custom transport binding element, the SAP Adapter Binding Element (**Microsoft.Adapters.SAP.SAPAdapter**), which enables operations on an SAP system.</span></span> <span data-ttu-id="64f88-139">當使用[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]與[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]，您可以設定**EnableBizTalkCompatibilityMode**載入自訂繫結項目，BizTalk 分層通道繫結項目，在 SAP 配接器繫結屬性繫結項目。</span><span class="sxs-lookup"><span data-stu-id="64f88-139">When using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], you can set the **EnableBizTalkCompatibilityMode** binding property to load a custom binding element, the BizTalk Layered Channel Binding Element, on top of the SAP Adapter Binding Element.</span></span> <span data-ttu-id="64f88-140">BizTalk 層次通道繫結項目在內部實作[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]且不會公開之外的 SAP 繫結。</span><span class="sxs-lookup"><span data-stu-id="64f88-140">The BizTalk Layered Channel Binding Element is implemented internally by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] and is not exposed outside the SAP Binding.</span></span>  
  
 <span data-ttu-id="64f88-141">**Microsoft.Adapters.SAP.SAPBinding** （SAP 繫結） 和**Microsoft.Adapters.SAP.SAPAdapter** （SAP 配接器繫結項目） 都是公用的類別，也會公開至組態系統。</span><span class="sxs-lookup"><span data-stu-id="64f88-141">**Microsoft.Adapters.SAP.SAPBinding** (the SAP Binding) and **Microsoft.Adapters.SAP.SAPAdapter** (the SAP Adapter Binding Element) are public classes and are also exposed to the configuration system.</span></span> <span data-ttu-id="64f88-142">因為 SAP 配接器繫結項目公開的您可以建立自己的自訂[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]能夠擴充功能的繫結[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-142">Because the SAP Adapter Binding Element is exposed publicly, you can build your own custom [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] bindings capable of extending the functionality of the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="64f88-143">例如，您可以實作自訂繫結以支援企業單一登入 (SSO) 中[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道或[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務模型程式設計方案，來彙總資料庫作業為單一的多功能作業，或執行自訂的應用程式所實作的作業與 SAP 系統上的作業之間的結構描述轉換。</span><span class="sxs-lookup"><span data-stu-id="64f88-143">For example, you could implement a custom binding to support Enterprise Single Sign-On (SSO) in a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel or a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service model programming solution, to aggregate database operations into a single multifunction operation, or to perform schema transformation between operations implemented by a custom application and operations on the SAP system.</span></span>  
  
 <span data-ttu-id="64f88-144">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]建置最上層的[!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)]並執行最上層的[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]執行階段。</span><span class="sxs-lookup"><span data-stu-id="64f88-144">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] is built on top of the [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] and runs on top of the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] runtime.</span></span> <span data-ttu-id="64f88-145">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]軟體架構和工具，基礎結構提供[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]利用一組豐富的功能提供給使用者和配接器用戶端。</span><span class="sxs-lookup"><span data-stu-id="64f88-145">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] provides a software framework and tooling infrastructure that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] leverages to provide a rich set of features to users and adapter clients.</span></span>  

## <a name="sap-adapter-and-the-wcf-lob-adapter-sdk"></a><span data-ttu-id="64f88-146">SAP 配接器和 WCF LOB 配接器 SDK</span><span class="sxs-lookup"><span data-stu-id="64f88-146">SAP adapter and the WCF LOB Adapter SDK</span></span>
<span data-ttu-id="64f88-147">[!INCLUDE[adaptersap](../../includes/adaptersap-md.md)]實作運用功能所提供的核心元件的一組[!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)]並提供連線至 SAP 系統，透過 SAP Unicode RFC SDK 程式庫 (librfc32u.dll)。</span><span class="sxs-lookup"><span data-stu-id="64f88-147">The [!INCLUDE[adaptersap](../../includes/adaptersap-md.md)] implements a set of core components that leverage functionality provided by the [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] and provide connectivity to the SAP system through the SAP Unicode RFC SDK Library (librfc32u.dll).</span></span>  
  
 <span data-ttu-id="64f88-148">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]做為透過此軟體層[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]介面[!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)]，而且可以當做透過此圖層的 RFC SDK[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]與 SAP 系統的介面。</span><span class="sxs-lookup"><span data-stu-id="64f88-148">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] serves as the software layer through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] interfaces with [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)], and the RFC SDK serves as the layer through which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] interfaces with the SAP system.</span></span> <span data-ttu-id="64f88-149">下圖顯示的內部元件之間的關聯性[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]之間以及這些元件與 RFC SDK。</span><span class="sxs-lookup"><span data-stu-id="64f88-149">The following figure shows the relationships between the internal components of the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] and between these components and the RFC SDK.</span></span>  
  
 <span data-ttu-id="64f88-150">![內部配接器元件的關係](../../adapters-and-accelerators/adapter-sap/media/10f97b95-4e82-4592-ba07-0f58478305c2.gif "10f97b95-4e82-4592-ba07-0f58478305c2")</span><span class="sxs-lookup"><span data-stu-id="64f88-150">![The relationship of internal adapter components](../../adapters-and-accelerators/adapter-sap/media/10f97b95-4e82-4592-ba07-0f58478305c2.gif "10f97b95-4e82-4592-ba07-0f58478305c2")</span></span>  
  
## <a name="connection-to-the-sap-system"></a><span data-ttu-id="64f88-151">連接至 SAP 系統</span><span class="sxs-lookup"><span data-stu-id="64f88-151">Connection to the SAP system</span></span>  
 <span data-ttu-id="64f88-152">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]與 SAP 系統，透過 SAP Unicode RFC SDK 程式庫 (librfc32u.dll) 連線。</span><span class="sxs-lookup"><span data-stu-id="64f88-152">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects with the SAP system through the SAP Unicode RFC SDK Library (librfc32u.dll).</span></span> <span data-ttu-id="64f88-153">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]支援 32 位元和 64 位元版本的 SAP RFC sdk。</span><span class="sxs-lookup"><span data-stu-id="64f88-153">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports both the 32 bit and the 64 bit versions of the SAP RFC SDK.</span></span> <span data-ttu-id="64f88-154">SAP RFC SDK 可讓外部程式的 SAP 系統上呼叫 ABAP 函式。</span><span class="sxs-lookup"><span data-stu-id="64f88-154">The SAP RFC SDK enables external programs to call ABAP functions on a SAP system.</span></span>  
  
 <span data-ttu-id="64f88-155">您連接到 SAP 系統所提供的連線 URI 以[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="64f88-155">You establish a connection to an SAP system by providing a connection URI to the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="64f88-156">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]支援下列種類的 SAP 系統的連線：</span><span class="sxs-lookup"><span data-stu-id="64f88-156">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports the following kinds of connections to an SAP system:</span></span>  
  
-   <span data-ttu-id="64f88-157">應用程式主機型連線 (A)，在其中[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]直接連接到 SAP 應用程式伺服器。</span><span class="sxs-lookup"><span data-stu-id="64f88-157">An application host–based connection (A), in which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects directly to an SAP application server.</span></span>  
  
-   <span data-ttu-id="64f88-158">負載平衡連接 (B)，在其中[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]連接至 SAP 訊息伺服器。</span><span class="sxs-lookup"><span data-stu-id="64f88-158">A load balancing connection (B), in which the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to an SAP messaging server.</span></span>  
  
-   <span data-ttu-id="64f88-159">目的地為基礎的連接 (D)，連接至 SAP 系統由 saprfc.ini 組態檔中的目的地。</span><span class="sxs-lookup"><span data-stu-id="64f88-159">A destination-based connection (D), in which the connection to the SAP system is specified by a destination in the saprfc.ini configuration file.</span></span> <span data-ttu-id="64f88-160">A、 B 和 R 支援連線類型。</span><span class="sxs-lookup"><span data-stu-id="64f88-160">A, B, and R type connections are supported.</span></span>  
  
-   <span data-ttu-id="64f88-161">接聽程式連接 (R)、 Rfc、 tRFC 和透過 RFC 目的地上的 SAP 系統所指定的接聽程式的主機、 接聽程式閘道服務和接聽程式的程式識別碼，直接在 連線 URI 中或是以 R 為基礎的 Idoc，配接器的接收saprfc.ini 組態檔中的目的地。</span><span class="sxs-lookup"><span data-stu-id="64f88-161">A listener connection (R), in which the adapter receives RFCs, tRFC and IDOCs through an RFC Destination on the SAP system that is specified by a listener host, a listener gateway service, and a listener program ID, either directly in the connection URI or by an R-based destination in the saprfc.ini configuration file.</span></span>  
  
 <span data-ttu-id="64f88-162">如需 saprfc.ini 檔案的詳細資訊，請參閱 「 SAPRFC。INI 檔案 」 中的[SAP 文件集](https://help.sap.com/doc/PRODUCTION/saphelp_nwpi711/7.1.1/en-US/48/c4168eca64581de10000000a42189c/frameset.htm)。</span><span class="sxs-lookup"><span data-stu-id="64f88-162">For more information about the saprfc.ini file, see "The SAPRFC.INI File" in the [SAP documentation](https://help.sap.com/doc/PRODUCTION/saphelp_nwpi711/7.1.1/en-US/48/c4168eca64581de10000000a42189c/frameset.htm).</span></span>  
  
 <span data-ttu-id="64f88-163">如需有關如何[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]連接至 SAP 系統，請參閱[建立連接至 SAP 系統](../../adapters-and-accelerators/adapter-sap/create-a-connection-to-the-sap-system.md)。</span><span class="sxs-lookup"><span data-stu-id="64f88-163">For more information about how the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] connects to an SAP system, see [Create a Connection to the SAP System](../../adapters-and-accelerators/adapter-sap/create-a-connection-to-the-sap-system.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="64f88-164">另請參閱</span><span class="sxs-lookup"><span data-stu-id="64f88-164">See Also</span></span>  
 [<span data-ttu-id="64f88-165">了解 BizTalk Adapter for mySAP Business Suite</span><span class="sxs-lookup"><span data-stu-id="64f88-165">Understand BizTalk Adapter for mySAP Business Suite</span></span>](../../adapters-and-accelerators/adapter-sap/understand-biztalk-adapter-for-mysap-business-suite.md)