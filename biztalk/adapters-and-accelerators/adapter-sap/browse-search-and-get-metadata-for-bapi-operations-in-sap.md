---
title: 瀏覽、 搜尋，並取得中繼資料中 SAP 的 BAPI 作業 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAPI operations
- WCF client, generating for BAPI operations
- BAPIs, browsing
- searching, BAPIs
- browsing, BAPIs
- BAPIs, searching
- BAPI operations, generating schema
ms.assetid: 2884215a-ddba-40c7-bf9f-bfc7831f90bb
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: aaf2145bd288d844a3ad02e222a8d8193f32b7de
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2018
ms.locfileid: "25962388"
---
# <a name="browse-search-and-get-metadata-for-bapi-operations-in-sap"></a><span data-ttu-id="bc9c7-102">瀏覽、 搜尋和 SAP 中的 BAPI 作業取得中繼資料</span><span class="sxs-lookup"><span data-stu-id="bc9c7-102">Browse, search, and get metadata for BAPI operations in SAP</span></span>
<span data-ttu-id="bc9c7-103">本節提供有關如何瀏覽、 搜尋和中繼資料擷取 BAPI 作業使用的 SAP 指示[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-103">This section provides instructions on how to browse, search, and retrieve metadata from SAP for BAPI operations using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="bc9c7-104">大部分的指示會針對所有三種使用者介面相同。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-104">Most of the instructions are same for all three user interface.</span></span> <span data-ttu-id="bc9c7-105">只要適用的話，個別的程序提供相關的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-105">Wherever applicable, separate procedures are provided for the relevant user interface.</span></span>  
  
 <span data-ttu-id="bc9c7-106">執行下列各節將提供的步驟之前，您必須：</span><span class="sxs-lookup"><span data-stu-id="bc9c7-106">Before performing the steps provided in the following sections, you must have:</span></span>  
  
-   <span data-ttu-id="bc9c7-107">建立[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]專案。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-107">Created a [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
-   <span data-ttu-id="bc9c7-108">連接到 SAP 系統使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-108">Connected to the SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="bc9c7-109">如需指示，請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-109">For instructions see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  
  
## <a name="browsing-bapis-in-an-sap-system"></a><span data-ttu-id="bc9c7-110">SAP 系統中的瀏覽 Bapi</span><span class="sxs-lookup"><span data-stu-id="bc9c7-110">Browsing BAPIs in an SAP System</span></span>  
 <span data-ttu-id="bc9c7-111">在瀏覽中繼資料使用時[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] Bapi 會呈現為商務物件和 rfc。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-111">While browsing metadata using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces BAPIs as business objects and as RFCs.</span></span> <span data-ttu-id="bc9c7-112">瀏覽 Bapi rfc 是類似於瀏覽 RFC，SAP 系統中。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-112">Browsing BAPIs as RFCs is similar to browsing an RFC in an SAP system.</span></span> <span data-ttu-id="bc9c7-113">在此情況下，Bapi 是在 Rfc 可用**RFC**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-113">In such a case, the BAPIs are available as RFCs under the **RFC**.</span></span> <span data-ttu-id="bc9c7-114">如需有關如何瀏覽 Rfc 的詳細資訊，請參閱[瀏覽、 搜尋和 sap RFC 作業的 get 中繼資料](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-114">For more information on browsing RFCs, see [Browse, search, and get metadata for RFC operations in SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md).</span></span>  
  
 <span data-ttu-id="bc9c7-115">本節提供 瀏覽 Bapi 為商務物件的資訊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-115">This section provides information on browsing BAPIs as business objects.</span></span> <span data-ttu-id="bc9c7-116">如需有關如何瀏覽 SAP 中繼資料的詳細資訊，請參閱[配接器介面的 SAP 中繼資料的運作方式？](https://msdn.microsoft.com/library/dd788039.aspx)</span><span class="sxs-lookup"><span data-stu-id="bc9c7-116">Fore more information about browsing SAP metadata, see [How Does the Adapter Surface SAP Metadata?](https://msdn.microsoft.com/library/dd788039.aspx)</span></span>  
  
 <span data-ttu-id="bc9c7-117">執行下列步驟，在 SAP 系統使用瀏覽 Bapi [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-117">Perform the following steps to browse BAPIs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
 
  
#### <a name="to-browse-bapis-in-an-sap-system"></a><span data-ttu-id="bc9c7-118">若要瀏覽 SAP 系統中的 Bapi</span><span class="sxs-lookup"><span data-stu-id="bc9c7-118">To browse BAPIs in an SAP system</span></span>  
  
1.  <span data-ttu-id="bc9c7-119">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-119">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="bc9c7-120">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-120">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="bc9c7-121">從**選取合約型別**下拉式清單中，選取 根據是否將執行使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-121">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="bc9c7-122">在**選取類別目錄**方塊中，按一下要查看的 BAPI 功能區域中的 BAPI 節點**可用的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-122">In the **Select a category** box, click the BAPI node to see the BAPI functional areas in the **Available categories and operations** box.</span></span> <span data-ttu-id="bc9c7-123">或者，您也可以在展開 BAPI 節點，查看 BAPI 功能區域。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-123">Alternatively, you can also see the BAPI functional areas by expanding the BAPI node.</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="bc9c7-124">您可以直接移至 「 立即 」 的類別目錄節點或子類別目錄節點的樹狀目錄中，輸入中的成品名稱時的焦點所在的樹狀檢閱中**選取類別目錄**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-124">You can directly go to the “immediate” category node or subcategory nodes in the tree, by typing the name of the artifact in while the focus is on the tree view in the **Select a category** box.</span></span> <span data-ttu-id="bc9c7-125">例如，若要跳至**控制**BAPI 功能區域中，將焦點放在**BAPI**  節點，然後輸入`Controlling`。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-125">For example, to jump to the **Controlling** BAPI functional area, keep the focus on the **BAPI** node, and then type `Controlling`.</span></span>  
  
     <span data-ttu-id="bc9c7-126">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 BAPI 功能區域。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-126">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the BAPI functional areas.</span></span>  
  
     <span data-ttu-id="bc9c7-127">![瀏覽 BAPI 中的功能區域](../../adapters-and-accelerators/adapter-sap/media/d4b03725-44d2-449d-a035-491cd7415139.gif "d4b03725-44d2-449d-a035-491cd7415139")</span><span class="sxs-lookup"><span data-stu-id="bc9c7-127">![Browsing functional areas in a BAPI](../../adapters-and-accelerators/adapter-sap/media/d4b03725-44d2-449d-a035-491cd7415139.gif "d4b03725-44d2-449d-a035-491cd7415139")</span></span>  
  
4.  <span data-ttu-id="bc9c7-128">按一下以查看進一步的分類的 BAPI 功能區域的 BAPI 功能區域。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-128">Click the BAPI functional area to see the further categorizations of BAPI functional area.</span></span>  
  
5.  <span data-ttu-id="bc9c7-129">按一下以查看支援該功能區域的相關操作的 BAPI 功能區域。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-129">Click the BAPI functional area to see the relevant operations supported for that functional area.</span></span> <span data-ttu-id="bc9c7-130">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]以支援特定功能區域的作業。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-130">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] with the operations supported for a particular functional area.</span></span>  
  
     <span data-ttu-id="bc9c7-131">![瀏覽 BAPI 的](../../adapters-and-accelerators/adapter-sap/media/1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea.gif "1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea")</span><span class="sxs-lookup"><span data-stu-id="bc9c7-131">![Browsing operations for a BAPI](../../adapters-and-accelerators/adapter-sap/media/1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea.gif "1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea")</span></span>  
  
## <a name="searching-bapis-in-an-sap-system"></a><span data-ttu-id="bc9c7-132">搜尋 SAP 系統中的 Bapi</span><span class="sxs-lookup"><span data-stu-id="bc9c7-132">Searching BAPIs in an SAP System</span></span>  
 <span data-ttu-id="bc9c7-133">在 SAP 系統使用搜尋 Bapi 的中繼資料時[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="bc9c7-133">While searching metadata for BAPIs in an SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span></span>  
  
-   <span data-ttu-id="bc9c7-134">支援萬用字元搜尋運算式中。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-134">Supports wildcard characters in the search expression.</span></span>  
  
-   <span data-ttu-id="bc9c7-135">啟用立即節點下搜尋在其中執行搜尋作業。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-135">Enables search immediately under the node at which the search operation is performed.</span></span>  
  
 <span data-ttu-id="bc9c7-136">下表列出可用於搜尋和由其解譯的特殊字元[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-136">The following table lists the special characters that can be used for search and their interpretation by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
|<span data-ttu-id="bc9c7-137">特殊字元</span><span class="sxs-lookup"><span data-stu-id="bc9c7-137">Special character</span></span>|<span data-ttu-id="bc9c7-138">解譯</span><span class="sxs-lookup"><span data-stu-id="bc9c7-138">Interpretation</span></span>|  
|-----------------------|--------------------|  
|<span data-ttu-id="bc9c7-139">+ (加號)</span><span class="sxs-lookup"><span data-stu-id="bc9c7-139">+ (plus)</span></span>|<span data-ttu-id="bc9c7-140">比對一個字元。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-140">Matches exactly one character.</span></span><br /><br /> <span data-ttu-id="bc9c7-141">例如，A + 比對 AB、 AC、 AD</span><span class="sxs-lookup"><span data-stu-id="bc9c7-141">For example, A+ matches AB, AC, AD</span></span>|  
|<span data-ttu-id="bc9c7-142">\* (星號)</span><span class="sxs-lookup"><span data-stu-id="bc9c7-142">\* (asterisk)</span></span>|<span data-ttu-id="bc9c7-143">比對零個或多個字元。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-143">Matches zero or more characters.</span></span><br /><br /> <span data-ttu-id="bc9c7-144">例如，A \* 比對 A，AB，ABC。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-144">For example, A\* matches A, AB, ABC.</span></span>|  
  
 <span data-ttu-id="bc9c7-145">如需配接器支援的特殊字元的詳細資訊，請參閱[配接器介面的 SAP 中繼資料的運作方式？](https://msdn.microsoft.com/library/dd788039.aspx)</span><span class="sxs-lookup"><span data-stu-id="bc9c7-145">For more information about the special characters supported by the adapter, see [How Does the Adapter Surface SAP Metadata?](https://msdn.microsoft.com/library/dd788039.aspx)</span></span>  
  
 <span data-ttu-id="bc9c7-146">執行下列步驟，以搜尋 SAP 系統使用中的 Bapi [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-146">Perform the following steps to search BAPIs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-search-bapis-in-an-sap-system"></a><span data-ttu-id="bc9c7-147">搜尋 SAP 系統中的 Bapi</span><span class="sxs-lookup"><span data-stu-id="bc9c7-147">To search BAPIs in an SAP system</span></span>  
  
1.  <span data-ttu-id="bc9c7-148">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]， [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]，或[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-148">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="bc9c7-149">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-149">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="bc9c7-150">從**選取合約型別**下拉式清單中，選取 根據是否您將會搜尋使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-150">From the **Select contract type** drop-down list, select the type of contract based on whether you will be searching for inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="bc9c7-151">在**選取類別目錄**方塊中，按一下包含您想要搜尋的 BAPI 的 BAPI 功能區域。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-151">In the **Select a category** box, click the BAPI functional area containing the BAPI you want to search.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bc9c7-152">您可以搜尋 Bapi 只能在根層級。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-152">You can search for BAPIs only at the root level.</span></span>  
  
4.  <span data-ttu-id="bc9c7-153">在**類別目錄中的搜尋**文字方塊中，輸入要搜尋特定的 BAPI 搜尋運算式。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-153">In the **Search in category** text box, enter a search expression to search for a specific BAPI.</span></span> <span data-ttu-id="bc9c7-154">例如，若要搜尋名稱中有 「 帳戶 」 的 Bapi，請輸入 * 帳戶\*在文字方塊中。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-154">For example, to search for BAPIs that have "Account" in their names, type *Account\* in the text box.</span></span>  
  
5.  <span data-ttu-id="bc9c7-155">按一下向右箭號圖示，開始搜尋 按鈕。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-155">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="bc9c7-156">搜尋完成之後，**可用的類別和作業**方塊會列出符合搜尋準則的 Bapi。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-156">After the search is complete, the **Available categories and operations** box lists the BAPIs that satisfy the search criteria.</span></span>  
  
6.  <span data-ttu-id="bc9c7-157">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出 BAPI 搜尋結果。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-157">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the BAPI search result.</span></span>  
  
     <span data-ttu-id="bc9c7-158">![搜尋 SAP 系統中的 Bapi](../../adapters-and-accelerators/adapter-sap/media/82771a47-b656-473e-a96d-998bced38b35.gif "82771a47-b656-473e-a96d-998bced38b35")</span><span class="sxs-lookup"><span data-stu-id="bc9c7-158">![Search BAPIs in an SAP system](../../adapters-and-accelerators/adapter-sap/media/82771a47-b656-473e-a96d-998bced38b35.gif "82771a47-b656-473e-a96d-998bced38b35")</span></span>  
  
## <a name="generating-schema-for-biztalk-projects"></a><span data-ttu-id="bc9c7-159">產生結構描述的 BizTalk 專案</span><span class="sxs-lookup"><span data-stu-id="bc9c7-159">Generating Schema for BizTalk Projects</span></span>  
 <span data-ttu-id="bc9c7-160">您可以使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]產生結構描述選取 SAP 成品。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-160">You can use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate schema for selected SAP artifacts.</span></span> <span data-ttu-id="bc9c7-161">一旦您瀏覽並搜尋您想要叫用的成品，您可以產生結構描述的那些成品，並傳送訊息，符合結構描述至 SAP 系統。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-161">Once you have browsed and searched for the artifacts you want to invoke, you can generate schema for those artifacts and send messages, conforming to the schema, to the SAP system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bc9c7-162">您可以選取要在該類別目錄子樹狀結構中傳回所有作業類別目錄節點： 例如，您可以選取整個 BAPI 子功能會 （若要產生該群組中的所有 Bapi 結構描述） 或選取特定的 Bapi 產生這些的 Bapi 結構描述。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-162">You can select category nodes to return all the operations in that category's sub-tree—for example, you can select an entire BAPI sub-functional are (to generate schema for all the BAPIs in that group) or select specific BAPIs to generate schema for only those BAPIs.</span></span> <span data-ttu-id="bc9c7-163">如需節點的詳細資訊，請參閱[中繼資料節點 IDs4](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-163">For more information about the nodes, see [Metadata Node IDs4](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md).</span></span>  
  
#### <a name="to-retrieve-metadata-for-bapis"></a><span data-ttu-id="bc9c7-164">若要擷取 Bapi 的中繼資料</span><span class="sxs-lookup"><span data-stu-id="bc9c7-164">To retrieve metadata for BAPIs</span></span>  
  
1.  <span data-ttu-id="bc9c7-165">連接到 SAP 伺服器使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-165">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)].</span></span> <span data-ttu-id="bc9c7-166">請參閱[連接到 Visual Studio 中的 SAP 系統](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)如需相關指示。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-166">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2.  <span data-ttu-id="bc9c7-167">從**選取合約型別**下拉式清單中，選取 根據是否將執行使用配接器的輸入或輸出作業的合約的型別。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-167">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3.  <span data-ttu-id="bc9c7-168">在**選取類別目錄**方塊中，按一下包含您要產生中繼資料的 BAPI 的 BAPI 功能群組。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-168">In the **Select a category** box, click the BAPI functional group containing the BAPI for which you want to generate metadata.</span></span>  
  
4.  <span data-ttu-id="bc9c7-169">在**可用的類別和作業**方塊中，選取您要產生中繼資料，並按一下的作業的功能區域**新增**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-169">In the **Available categories and operations** box, select the functional areas or operations for which you want to generate metadata and click **Add**.</span></span> <span data-ttu-id="bc9c7-170">會列出選取的功能區域或作業**加入的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-170">The selected functional areas or operations are listed in the **Added categories and operations** box.</span></span>  
  
     <span data-ttu-id="bc9c7-171">下圖顯示[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]列出所選的 Bapi。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-171">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the selected BAPIs.</span></span>  
  
     <span data-ttu-id="bc9c7-172">![擷取 BAPI 的中繼資料](../../adapters-and-accelerators/adapter-sap/media/74170978-aef0-46c9-a6e2-36d6e9c2aefc.gif "74170978-aef0-46c9-a6e2-36d6e9c2aefc")</span><span class="sxs-lookup"><span data-stu-id="bc9c7-172">![Retrieve metadata for a BAPI](../../adapters-and-accelerators/adapter-sap/media/74170978-aef0-46c9-a6e2-36d6e9c2aefc.gif "74170978-aef0-46c9-a6e2-36d6e9c2aefc")</span></span>  
  
     <span data-ttu-id="bc9c7-173">如果您想要產生結構描述的多個作業，可能是在這些失敗可能導致編譯 BizTalk 專案的結構描述之間的一些重複的項目定義。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-173">If you want to generate schema for multiple operations, there may be some duplicate element definitions among these schema that may cause failure in compiling the BizTalk project.</span></span> <span data-ttu-id="bc9c7-174">例如，假設您用來產生 「 Op1 」 作業的結構描述。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-174">For example, consider a scenario where you generate schema for an operation “Op1”.</span></span> <span data-ttu-id="bc9c7-175">「 Op1"的結構描述包含複雜資料類型"CT1"的參數。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-175">The schema for “Op1” contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="bc9c7-176">在您關閉之後產生結構描述的 「 Op1" [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] ，再重新開啟 「 Op2"的另一個作業產生結構描述。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-176">After generating the schema for “Op1” you close the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and re-open it to generate schema for another operation “Op2”.</span></span> <span data-ttu-id="bc9c7-177">假設 「 Op2 」 也包含複雜資料類型"CT1"的參數。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-177">Assume that “Op2” also contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="bc9c7-178">結束之後[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]編譯專案，就會發生編譯錯誤，因為複雜資料型別"CT1 」 定義不同的 XSD 檔案中的兩倍。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-178">After you exit the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and compile the project, you will get compilation errors because the complex data type “CT1” is defined twice in different XSD files.</span></span> <span data-ttu-id="bc9c7-179">在這種情況下，我們建議下列各項：</span><span class="sxs-lookup"><span data-stu-id="bc9c7-179">In such situations, we recommend the following:</span></span>  
  
    -   <span data-ttu-id="bc9c7-180">產生的所有作業的結構描述中的單一執行[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-180">Generate schema for all the operations in a single run of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="bc9c7-181">如此可確保[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]會產生只有一個定義的複雜資料型別"CT1"。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-181">This ensures that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates only one definition for the complex data type “CT1”.</span></span>  
  
    -   <span data-ttu-id="bc9c7-182">如果您想要產生多個作業的結構描述的不同執行[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，請確定您選取**產生唯一的結構描述型別**核取方塊，以便讓所產生的 XSD 檔案包含複雜的唯一命名空間資料型別"CT1"。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-182">If you want to generate schema for multiple operations across different runs of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], make sure you select the **Generate unique schema types** check box so that the generated XSD files contain unique namespaces for the complex data type “CT1”.</span></span>  
  
5.  <span data-ttu-id="bc9c7-183">按一下 **[確定]**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-183">Click **OK**.</span></span> <span data-ttu-id="bc9c7-184">結構描述檔案會儲存具有.xsd 副檔名為 BizTalk 專案的相同位置。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-184">The schema file is saved with an .xsd extension at the same location as the BizTalk project.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bc9c7-185">如果您使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，根據預設，檔案會建立命名慣例 」 SAPBinding\<n\>.xsd"，其中 'n' 可以是 1，2，等等取決於建立的結構描述檔案數目。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-185">If you are using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], by default the files are created with the naming convention "SAPBinding\<n\>.xsd", where 'n' can be 1, 2, etc. depending on the number of schema files created.</span></span> <span data-ttu-id="bc9c7-186">或者，您可以提供自訂結構描述檔案名稱中輸入名稱**檔案名稱前置詞**文字方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-186">Alternatively, you can provide a custom name to the schema files by entering a name in the **Filename prefix** text box.</span></span> <span data-ttu-id="bc9c7-187">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]現在建立結構描述檔案命名慣例\<檔案名稱前置詞\>\<n\>.xsd。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-187">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] now creates schema files with the naming convention \<filename prefix\>\<n\>.xsd.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bc9c7-188">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]也會建立包含產生結構描述時指定的繫結屬性的繫結檔案 （XML 檔案） 的作業和要叫用作業的 SOAP 動作。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-188">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also creates a binding file (an XML file) containing the binding properties that you specified while generating the schema for an operation and the SOAP action to invoke the operation.</span></span> <span data-ttu-id="bc9c7-189">您可以匯入此繫結檔案，在 BizTalk Server 管理主控台中，建立 WCF 自訂連接埠與連接 URI，繫結屬性和設定的 SOAP 動作。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-189">You can import this binding file in the BizTalk Server Administration console to create a WCF-Custom port with the connection URI, binding properties, and the SOAP action set.</span></span> <span data-ttu-id="bc9c7-190">如需詳細資訊，請參閱[設定實體連接埠繫結使用連接埠繫結檔案至 SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-190">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
6.  <span data-ttu-id="bc9c7-191">按一下 [ **檔案** ] 功能表上的 [ **全部儲存**]。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-191">On the **File** menu, click **Save All**.</span></span>  
  
## <a name="generating-a-wcf-client-for-bapi-operations-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="bc9c7-192">產生 WCF 用戶端使用的 BAPI 作業的新增配接器服務參考外掛程式</span><span class="sxs-lookup"><span data-stu-id="bc9c7-192">Generating a WCF Client for BAPI Operations Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="bc9c7-193">您可以使用[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]產生 BAPI 作業 （輸入的作業不支援的 Bapi） 的 WCF 用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-193">You can use the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate WCF client code for BAPI operations (inbound operations are not supported for BAPIs).</span></span>  
  
#### <a name="to-generate-a-wcf-client-for-bapis"></a><span data-ttu-id="bc9c7-194">若要產生 WCF 用戶端的 Bapi</span><span class="sxs-lookup"><span data-stu-id="bc9c7-194">To generate a WCF client for BAPIs</span></span>  
  
1.  <span data-ttu-id="bc9c7-195">在[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]，從**選取合約型別**下拉式清單中選取**用戶端 （輸出作業）**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-195">In the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], from the **Select contract type** drop-down list, select **Client (Outbound operations)**.</span></span>  
  
2.  <span data-ttu-id="bc9c7-196">在**選取類別目錄**方塊中，展開 [ **BAPI** ] 節點，然後瀏覽或搜尋 BAPI 類別或您要產生 WCF 用戶端作業。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-196">In the **Select a category** box, expand the **BAPI** node, and then browse or search for the BAPI categories or operations for which you want to generate a WCF client.</span></span>  
  
3.  <span data-ttu-id="bc9c7-197">在**可用的類別和作業**方塊中，選取您要產生 WCF 用戶端，然後按一下 類別目錄 （BAPI 功能群組） 的作業**新增**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-197">In the **Available categories and operations** box, select the operations or categories (BAPI functional groups) for which you want to generate a WCF client, and then click **Add**.</span></span> <span data-ttu-id="bc9c7-198">選取的作業中所列**加入的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-198">The selected operations are listed in the **Added categories and operations** box.</span></span> <span data-ttu-id="bc9c7-199">您可以選取任何節點中所列**可用的類別和作業**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-199">You can select any node that is listed in the **Available categories and operations** box.</span></span> <span data-ttu-id="bc9c7-200">如果您選取類別目錄 節點，則會選取所有適用於該節點和其子節點的作業。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-200">If you select a category node, then all of the operations available under that node and its sub-nodes will be selected.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="bc9c7-201">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]產生唯一的 WCF 用戶端類別的每個商務物件。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-201">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] generates a unique WCF client class for each business object.</span></span> <span data-ttu-id="bc9c7-202">根據您選取的作業和類別，可能會產生一個以上的 WCF 用戶端類別。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-202">Depending on the categories and operations that you select, more than one WCF client class may be generated.</span></span> <span data-ttu-id="bc9c7-203">如需詳細資訊，請參閱[產生 WCF 用戶端或 WCF 服務合約的 SAP 方案成品](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-203">For more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
4.  <span data-ttu-id="bc9c7-204">在大部分情況下，預設序列化選項已經足夠;不過，如果需要您可以控制所產生的程式碼的幾個層面和序列化程式所使用的類型。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-204">For most scenarios the default serialization options are sufficient; however, if needed, you can control several aspects about the code that is generated and the type of serializer that is used.</span></span> <span data-ttu-id="bc9c7-205">若要設定這些選項：</span><span class="sxs-lookup"><span data-stu-id="bc9c7-205">To set these options:</span></span>  
  
    1.  <span data-ttu-id="bc9c7-206">按一下**進階選項**開啟**進階選項**方塊。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-206">Click **Advanced Options** to open the **Advanced Options** box.</span></span>  
  
    2.  <span data-ttu-id="bc9c7-207">在**進階選項**下方的 **選擇選項來產生 proxy**，選取您想要的選項。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-207">In the **Advanced Options** box under **Choose options for generated proxy**, select the options that you want.</span></span> <span data-ttu-id="bc9c7-208">例如，您可以選取是否非同步方法產生 WCF 用戶端，或停用組態檔的產生。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-208">For example, you can select whether asynchronous methods are generated for the WCF client or disable the generation of a configuration file.</span></span>  
  
    3.  <span data-ttu-id="bc9c7-209">在下**序列化程式**選取應該使用的序列化程式。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-209">Under **Serializer** select the serializer that should be used.</span></span>  
  
     <span data-ttu-id="bc9c7-210">下圖顯示**進階選項**隨附的預設選項 (**自動**選取所選的序列化程式，且沒有其他選項)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-210">The following figure shows the **Advanced Options** box with the default selections (**Auto** is selected for the serializer and no other options are selected).</span></span>  
  
     <span data-ttu-id="bc9c7-211">![[進階選項] 方塊預設設定](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span><span class="sxs-lookup"><span data-stu-id="bc9c7-211">![The Advanced Options box default settings](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span></span>  
  
     <span data-ttu-id="bc9c7-212">您可以在設定的選項**進階選項**方塊相當於某些可用的選項時使用 ServiceModel Metadata Utility Tool (svcutil.exe)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-212">The options that you can configure in the **Advanced Options** box are equivalent to some of the options available when you use the ServiceModel Metadata Utility Tool (svcutil.exe).</span></span> <span data-ttu-id="bc9c7-213">如需有關這些選項的詳細資訊，請參閱[ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-213">For more information about these options, see [ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx).</span></span> 
  
5.  <span data-ttu-id="bc9c7-214">按一下 **[確定]**。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-214">Click **OK**.</span></span> <span data-ttu-id="bc9c7-215">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]將 WCF 用戶端類別和協助程式程式碼儲存在您選取的作業和類別目錄的專案目錄中。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-215">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] saves the WCF client class and helper code in your project directory for the selected operations and categories.</span></span> <span data-ttu-id="bc9c7-216">根據預設，也會儲存組態檔。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-216">By default, a configuration file is also saved.</span></span> <span data-ttu-id="bc9c7-217">如需詳細資訊，請參閱[產生 WCF 用戶端或 WCF 服務合約的 SAP 方案成品](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)。</span><span class="sxs-lookup"><span data-stu-id="bc9c7-217">For more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bc9c7-218">另請參閱</span><span class="sxs-lookup"><span data-stu-id="bc9c7-218">See Also</span></span>  
 [<span data-ttu-id="bc9c7-219">在 Visual Studio 中取得 SAP 作業的中繼資料</span><span class="sxs-lookup"><span data-stu-id="bc9c7-219">Get Metadata for SAP Operations in Visual Studio</span></span>](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md)