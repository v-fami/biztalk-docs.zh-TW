---
title: "若要建立的 SAP 應用程式的建置組塊 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- design-time tasks
- run-time tasks
- developing, fundamentals of (BizTalk applications)
ms.assetid: 591a5597-5e7d-44b0-8bee-e1c987c5e6c3
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8d507518b61b3c61b1815ec3ffe94bc1df5603d6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="building-blocks-to-create-sap-applications"></a><span data-ttu-id="e4ce3-102">若要建立的 SAP 應用程式的建置組塊</span><span class="sxs-lookup"><span data-stu-id="e4ce3-102">Building blocks to create SAP applications</span></span>
<span data-ttu-id="e4ce3-103">對 SAP 系統使用執行作業[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]牽涉到兩個一組活動： 設計階段活動和執行階段活動。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-103">Performing operations on an SAP system using [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] involves two set of activities: design-time activities and run-time activities.</span></span> <span data-ttu-id="e4ce3-104">若要使用執行 SAP 系統上的作業[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]與[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]，您必須執行一組使用的設計階段和執行階段工作[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]和[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理主控台分別。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-104">To perform operations on an SAP system by using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], you must perform a set of design-time and run-time tasks using [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] and [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console respectively.</span></span> <span data-ttu-id="e4ce3-105">本節提供這些工作的概觀。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-105">This section provides an overview of these tasks.</span></span> <span data-ttu-id="e4ce3-106">中的所有主題本節中，可示範如何執行 SAP 系統使用的特定作業[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]，這些高階的工作建立模型。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-106">All the topics in this section, which demonstrate how to perform specific operations on an SAP system using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], are modeled on these high-level tasks.</span></span>  
  
## <a name="design-time-tasks"></a><span data-ttu-id="e4ce3-107">設計階段工作</span><span class="sxs-lookup"><span data-stu-id="e4ce3-107">Design-time Tasks</span></span>  
 <span data-ttu-id="e4ce3-108">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]提供功能，以瀏覽、 搜尋和擷取 Rfc、 Bapi，和使用 XML 結構描述定義語言 (Xsd) 的表單中的 Idoc 的 SAP 中繼資料[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-108">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] provides capability to browse, search, and retrieve the SAP metadata for RFCs, BAPIs, and IDOCs in the form of XML Schema definition languages (XSDs) using the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)].</span></span> <span data-ttu-id="e4ce3-109">Xsd 專屬於您想要在 SAP 系統上，執行作業和[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]可僅當您建立 BizTalk 專案。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-109">The XSDs are specific to the operation you want to perform on the SAP system, and the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] is available only when you create a BizTalk project.</span></span> <span data-ttu-id="e4ce3-110">在設計階段，您需要執行下列工作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-110">At design time you need to perform the following tasks.</span></span>  
  
-   <span data-ttu-id="e4ce3-111">**建立 BizTalk 專案，並產生結構描述**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-111">**Create BizTalk project and generate schema**.</span></span> <span data-ttu-id="e4ce3-112">開始使用，您必須建立 BizTalk 專案，在 Microsoft[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]和的 RFC，您將會叫用 SAP 系統中產生的結構描述。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-112">To start with, you must create a BizTalk project in Microsoft [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] and generate the schema for the RFC you will invoke in the SAP system.</span></span> <span data-ttu-id="e4ce3-113">比方說，如果您想要叫用 RFC_CUSTOMER_GET，SAP 系統中，您必須針對 RFC_CUSTOMER_GET 產生中繼資料。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-113">For example, if you want to invoke RFC_CUSTOMER_GET in the SAP system, you must generate the metadata for RFC_CUSTOMER_GET.</span></span> <span data-ttu-id="e4ce3-114">在此步驟使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]產生結構描述。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-114">In this step you use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate the schema.</span></span> <span data-ttu-id="e4ce3-115">如需詳細資訊，請參閱[取得 Visual Studio 中的 SAP 作業的中繼資料](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-115">For more information, see [Get Metadata for SAP Operations in Visual Studio](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md).</span></span>  
  
-   <span data-ttu-id="e4ce3-116">**設定協調流程**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-116">**Set up an orchestration**.</span></span> <span data-ttu-id="e4ce3-117">一旦您已經產生結構描述，則您必須使用 「 協調流程設計師 」 設定協調流程。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-117">Once you have generated the schema, you must set up an orchestration by using the Orchestration Designer.</span></span> <span data-ttu-id="e4ce3-118">基本協調流程中，您可以新增傳送和接收圖形以及傳送和接收邏輯連接埠。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-118">For a basic orchestration, you add the Send and Receive shapes along with the Send and Receive logical ports.</span></span> <span data-ttu-id="e4ce3-119">在稍後步驟中，您將對應這些邏輯連接埠至實體連接埠使用 BizTalk Server 管理主控台。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-119">In later steps, you map these logical ports to physical ports by using the BizTalk Server Administration console.</span></span> <span data-ttu-id="e4ce3-120">協調流程會使用這些連接埠挑選配接器用戶端傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-120">The orchestration uses these ports to pick messages that an adapter client sends.</span></span> <span data-ttu-id="e4ce3-121">協調流程接著會將訊息傳遞至 SAP 系統。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-121">The orchestration then passes the messages to the SAP system.</span></span> <span data-ttu-id="e4ce3-122">一旦從 SAP 系統接收回應，協調流程會傳遞至配接器用戶端的回應。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-122">Once a response is received from the SAP system, the orchestration passes the response to the adapter client.</span></span>  
  
-   <span data-ttu-id="e4ce3-123">**建立訊息並連結到結構描述**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-123">**Create messages and link to schema**.</span></span> <span data-ttu-id="e4ce3-124">在您的協調流程中，您必須建立會對應到您在第一個步驟中產生的結構描述的訊息。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-124">In your orchestration, you must create messages that will be mapped to the schema you generated in the first step.</span></span> <span data-ttu-id="e4ce3-125">通常，您會建立要求訊息和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-125">Typically, you create a request message and a response message.</span></span> <span data-ttu-id="e4ce3-126">這些訊息會對應至相對應的要求和回應結構描述。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-126">These messages are mapped to corresponding request and response schemas.</span></span>  
  
-   <span data-ttu-id="e4ce3-127">**對應至訊息和連接埠的 [訊息] 圖形**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-127">**Map message shapes to messages and ports**.</span></span> <span data-ttu-id="e4ce3-128">在您的協調流程現在必須對應至您在第三個步驟中建立的訊息第二個步驟中加入每個圖形。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-128">In your orchestration, you must now map each shape you added in the second step to messages you created in the third step.</span></span> <span data-ttu-id="e4ce3-129">您也必須對應 「 訊息 」 圖形至將會傳送該訊息的連接埠。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-129">You must also map a message shape to the port on which that message will be sent.</span></span>  
  
     <span data-ttu-id="e4ce3-130">例如，如果收到訊息 「 接收 」 圖形在協調流程中的第一個圖形，您對應此圖形到要求訊息和連接埠傳送要求訊息。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-130">For example, if the first shape in your orchestration is a Receive shape that receives a message, you map this shape to a request message and the port that sends the request message.</span></span>  
  
-   <span data-ttu-id="e4ce3-131">**建置和部署 BizTalk 專案**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-131">**Build and deploy the BizTalk project**.</span></span> <span data-ttu-id="e4ce3-132">您已設定協調流程，並對應訊息、 連接埠，以及結構描述之後，您必須建置 BizTalk 方案。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-132">After you have set up the orchestration and mapped messages, ports, and schemas you must build the BizTalk solution.</span></span> <span data-ttu-id="e4ce3-133">建置專案[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]，您將需要組件金鑰檔案。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-133">For building a project in [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], you will need an assembly key file.</span></span> <span data-ttu-id="e4ce3-134">在您成功建置方案之後，您必須部署該方案。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-134">After you successfully build the solution, you must deploy the solution.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="e4ce3-135">本章節的各種主題提供的更詳細的描述，這些高階的工作，包括程序資訊。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-135">More detailed description of these high-level tasks, including procedural information, is provided in various topics of this section.</span></span>  
  
 <span data-ttu-id="e4ce3-136">一旦部署方案時，會完成您設計階段的工作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-136">Once the solution is deployed, your design-time tasks are accomplished.</span></span> <span data-ttu-id="e4ce3-137">現在，您必須執行的執行階段工作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-137">You must now perform the run-time tasks.</span></span>  
  
## <a name="run-time-tasks"></a><span data-ttu-id="e4ce3-138">執行階段工作</span><span class="sxs-lookup"><span data-stu-id="e4ce3-138">Run-time Tasks</span></span>  
 <span data-ttu-id="e4ce3-139">在執行階段，您可以使用 BizTalk Server 管理主控台來部署和監視您在設計階段建立的協調流程。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-139">At run time, you can use the BizTalk Server Administration console to deploy and monitor the orchestration you created at design time.</span></span> <span data-ttu-id="e4ce3-140">此外，您必須：</span><span class="sxs-lookup"><span data-stu-id="e4ce3-140">In addition, you must:</span></span>  
  
-   <span data-ttu-id="e4ce3-141">**設定應用程式**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-141">**Configure the application**.</span></span> <span data-ttu-id="e4ce3-142">您在設計階段部署的 BizTalk 專案會出現在 BizTalk Server 管理主控台中做為協調流程。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-142">The BizTalk project you deployed at design time shows up in the BizTalk Server Administration console as an orchestration.</span></span> <span data-ttu-id="e4ce3-143">您必須設定此協調流程會對應至實體連接埠，您現在必須建立使用設計階段建立的邏輯連接埠[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理主控台。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-143">You must configure this orchestration by mapping the logical ports you created at design time to physical ports that you must now create using the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
     <span data-ttu-id="e4ce3-144">實體連接埠，您必須指定 「 動作 」 或 「 動作對應 」。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-144">On the physical ports, you must specify an "action" or "action mapping".</span></span> <span data-ttu-id="e4ce3-145">這個動作會對應至您想要在 SAP 系統上執行的操作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-145">This action corresponds to the operation you want to perform on the SAP system.</span></span> <span data-ttu-id="e4ce3-146">您要設定的動作，如果您不想要使用動態的動作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-146">You need to set the action if you are not using dynamic actions.</span></span> 
  
-   <span data-ttu-id="e4ce3-147">**啟動應用程式**。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-147">**Start the application**.</span></span> <span data-ttu-id="e4ce3-148">設定應用程式之後，您必須啟動應用程式，拖放輸入的訊息已定義的檔案位置。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-148">After the application is configured, you must start the application, and drop input messages at a defined file location.</span></span> <span data-ttu-id="e4ce3-149">協調流程取用輸入的訊息並將其傳遞至 SAP 系統，並接收回應。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-149">The orchestration consumes the input messages and passes them to the SAP system and receives a response.</span></span> <span data-ttu-id="e4ce3-150">此回應會是可供您使用其他定義的檔案位置。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-150">This response will be available to you at another defined file location.</span></span>  
  
 <span data-ttu-id="e4ce3-151">若要完成這些高層級的設計階段和執行階段工作，您也必須執行其他工作。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-151">To accomplish these high-level design-time and run-time tasks, you must also perform other tasks.</span></span> <span data-ttu-id="e4ce3-152">例如，當您使用[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]或[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]產生結構描述，您必須指定的連接來連接到 SAP 系統的 URI。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-152">For example, when you use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate the schema, you must specify a connection URI to connect to the SAP system.</span></span> <span data-ttu-id="e4ce3-153">本節提供資訊在這種重複的工作，您必須執行在開發 BizTalk 應用程式使用[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="e4ce3-153">This section provides information on such repetitive tasks that you must perform as you develop BizTalk applications using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="e4ce3-154">本節內容</span><span class="sxs-lookup"><span data-stu-id="e4ce3-154">In This Section</span></span>  
  
-   [<span data-ttu-id="e4ce3-155">新增 SAP 配接器至 BizTalk Server 管理主控台</span><span class="sxs-lookup"><span data-stu-id="e4ce3-155">Add the SAP Adapter to BizTalk Server Administration Console</span></span>](../../adapters-and-accelerators/adapter-sap/add-the-sap-adapter-to-biztalk-server-administration-console.md)  
  
-   [<span data-ttu-id="e4ce3-156">設定 SAP 配接器的連線 URI</span><span class="sxs-lookup"><span data-stu-id="e4ce3-156">Configure the connection URI for the SAP adapter</span></span>](../../adapters-and-accelerators/adapter-sap/configure-the-connection-uri-for-the-sap-adapter.md)  
  
-   [<span data-ttu-id="e4ce3-157">設定登入 SAP 系統的認證</span><span class="sxs-lookup"><span data-stu-id="e4ce3-157">Configure the sign in credentials for the SAP system</span></span>](../../adapters-and-accelerators/adapter-sap/configure-the-sign-in-credentials-for-the-sap-system.md) 
  
-   [<span data-ttu-id="e4ce3-158">設定 SAP 配接器的繫結屬性</span><span class="sxs-lookup"><span data-stu-id="e4ce3-158">Configure the binding properties for the SAP adapter</span></span>](../../adapters-and-accelerators/adapter-sap/configure-the-binding-properties-for-the-sap-adapter.md)
  
-   [<span data-ttu-id="e4ce3-159">設定 SAP 系統的 SOAP 動作</span><span class="sxs-lookup"><span data-stu-id="e4ce3-159">Configure the SOAP action for the SAP system</span></span>](../../adapters-and-accelerators/adapter-sap/configure-the-soap-action-for-the-sap-system.md)
  
-   [<span data-ttu-id="e4ce3-160">以手動方式設定 SAP 配接器的實體連接埠繫結</span><span class="sxs-lookup"><span data-stu-id="e4ce3-160">Manually configure a physical port binding to the SAP adapter</span></span>](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md)
  
-   [<span data-ttu-id="e4ce3-161">設定使用連接埠繫結檔案至 SAP 的實體連接埠繫結</span><span class="sxs-lookup"><span data-stu-id="e4ce3-161">Configure a physical port binding using a port binding file to SAP</span></span>](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)
  
-   [<span data-ttu-id="e4ce3-162">SAP 配接器中設定動態連接埠</span><span class="sxs-lookup"><span data-stu-id="e4ce3-162">Configure dynamic ports in the SAP adapter</span></span>](../../adapters-and-accelerators/adapter-sap/configure-dynamic-ports-in-the-sap-adapter.md)
  
-   [<span data-ttu-id="e4ce3-163">重複使用 SAP 配接器繫結</span><span class="sxs-lookup"><span data-stu-id="e4ce3-163">Reuse SAP adapter bindings</span></span>](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md)
  
## <a name="see-also"></a><span data-ttu-id="e4ce3-164">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e4ce3-164">See Also</span></span>  
[<span data-ttu-id="e4ce3-165">開發 BizTalk 應用程式使用 SAP 配接器</span><span class="sxs-lookup"><span data-stu-id="e4ce3-165">Develop BizTalk applications using the SAP adapter</span></span>](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md)