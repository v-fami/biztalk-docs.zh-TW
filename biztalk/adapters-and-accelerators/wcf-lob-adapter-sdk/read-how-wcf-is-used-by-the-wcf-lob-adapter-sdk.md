---
title: 讀取 WCF 如何使用 WCF LOB 配接器 SDK |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 183dd134-7273-4767-bad0-c42ae125985e
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8991590d97d70fc0e2090f11f05f8882b0ca3396
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37004711"
---
# <a name="read-how-wcf-is-used-by-the-wcf-lob-adapter-sdk"></a><span data-ttu-id="a4f97-102">讀取 WCF 如何使用 WCF LOB 配接器 SDK</span><span class="sxs-lookup"><span data-stu-id="a4f97-102">Read how WCF is used by the WCF LOB Adapter SDK</span></span>
<span data-ttu-id="a4f97-103">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]擴充[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道架構，並相依於[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]runtime 能夠提供基本的傳訊服務，才能公開配接器功能，並交換資訊。</span><span class="sxs-lookup"><span data-stu-id="a4f97-103">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] extends the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel architecture and depends on the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] runtime to provide the basic messaging services required to expose adapter functionality and exchange information.</span></span> 
  
 <span data-ttu-id="a4f97-104">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]提供的架構來撰寫配接器，呈現在[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]，以及它們與一般配接器的項目，例如中繼資料和連接共用互補的。</span><span class="sxs-lookup"><span data-stu-id="a4f97-104">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] provides a framework for writing adapters, surfacing them in [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)], and complementing them with common adapter elements such as metadata and connection pooling.</span></span> <span data-ttu-id="a4f97-105">它也包含支援工具，來增強的體驗，例如[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].NET 應用程式及[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]for[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]應用程式和[!INCLUDE[afdevwizardnamelong](../../includes/afdevwizardnamelong-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a4f97-105">It also consists of support tools to enhance the experience such as the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] for .NET applications and [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] for [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] applications and the [!INCLUDE[afdevwizardnamelong](../../includes/afdevwizardnamelong-md.md)].</span></span>  
  
 <span data-ttu-id="a4f97-106">它負責[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]公開 （expose） 服務給取用端應用程式，來管理不同的端點之間的訊息流程，並提供自訂、 SDK 和工具的各種設定及監視訊息流程。</span><span class="sxs-lookup"><span data-stu-id="a4f97-106">It is the responsibility of the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] to expose services to a wide array of consuming applications, to manage the flow of messages between different endpoints, and to provide an SDK and tools to customize, configure, and monitor message flow.</span></span> <span data-ttu-id="a4f97-107">比方說，開發人員可以自訂行為[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]藉由擴充其通道使用的自訂訊息處理常式。</span><span class="sxs-lookup"><span data-stu-id="a4f97-107">For example, a developer can customize the behavior of a [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] by extending its channel with custom message handlers.</span></span>  
  
 <span data-ttu-id="a4f97-108">之間的關聯性[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]和[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]下列的高階架構圖所示。</span><span class="sxs-lookup"><span data-stu-id="a4f97-108">The relationship between the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] and [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] is shown in the following high-level architectural figure.</span></span>  
  
 <span data-ttu-id="a4f97-109">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/asdk-wcf.gif "ASDK_WCF")</span><span class="sxs-lookup"><span data-stu-id="a4f97-109">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/asdk-wcf.gif "ASDK_WCF")</span></span>  
  
 <span data-ttu-id="a4f97-110">[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]建置的上方[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]做為擴充[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道模型。</span><span class="sxs-lookup"><span data-stu-id="a4f97-110">The [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] is built on top of [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] as an extension to the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel model.</span></span> <span data-ttu-id="a4f97-111">它提供了特定領域和簡化的物件模型和工具組，可建置配接器，為自訂[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道。</span><span class="sxs-lookup"><span data-stu-id="a4f97-111">It provides a domain-specific and simplified object model and tool set for building adapters as custom [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channels.</span></span> <span data-ttu-id="a4f97-112">使用所建置的配接器[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]當成自訂[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]繫結。</span><span class="sxs-lookup"><span data-stu-id="a4f97-112">Adapters built using the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] are surfaced as custom [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] bindings.</span></span>  
  
 <span data-ttu-id="a4f97-113">下圖顯示使用指定的配接器繫結的輸出訊息交換。</span><span class="sxs-lookup"><span data-stu-id="a4f97-113">The following figure shows the outbound message exchange using a given adapter binding.</span></span>  
  
 <span data-ttu-id="a4f97-114">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/58609452-d09e-4dbd-b470-c92a29977858.gif "58609452-d09e-4dbd-b470-c92a29977858")</span><span class="sxs-lookup"><span data-stu-id="a4f97-114">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/58609452-d09e-4dbd-b470-c92a29977858.gif "58609452-d09e-4dbd-b470-c92a29977858")</span></span>  
  
 <span data-ttu-id="a4f97-115">下圖顯示使用指定的配接器繫結的輸入的訊息交換。</span><span class="sxs-lookup"><span data-stu-id="a4f97-115">The following figure shows the inbound message exchange using a given adapter binding.</span></span>  
  
 <span data-ttu-id="a4f97-116">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/b62d5040-7e40-4edd-ac7b-69768131c51b.gif "b62d5040-7e40-4edd-ac7b-69768131c51b")</span><span class="sxs-lookup"><span data-stu-id="a4f97-116">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/b62d5040-7e40-4edd-ac7b-69768131c51b.gif "b62d5040-7e40-4edd-ac7b-69768131c51b")</span></span>  
  
 <span data-ttu-id="a4f97-117">如需詳細資訊[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]通道模型，請參閱[通道模型概觀](https://msdn.microsoft.com/library/ms729840.aspx)。</span><span class="sxs-lookup"><span data-stu-id="a4f97-117">For more information about the [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] channel model, see [Channel Model Overview](https://msdn.microsoft.com/library/ms729840.aspx).</span></span>  
  
## <a name="wcf-services-and-the-wcf-lob-adapter-sdk"></a><span data-ttu-id="a4f97-118">WCF 服務和 WCF LOB 配接器 SDK</span><span class="sxs-lookup"><span data-stu-id="a4f97-118">WCF Services and the WCF LOB Adapter SDK</span></span>  
 <span data-ttu-id="a4f97-119">開發一般時[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]服務，第一個步驟是建立共用與外界說明如何與服務通訊的服務合約。</span><span class="sxs-lookup"><span data-stu-id="a4f97-119">When developing a typical [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] service, the first step is to create the contract for the service that is shared with the outside world that describes how to communicate with the service.</span></span> <span data-ttu-id="a4f97-120">此合約基本上會指定集合與存取服務所提供的作業所需的訊息的結構。</span><span class="sxs-lookup"><span data-stu-id="a4f97-120">This contract essentially specifies the collection and structure of messages required to access the operations offered by the service.</span></span>  
  
 <span data-ttu-id="a4f97-121">此合約會公開為服務時，一旦[Service Model Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx)可用來建立[!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)]取用它的用戶端。</span><span class="sxs-lookup"><span data-stu-id="a4f97-121">Once this contract is exposed as a service, the [Service Model Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx) can be used to create a [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] client to consume it.</span></span> <span data-ttu-id="a4f97-122">合約會提供一組靜態資訊的作業和不可以變更的訊息。</span><span class="sxs-lookup"><span data-stu-id="a4f97-122">The contract provides information about a static set of operations and messages that must not change.</span></span> 
  
 <span data-ttu-id="a4f97-123">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/a410af83-ee3b-46d0-9afd-d32970f5ba0a.gif "a410af83-ee3b-46d0-9afd-d32970f5ba0a")</span><span class="sxs-lookup"><span data-stu-id="a4f97-123">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/a410af83-ee3b-46d0-9afd-d32970f5ba0a.gif "a410af83-ee3b-46d0-9afd-d32970f5ba0a")</span></span>  
  
 <span data-ttu-id="a4f97-124">相反地，配接器使用來建置[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]提供一組動態的集合的作業和特定業務系統中所提供的資料相關的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="a4f97-124">In contrast, adapters built using the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] provide a dynamic set of metadata about the collection of operations and data that are available within a line-of-business system.</span></span> <span data-ttu-id="a4f97-125">特定業務系統通常會有太多作業需要在一個合約中描述，並可能會有新作業加入至回應新商務需求。</span><span class="sxs-lookup"><span data-stu-id="a4f97-125">The line-of-business system often has too many operations to be described in one contract and may have new operations added to respond to emerging business needs.</span></span>  
  
 <span data-ttu-id="a4f97-126">例如，特定業務系統可能會提供帳戶管理作業。</span><span class="sxs-lookup"><span data-stu-id="a4f97-126">For example, a line-of-business system may provide account management operations.</span></span> <span data-ttu-id="a4f97-127">找出需要簡化的新客戶帳戶建立程序之後, 該公司會更新特定業務系統，以包含新的作業。</span><span class="sxs-lookup"><span data-stu-id="a4f97-127">After identifying a need to streamline the creation of new customer accounts, the company updates the line-of-business system to include the new operation.</span></span> <span data-ttu-id="a4f97-128">使用所建置的配接器[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]公開這項作業，它提供給用戶端的中繼資料中。</span><span class="sxs-lookup"><span data-stu-id="a4f97-128">An adapter built using the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] exposes this operation in the metadata it provides to clients.</span></span>  
  
 <span data-ttu-id="a4f97-129">在設計階段， [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]-根據配接器會產生的合約，以動態方式以符合特定業務系統的需求。</span><span class="sxs-lookup"><span data-stu-id="a4f97-129">At design time, the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]-based adapter generates contracts dynamically to meet the needs of the line-of-business system.</span></span>  
  
 <span data-ttu-id="a4f97-130">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/2f4d896a-14d9-43f4-8cdc-f816c5eab46d.gif "2f4d896a-14d9-43f4-8cdc-f816c5eab46d")</span><span class="sxs-lookup"><span data-stu-id="a4f97-130">![](../../adapters-and-accelerators/wcf-lob-adapter-sdk/media/2f4d896a-14d9-43f4-8cdc-f816c5eab46d.gif "2f4d896a-14d9-43f4-8cdc-f816c5eab46d")</span></span>  
  
 <span data-ttu-id="a4f97-131">提供 ASDK[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]和[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]工具配接器取用者在設計階段產生動態的合約。</span><span class="sxs-lookup"><span data-stu-id="a4f97-131">The ASDK provides [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] and [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] tools for the adapter consumer to generate dynamic contracts at design time.</span></span>  
  
 <span data-ttu-id="a4f97-132">在執行階段，當訊息流動到配接器使用寫入時[!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)]，配接器通常必須採取一連串的動作上接收訊息。</span><span class="sxs-lookup"><span data-stu-id="a4f97-132">At runtime, when the message flows into the adapter written using the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)], the adapter often must take a series of actions on the receive message.</span></span> <span data-ttu-id="a4f97-133">這些動作包括：</span><span class="sxs-lookup"><span data-stu-id="a4f97-133">These actions include:</span></span>  
  
- <span data-ttu-id="a4f97-134">查閱相關的訊息中繼資料</span><span class="sxs-lookup"><span data-stu-id="a4f97-134">Looking up metadata pertaining to the message</span></span>  
  
- <span data-ttu-id="a4f97-135">開啟訊息</span><span class="sxs-lookup"><span data-stu-id="a4f97-135">Opening the message</span></span>  
  
- <span data-ttu-id="a4f97-136">解譯的訊息</span><span class="sxs-lookup"><span data-stu-id="a4f97-136">Interpreting the message</span></span>  
  
- <span data-ttu-id="a4f97-137">特定業務系統中呼叫適當的函式</span><span class="sxs-lookup"><span data-stu-id="a4f97-137">Calling the appropriate functions in the line-of-business system</span></span>  
  
  <span data-ttu-id="a4f97-138">如果是[!INCLUDE[nextref_btsWinCommFoundation_md](../../includes/nextref-btswincommfoundation-md.md)]服務，訊息只是通過而不需透過中繼資料解析。</span><span class="sxs-lookup"><span data-stu-id="a4f97-138">In the case of a [!INCLUDE[nextref_btsWinCommFoundation_md](../../includes/nextref-btswincommfoundation-md.md)] service, messages simply pass through without being resolved through metadata.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4f97-139">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a4f97-139">See Also</span></span>  
 [<span data-ttu-id="a4f97-140">BizTalk Adapter for Oracle Database 與 WCF LOB 配接器 SDK</span><span class="sxs-lookup"><span data-stu-id="a4f97-140">BizTalk Adapter for Oracle Database and the WCF LOB Adapter SDK</span></span>](../adapter-oracle-database/architecture-overview-of-the-biztalk-adapter-for-oracle-database.md)