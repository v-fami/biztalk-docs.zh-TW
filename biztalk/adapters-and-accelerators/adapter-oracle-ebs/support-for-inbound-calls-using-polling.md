---
title: 使用輪詢進行傳入呼叫支援 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ae02a93a-808f-4774-a2c4-efdf39a4d49a
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 868e56730f21235e3f73f6ab91a463ea4589bafd
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36984663"
---
# <a name="support-for-inbound-calls-using-polling"></a><span data-ttu-id="5a7de-102">使用輪詢進行傳入呼叫支援</span><span class="sxs-lookup"><span data-stu-id="5a7de-102">Support for Inbound Calls Using Polling</span></span>
<span data-ttu-id="5a7de-103">[!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)]可讓用戶端程式，以接收來自 Oracle E-business Suite，Oracle E-business Suite 中的資料變更的通知訊息。</span><span class="sxs-lookup"><span data-stu-id="5a7de-103">The [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] enables client programs to receive messages from Oracle E-Business Suite informing them of changes to data in Oracle E-Business Suite.</span></span> <span data-ttu-id="5a7de-104">[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]接收 「 以輪詢為基礎 」 的訊息，其中指定的 SQL 陳述式、 預存程序、 函數或程序在封裝中，而執行配接器的支援擷取資料，並提供給用戶端的結果，定期的時間。</span><span class="sxs-lookup"><span data-stu-id="5a7de-104">The [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] supports receiving "polling-based" messages wherein the adapter executes a specified SQL statement, stored procedure, function or a procedure within a package, retrieves the data, and provides the result to the client at regular intervals of time.</span></span>  

> [!NOTE]
>  <span data-ttu-id="5a7de-105">您也可以設定應用程式內容中輪詢作業[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="5a7de-105">You can also set the applications context for the Poll operation in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="5a7de-106">它，才能設定輪詢作業的應用程式內容，如果在介面資料表或介面檢視上執行作業。</span><span class="sxs-lookup"><span data-stu-id="5a7de-106">It is mandatory to set the applications context for the Poll operation if the operation is performed on an interface table or interface view.</span></span> <span data-ttu-id="5a7de-107">應用程式內容，以及如何將它設定的相關資訊，請參閱[設定應用程式內容](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md)。</span><span class="sxs-lookup"><span data-stu-id="5a7de-107">For information about applications context, and how to set it, see [Set Application Context](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span></span>  

 <span data-ttu-id="5a7de-108">典型的輪詢作業使用[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]牽涉到下列：</span><span class="sxs-lookup"><span data-stu-id="5a7de-108">A typical polling operation using the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] involves the following:</span></span>  

1. <span data-ttu-id="5a7de-109">配接器用戶端必須指定`Polling`中輸入作業**InboundOperationType**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-109">The adapter clients must specify `Polling` as the inbound operation in the **InboundOperationType** binding property.</span></span> <span data-ttu-id="5a7de-110">這個繫結屬性的預設值是**輪詢**。</span><span class="sxs-lookup"><span data-stu-id="5a7de-110">The default value for this binding property is **Polling**.</span></span>  

2. <span data-ttu-id="5a7de-111">配接器用戶端必須指定的 SELECT 陳述式**PolledDataAvailableStatement**繫結屬性，以判斷是否有資料可供輪詢。</span><span class="sxs-lookup"><span data-stu-id="5a7de-111">The adapter clients must specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine whether there is data available for polling.</span></span> <span data-ttu-id="5a7de-112">第一個傳回的結果集上執行此陳述式的第一個資料列的第一個資料行包含整數值，如果有可用日期進行輪詢。</span><span class="sxs-lookup"><span data-stu-id="5a7de-112">If the first column of the first row of the first result set returned on execution of this statement contains a positive integer value, there is date available for polling.</span></span>  

3. <span data-ttu-id="5a7de-113">配接器用戶端必須指定輪詢間隔**PollingInterval**繫結屬性來定義以秒為單位的陳述式中指定的間隔**PolledDataAvailableStatement**執行繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-113">The adapter clients must specify a polling interval for the **PollingInterval** binding property to define the interval in seconds at which the statement specified in the **PolledDataAvailableStatement** binding property is executed.</span></span> <span data-ttu-id="5a7de-114">在每個輪詢間隔結束時，輪詢的資料提供陳述式會執行，而且會傳回結果集。</span><span class="sxs-lookup"><span data-stu-id="5a7de-114">At the end of every polling interval, the polled data available statement is executed, and the result set is returned.</span></span>  

4. <span data-ttu-id="5a7de-115">配接器用戶端必須指定 SELECT 陳述式或預存程序**PollingInput**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-115">The adapter clients must specify a SELECT statement or a stored procedure for the **PollingInput** binding property.</span></span> <span data-ttu-id="5a7de-116">如果您想要輪詢的資料表或檢視，您必須指定這個繫結屬性的 SELECT 陳述式。</span><span class="sxs-lookup"><span data-stu-id="5a7de-116">If you want to poll a table or view, you must specify a SELECT statement for this binding property.</span></span> <span data-ttu-id="5a7de-117">如果您想要使用預存程序進行輪詢，您必須指定這個繫結屬性的整個要求訊息。</span><span class="sxs-lookup"><span data-stu-id="5a7de-117">If you want to poll using a stored procedure, you must specify the entire request message for this binding property.</span></span>  

    <span data-ttu-id="5a7de-118">中的陳述式**PollingInput**繫結屬性只有當沒有資料可供輪詢，取決於執行**PolledDataAvailableStatement**步驟 2 中的繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-118">The statement in the **PollingInput** binding property is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property in step 2.</span></span>  

5. <span data-ttu-id="5a7de-119">配接器用戶端必須指定在輪詢作業動作**PollingAction**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-119">The adapter clients must specify an action for the polling operation in the **PollingAction** binding property.</span></span> <span data-ttu-id="5a7de-120">輪詢動作特定的作業是從 取用配接器服務增益集所使用的作業產生的中繼資料來決定。</span><span class="sxs-lookup"><span data-stu-id="5a7de-120">The polling action for a specific operation is determined from the metadata generated for the operation using the Consume Adapter Service Add-in.</span></span>  

6. <span data-ttu-id="5a7de-121">配接器用戶端可以使用**PollWhileDataFound**忽略輪詢間隔，並持續輪詢資料，當有可用的屬性繫結。</span><span class="sxs-lookup"><span data-stu-id="5a7de-121">The adapter clients can use the **PollWhileDataFound** binding property to ignore the polling interval, and continuously poll data, as and when available.</span></span>  

   > [!IMPORTANT]
   >  <span data-ttu-id="5a7de-122">如果您設定的值**PollWhileDataFound**繫結屬性設為 True，配接器用戶端持續輪詢資料從 Oracle 和程序中開啟及關閉連線到 Oracle 資料庫在迴圈中。</span><span class="sxs-lookup"><span data-stu-id="5a7de-122">If you set the value of the **PollWhileDataFound** binding property to True, the adapter clients continuously poll data from Oracle and in the process open and close connections to the Oracle database in a loop.</span></span> <span data-ttu-id="5a7de-123">因為 ODP.NET 開啟連線的速率大於連線正在關閉，連線會耗盡段時間之後，並擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="5a7de-123">As the rate at which connections are opened by ODP.NET is greater than the connections being closed, the connections get exhausted after some time, and an exception is thrown.</span></span> <span data-ttu-id="5a7de-124">因應之道，請確定值**UseOracleConnectionPool**設定為 True，和適當的值所述**IncrPoolSize**繫結屬性，即可控制連線的數目可以開啟配接器用戶端。</span><span class="sxs-lookup"><span data-stu-id="5a7de-124">As a work around, make sure that the value of the **UseOracleConnectionPool** is set to True, and an appropriate value is mentioned in the **IncrPoolSize** binding property to control the number of connections that can be opened by the adapter clients.</span></span>  

7. <span data-ttu-id="5a7de-125">配接器用戶端可以指定後輪詢陳述式，Oracle 的 PL/SQL 區塊中，如**PostPollStatement**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-125">The adapter clients can specify a post-poll statement, an Oracle PL/SQL block, for the **PostPollStatement** binding property.</span></span> <span data-ttu-id="5a7de-126">這個繫結屬性中指定的陳述式中指定的陳述式之後執行**PollingInput**屬性繫結會執行。</span><span class="sxs-lookup"><span data-stu-id="5a7de-126">The statement specified in this binding property is executed after the statement specified in the **PollingInput** binding property is executed.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="5a7de-127">執行陳述式中指定的配接器**PollingInput**並**PostPollStatement**繫結在交易中的屬性。</span><span class="sxs-lookup"><span data-stu-id="5a7de-127">The adapter executes the statement specified in the **PollingInput** and **PostPollStatement** binding properties in a transaction.</span></span> <span data-ttu-id="5a7de-128">如需中的交易[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]，請參閱 <<c2> [ 配接器處理交易的運作方式？](https://msdn.microsoft.com/library/dd788428.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5a7de-128">For more information about transactions in the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], see [How does the Adapter Handle Transactions?](https://msdn.microsoft.com/library/dd788428.aspx).</span></span>  

   <span data-ttu-id="5a7de-129">配接器會隱藏來自 Oracle E-business Suite 的任何空白的輪詢回應。</span><span class="sxs-lookup"><span data-stu-id="5a7de-129">The adapter suppresses any empty polling responses coming from Oracle E-Business Suite.</span></span>  

   <span data-ttu-id="5a7de-130">下圖提供資訊中的輪詢工作流程[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="5a7de-130">The illustration below provides information about the polling workflow in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="5a7de-131">說明的輪詢工作流程的兩個案例：</span><span class="sxs-lookup"><span data-stu-id="5a7de-131">Two scenarios for the polling workflow are illustrated:</span></span>  

8. <span data-ttu-id="5a7de-132">當 windows 7 **PollWhileDataFound**設為"False"（預設值）。</span><span class="sxs-lookup"><span data-stu-id="5a7de-132">When the value of the **PollWhileDataFound** is set to “False” (default setting).</span></span>  

9. <span data-ttu-id="5a7de-133">當 windows 7 **PollWhileDataFound**設為"True"。</span><span class="sxs-lookup"><span data-stu-id="5a7de-133">When the value of the **PollWhileDataFound** is set to “True.”</span></span>  

   <span data-ttu-id="5a7de-134">![輪詢案例&#40;PollWhileDataFound&#61;False&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![輪詢案例&#40;PollWhileDataFound &#61; True&#41; ] (../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span><span class="sxs-lookup"><span data-stu-id="5a7de-134">![Polling Scenario &#40;PollWhileDataFound&#61;False&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![Polling Scenario &#40;PollWhileDataFound &#61; True&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span></span>  

## <a name="differences-between-polling-and-notification"></a><span data-ttu-id="5a7de-135">輪詢和通知之間的差異</span><span class="sxs-lookup"><span data-stu-id="5a7de-135">Differences between Polling and Notification</span></span>  
 <span data-ttu-id="5a7de-136">輪詢和通知都是這兩個輸入的作業，而且有關 Oracle 資料庫中的資料變更通知配接器用戶端，但下表列出兩者之間的一些差異。</span><span class="sxs-lookup"><span data-stu-id="5a7de-136">Though polling and notification are both inbound operations, and inform the adapter clients about the data changes in the Oracle database, the following table lists some differences between the two.</span></span> <span data-ttu-id="5a7de-137">下列差異將協助您決定的作業，視您的需求而定：</span><span class="sxs-lookup"><span data-stu-id="5a7de-137">The following differences will help you decide on an operation depending on your requirements:</span></span>  


|                                                                                                                                                                                                                                                      <span data-ttu-id="5a7de-138">輪詢</span><span class="sxs-lookup"><span data-stu-id="5a7de-138">Polling</span></span>                                                                                                                                                                                                                                                      |                                                                                                                              <span data-ttu-id="5a7de-139">通知</span><span class="sxs-lookup"><span data-stu-id="5a7de-139">Notification</span></span>                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                                                                                                   <span data-ttu-id="5a7de-140">支援的所有 Oracle 資料庫版本都支援輪詢[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="5a7de-140">Polling is supported for all the Oracle database versions that are supported by the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span>                                                                                                                                                                    |                                                                                               <span data-ttu-id="5a7de-141">10.2 和更新版本的 Oracle 資料庫版本只支援通知。</span><span class="sxs-lookup"><span data-stu-id="5a7de-141">Notification is only supported for Oracle database versions 10.2 and later.</span></span>                                                                                               |
| <span data-ttu-id="5a7de-142">您可以設定輪詢間隔，以檢查適用於定期輪詢資料，或立即一樣，當有可用的資料。</span><span class="sxs-lookup"><span data-stu-id="5a7de-142">You can either configure the polling interval to check the data available for polling at regular intervals or instantaneously as and when the data is available.</span></span> <span data-ttu-id="5a7de-143">**提示：** 輪詢可讓您更佳的輸送量的資料變更會持續發生，並不想為每項變更並發生時收到通知。</span><span class="sxs-lookup"><span data-stu-id="5a7de-143">**Tip:**  Polling can give you better throughput in scenarios where the data changes are happening continuously, and you do not want to be notified of each change as and when it happens.</span></span> <span data-ttu-id="5a7de-144">相反地，您可以指定之後，您想要的上次變更通知，因為發生錯誤的所有變更的通知的輪詢間隔。</span><span class="sxs-lookup"><span data-stu-id="5a7de-144">Instead, you specify a polling interval after which you want to be notified of all the changes that have happened since the last change notification.</span></span> |                                                                                                          <span data-ttu-id="5a7de-145">資料變更通知是一律在瞬間完成。</span><span class="sxs-lookup"><span data-stu-id="5a7de-145">The data-change notification is always instantaneous.</span></span>                                                                                                          |
|                                                                                                                                         <span data-ttu-id="5a7de-146">輪詢配接器所起始。</span><span class="sxs-lookup"><span data-stu-id="5a7de-146">Polling is initiated by the adapter.</span></span> <span data-ttu-id="5a7de-147">若要驗證是否可供輪詢，資料，並藉由執行輪詢陳述式，如果某些資料已可供輪詢起始輪詢 SQL 陳述式執行配接器。</span><span class="sxs-lookup"><span data-stu-id="5a7de-147">The adapter executes a SQL statement to validate whether data is available for polling, and then initiates polling by executing the polling statement if some data is available for polling.</span></span>                                                                                                                                         | <span data-ttu-id="5a7de-148">通知是由 Oracle 資料庫啟動。</span><span class="sxs-lookup"><span data-stu-id="5a7de-148">Notification is initiated by the Oracle database.</span></span> <span data-ttu-id="5a7de-149">只在配接器發出的通知陳述式會指示要起始通知，萬一沒有陳述式的結果集變更的資料庫。</span><span class="sxs-lookup"><span data-stu-id="5a7de-149">The notification statement issued by the adapter just instructs the database to initiate notification in case there is a change in the result set of the statement.</span></span> <span data-ttu-id="5a7de-150">通知是 Oracle 資料庫的功能。</span><span class="sxs-lookup"><span data-stu-id="5a7de-150">Notification is a feature of the Oracle database.</span></span> |
|                                                                                                                                                                                                                 <span data-ttu-id="5a7de-151">您可以使用輪詢陳述式來讀取或更新的 Oracle 資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="5a7de-151">You can use the polling statement to read or update data in the Oracle database.</span></span>                                                                                                                                                                                                                  |                                                                                             <span data-ttu-id="5a7de-152">您可以使用 notification 陳述式只讀取 Oracle 資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="5a7de-152">You can use the notification statement to only read data in an Oracle database.</span></span>                                                                                             |
|                                                                                                                                                                                                                            <span data-ttu-id="5a7de-153">輪詢會告知您已變更的實際資料。</span><span class="sxs-lookup"><span data-stu-id="5a7de-153">Polling informs you about the actual data that has changed.</span></span>                                                                                                                                                                                                                            |                                                                                   <span data-ttu-id="5a7de-154">通知只會通知的類型變更的資料，例如 Insert、 Update 和 Delete。</span><span class="sxs-lookup"><span data-stu-id="5a7de-154">Notification informs only about the type of change in the data such as Insert, Update, and Delete.</span></span>                                                                                    |

 <span data-ttu-id="5a7de-155">如需詳細資訊：</span><span class="sxs-lookup"><span data-stu-id="5a7de-155">For more information about:</span></span>  

- <span data-ttu-id="5a7de-156">繫結屬性與輪詢，請參閱[了解 BizTalk Adapter for Oracle E-business Suite 繫結屬性](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="5a7de-156">The binding properties related to polling, see [Read about the  BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  

- <span data-ttu-id="5a7de-157">接收以輪詢為基礎的訊息，使用[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]，請參閱 <<c2> [ 輪詢 Oracle E-business Suite 使用 BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="5a7de-157">Receiving polling-based messages using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], see [Poll Oracle E-Business Suite Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="5a7de-158">另請參閱</span><span class="sxs-lookup"><span data-stu-id="5a7de-158">See Also</span></span>  
 <span data-ttu-id="5a7de-159">[哪些作業可以是執行使用配接器？](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="5a7de-159">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>