---
title: "設定批次處理通知 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- batching, acknowledgements
- acknowledgements, batching
ms.assetid: f3529638-e036-4270-ae6d-1bdc3ef98727
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a788b83614c809505d632848a5a789070948fed5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-batching-acknowledgments"></a><span data-ttu-id="ecdba-102">設定批次處理通知</span><span class="sxs-lookup"><span data-stu-id="ecdba-102">Configuring Batching Acknowledgments</span></span>
<span data-ttu-id="ecdba-103">您使用[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]組態總管，以指定輸入和產生通知的通知屬性。</span><span class="sxs-lookup"><span data-stu-id="ecdba-103">You use [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] Configuration Explorer to specify the acknowledgment properties for inbound and generated acknowledgments.</span></span>  
  
### <a name="to-run-btahl7-configuration-explorer"></a><span data-ttu-id="ecdba-104">若要執行 BTAHL7 組態總管</span><span class="sxs-lookup"><span data-stu-id="ecdba-104">To run BTAHL7 Configuration Explorer</span></span>  
  
-   <span data-ttu-id="ecdba-105">按一下**啟動**，指向 **程式**，指向  **Microsoft BizTalk\<版本 > Accelerator for HL7**，然後按一下  **BTAHL7組態總管**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-105">Click **Start**, point to **Programs**, point to **Microsoft BizTalk \<version> Accelerator for HL7**, and then click **BTAHL7 Configuration Explorer**.</span></span>  
  
### <a name="to-configure-message-batching-acknowledgments"></a><span data-ttu-id="ecdba-106">若要設定批次處理通知訊息</span><span class="sxs-lookup"><span data-stu-id="ecdba-106">To configure message batching acknowledgments</span></span>  
  
-   <span data-ttu-id="ecdba-107">BTAHL7 組態總管 中，在中**BTAHL7 Configuration 總管**對話方塊**合作對象**索引標籤上，選取您想要設定的合作對象，然後在**通知**索引標籤上，執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="ecdba-107">In BTAHL7 Configuration Explorer, in the **BTAHL7 Configuration Explorer** dialog box, on the **Parties** tab, select the party you want to configure, and then, on the **Acknowledgments** tab, do the following:</span></span>  
  
    |<span data-ttu-id="ecdba-108">使用</span><span class="sxs-lookup"><span data-stu-id="ecdba-108">Use this</span></span>|<span data-ttu-id="ecdba-109">動作</span><span class="sxs-lookup"><span data-stu-id="ecdba-109">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="ecdba-110">**通知類型**</span><span class="sxs-lookup"><span data-stu-id="ecdba-110">**Acknowledgment type**</span></span>|<span data-ttu-id="ecdba-111">選取下列其中一項：</span><span class="sxs-lookup"><span data-stu-id="ecdba-111">Select one of the following:</span></span><br /><br /> <span data-ttu-id="ecdba-112">-   **無**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-112">-   **None**.</span></span> <span data-ttu-id="ecdba-113">如果您不要設定任何通知，請選取。</span><span class="sxs-lookup"><span data-stu-id="ecdba-113">Select if you do not want to configure any acknowledgments.</span></span><br /><span data-ttu-id="ecdba-114">-   **OriginalMode**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-114">-   **OriginalMode**.</span></span> <span data-ttu-id="ecdba-115">選取以設定**MSH1 – 欄位分隔符號**， **MSH2 – 編碼字元**，和**MSH8 – 安全性**只選項。</span><span class="sxs-lookup"><span data-stu-id="ecdba-115">Select to configure the **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="ecdba-116">-   **EnhancedMode**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-116">-   **EnhancedMode**.</span></span> <span data-ttu-id="ecdba-117">選取以設定所有可用的通知選項。</span><span class="sxs-lookup"><span data-stu-id="ecdba-117">Select to configure all available acknowledgment options.</span></span><br /><span data-ttu-id="ecdba-118">-   **DeferredMode**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-118">-   **DeferredMode**.</span></span> <span data-ttu-id="ecdba-119">選取以設定**MSH1 – 欄位分隔符號**， **MSH2 – 編碼字元**，和**MSH8 – 安全性**只選項。</span><span class="sxs-lookup"><span data-stu-id="ecdba-119">Select to configure the **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="ecdba-120">-   **StaticMode**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-120">-   **StaticMode**.</span></span> <span data-ttu-id="ecdba-121">選取以設定**成功**和**失敗**通知選項。</span><span class="sxs-lookup"><span data-stu-id="ecdba-121">Select to configure the **On success** and **On failure** acknowledgment options.</span></span>|  
    |<span data-ttu-id="ecdba-122">**MSH 15 接受通知類型**</span><span class="sxs-lookup"><span data-stu-id="ecdba-122">**MSH 15 Accept Acknowledgment Type**</span></span>|<span data-ttu-id="ecdba-123">選取下列其中一項：</span><span class="sxs-lookup"><span data-stu-id="ecdba-123">Select one of the following:</span></span><br /><br /> <span data-ttu-id="ecdba-124">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-124">-   **AL**.</span></span> <span data-ttu-id="ecdba-125">選取要一律傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-125">Select to always send accept acknowledgments.</span></span><br /><span data-ttu-id="ecdba-126">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-126">-   **NE**.</span></span> <span data-ttu-id="ecdba-127">選取要一律不傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-127">Select to never send accept acknowledgments.</span></span><br /><span data-ttu-id="ecdba-128">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-128">-   **SU**.</span></span> <span data-ttu-id="ecdba-129">選取要傳送的訊息成功傳輸之後接受通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-129">Select to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="ecdba-130">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-130">-   **ER**.</span></span> <span data-ttu-id="ecdba-131">選取要傳送接受通知只會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="ecdba-131">Select to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ecdba-132">**MSH 15 應用程式的通知類型**</span><span class="sxs-lookup"><span data-stu-id="ecdba-132">**MSH 15 Application Acknowledgment Type**</span></span>|<span data-ttu-id="ecdba-133">選取下列其中一項：</span><span class="sxs-lookup"><span data-stu-id="ecdba-133">Select one of the following:</span></span><br /><br /> <span data-ttu-id="ecdba-134">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-134">-   **AL**.</span></span> <span data-ttu-id="ecdba-135">選取此選項，將一律傳送應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-135">Select to always send application acknowledgments.</span></span><br /><span data-ttu-id="ecdba-136">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-136">-   **NE**.</span></span> <span data-ttu-id="ecdba-137">選取此選項，即可永遠不會傳送應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-137">Select to never send application acknowledgments.</span></span><br /><span data-ttu-id="ecdba-138">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-138">-   **SU**.</span></span> <span data-ttu-id="ecdba-139">選取此選項，將訊息傳輸成功之後傳送應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-139">Select to send application acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="ecdba-140">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-140">-   **ER**.</span></span> <span data-ttu-id="ecdba-141">選取即可只會發生錯誤時傳送應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-141">Select to send application acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ecdba-142">**MSH1 – 欄位的分隔符號**</span><span class="sxs-lookup"><span data-stu-id="ecdba-142">**MSH1 – Field Separator**</span></span>|<span data-ttu-id="ecdba-143">請輸入唯一的字元做為欄位分隔符號。</span><span class="sxs-lookup"><span data-stu-id="ecdba-143">Type a unique character as a field separator.</span></span> <span data-ttu-id="ecdba-144">預設值是縱線字元 (**&#124;**)，以及允許的字元數目上限是一個字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-144">The default value is a pipe character (**&#124;**), and the maximum characters allowed is one character.</span></span> <span data-ttu-id="ecdba-145">請注意，是否您需要修改 MSH1，那麼您必須使用適當的 MSH1 值寫入至您 HL7 訊息內容的協調流程。</span><span class="sxs-lookup"><span data-stu-id="ecdba-145">Note that if you need to modify MSH1, then you must use an orchestration that writes the appropriate value of MSH1 to your HL7 message context.</span></span> <span data-ttu-id="ecdba-146">BTAHL7 序列化程式讀取從內容的值，並序列化訊息中使用它。</span><span class="sxs-lookup"><span data-stu-id="ecdba-146">The BTAHL7 serializer reads the value from the context and uses it in the serialized message.</span></span>|  
    |<span data-ttu-id="ecdba-147">**MSH2 – 編碼的字元**</span><span class="sxs-lookup"><span data-stu-id="ecdba-147">**MSH2 – Encoding Characters**</span></span>|<span data-ttu-id="ecdba-148">輸入唯一的字元做為根據 HL7 標準編碼的字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-148">Type unique characters as the encoding characters as per the HL7 standard.</span></span> <span data-ttu-id="ecdba-149">預設編碼的字元是 ^，~， \\，和 （& s)。</span><span class="sxs-lookup"><span data-stu-id="ecdba-149">The default encoding characters are ^, ~, \\, and &.</span></span> <span data-ttu-id="ecdba-150">所需的最小字元是兩個字元，而允許的上限是四個字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-150">The minimum characters required are two characters, and the maximum allowed are four characters.</span></span> <span data-ttu-id="ecdba-151">請注意，如果 MSH2_3 或 MSH2_4 （逸出和子元件動態分隔符號） 中未指定您的原始訊息，通知 (ACK) 訊息會自動填入這些欄位。</span><span class="sxs-lookup"><span data-stu-id="ecdba-151">Note that if MSH2_3 or MSH2_4 (the escape and subcomponent dynamic delimiters) are not specified in your original message, the acknowledgment (ACK) message automatically populates these fields.</span></span> <span data-ttu-id="ecdba-152">例如，如果您的原始訊息 MSH 區段`MSH&#124;^~&#124;`，其中指定只元件和重複分隔符號，則通知訊息會自動填入該欄位加入包含做為第三個和第四個元件`MSH&#124;^~\&`，提供該欄位值有尚未設定 BTAHL7 組態總管 中的 通知 區段中。</span><span class="sxs-lookup"><span data-stu-id="ecdba-152">For example, if your original message MSH segment is `MSH&#124;^~&#124;`, where only the component and repetition delimiters are specified, then the ACK message automatically populates that field to include the third and fourth component as `MSH&#124;^~\&`, providing that the field values had not already been configured in the acknowledgment section in BTAHL7 Configuration Explorer.</span></span>|  
    |<span data-ttu-id="ecdba-153">**MSH3**</span><span class="sxs-lookup"><span data-stu-id="ecdba-153">**MSH3**</span></span>|<span data-ttu-id="ecdba-154">輸入產生通知，傳送應用程式的欄位值。</span><span class="sxs-lookup"><span data-stu-id="ecdba-154">Type the field values for generated acknowledgments for the sending application.</span></span> <span data-ttu-id="ecdba-155">最大容許的長度共同是 180 個字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-155">The maximum allowed length is 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="ecdba-156">產生的通知時未設定，包含傳入**MSH5**訊息值。</span><span class="sxs-lookup"><span data-stu-id="ecdba-156">When not configured, generated acknowledgments contain incoming **MSH5** message values.</span></span> <span data-ttu-id="ecdba-157">**注意：**這個選項只適用於 2.X 訊息。</span><span class="sxs-lookup"><span data-stu-id="ecdba-157">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="ecdba-158">**注意：**若要覆寫現有的值為 null，請輸入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="ecdba-158">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="ecdba-159">**MSH5**</span><span class="sxs-lookup"><span data-stu-id="ecdba-159">**MSH5**</span></span>|<span data-ttu-id="ecdba-160">輸入產生通知的目的端應用程式的欄位值。</span><span class="sxs-lookup"><span data-stu-id="ecdba-160">Type the field values for generated acknowledgments for the destination application.</span></span> <span data-ttu-id="ecdba-161">最大容許的長度共同是 180 個字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-161">The maximum allowed length is 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="ecdba-162">產生的通知時未設定，包含傳入**MSH3**訊息值。</span><span class="sxs-lookup"><span data-stu-id="ecdba-162">When not configured, generated acknowledgments contain incoming **MSH3** message values.</span></span> <span data-ttu-id="ecdba-163">**注意：**這個選項只適用於 2.X 訊息。</span><span class="sxs-lookup"><span data-stu-id="ecdba-163">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="ecdba-164">**注意：**若要覆寫現有的值為 null，請輸入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="ecdba-164">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="ecdba-165">**MSH8-安全性**</span><span class="sxs-lookup"><span data-stu-id="ecdba-165">**MSH8 – Security**</span></span>|<span data-ttu-id="ecdba-166">輸入選擇性的安全性字元。</span><span class="sxs-lookup"><span data-stu-id="ecdba-166">Type an optional security character.</span></span>|  
    |<span data-ttu-id="ecdba-167">**MSH15 – 接受通知類型**</span><span class="sxs-lookup"><span data-stu-id="ecdba-167">**MSH15 – Accept Acknowledgment Type**</span></span>|<span data-ttu-id="ecdba-168">選取從接受通知類型的下列選項：</span><span class="sxs-lookup"><span data-stu-id="ecdba-168">Select from the following options for the accept acknowledgment type:</span></span><br /><br /> <span data-ttu-id="ecdba-169">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-169">-   **AL**.</span></span> <span data-ttu-id="ecdba-170">如果您想要一律傳送，接受通知，選取。</span><span class="sxs-lookup"><span data-stu-id="ecdba-170">Select if you want to always send accept acknowledgments.</span></span><br /><span data-ttu-id="ecdba-171">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-171">-   **NE**.</span></span> <span data-ttu-id="ecdba-172">如果您不想要傳送，接受通知，選取。</span><span class="sxs-lookup"><span data-stu-id="ecdba-172">Select if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="ecdba-173">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-173">-   **SU**.</span></span> <span data-ttu-id="ecdba-174">選取此選項，如果您想要傳送訊息成功傳輸之後接受通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-174">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="ecdba-175">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="ecdba-175">-   **ER**.</span></span> <span data-ttu-id="ecdba-176">如果您想要傳送，請選取此選項只會發生錯誤時接受通知。</span><span class="sxs-lookup"><span data-stu-id="ecdba-176">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="ecdba-177">**如果成功**</span><span class="sxs-lookup"><span data-stu-id="ecdba-177">**On Success**</span></span>|<span data-ttu-id="ecdba-178">靜態成功的訊息傳遞通知的文字輸入。</span><span class="sxs-lookup"><span data-stu-id="ecdba-178">Type text for static acknowledgment for a successful message delivery.</span></span>|  
    |<span data-ttu-id="ecdba-179">**失敗**</span><span class="sxs-lookup"><span data-stu-id="ecdba-179">**On failure**</span></span>|<span data-ttu-id="ecdba-180">輸入靜態通知傳遞失敗訊息的文字。</span><span class="sxs-lookup"><span data-stu-id="ecdba-180">Type text for static acknowledgment for an unsuccessful message delivery.</span></span>|  
    |<span data-ttu-id="ecdba-181">**路由通知設定為要求-回應上的傳送管線的傳送埠**</span><span class="sxs-lookup"><span data-stu-id="ecdba-181">**Route ACK to send pipeline on request-response send port**</span></span>|<span data-ttu-id="ecdba-182">選取此選項可將同步的 ACK 訊息傳送到 LOB 應用程式的來源。</span><span class="sxs-lookup"><span data-stu-id="ecdba-182">Select this option to send a synchronous ACK message to the source LOB application.</span></span> <span data-ttu-id="ecdba-183">請求-回應傳送埠上，才可用這個選項。</span><span class="sxs-lookup"><span data-stu-id="ecdba-183">This option is only available on a solicit-response send port.</span></span><br /><br /> <span data-ttu-id="ecdba-184">如果未選取此選項，接收管線會產生通知訊息，根據您的通知設定。</span><span class="sxs-lookup"><span data-stu-id="ecdba-184">If this option is not selected, the receive pipeline generates the ACK message based upon your acknowledgment settings.</span></span>|  
  
    > [!NOTE]
    >  <span data-ttu-id="ecdba-185">通知與片段關閉產生批次訊息將包含 MSH12.1 2.4 值。</span><span class="sxs-lookup"><span data-stu-id="ecdba-185">Acknowledgments generated for a batch message with fragmentation turned off will contain MSH12.1 with value 2.4.</span></span> <span data-ttu-id="ecdba-186">您可以手動修改的版本號碼，藉由套用在傳送管線中的對應。</span><span class="sxs-lookup"><span data-stu-id="ecdba-186">You can manually modify the version number by applying a map in the send pipeline.</span></span> <span data-ttu-id="ecdba-187">如需詳細資訊，請參閱[建立及處理通知](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md)。</span><span class="sxs-lookup"><span data-stu-id="ecdba-187">For more information, see [Creating and Processing Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ecdba-188">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ecdba-188">See Also</span></span>  
 [<span data-ttu-id="ecdba-189">設定批次處理</span><span class="sxs-lookup"><span data-stu-id="ecdba-189">Configuring Batching</span></span>](../../adapters-and-accelerators/accelerator-hl7/configuring-batching.md)