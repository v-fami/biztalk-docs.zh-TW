---
title: "步驟 8： 測試建立批次案例 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fc7fac40-fd3e-413b-82cc-7ad08226094c
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8b7a77276e6246bb8fc525784309fded4bdf83f5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="step-8-test-the-create-batch-scenario"></a><span data-ttu-id="f26c4-102">步驟 8： 測試建立批次案例</span><span class="sxs-lookup"><span data-stu-id="f26c4-102">Step 8: Test the Create-Batch Scenario</span></span>
<span data-ttu-id="f26c4-103">在此步驟中，您可以測試建立批次案例卸除的訊息要批次處理成來源 Tutorial_BTAHL7Pickup 資料夾的測試執行個體。</span><span class="sxs-lookup"><span data-stu-id="f26c4-103">In this step, you test the Create-Batch scenario by dropping test instances of the messages you want to batch into the source Tutorial_BTAHL7Pickup folder.</span></span> <span data-ttu-id="f26c4-104">您設定的傳送埠拾取訊息的來源資料夾，並將它; 傳送接收埠會接收。與接收管線處理它，並將它放置到目的 Tutorial_BTAHL7Drop 資料夾。</span><span class="sxs-lookup"><span data-stu-id="f26c4-104">The send port that you set up picks up the message from the source folder and sends it; the receive port receives it; and the receive pipeline processes it and drops it into the destination Tutorial_BTAHL7Drop folder.</span></span>  
  
### <a name="to-test-the-create-batch-scenario"></a><span data-ttu-id="f26c4-105">若要測試建立批次案例</span><span class="sxs-lookup"><span data-stu-id="f26c4-105">To test the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="f26c4-106">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]總管 中，瀏覽至  **\<*磁碟機*>: \Batching Tutorial\Instances** 資料夾。</span><span class="sxs-lookup"><span data-stu-id="f26c4-106">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*>:\Batching Tutorial\Instances** folder.</span></span>  
  
2.  <span data-ttu-id="f26c4-107">選取**CreateBatchMessage1.txt**，和**CreateBatchMessage2.txt**，它們，以滑鼠右鍵按一下，然後按一下**複製**。</span><span class="sxs-lookup"><span data-stu-id="f26c4-107">Select **CreateBatchMessage1.txt**, and **CreateBatchMessage2.txt**, right-click them, and then click **Copy**.</span></span>  
  
3.  <span data-ttu-id="f26c4-108">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]總管 中，瀏覽至  **\<*磁碟機*>: \Program Files\Microsoft BizTalk\<版本 > Accelerator for HL7\SDK\End 端對端 Tutorial\Tutorial_BTAHL7Pickup * * 資料夾。</span><span class="sxs-lookup"><span data-stu-id="f26c4-108">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*>:\Program Files\Microsoft BizTalk \<version> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BTAHL7Pickup** folder.</span></span>  
  
4.  <span data-ttu-id="f26c4-109">以滑鼠右鍵按一下資料夾，然後按一下**貼上**。</span><span class="sxs-lookup"><span data-stu-id="f26c4-109">Right-click the folder, and then click **Paste**.</span></span>  
  
### <a name="to-verify-the-results-of-the-create-batch-scenario"></a><span data-ttu-id="f26c4-110">若要確認 「 建立批次案例結果</span><span class="sxs-lookup"><span data-stu-id="f26c4-110">To verify the results of the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="f26c4-111">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]總管 中，瀏覽至  **\<*磁碟機*>: \Program Files\Microsoft BizTalk\<版本 > Accelerator for HL7\SDK\End 端對端 Tutorial\Tutorial_BatchACKDrop * * 資料夾。</span><span class="sxs-lookup"><span data-stu-id="f26c4-111">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*>:\Program Files\Microsoft BizTalk \<version> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchACKDrop** folder.</span></span> <span data-ttu-id="f26c4-112">短時間，您應該會看到已處理的執行個體認可批次出現在資料夾中。</span><span class="sxs-lookup"><span data-stu-id="f26c4-112">After a short period, you should see the processed instance of the acknowledgment batch appear in the folder.</span></span> <span data-ttu-id="f26c4-113">如果沒有出現，請檢查[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]事件檢視器的錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="f26c4-113">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="f26c4-114">這個檔案具有名稱\< *Guid*>.txt。</span><span class="sxs-lookup"><span data-stu-id="f26c4-114">The file should have the name \<*Guid*>.txt.</span></span> <span data-ttu-id="f26c4-115">這個批次應該會包含兩個收到的兩個訊息原本傳送產生的通知。</span><span class="sxs-lookup"><span data-stu-id="f26c4-115">This batch should contain the two acknowledgments generated upon receiving the two messages that were originally sent.</span></span> <span data-ttu-id="f26c4-116">這個批次應該具有下列欄位：</span><span class="sxs-lookup"><span data-stu-id="f26c4-116">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="f26c4-117">FHS.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-117">FHS.5</span></span>|<span data-ttu-id="f26c4-118">BHS.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-118">BHS.5</span></span>|<span data-ttu-id="f26c4-119">BTS.1</span><span class="sxs-lookup"><span data-stu-id="f26c4-119">BTS.1</span></span>|<span data-ttu-id="f26c4-120">FTS.1</span><span class="sxs-lookup"><span data-stu-id="f26c4-120">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="f26c4-121">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-121">Tutorial_BatchSource</span></span>|<span data-ttu-id="f26c4-122">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-122">Tutorial_BatchSource</span></span>|<span data-ttu-id="f26c4-123">2</span><span class="sxs-lookup"><span data-stu-id="f26c4-123">2</span></span>|<span data-ttu-id="f26c4-124">1</span><span class="sxs-lookup"><span data-stu-id="f26c4-124">1</span></span>|  
  
     <span data-ttu-id="f26c4-125">批次中的通知應該具有下列欄位：</span><span class="sxs-lookup"><span data-stu-id="f26c4-125">The acknowledgments within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="f26c4-126">MSH.9</span><span class="sxs-lookup"><span data-stu-id="f26c4-126">MSH.9</span></span>|<span data-ttu-id="f26c4-127">MSA.2</span><span class="sxs-lookup"><span data-stu-id="f26c4-127">MSA.2</span></span>|<span data-ttu-id="f26c4-128">MSA.1</span><span class="sxs-lookup"><span data-stu-id="f26c4-128">MSA.1</span></span>|<span data-ttu-id="f26c4-129">MSH.3</span><span class="sxs-lookup"><span data-stu-id="f26c4-129">MSH.3</span></span>|<span data-ttu-id="f26c4-130">MSH.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-130">MSH.5</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="f26c4-131">ACK ^ A03 ^ 通知</span><span class="sxs-lookup"><span data-stu-id="f26c4-131">ACK^A03^ACK</span></span>|<span data-ttu-id="f26c4-132">Msg01</span><span class="sxs-lookup"><span data-stu-id="f26c4-132">Msg01</span></span>|<span data-ttu-id="f26c4-133">AA</span><span class="sxs-lookup"><span data-stu-id="f26c4-133">AA</span></span>|<span data-ttu-id="f26c4-134">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-134">Tutorial_BatchDest</span></span>|<span data-ttu-id="f26c4-135">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-135">Tutorial_BatchSource</span></span>|  
    |<span data-ttu-id="f26c4-136">ACK ^ A03 ^ 通知</span><span class="sxs-lookup"><span data-stu-id="f26c4-136">ACK^A03^ACK</span></span>|<span data-ttu-id="f26c4-137">Msg02</span><span class="sxs-lookup"><span data-stu-id="f26c4-137">Msg02</span></span>|<span data-ttu-id="f26c4-138">AA</span><span class="sxs-lookup"><span data-stu-id="f26c4-138">AA</span></span>|<span data-ttu-id="f26c4-139">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-139">Tutorial_BatchDest</span></span>|<span data-ttu-id="f26c4-140">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-140">Tutorial_BatchSource</span></span>|  
  
2.  <span data-ttu-id="f26c4-141">使用[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]總管 中，瀏覽至  **\<*磁碟機*>: \Program Files\Microsoft BizTalk\<版本 > Accelerator for HL7\SDK\End 端對端 Tutorial\Tutorial_BatchMsgDrop * * 資料夾。</span><span class="sxs-lookup"><span data-stu-id="f26c4-141">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*>:\Program Files\Microsoft BizTalk \<version> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchMsgDrop** folder.</span></span> <span data-ttu-id="f26c4-142">小時後，您應該會看到已處理的執行個體的訊息批次出現在資料夾中。</span><span class="sxs-lookup"><span data-stu-id="f26c4-142">After an hour, you should see the processed instance of the message batch appear in the folder.</span></span> <span data-ttu-id="f26c4-143">如果沒有出現，請檢查[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]事件檢視器的錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="f26c4-143">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="f26c4-144">這個檔案具有名稱\< *Guid*>.txt。</span><span class="sxs-lookup"><span data-stu-id="f26c4-144">The file should have the name \<*Guid*>.txt.</span></span> <span data-ttu-id="f26c4-145">這個批次應該包含兩個訊息原本傳送。</span><span class="sxs-lookup"><span data-stu-id="f26c4-145">This batch should contain the two messages that were originally sent.</span></span> <span data-ttu-id="f26c4-146">這個批次應該具有下列欄位：</span><span class="sxs-lookup"><span data-stu-id="f26c4-146">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="f26c4-147">FHS.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-147">FHS.5</span></span>|<span data-ttu-id="f26c4-148">BHS.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-148">BHS.5</span></span>|<span data-ttu-id="f26c4-149">BTS.1</span><span class="sxs-lookup"><span data-stu-id="f26c4-149">BTS.1</span></span>|<span data-ttu-id="f26c4-150">FTS.1</span><span class="sxs-lookup"><span data-stu-id="f26c4-150">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="f26c4-151">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-151">Tutorial_BatchDest</span></span>|<span data-ttu-id="f26c4-152">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-152">Tutorial_BatchDest</span></span>|<span data-ttu-id="f26c4-153">2</span><span class="sxs-lookup"><span data-stu-id="f26c4-153">2</span></span>|<span data-ttu-id="f26c4-154">1</span><span class="sxs-lookup"><span data-stu-id="f26c4-154">1</span></span>|  
  
     <span data-ttu-id="f26c4-155">批次內的訊息應該具有下列欄位：</span><span class="sxs-lookup"><span data-stu-id="f26c4-155">The messages within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="f26c4-156">MSH.9</span><span class="sxs-lookup"><span data-stu-id="f26c4-156">MSH.9</span></span>|<span data-ttu-id="f26c4-157">MSH.10</span><span class="sxs-lookup"><span data-stu-id="f26c4-157">MSH.10</span></span>|<span data-ttu-id="f26c4-158">MSH.3</span><span class="sxs-lookup"><span data-stu-id="f26c4-158">MSH.3</span></span>|<span data-ttu-id="f26c4-159">MSH.5</span><span class="sxs-lookup"><span data-stu-id="f26c4-159">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="f26c4-160">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="f26c4-160">ADT^A03</span></span>|<span data-ttu-id="f26c4-161">Msg01</span><span class="sxs-lookup"><span data-stu-id="f26c4-161">Msg01</span></span>|<span data-ttu-id="f26c4-162">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-162">Tutorial_BatchSource</span></span>|<span data-ttu-id="f26c4-163">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-163">Tutorial_BatchDest</span></span>|  
    |<span data-ttu-id="f26c4-164">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="f26c4-164">ADT^A03</span></span>|<span data-ttu-id="f26c4-165">Msg02</span><span class="sxs-lookup"><span data-stu-id="f26c4-165">Msg02</span></span>|<span data-ttu-id="f26c4-166">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="f26c4-166">Tutorial_BatchSource</span></span>|<span data-ttu-id="f26c4-167">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="f26c4-167">Tutorial_BatchDest</span></span>|  
  
     <span data-ttu-id="f26c4-168">批次會包裝在兩個集合的標頭和結尾的特定批次：</span><span class="sxs-lookup"><span data-stu-id="f26c4-168">The batch is wrapped in two sets of headers and trailers specific to batches:</span></span>  
  
    -   <span data-ttu-id="f26c4-169">檔案標頭和結尾 （FHS 和 FT），這用來括住的檔案，可以包含多個批次。</span><span class="sxs-lookup"><span data-stu-id="f26c4-169">A file header and trailer (FHS and FTS), which are used to enclose a file that can include multiple batches.</span></span> <span data-ttu-id="f26c4-170">請注意檔案接收應用程式 (**Tutorial_BatchDest**) FHS5 欄位和檔案建立日期/時間 FHS7 中。</span><span class="sxs-lookup"><span data-stu-id="f26c4-170">Note the file-receiving application (**Tutorial_BatchDest**) in the FHS5 field and the file creation date/time in FHS7.</span></span> <span data-ttu-id="f26c4-171">請注意檔案批次計數 （在檔案中的批次數目），在 FTS2 (1)。</span><span class="sxs-lookup"><span data-stu-id="f26c4-171">Note the file batch count (the number of batches in the file) in FTS2 (1).</span></span>  
  
    -   <span data-ttu-id="f26c4-172">批次標頭和結尾 （BHS 和 BTS），這用來括住每個批次。</span><span class="sxs-lookup"><span data-stu-id="f26c4-172">A batch header and trailer (BHS and BTS), which are used to enclose each batch.</span></span> <span data-ttu-id="f26c4-173">請注意 BTS2 中接收應用程式和批次建立日期/時間，如同 FHS 和批次訊息計數 (2) 的檔案。</span><span class="sxs-lookup"><span data-stu-id="f26c4-173">Note the file receiving application and batch creation date/time, as in the FHS, and the batch message count (2) in BTS2.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f26c4-174">另請參閱</span><span class="sxs-lookup"><span data-stu-id="f26c4-174">See Also</span></span>  
 <span data-ttu-id="f26c4-175">[第 1 部分： 分散的傳入批次的案例](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="f26c4-175">[Part 1: Fragmented Inbound Batch Scenario](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span></span>  
 [<span data-ttu-id="f26c4-176">第 3 部分： 建立批次的案例</span><span class="sxs-lookup"><span data-stu-id="f26c4-176">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)