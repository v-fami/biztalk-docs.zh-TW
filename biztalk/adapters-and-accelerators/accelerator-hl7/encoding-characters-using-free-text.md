---
title: 使用任意文字的字元編碼 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a69dffe1-3fb2-4902-a9a2-093f3ea7b11f
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 02294e089eef6fa541f7e5bbcd2864c6f1bf023d
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/20/2018
---
# <a name="encoding-characters-using-free-text"></a><span data-ttu-id="e1a3b-102">使用任意文字的字元編碼</span><span class="sxs-lookup"><span data-stu-id="e1a3b-102">Encoding Characters using Free Text</span></span>
<span data-ttu-id="e1a3b-103">從開始[!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)]，「 FreeText"可用欄位或區段中。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-103">Starting with [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], “FreeText” can be used in a field or segment.</span></span> <span data-ttu-id="e1a3b-104">無法剖析 「 FreeText"欄位/區段中的資料。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-104">Data in the “FreeText” field/segment is not parsed.</span></span>  
  
## <a name="what-you-need-to-know"></a><span data-ttu-id="e1a3b-105">您需要知道</span><span class="sxs-lookup"><span data-stu-id="e1a3b-105">What you need to know</span></span>  
  
||<span data-ttu-id="e1a3b-106">行為</span><span class="sxs-lookup"><span data-stu-id="e1a3b-106">Behavior</span></span>|<span data-ttu-id="e1a3b-107">範例</span><span class="sxs-lookup"><span data-stu-id="e1a3b-107">Example</span></span>|  
|-|--------------|-------------|  
|<span data-ttu-id="e1a3b-108">~: 重複分隔符號</span><span class="sxs-lookup"><span data-stu-id="e1a3b-108">~: Repetition separator</span></span>|<span data-ttu-id="e1a3b-109">在欄位中，重複 （~） 會被視為重複分隔符號。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-109">In a field, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="e1a3b-110">在非可用的區段中，重複 （~） 會被視為重複分隔符號。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-110">In a non-free segment, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="e1a3b-111">可用的區段中，重複 （~） 會被視為任意文字，無法新增重複的一部分。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-111">In a free segment, Repetition (~) is treated as part of Free Text, not a new repetition.</span></span>|<span data-ttu-id="e1a3b-112">在下列範例中，FRE 是可用的區段。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-112">In the following example, FRE is free Segment.</span></span> <span data-ttu-id="e1a3b-113">它可以有任意文字，為任何字元包括 ~。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-113">It can have any character as free text, including ~.</span></span> <span data-ttu-id="e1a3b-114">任何其他的重複項目 （~） 不會被視為重複分隔符號，並會被視為任意文字內容。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-114">Any additional repetitions (~) are not considered a repetition delimiter and are treated as the Free Text content.</span></span> <span data-ttu-id="e1a3b-115">驗證成功，即使可用區段的子系是不可重複，且包含重複 （~）。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-115">Validation succeeds even if the child of the Free Segment is non-repeatable and contains repetition (~).</span></span> <span data-ttu-id="e1a3b-116">FRE 範例：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-116">FRE example:</span></span><br /><br /> <span data-ttu-id="e1a3b-117">**FRE&#124; Foo （& s) ^&#124;Foo （& s) ^&#124;Foo （& s) ^&#124;Foo （& s) ^ ~ Foo （& s) ^&#124;Foo （& s) ^&#124;Foo （& s) ^&#124;Foo （& s) ^**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-117">**FRE&#124; Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^~Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^**</span></span><br /><br /> <span data-ttu-id="e1a3b-118">在下列範例中，EVN4 定義為任意文字因為它包含*&^*。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-118">In the following example, EVN4 is defined as free text because it contains *&^*.</span></span> <span data-ttu-id="e1a3b-119">當 「&#124;"分隔符號時，它會被視為目前的可用文字的結尾。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-119">When the “&#124;” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="e1a3b-120">EVN 範例：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-120">EVN example:</span></span><br /><br /> <span data-ttu-id="e1a3b-121">**EVN&#124;&#124;&#124;&#124;Foo （& s) ^ Foo （& s) ^ Foo （& s) ^ Foo （& s) ^ Foo （& s) ^&#124;&#124;**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-121">**EVN&#124;&#124;&#124;&#124;Foo&^Foo&^Foo&^Foo&^Foo&^&#124;&#124;**</span></span><br /><br /> <span data-ttu-id="e1a3b-122">在下列範例中，EVN5 的第一個子系會定義為任意文字因為它包含*&*。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-122">In the following example, the first child of EVN5 is defined as free text because it contains *&*.</span></span> <span data-ttu-id="e1a3b-123">當"^"分隔符號時，它會被視為目前的可用文字的結尾。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-123">When the “^” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="e1a3b-124">EVN5 範例：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-124">EVN5 example:</span></span><br /><br /> <span data-ttu-id="e1a3b-125">**EVN&#124; &#124; &#124; &#124; &#124; Foo & Foo & Foo Foo & Foo & ^5.2&#124;**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-125">**EVN&#124;&#124;&#124;&#124; &#124; Foo&Foo&Foo&Foo&Foo&^5.2&#124;**</span></span><br /><br /> <span data-ttu-id="e1a3b-126">在下列範例中，5.2.1 章和 5.2.2 章不可有任何分隔符號為任意文字，即使它結構描述中定義為 FreeText。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-126">In the following example, 5.2.1 and 5.2.2 cannot have any delimiters as Free Text, even if it is defined as FreeText in the schema.</span></span> <span data-ttu-id="e1a3b-127">5.2.1 章和 5.2.2 章的範例：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-127">5.2.1 and 5.2.2 example:</span></span><br /><br /> <span data-ttu-id="e1a3b-128">**EVN&#124; &#124; &#124; &#124; &#124; Foo1 ^5.2.1 章 & 5.2.2 章&#124;**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-128">**EVN&#124;&#124;&#124;&#124; &#124; Foo1^5.2.1&5.2.2&#124;**</span></span><br /><br /> <span data-ttu-id="e1a3b-129">在下列範例中，假設 EVN4 可以重複，且是任意文字的類型。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-129">In the following example, assume EVN4 can be repeated and is of the Free Text type.</span></span> <span data-ttu-id="e1a3b-130">*Foo1 & ^*會被視為第一個重複和*Foo2 （& s) ^*會被視為第二個重複。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-130">*Foo1&^* is treated as the first repetition and *Foo2&^* is treated as the second repetition.</span></span> <span data-ttu-id="e1a3b-131">如果不是可重複 EVN4 (MaxOccurs = 1)，則驗證會失敗，如果它包含 ~，即使它是任意文字型別 （非自由文字欄位的情況下類似）。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-131">If EVN4 is not repeatable (MaxOccurs = 1), then the validation fails if it contains ~, even if it is of Free Text type (like in the cases of non-Free Text fields).</span></span> <span data-ttu-id="e1a3b-132">EVN4 範例：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-132">EVN4 example:</span></span><br /><br /> <span data-ttu-id="e1a3b-133">**EVN &#124; &#124; &#124; &#124; Foo1 （& s) ^ ~ Foo2 （& s) ^&#124;&#124;**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-133">**EVN &#124;&#124;&#124;&#124; Foo1&^~ Foo2&^ &#124;&#124;**</span></span>|  
|<span data-ttu-id="e1a3b-134">&#124;： 欄位的分隔符號</span><span class="sxs-lookup"><span data-stu-id="e1a3b-134">&#124;: Field separator</span></span>|<span data-ttu-id="e1a3b-135">如果可用的區段的區段標記的後面遺漏欄位分隔符號，則驗證成功。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-135">If a field delimiter is missing after the segment tag of a free segment, Validation succeeds.</span></span>|<span data-ttu-id="e1a3b-136">在下列範例中，FRE 是任意文字型別。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-136">In the following examples, FRE is a Free Text type.</span></span> <span data-ttu-id="e1a3b-137">可用的文字內容可以 FRE 含，區段標記之後，立即啟動 「&#124;"欄位分隔符號。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-137">Free Text content can be started immediately after the FRE segment Tag, with or without “&#124;” field delimiter.</span></span> <span data-ttu-id="e1a3b-138">這兩個範例會成功：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-138">Both examples succeed:</span></span><br /><br /> <span data-ttu-id="e1a3b-139">**FREabc**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-139">**FREabc**</span></span> <br /> <span data-ttu-id="e1a3b-140">**FRE&#124;abc**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-140">**FRE&#124;abc**</span></span><br /><br /> <span data-ttu-id="e1a3b-141">在下列範例中，驗證會成功：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-141">In the following examples, validation succeeds:</span></span><br /><br /> <span data-ttu-id="e1a3b-142">輸入的訊息 DASM: **FRE&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-142">Input message to DASM: **FRE&#124;abcd**</span></span><br /><span data-ttu-id="e1a3b-143">輸出來源 DASM:  **\<SegmentData\>&#124;abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-143">Output from DASM: **\<SegmentData\>&#124;abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="e1a3b-144">從 ASM 輸出： **FRE&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-144">Output from ASM: **FRE&#124;abcd**</span></span><br /><br /> <span data-ttu-id="e1a3b-145">輸入的訊息 DASM: **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-145">Input message to DASM: **FREabcd**</span></span><br /><span data-ttu-id="e1a3b-146">輸出來源 DASM:  **\<SegmentData\>abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-146">Output from DASM: **\<SegmentData\>abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="e1a3b-147">從 ASM 輸出： **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-147">Output from ASM: **FREabcd**</span></span>|  
|<span data-ttu-id="e1a3b-148">父子式選擇性</span><span class="sxs-lookup"><span data-stu-id="e1a3b-148">Parent-Child optional</span></span>|<span data-ttu-id="e1a3b-149">父子式選擇性的驗證規則仍然適用。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-149">The parent-child optional validation rules still apply.</span></span>|<span data-ttu-id="e1a3b-150">假設是選擇性的父系，且其中一個子系是必要的然後：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-150">Assume the parent is optional and one of its children is mandatory, then:</span></span><br /><br /> <span data-ttu-id="e1a3b-151">-如果沒有任何其他子系和必要的子系尚未擴展，訊息驗證會成功。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-151">-   If none of the other children and the mandatory child are not populated, then message validation succeeds.</span></span><br /><span data-ttu-id="e1a3b-152">-如果已填入至少一個子系，則強制性子應該也會填入。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-152">-   If at least one child is populated, then the mandatory child should also be populated.</span></span> <span data-ttu-id="e1a3b-153">否則，訊息驗證會失敗。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-153">Otherwise, message validation fails.</span></span><br /><br /> <span data-ttu-id="e1a3b-154">在下列範例中，為選擇性欄位 1。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-154">In the following example, Field 1 as optional.</span></span> <span data-ttu-id="e1a3b-155">其*1.a*子是選擇性，而且是任意文字型別。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-155">Its *1.a* child is optional and is the Free Text type.</span></span> <span data-ttu-id="e1a3b-156">其*1.b*是必要的子系：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-156">Its *1.b* child is mandatory:</span></span><br /><br /> <span data-ttu-id="e1a3b-157">**xyz&#124;1.a^1.b&#124;2**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-157">**xyz&#124;1.a^1.b&#124;2**</span></span><br /><br /> <span data-ttu-id="e1a3b-158">在下列範例訊息中， *dfssdf**&**sdf*會被視為一個單一項目-1.a。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-158">In the following sample message, *dfssdf**&**sdf* is considered as one single element - 1.a.</span></span> <span data-ttu-id="e1a3b-159">剖析器會檢查 1.b 是否存在。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-159">The parser checks if 1.b exists.</span></span> <span data-ttu-id="e1a3b-160">當*&#124;*會達到，假設 1.b 就不會填入，且訊息驗證失敗：</span><span class="sxs-lookup"><span data-stu-id="e1a3b-160">When the *&#124;* is reached, it assumes 1.b is not populated and message validation fails:</span></span><br /><br /> <span data-ttu-id="e1a3b-161">**xyz&#124;dfssdf & sdf&#124;2**</span><span class="sxs-lookup"><span data-stu-id="e1a3b-161">**xyz&#124;dfssdf&sdf&#124;2**</span></span>|  
|<span data-ttu-id="e1a3b-162">MSH、 FSH，以及 BSH 區段</span><span class="sxs-lookup"><span data-stu-id="e1a3b-162">MSH, FSH, and BSH segments</span></span>|<span data-ttu-id="e1a3b-163">任意文字會忽略所有的欄位。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-163">Free Text is ignored for all fields.</span></span> <span data-ttu-id="e1a3b-164">這些區段對應至標頭區段。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-164">These segments correspond to the header section.</span></span> <span data-ttu-id="e1a3b-165">驗證即使它像平常一樣，它們會定義為 任意文字。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-165">Validation occurs as it normally would, even if they are defined as Free Text.</span></span>||  
|<span data-ttu-id="e1a3b-166">\\： 逸出字元</span><span class="sxs-lookup"><span data-stu-id="e1a3b-166">\\: Escape character</span></span>|<span data-ttu-id="e1a3b-167">如果有偶數的項目中的"\"，則驗證會成功 （即使它們是不連續）。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-167">If there are even number of “\” in the element, validation succeeds (even if they are not contiguous).</span></span> <span data-ttu-id="e1a3b-168">如果有奇數，則驗證失敗。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-168">If there are odd number, validation fails.</span></span> <span data-ttu-id="e1a3b-169">相同的行為會繼續針對非任意文字欄位。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-169">The same behavior continues for non- Free Text fields.</span></span> <span data-ttu-id="e1a3b-170">任意文字欄位，便無法驗證數目;它會視為任意文字內容。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-170">With Free Text fields, there is no validation on the number; it treated as Free Text content.</span></span>||  
  
 <span data-ttu-id="e1a3b-171">[訊息分隔符號](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md)提供這些範例中的分隔符號的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-171">[Message Delimiters](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) provides more information on the separators in these examples.</span></span>  
  
## <a name="using-free-text"></a><span data-ttu-id="e1a3b-172">使用任意文字</span><span class="sxs-lookup"><span data-stu-id="e1a3b-172">Using Free Text</span></span>  
  
1.  <span data-ttu-id="e1a3b-173">在 Visual Studio 中的專案，開啟結構描述。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-173">In the project in Visual Studio, open the schema.</span></span>  
  
2.  <span data-ttu-id="e1a3b-174">以滑鼠右鍵按一下記錄，選取**插入結構描述節點**，選取**子欄位項目**。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-174">Right-click a record, select **Insert Schema Node**, select **Child Field Element**.</span></span>  
  
3.  <span data-ttu-id="e1a3b-175">在內容中，選取**資料型別**，然後選取**任意文字 (SimpleType)**。</span><span class="sxs-lookup"><span data-stu-id="e1a3b-175">In Properties, select **Data Type**, and then select **Free Text (SimpleType)**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e1a3b-176">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e1a3b-176">See Also</span></span>  
 [<span data-ttu-id="e1a3b-177">處理 HL7 訊息</span><span class="sxs-lookup"><span data-stu-id="e1a3b-177">Processing HL7 Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)