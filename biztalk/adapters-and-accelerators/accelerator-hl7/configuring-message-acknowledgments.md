---
title: "設定訊息通知 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- acknowledgements, configuring
- messages, acknowledgements
- configuring, acknowledgements
ms.assetid: 6ebcfc32-0a0b-4388-938f-6569a2014b91
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 339e80776dac32e25f96da5c62675f1a8d6075ee
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2017
---
# <a name="configuring-message-acknowledgments"></a><span data-ttu-id="cee80-102">設定訊息通知</span><span class="sxs-lookup"><span data-stu-id="cee80-102">Configuring Message Acknowledgments</span></span>
<span data-ttu-id="cee80-103">您使用[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]Configuration 總管**通知**指定輸入和產生通知的通知屬性的索引標籤。</span><span class="sxs-lookup"><span data-stu-id="cee80-103">You use the [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] Configuration Explorer **Acknowledgment** tab to specify the acknowledgment properties for inbound and generated acknowledgments.</span></span>  
  
 <span data-ttu-id="cee80-104">下圖顯示[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]Configuration 總管**通知** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="cee80-104">The following figure shows the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer **Acknowledgment** tab.</span></span>  
  
 <span data-ttu-id="cee80-105">![](../../adapters-and-accelerators/accelerator-hl7/media/hl7-ops-ack.gif "hl7_ops_ack")</span><span class="sxs-lookup"><span data-stu-id="cee80-105">![](../../adapters-and-accelerators/accelerator-hl7/media/hl7-ops-ack.gif "hl7_ops_ack")</span></span>  
  
 <span data-ttu-id="cee80-106">使用下列程序來開啟[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]Configuration 總管，並設定通知訊息。</span><span class="sxs-lookup"><span data-stu-id="cee80-106">Use the following procedures to open [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer and configure message acknowledgments.</span></span>  
  
### <a name="to-open-btahl7-configuration-explorer"></a><span data-ttu-id="cee80-107">若要開啟 BTAHL7 組態總管</span><span class="sxs-lookup"><span data-stu-id="cee80-107">To open BTAHL7 Configuration Explorer</span></span>  
  
-   <span data-ttu-id="cee80-108">按一下**啟動**，指向 **程式**，指向  **Microsoft BizTalk\<版本\>Accelerator for HL7**，然後按一下  **BTAHL7 Configuration 總管**。</span><span class="sxs-lookup"><span data-stu-id="cee80-108">Click **Start**, point to **Programs**, point to **Microsoft BizTalk \<version\> Accelerator for HL7**, and then click **BTAHL7 Configuration Explorer**.</span></span>  
  
### <a name="to-configure-message-acknowledgments"></a><span data-ttu-id="cee80-109">若要設定訊息通知</span><span class="sxs-lookup"><span data-stu-id="cee80-109">To configure message acknowledgments</span></span>  
  
1.  <span data-ttu-id="cee80-110">BTAHL7 組態總管 中，在上**合作對象**索引標籤上，選取您想要設定的合作對象，然後在**通知**索引標籤上，執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="cee80-110">In BTAHL7 Configuration Explorer, on the **Parties** tab, select the party you want to configure, and then on the **Acknowledgments** tab, do the following:</span></span>  
  
    |<span data-ttu-id="cee80-111">使用</span><span class="sxs-lookup"><span data-stu-id="cee80-111">Use this</span></span>|<span data-ttu-id="cee80-112">動作</span><span class="sxs-lookup"><span data-stu-id="cee80-112">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="cee80-113">**通知類型**</span><span class="sxs-lookup"><span data-stu-id="cee80-113">**Acknowledgment type**</span></span>|<span data-ttu-id="cee80-114">然後選取下列選項：</span><span class="sxs-lookup"><span data-stu-id="cee80-114">Select from the following options:</span></span><br /><br /> <span data-ttu-id="cee80-115">-   **無**。</span><span class="sxs-lookup"><span data-stu-id="cee80-115">-   **None**.</span></span> <span data-ttu-id="cee80-116">如果您不要設定任何通知，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-116">Select this if you do not want to configure any acknowledgments.</span></span><br /><span data-ttu-id="cee80-117">-   **OriginalMode**。</span><span class="sxs-lookup"><span data-stu-id="cee80-117">-   **OriginalMode**.</span></span> <span data-ttu-id="cee80-118">選取此選項即可設定**MSH1 – 欄位分隔符號**， **MSH2 – 編碼字元**，和**MSH8 – 安全性**只選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-118">Select this option to configure **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="cee80-119">-   **EnhancedMode**。</span><span class="sxs-lookup"><span data-stu-id="cee80-119">-   **EnhancedMode**.</span></span> <span data-ttu-id="cee80-120">選取此選項來設定所有可用的通知選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-120">Select this option to configure all available acknowledgment options.</span></span><br /><span data-ttu-id="cee80-121">-   **DeferredMode**。</span><span class="sxs-lookup"><span data-stu-id="cee80-121">-   **DeferredMode**.</span></span> <span data-ttu-id="cee80-122">選取此選項即可設定**MSH1 – 欄位分隔符號**， **MSH2 – 編碼字元**，和**MSH8 – 安全性**只選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-122">Select this option to configure **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="cee80-123">-   **StaticMode**。</span><span class="sxs-lookup"><span data-stu-id="cee80-123">-   **StaticMode**.</span></span> <span data-ttu-id="cee80-124">選取此選項即可設定**成功**和**失敗**通知選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-124">Select this option to configure the **On success** and **On failure** acknowledgment options.</span></span>|  
    |<span data-ttu-id="cee80-125">**MSH 15 接受通知類型**</span><span class="sxs-lookup"><span data-stu-id="cee80-125">**MSH 15 Accept Acknowledgment Type**</span></span>|<span data-ttu-id="cee80-126">然後選取下列選項：</span><span class="sxs-lookup"><span data-stu-id="cee80-126">Select from the following options:</span></span><br /><br /> <span data-ttu-id="cee80-127">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="cee80-127">-   **AL**.</span></span> <span data-ttu-id="cee80-128">選取此選項，如果您一定想要傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-128">Select this option if you always want to send accept acknowledgments.</span></span><br /><span data-ttu-id="cee80-129">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="cee80-129">-   **NE**.</span></span> <span data-ttu-id="cee80-130">選取此選項，如果您不想要傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-130">Select this option if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="cee80-131">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="cee80-131">-   **SU**.</span></span> <span data-ttu-id="cee80-132">選取此選項，如果您想要傳送訊息成功傳輸之後接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-132">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="cee80-133">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="cee80-133">-   **ER**.</span></span> <span data-ttu-id="cee80-134">如果您想要傳送，請選取此選項只會發生錯誤時接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-134">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="cee80-135">**MSH 16 的應用程式的通知類型**</span><span class="sxs-lookup"><span data-stu-id="cee80-135">**MSH 16 Application Acknowledgment Type**</span></span>|<span data-ttu-id="cee80-136">然後選取下列選項：</span><span class="sxs-lookup"><span data-stu-id="cee80-136">Select from the following options:</span></span><br /><br /> <span data-ttu-id="cee80-137">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="cee80-137">-   **AL**.</span></span> <span data-ttu-id="cee80-138">如果您一定想要傳送的應用程式通知，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-138">Select this option if you always want to send application acknowledgments.</span></span><br /><span data-ttu-id="cee80-139">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="cee80-139">-   **NE**.</span></span> <span data-ttu-id="cee80-140">如果您不想要傳送應用程式通知，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-140">Select this option if you never want to send application acknowledgments.</span></span><br /><span data-ttu-id="cee80-141">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="cee80-141">-   **SU**.</span></span> <span data-ttu-id="cee80-142">如果您想要將訊息傳輸成功之後傳送應用程式通知，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-142">Select this option if you want to send application acknowledgments after successful transmission of a message.</span></span><br /><br /> <span data-ttu-id="cee80-143">**ER**。</span><span class="sxs-lookup"><span data-stu-id="cee80-143">**ER**.</span></span> <span data-ttu-id="cee80-144">如果您想要傳送的應用程式通知只會發生錯誤時，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-144">Select this option if you want to send application acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="cee80-145">**MSH1 – 欄位的分隔符號**</span><span class="sxs-lookup"><span data-stu-id="cee80-145">**MSH1 – Field Separator**</span></span>|<span data-ttu-id="cee80-146">請輸入唯一的字元做為欄位分隔符號。</span><span class="sxs-lookup"><span data-stu-id="cee80-146">Type a unique character as a field separator.</span></span> <span data-ttu-id="cee80-147">預設值是縱線字元 (**&#124;**)，以及允許的字元數目上限是一個字元。</span><span class="sxs-lookup"><span data-stu-id="cee80-147">The default value is a pipe character (**&#124;**), and the maximum characters allowed is one character.</span></span> <span data-ttu-id="cee80-148">請注意，是否您需要修改 MSH1，那麼您必須使用適當的 MSH1 值寫入至您 HL7 訊息內容的協調流程。</span><span class="sxs-lookup"><span data-stu-id="cee80-148">Note that if you need to modify MSH1, then you must use an orchestration that writes the appropriate value of MSH1 to your HL7 message context.</span></span> <span data-ttu-id="cee80-149">BTAHL7 序列化程式讀取從內容的值，並序列化訊息中使用它。</span><span class="sxs-lookup"><span data-stu-id="cee80-149">The BTAHL7 serializer reads the value from the context and uses it in the serialized message.</span></span>|  
    |<span data-ttu-id="cee80-150">**MSH2 – 編碼的字元**</span><span class="sxs-lookup"><span data-stu-id="cee80-150">**MSH2 – Encoding Characters**</span></span>|<span data-ttu-id="cee80-151">輸入唯一的字元做為根據 HL7 標準編碼的字元。</span><span class="sxs-lookup"><span data-stu-id="cee80-151">Type unique characters as the encoding characters as per the HL7 standard.</span></span> <span data-ttu-id="cee80-152">預設編碼的字元是 ^，~， \\，和 （& s)。</span><span class="sxs-lookup"><span data-stu-id="cee80-152">The default encoding characters are ^, ~, \\, and &.</span></span> <span data-ttu-id="cee80-153">所需的最小字元是兩個字元，而允許的上限是四個字元。</span><span class="sxs-lookup"><span data-stu-id="cee80-153">The minimum characters required are two characters, and the maximum allowed are four characters.</span></span> <span data-ttu-id="cee80-154">請注意，如果 MSH2_3 或 MSH2_4 （逸出和子元件動態分隔符號） 中未指定您的原始訊息，通知訊息會自動填入這些欄位。</span><span class="sxs-lookup"><span data-stu-id="cee80-154">Note that if MSH2_3 or MSH2_4 (the escape and subcomponent dynamic delimiters) are not specified in your original message, the ACK message automatically populates those fields.</span></span> <span data-ttu-id="cee80-155">例如，如果您的原始訊息 MSH 區段`MSH&#124;^~&#124;`，其中指定只元件和重複分隔符號，則通知訊息會自動填入該欄位加入包含做為第三個和第四個元件`MSH&#124;^~\&`如果這些BTAHL7 組態總管 中的通知區段中未設定的值。</span><span class="sxs-lookup"><span data-stu-id="cee80-155">For example, if your original message MSH segment is `MSH&#124;^~&#124;`, where only the component and repetition delimiters are specified, then the ACK message automatically populates that field to include the third and fourth component as `MSH&#124;^~\&` if these values were not configured in the Acknowledgment sections in BTAHL7 Configuration Explorer.</span></span>|  
    |<span data-ttu-id="cee80-156">**MSH 3**</span><span class="sxs-lookup"><span data-stu-id="cee80-156">**MSH 3**</span></span>|<span data-ttu-id="cee80-157">輸入產生通知，傳送應用程式的欄位值。</span><span class="sxs-lookup"><span data-stu-id="cee80-157">Type the field values for generated acknowledgments for the sending application.</span></span> <span data-ttu-id="cee80-158">允許的長度上限 180 個字元以下合稱。</span><span class="sxs-lookup"><span data-stu-id="cee80-158">The maximum allowed length of 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="cee80-159">產生的通知時未設定，包含傳入**MSH5**訊息值。</span><span class="sxs-lookup"><span data-stu-id="cee80-159">When not configured, generated acknowledgments contain incoming **MSH5** message value.</span></span> <span data-ttu-id="cee80-160">**注意：**這個選項只適用於 2.X 訊息。</span><span class="sxs-lookup"><span data-stu-id="cee80-160">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="cee80-161">**注意：**若要覆寫現有的值為 null，請輸入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="cee80-161">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="cee80-162">**MSH 5**</span><span class="sxs-lookup"><span data-stu-id="cee80-162">**MSH 5**</span></span>|<span data-ttu-id="cee80-163">輸入產生通知的目的端應用程式的欄位值。</span><span class="sxs-lookup"><span data-stu-id="cee80-163">Type the field values for generated acknowledgments for the destination application.</span></span> <span data-ttu-id="cee80-164">允許的長度上限 180 個字元以下合稱。</span><span class="sxs-lookup"><span data-stu-id="cee80-164">The maximum allowed length of 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="cee80-165">產生的通知時未設定，包含傳入**MSH3**訊息值。</span><span class="sxs-lookup"><span data-stu-id="cee80-165">When not configured, generated acknowledgments contain incoming **MSH3** message value.</span></span> <span data-ttu-id="cee80-166">**注意：**這個選項只適用於 2.X 訊息。</span><span class="sxs-lookup"><span data-stu-id="cee80-166">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="cee80-167">**注意：**若要覆寫現有的值為 null，請輸入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="cee80-167">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="cee80-168">**MSH8-安全性**</span><span class="sxs-lookup"><span data-stu-id="cee80-168">**MSH8 – Security**</span></span>|<span data-ttu-id="cee80-169">輸入選擇性的安全性字元。</span><span class="sxs-lookup"><span data-stu-id="cee80-169">Type an optional security character.</span></span>|  
    |<span data-ttu-id="cee80-170">**MSH 9**</span><span class="sxs-lookup"><span data-stu-id="cee80-170">**MSH 9**</span></span>|<span data-ttu-id="cee80-171">輸入產生的通知訊息類型的欄位值。</span><span class="sxs-lookup"><span data-stu-id="cee80-171">Type the field values for generated acknowledgments message type.</span></span><br /><br /> <span data-ttu-id="cee80-172">產生的通知時未設定，包含傳入**MSH9**訊息值。</span><span class="sxs-lookup"><span data-stu-id="cee80-172">When not configured, generated acknowledgments contain incoming **MSH9** message value.</span></span> <span data-ttu-id="cee80-173">**注意：**這個選項只適用於 2.X 訊息。</span><span class="sxs-lookup"><span data-stu-id="cee80-173">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="cee80-174">**注意：**若要覆寫現有的值為 null，請輸入 **\\** 。</span><span class="sxs-lookup"><span data-stu-id="cee80-174">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="cee80-175">**MSH15 – 接受通知類型**</span><span class="sxs-lookup"><span data-stu-id="cee80-175">**MSH15 – Accept Acknowledgment Type**</span></span>|<span data-ttu-id="cee80-176">選取從接受通知類型的下列選項：</span><span class="sxs-lookup"><span data-stu-id="cee80-176">Select from the following options for the accept acknowledgment type:</span></span><br /><br /> <span data-ttu-id="cee80-177">-   **AL**。</span><span class="sxs-lookup"><span data-stu-id="cee80-177">-   **AL**.</span></span> <span data-ttu-id="cee80-178">選取此選項，如果您一定想要傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-178">Select this option if you always want to send accept acknowledgments.</span></span><br /><span data-ttu-id="cee80-179">-   **NE**。</span><span class="sxs-lookup"><span data-stu-id="cee80-179">-   **NE**.</span></span> <span data-ttu-id="cee80-180">選取此選項，如果您不想要傳送接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-180">Select this option if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="cee80-181">-   **SU**。</span><span class="sxs-lookup"><span data-stu-id="cee80-181">-   **SU**.</span></span> <span data-ttu-id="cee80-182">選取此選項，如果您想要傳送訊息成功傳輸之後接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-182">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="cee80-183">-   **ER**。</span><span class="sxs-lookup"><span data-stu-id="cee80-183">-   **ER**.</span></span> <span data-ttu-id="cee80-184">如果您想要傳送，請選取此選項只會發生錯誤時接受通知。</span><span class="sxs-lookup"><span data-stu-id="cee80-184">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="cee80-185">**如果成功**</span><span class="sxs-lookup"><span data-stu-id="cee80-185">**On Success**</span></span>|<span data-ttu-id="cee80-186">輸入用於靜態成功的訊息傳遞通知的文字。</span><span class="sxs-lookup"><span data-stu-id="cee80-186">Type the text for a static acknowledgment for a successful message delivery.</span></span>|  
    |<span data-ttu-id="cee80-187">**失敗**</span><span class="sxs-lookup"><span data-stu-id="cee80-187">**On failure**</span></span>|<span data-ttu-id="cee80-188">輸入用於靜態通知傳遞失敗的訊息文字。</span><span class="sxs-lookup"><span data-stu-id="cee80-188">Type the text for a static acknowledgment for an unsuccessful message delivery.</span></span>|  
    |<span data-ttu-id="cee80-189">**路由通知設定為要求-回應上的傳送管線的傳送埠**</span><span class="sxs-lookup"><span data-stu-id="cee80-189">**Route ACK to send pipeline on request-response send port**</span></span>|<span data-ttu-id="cee80-190">選取此選項可將同步的 ACK 訊息傳送到 LOB 應用程式的來源。</span><span class="sxs-lookup"><span data-stu-id="cee80-190">Select this option to send a synchronous ACK message to the source LOB application.</span></span> <span data-ttu-id="cee80-191">請求-回應傳送埠上，才可用這個選項。</span><span class="sxs-lookup"><span data-stu-id="cee80-191">This option is only available on a solicit-response send port.</span></span><br /><br /> <span data-ttu-id="cee80-192">如果未選取此選項，接收管線會產生通知訊息，根據您的通知設定。</span><span class="sxs-lookup"><span data-stu-id="cee80-192">If this option is not selected, the receive pipeline generates the ACK message based upon your acknowledgment settings.</span></span>|  
  
2.  <span data-ttu-id="cee80-193">按一下 **[儲存]**。</span><span class="sxs-lookup"><span data-stu-id="cee80-193">Click **Save**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cee80-194">請參閱</span><span class="sxs-lookup"><span data-stu-id="cee80-194">See Also</span></span>  
 <span data-ttu-id="cee80-195">[通知設定](../../adapters-and-accelerators/accelerator-hl7/ack-configuration-settings.md) </span><span class="sxs-lookup"><span data-stu-id="cee80-195">[ACK Configuration Settings](../../adapters-and-accelerators/accelerator-hl7/ack-configuration-settings.md) </span></span>  
 <span data-ttu-id="cee80-196">[通知設定](../../adapters-and-accelerators/accelerator-hl7/acknowledgment-settings.md) </span><span class="sxs-lookup"><span data-stu-id="cee80-196">[Acknowledgment Settings](../../adapters-and-accelerators/accelerator-hl7/acknowledgment-settings.md) </span></span>  
 [<span data-ttu-id="cee80-197">建立及處理通知</span><span class="sxs-lookup"><span data-stu-id="cee80-197">Creating and Processing Acknowledgments</span></span>](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md)