---
title: "步驟 9： 驗證的分散輸入批次案例 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1ba61866-2e1b-49e2-be57-ef281407d0a5
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 47d5ec8ffa7a7875af7073e60d6578149d532a7a
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2017
---
# <a name="step-9-verify-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="79c57-102">步驟 9： 驗證的分散輸入批次案例</span><span class="sxs-lookup"><span data-stu-id="79c57-102">Step 9: Verify the Fragmented Inbound Batch Scenario</span></span>
<span data-ttu-id="79c57-103">在此步驟中，您可以確認分散輸入批次的案例。</span><span class="sxs-lookup"><span data-stu-id="79c57-103">In this step, you verify the Fragmented Inbound Batch scenario.</span></span>  
  
 <span data-ttu-id="79c57-104">正在驗證案例包含下列工具：</span><span class="sxs-lookup"><span data-stu-id="79c57-104">Verifying the scenario involves using the following tools:</span></span>  
  
-   <span data-ttu-id="79c57-105">**MllpSend 工具**，讓您從命令列批次訊息傳送到接收埠。</span><span class="sxs-lookup"><span data-stu-id="79c57-105">**MllpSend Tool**, which you use from the command line to send a batch message to the receive port.</span></span>  
  
-   <span data-ttu-id="79c57-106">**MllpReceive 工具**，讓您從命令列確認接收從傳送埠的個別訊息 （做為包含在批次）。</span><span class="sxs-lookup"><span data-stu-id="79c57-106">**MllpReceive Tool**, which you use from the command line to verify reception of the individual messages (as contained in the batch) from the send port.</span></span> <span data-ttu-id="79c57-107">MllpReceive 工具的這個執行個體做為模擬的特定業務應用程式。</span><span class="sxs-lookup"><span data-stu-id="79c57-107">This instance of the MllpReceive Tool functions as a simulated line-of-business application.</span></span> <span data-ttu-id="79c57-108">在接收的訊息，它也會產生通知回[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]integration 引擎。</span><span class="sxs-lookup"><span data-stu-id="79c57-108">On reception of the messages, it also generates an acknowledgment back to the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] integration engine.</span></span>  
  
-   <span data-ttu-id="79c57-109">MllpReceive 工具，可用來確認的通知傳送埠從接收第二個執行個體。</span><span class="sxs-lookup"><span data-stu-id="79c57-109">A second instance of the MllpReceive Tool, which you use to verify reception of acknowledgments from the send port.</span></span>  
  
### <a name="to-test-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="79c57-110">若要測試的分散輸入批次案例</span><span class="sxs-lookup"><span data-stu-id="79c57-110">To test the Fragmented Inbound Batch scenario</span></span>  
  
1.  <span data-ttu-id="79c57-111">按一下**啟動**，指向 **所有程式**，指向 **附屬應用程式**，然後按一下 **命令提示字元**。</span><span class="sxs-lookup"><span data-stu-id="79c57-111">Click **Start**, point to **All Programs**, point to **Accessories**, and then click **Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="79c57-112">在命令提示字元中，移至  **\<*磁碟機*\>: \Program Files\Microsoft BizTalk\<版本\>Accelerator for HL7\SDK\MLLP 公用程式 **.</span><span class="sxs-lookup"><span data-stu-id="79c57-112">At the command prompt, move to **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\MLLP Utilities**.</span></span>  
  
3.  <span data-ttu-id="79c57-113">在命令提示字元中，輸入 **mllpreceive/p 41000 /sb 11 /eb 28 /cr 13 /hl7ack"\<*磁碟機*\>: \Program Files\Microsoft BizTalk\<版本\>做 HL7\Samples\Sample 應用程式接受 ACK.txt**，然後按下快速鍵**Enter**。</span><span class="sxs-lookup"><span data-stu-id="79c57-113">At the command prompt, type **mllpreceive /p 41000 /sb 11 /eb 28 /cr 13 /hl7ack "\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\Samples\Sample Application Accept ACK.txt**, and then press **Enter**.</span></span> <span data-ttu-id="79c57-114">在命令提示字元視窗會進入等候狀態，直到您執行步驟 5 及系統接收輸入。</span><span class="sxs-lookup"><span data-stu-id="79c57-114">The Command Prompt window enters a waiting state until you perform step 5 and the system receives input.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="79c57-115">步驟 3 中的命令執行會接聽連接埠 41000 MLLP 接聽應用程式。</span><span class="sxs-lookup"><span data-stu-id="79c57-115">The command in step 3 runs the MLLP listener application that listens to port 41000.</span></span> <span data-ttu-id="79c57-116">相關聯的傳送埠將訊息傳遞，則此連接埠 (在中建立[步驟 5： 建立傳送埠傳送訊息至](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md))。</span><span class="sxs-lookup"><span data-stu-id="79c57-116">This port is associated with the send port that delivers messages (as created in [Step 5: Create a Send Port to Deliver Messages](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span></span> <span data-ttu-id="79c57-117">MllpReceive 工具做為接收訊息，並回到 BTAHL7 （如同將檔案中包含範例範例應用程式接受 ACK.txt） 傳送通知 (ACK) 的特定業務應用程式。</span><span class="sxs-lookup"><span data-stu-id="79c57-117">The MllpReceive Tool acts as the line-of-business application that receives the messages, and sends the acknowledgment (ACK) back to BTAHL7 (as contained in the sample file Sample Application Accept ACK.txt).</span></span> <span data-ttu-id="79c57-118">此工具會顯示在命令提示字元 視窗中傳回它的任何訊息。</span><span class="sxs-lookup"><span data-stu-id="79c57-118">The tool displays any messages returned to it in the Command Prompt window.</span></span> <span data-ttu-id="79c57-119">步驟 3 中的命令指定 MLLP 訊息的預設 EB、 SB 和 CR 個字元。</span><span class="sxs-lookup"><span data-stu-id="79c57-119">The command in step 3 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
4.  <span data-ttu-id="79c57-120">重複步驟 1 和 2，開啟另一個命令提示字元視窗並瀏覽至 MLLP 公用程式 目錄。</span><span class="sxs-lookup"><span data-stu-id="79c57-120">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="79c57-121">在命令提示字元中，輸入**mllpreceive/p 41002**，然後按下**Enter**。</span><span class="sxs-lookup"><span data-stu-id="79c57-121">At the command prompt, type **mllpreceive /p 41002**, and then press **Enter**.</span></span> <span data-ttu-id="79c57-122">在命令提示字元視窗會進入等候狀態，直到您執行步驟 5，而系統接收輸出。</span><span class="sxs-lookup"><span data-stu-id="79c57-122">The Command Prompt window enters a waiting state until you perform step 5 and the system receives output.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="79c57-123">步驟 4 中的命令會執行接聽連接埠 41002 MLLP 接聽應用程式。</span><span class="sxs-lookup"><span data-stu-id="79c57-123">The command in step 4 runs the MLLP listener application listening to port 41002.</span></span> <span data-ttu-id="79c57-124">此連接埠是傳送埠，將通知傳遞到批次訊息來源相關聯 (在中建立[步驟 6： 建立要傳遞通知的傳送埠](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md))。</span><span class="sxs-lookup"><span data-stu-id="79c57-124">This port is associated with the send port that delivers acknowledgments back to the source of the batch message (as created in [Step 6: Create a Send Port to Deliver Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span></span> <span data-ttu-id="79c57-125">MllpReceive 工具做為傳送原始批次的特定業務應用程式。</span><span class="sxs-lookup"><span data-stu-id="79c57-125">The MllpReceive Tool acts as the line-of-business application that sent the original batch.</span></span> <span data-ttu-id="79c57-126">此工具會顯示任何通知傳回給它，在命令提示字元 視窗中。</span><span class="sxs-lookup"><span data-stu-id="79c57-126">The tool displays any acknowledgments returned to it in the Command Prompt window.</span></span> <span data-ttu-id="79c57-127">步驟 4 中的命令指定 MLLP 訊息的預設 EB、 SB 和 CR 個字元。</span><span class="sxs-lookup"><span data-stu-id="79c57-127">The command in step 4 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
5.  <span data-ttu-id="79c57-128">重複步驟 1 和 2，開啟另一個命令提示字元視窗並瀏覽至 MLLP 公用程式 目錄。</span><span class="sxs-lookup"><span data-stu-id="79c57-128">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="79c57-129">在命令提示字元中，輸入 **mllpsend /twoway /sb 11 /eb 28 /cr 13 /f"\<*磁碟機*\>: \Batching Tutorial\Instances\FragmentedInboundBatch.txt"/ p 21000 **，其中\<*磁碟機*\>是安裝磁碟機代號，然後按下**Enter**。</span><span class="sxs-lookup"><span data-stu-id="79c57-129">At the command prompt, type **mllpsend /twoway /sb 11 /eb 28 /cr 13 /f "\<*drive*\>:\Batching Tutorial\Instances\FragmentedInboundBatch.txt" /p 21000**, where \<*drive*\> is your installation drive letter, and then press **Enter**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="79c57-130">步驟 5 中的命令會模擬原始批次訊息至接收埠的傳送。</span><span class="sxs-lookup"><span data-stu-id="79c57-130">The command in step 5 simulates sending of the original batch message to the receive port.</span></span> <span data-ttu-id="79c57-131">主控台應該會顯示 「 已傳送訊息： 1"，表示 MllpSend 工具傳送單一批次訊息。</span><span class="sxs-lookup"><span data-stu-id="79c57-131">The console should display "Sent message: 1", indicating that the MllpSend tool sent the single batch message.</span></span> <span data-ttu-id="79c57-132">如果它不會顯示 「 已傳送訊息： 1"，檢查事件檢視器。</span><span class="sxs-lookup"><span data-stu-id="79c57-132">If it does not display "Sent message: 1", check the event viewer.</span></span> <span data-ttu-id="79c57-133">確認在步驟 5 中輸入的命令文字，然後傳送組態的疑難排解和接收埠，以及狀態[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]和 BTAHL7。</span><span class="sxs-lookup"><span data-stu-id="79c57-133">Verify the text of the command entered in step 5, then troubleshoot the configuration of the send and receive ports, and the status of [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and BTAHL7.</span></span>  
  
### <a name="to-verify-the-results-of-the-fragmented-inbound-batch-tutorial"></a><span data-ttu-id="79c57-134">若要驗證分割輸入批次教學課程的結果</span><span class="sxs-lookup"><span data-stu-id="79c57-134">To verify the results of the Fragmented Inbound Batch Tutorial</span></span>  
  
1.  <span data-ttu-id="79c57-135">確認在短暫延遲之後，接聽連接埠 41000 訊息 MllpReceive 工具會顯示個別的訊息片段從批次並傳送至 Tutorial_BatchSource 合作對象的內容。</span><span class="sxs-lookup"><span data-stu-id="79c57-135">Verify that after a short delay, the MllpReceive tool listening for messages on port 41000 displays the contents of the individual messages fragmented from the batch and sent to the Tutorial_BatchSource party.</span></span> <span data-ttu-id="79c57-136">兩個訊息的內容應該如下所示：</span><span class="sxs-lookup"><span data-stu-id="79c57-136">The contents of the two messages should be as follows:</span></span>  
  
    |<span data-ttu-id="79c57-137">MSH.9</span><span class="sxs-lookup"><span data-stu-id="79c57-137">MSH.9</span></span>|<span data-ttu-id="79c57-138">MSH.10</span><span class="sxs-lookup"><span data-stu-id="79c57-138">MSH.10</span></span>|<span data-ttu-id="79c57-139">MSH.3</span><span class="sxs-lookup"><span data-stu-id="79c57-139">MSH.3</span></span>|<span data-ttu-id="79c57-140">MSH.5</span><span class="sxs-lookup"><span data-stu-id="79c57-140">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="79c57-141">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="79c57-141">ADT^A03</span></span>|<span data-ttu-id="79c57-142">000001</span><span class="sxs-lookup"><span data-stu-id="79c57-142">000001</span></span>|<span data-ttu-id="79c57-143">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="79c57-143">Tutorial_BatchSource</span></span>|<span data-ttu-id="79c57-144">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="79c57-144">MESA_IS</span></span>|  
    |<span data-ttu-id="79c57-145">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="79c57-145">ADT^A03</span></span>|<span data-ttu-id="79c57-146">000002</span><span class="sxs-lookup"><span data-stu-id="79c57-146">000002</span></span>|<span data-ttu-id="79c57-147">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="79c57-147">Tutorial_BatchSource</span></span>|<span data-ttu-id="79c57-148">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="79c57-148">MESA_IS</span></span>|  
  
2.  <span data-ttu-id="79c57-149">確認在短暫延遲之後，接聽連接埠 41002 通知 MllpReceive 工具會顯示從 BTAHL7 整合引擎會傳回批次的來源的兩個通知的內容。</span><span class="sxs-lookup"><span data-stu-id="79c57-149">Verify that after a short delay, the MllpReceive tool listening for acknowledgments on port 41002 displays the contents of two acknowledgments returned from the BTAHL7 integration engine to the source of the batch.</span></span> <span data-ttu-id="79c57-150">兩個通知的內容應該如下所示：</span><span class="sxs-lookup"><span data-stu-id="79c57-150">The contents of the two acknowledgments should be as follows:</span></span>  
  
    |<span data-ttu-id="79c57-151">MSH.9</span><span class="sxs-lookup"><span data-stu-id="79c57-151">MSH.9</span></span>|<span data-ttu-id="79c57-152">MSH.3</span><span class="sxs-lookup"><span data-stu-id="79c57-152">MSH.3</span></span>|<span data-ttu-id="79c57-153">MSH.5</span><span class="sxs-lookup"><span data-stu-id="79c57-153">MSH.5</span></span>|<span data-ttu-id="79c57-154">MSA.2</span><span class="sxs-lookup"><span data-stu-id="79c57-154">MSA.2</span></span>|<span data-ttu-id="79c57-155">MSA.1</span><span class="sxs-lookup"><span data-stu-id="79c57-155">MSA.1</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="79c57-156">ACK ^ A03 ^ 通知</span><span class="sxs-lookup"><span data-stu-id="79c57-156">ACK^A03^ACK</span></span>|<span data-ttu-id="79c57-157">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="79c57-157">MESA_IS</span></span>|<span data-ttu-id="79c57-158">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="79c57-158">Tutorial_BatchSource</span></span>|<span data-ttu-id="79c57-159">000001</span><span class="sxs-lookup"><span data-stu-id="79c57-159">000001</span></span>|<span data-ttu-id="79c57-160">AA</span><span class="sxs-lookup"><span data-stu-id="79c57-160">AA</span></span>|  
    |<span data-ttu-id="79c57-161">ACK ^ A03 ^ 通知</span><span class="sxs-lookup"><span data-stu-id="79c57-161">ACK^A03^ACK</span></span>|<span data-ttu-id="79c57-162">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="79c57-162">MESA_IS</span></span>|<span data-ttu-id="79c57-163">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="79c57-163">Tutorial_BatchSource</span></span>|<span data-ttu-id="79c57-164">000002</span><span class="sxs-lookup"><span data-stu-id="79c57-164">000002</span></span>|<span data-ttu-id="79c57-165">AA</span><span class="sxs-lookup"><span data-stu-id="79c57-165">AA</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="79c57-166">請參閱</span><span class="sxs-lookup"><span data-stu-id="79c57-166">See Also</span></span>  
 <span data-ttu-id="79c57-167">[第 2 部分： 中批次 / 批次出案例](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="79c57-167">[Part 2: Batch In/Batch Out Scenario](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span></span>  
 [<span data-ttu-id="79c57-168">第 3 部分：建立批次案例</span><span class="sxs-lookup"><span data-stu-id="79c57-168">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)