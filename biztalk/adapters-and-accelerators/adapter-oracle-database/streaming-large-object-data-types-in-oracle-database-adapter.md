---
title: 串流大型物件資料類型在 Oracle 資料庫配接器 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- streaming, support in the WCF service model
- streaming, support for
- streaming, support in BizTalk Server
- streaming, support in the WCF channel model
ms.assetid: c6cbe870-6794-4bf1-90c1-db65a242e8fe
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9caf8a7e8dafebbe3d53b751db34c8abc8d4bd62
ms.sourcegitcommit: 53b16fe6c1b1707ecf233dbd05f780653eb19419
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/01/2018
ms.locfileid: "50752894"
---
# <a name="streaming-large-object-data-types-in-oracle-database-adapter"></a><span data-ttu-id="087b7-102">Oracle 資料庫配接器中的資料流處理大型物件資料類型</span><span class="sxs-lookup"><span data-stu-id="087b7-102">Streaming large object data types in Oracle Database adapter</span></span>
<span data-ttu-id="087b7-103">[!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)]支援串流處理 Oracle 大型物件 (LOB) 資料類型。</span><span class="sxs-lookup"><span data-stu-id="087b7-103">The [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] supports streaming for Oracle large object (LOB) data types.</span></span> <span data-ttu-id="087b7-104">使用[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]叫用作業，並藉由交換的 SOAP 訊息會傳回回應。</span><span class="sxs-lookup"><span data-stu-id="087b7-104">With the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] operations are invoked and responses are returned by exchanging SOAP messages.</span></span> <span data-ttu-id="087b7-105">SOAP 訊息內文包含的 XML 節點。</span><span class="sxs-lookup"><span data-stu-id="087b7-105">A SOAP message body is composed of XML nodes.</span></span>  
  
 <span data-ttu-id="087b7-106">有兩種類型的訊息資料流所支援的配接器：</span><span class="sxs-lookup"><span data-stu-id="087b7-106">There are two kinds of message streaming that are supported by the adapter:</span></span>  
  
- <span data-ttu-id="087b7-107">**節點資料流**。</span><span class="sxs-lookup"><span data-stu-id="087b7-107">**Node streaming**.</span></span> <span data-ttu-id="087b7-108">中的節點資料流的每個節點是經過緩衝處理由配接器傳送到 Oracle 資料庫之前 （或傳回給用戶端）。</span><span class="sxs-lookup"><span data-stu-id="087b7-108">In node streaming each node is buffered by the adapter before it is sent to the Oracle database (or returned to the client).</span></span> <span data-ttu-id="087b7-109">這表示，對於 LOB 資料類型，完整的值讀取到緩衝區。</span><span class="sxs-lookup"><span data-stu-id="087b7-109">This means that, for an LOB data type, the entire value is read into a buffer.</span></span>  
  
- <span data-ttu-id="087b7-110">**節點值串流**。</span><span class="sxs-lookup"><span data-stu-id="087b7-110">**Node-value streaming**.</span></span> <span data-ttu-id="087b7-111">節點值可以在 Oracle 資料庫與用戶端之間的區塊串流串流處理之節點的實際值。</span><span class="sxs-lookup"><span data-stu-id="087b7-111">In node-value streaming the actual value of the node can be streamed in chunks between the Oracle database and the client.</span></span> <span data-ttu-id="087b7-112">節點值的資料流支援的 LOB 資料類型的配接器用戶端與 Oracle 資料庫之間的端對端資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-112">Node-value streaming supports end-to-end streaming of LOB data types between the adapter client and the Oracle database.</span></span>  
  
  <span data-ttu-id="087b7-113">這兩個資料流模式依賴支援串流處理的節點和節點值的資料流處理 WCF 中的訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-113">Both of these streaming modes rely on support for node streaming and node-value streaming on messages in WCF.</span></span> <span data-ttu-id="087b7-114">基於這個理由，LOB 類型的串流會繫結緊密訊息建立與取用配接器和用戶端應用程式的方式。</span><span class="sxs-lookup"><span data-stu-id="087b7-114">For this reason, streaming for LOB types is tied closely to how messages are created and consumed both by the adapter and by a client application.</span></span> <span data-ttu-id="087b7-115">這麼做的結果是，串流 LOB 類型不支援相同跨所有的程式設計模型。</span><span class="sxs-lookup"><span data-stu-id="087b7-115">One result of this is that support for streaming LOB types is not the same across all programming models.</span></span>  
  
  <span data-ttu-id="087b7-116">本主題中的各節提供：</span><span class="sxs-lookup"><span data-stu-id="087b7-116">The sections in this topic provide:</span></span>  
  
- <span data-ttu-id="087b7-117">如何在 WCF 中支援訊息資料流是和配接器的實作方式的基本的背景資訊。</span><span class="sxs-lookup"><span data-stu-id="087b7-117">Fundamental background information about how message streaming is supported in WCF and how it is implemented by the adapter.</span></span>  
  
- <span data-ttu-id="087b7-118">如何支援資料流 LOB 資料類型的每個程式設計模型中使用配接器時的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="087b7-118">Information about how streaming for LOB data types is supported when you use the adapter in each programming model.</span></span>  
  
## <a name="streaming-fundamentals"></a><span data-ttu-id="087b7-119">資料流的基本概念</span><span class="sxs-lookup"><span data-stu-id="087b7-119">Streaming Fundamentals</span></span>  
 <span data-ttu-id="087b7-120">支援資料流實作[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]組成：</span><span class="sxs-lookup"><span data-stu-id="087b7-120">The support for streaming implemented by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is a combination of:</span></span>  
  
-   <span data-ttu-id="087b7-121">在 WCF 中的訊息資料流支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-121">Message streaming support in WCF.</span></span>  
  
-   <span data-ttu-id="087b7-122">資料流中的 Oracle 用戶端程式庫 (ODP.NET) 的支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-122">Streaming support in the Oracle client library (ODP.NET).</span></span>  
  
-   <span data-ttu-id="087b7-123">訊息的方式建立，並在內部由配接器。</span><span class="sxs-lookup"><span data-stu-id="087b7-123">The way messages are created and consumed internally by the adapter.</span></span>  
  
### <a name="message-streaming-support-in-wcf"></a><span data-ttu-id="087b7-124">在 WCF 中的訊息資料流支援</span><span class="sxs-lookup"><span data-stu-id="087b7-124">Message Streaming Support in WCF</span></span>  
 <span data-ttu-id="087b7-125">WCF 支援資料流處理訊息的方式取決於訊息的建立方式和訊息的使用方式。</span><span class="sxs-lookup"><span data-stu-id="087b7-125">How WCF supports streaming on a message depends both on how the message is created and how the message is consumed.</span></span>  
  
- <span data-ttu-id="087b7-126">WCF 訊息由使用靜態**Create**方法**System.ServiceModel.Channels.Message**。</span><span class="sxs-lookup"><span data-stu-id="087b7-126">A WCF message is created by using the static **Create** method of **System.ServiceModel.Channels.Message**.</span></span> <span data-ttu-id="087b7-127">這個方法有數個多載可支援不同的方式傳遞的訊息本文。</span><span class="sxs-lookup"><span data-stu-id="087b7-127">This method has several overloads that support different ways of passing the message body.</span></span> <span data-ttu-id="087b7-128">您可以藉由傳遞訊息本文會使用建立 WCF 訊息：</span><span class="sxs-lookup"><span data-stu-id="087b7-128">A WCF message can be created by passing the message body using:</span></span>  
  
  -   <span data-ttu-id="087b7-129">A **System.Xml.XmlReader**，或</span><span class="sxs-lookup"><span data-stu-id="087b7-129">A **System.Xml.XmlReader**, or</span></span>  
  
  -   <span data-ttu-id="087b7-130">A **System.ServiceModel.Channels.BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-130">A **System.ServiceModel.Channels.BodyWriter**.</span></span>  
  
- <span data-ttu-id="087b7-131">WCF 訊息可供使用</span><span class="sxs-lookup"><span data-stu-id="087b7-131">A WCF message can be consumed using</span></span>  
  
  -   <span data-ttu-id="087b7-132">**XmlReader**藉由呼叫**Message.GetReaderAtBodyContents()**，或</span><span class="sxs-lookup"><span data-stu-id="087b7-132">An **XmlReader** by calling **Message.GetReaderAtBodyContents()**, or</span></span>  
  
  -   <span data-ttu-id="087b7-133">**XmlDictionaryWriter**藉由呼叫**Message.WriteBodyContents(XmlDictionaryWriter)**。</span><span class="sxs-lookup"><span data-stu-id="087b7-133">An **XmlDictionaryWriter** by calling **Message.WriteBodyContents(XmlDictionaryWriter)**.</span></span>  
  
  <span data-ttu-id="087b7-134">下表顯示不同的組合，建立和取用訊息的 WCF 行為的方式。</span><span class="sxs-lookup"><span data-stu-id="087b7-134">The following table shows how WCF behaves for different combinations of creating and consuming messages.</span></span>  
  
|<span data-ttu-id="087b7-135">建立與訊息</span><span class="sxs-lookup"><span data-stu-id="087b7-135">Message Created With</span></span>|<span data-ttu-id="087b7-136">與取用的訊息</span><span class="sxs-lookup"><span data-stu-id="087b7-136">Message Consumed With</span></span>|<span data-ttu-id="087b7-137">WCF 行為</span><span class="sxs-lookup"><span data-stu-id="087b7-137">WCF Behavior</span></span>|  
|--------------------------|---------------------------|------------------|  
|<span data-ttu-id="087b7-138">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="087b7-138">**XmlBodyWriter**</span></span>|<span data-ttu-id="087b7-139">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="087b7-139">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="087b7-140">**節點值串流**支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-140">**Node-value streaming** is supported.</span></span> <span data-ttu-id="087b7-141">WCF 會使用管線傳送，以達到資料流的兩個寫入器。</span><span class="sxs-lookup"><span data-stu-id="087b7-141">WCF pipes the two writers together to enable streaming.</span></span> <span data-ttu-id="087b7-142">這兩個**XmlBodyWriter**並**XmlDictionaryWriter**必須支援這個節點值才會發生資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-142">Both the **XmlBodyWriter** and the **XmlDictionaryWriter** must support node-value streaming for it to occur.</span></span>|  
|<span data-ttu-id="087b7-143">**XmlBodyWriter**</span><span class="sxs-lookup"><span data-stu-id="087b7-143">**XmlBodyWriter**</span></span>|<span data-ttu-id="087b7-144">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="087b7-144">**XmlReader**</span></span>|<span data-ttu-id="087b7-145">**節點資料流**支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-145">**Node streaming** is supported.</span></span> <span data-ttu-id="087b7-146">WCF 會在內部緩衝**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="087b7-146">WCF internally buffers the **XmlReader**.</span></span>|  
|<span data-ttu-id="087b7-147">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="087b7-147">**XmlReader**</span></span>|<span data-ttu-id="087b7-148">**XmlDictionaryWriter**</span><span class="sxs-lookup"><span data-stu-id="087b7-148">**XmlDictionaryWriter**</span></span>|<span data-ttu-id="087b7-149">**節點資料流**支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-149">**Node streaming** is supported.</span></span> <span data-ttu-id="087b7-150">WCF 會在內部緩衝**XmlReader**並回呼至**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-150">WCF internally buffers the **XmlReader** and calls back into the **XmlDictionaryWriter**.</span></span>|  
|<span data-ttu-id="087b7-151">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="087b7-151">**XmlReader**</span></span>|<span data-ttu-id="087b7-152">**XmlReader**</span><span class="sxs-lookup"><span data-stu-id="087b7-152">**XmlReader**</span></span>|<span data-ttu-id="087b7-153">**節點資料流**支援。</span><span class="sxs-lookup"><span data-stu-id="087b7-153">**Node streaming** is supported.</span></span> <span data-ttu-id="087b7-154">WCF 會在內部緩衝**XmlReader**。</span><span class="sxs-lookup"><span data-stu-id="087b7-154">WCF internally buffers the **XmlReader**.</span></span>|  
  
### <a name="streaming-support-in-the-oracle-client-library-odpnet"></a><span data-ttu-id="087b7-155">Oracle 用戶端程式庫 (ODP.NET) 中的資料流支援</span><span class="sxs-lookup"><span data-stu-id="087b7-155">Streaming Support in the Oracle Client Library (ODP.NET)</span></span>  
 <span data-ttu-id="087b7-156">ODP.NET 支援串流以下列方式：</span><span class="sxs-lookup"><span data-stu-id="087b7-156">ODP.NET supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="087b7-157">支援只在 Oracle LOB 資料類型上的資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-157">Streaming is supported only on Oracle LOB data types.</span></span>  
  
-   <span data-ttu-id="087b7-158">對於某些資料表 （及檢視） 的作業，LOB 資料類型會進行緩衝處理。</span><span class="sxs-lookup"><span data-stu-id="087b7-158">For some table (and view) operations, LOB data types are buffered.</span></span> <span data-ttu-id="087b7-159">因此，不支援資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-159">Therefore, no streaming is supported.</span></span>  
  
### <a name="internal-message-handling-by-the-adapter"></a><span data-ttu-id="087b7-160">內部配接器所處理的訊息</span><span class="sxs-lookup"><span data-stu-id="087b7-160">Internal Message Handling by the Adapter</span></span>  
 <span data-ttu-id="087b7-161">配接器支援串流以下列方式：</span><span class="sxs-lookup"><span data-stu-id="087b7-161">The adapter supports streaming in the following manner:</span></span>  
  
-   <span data-ttu-id="087b7-162">配接器延伸**訊息**若要實作自訂訊息類別， **Microsoft.Adapters.AdapterUtilities.AdapterMessage**。</span><span class="sxs-lookup"><span data-stu-id="087b7-162">The adapter extends **Message** to implement a custom message class, **Microsoft.Adapters.AdapterUtilities.AdapterMessage**.</span></span> <span data-ttu-id="087b7-163">它會建立**AdapterMessage**的所有 WCF 都訊息，它會提供給配接器用戶端，包括所有的輸出作業的回應都訊息和 POLLINGSTMT 作業的要求訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-163">It creates an **AdapterMessage** for all WCF messages that it provides to the adapter client; this includes the response messages for all outbound operations and the request message for the POLLINGSTMT operation.</span></span> <span data-ttu-id="087b7-164">這可讓配接器以支援資料流 ReadLOB 作業，藉由提供節點值**XmlReader**支援**ReadValueChunk**配接器用戶端。</span><span class="sxs-lookup"><span data-stu-id="087b7-164">This enables the adapter to support node-value streaming for the ReadLOB operation by providing an **XmlReader** that supports **ReadValueChunk** to adapter clients.</span></span>  
  
-   <span data-ttu-id="087b7-165">配接器使用接收到來自用戶端使用的自訂實作的所有訊息**XmlDictionaryWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-165">The adapter consumes all messages received from the client by using a custom implementation of **XmlDictionaryWriter**.</span></span>  
  
-   <span data-ttu-id="087b7-166">配接器會建立它傳送給用戶端使用的自訂實作的所有訊息**XmlBodyWriter**，除了 ReadLOB 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-166">The adapter creates all messages that it sends to the client by using a custom implementation of **XmlBodyWriter**, except for the ReadLOB response message.</span></span> <span data-ttu-id="087b7-167">（這包括所有的輸出作業的回應訊息和 POLLINGSTMT 作業的要求訊息）。</span><span class="sxs-lookup"><span data-stu-id="087b7-167">(This includes response messages for all outbound operations and the request message for the POLLINGSTMT operation.)</span></span>  
  
## <a name="streaming-support-in-the-wcf-channel-model"></a><span data-ttu-id="087b7-168">WCF 通道模型中的資料流支援</span><span class="sxs-lookup"><span data-stu-id="087b7-168">Streaming Support in the WCF Channel Model</span></span>  
 <span data-ttu-id="087b7-169">下表提供有關如何支援資料流中的 WCF 通道模型的詳細的資訊。</span><span class="sxs-lookup"><span data-stu-id="087b7-169">The following table provides detailed information about how streaming is supported in the WCF channel model.</span></span>  
  
|<span data-ttu-id="087b7-170">作業</span><span class="sxs-lookup"><span data-stu-id="087b7-170">Operation</span></span>|<span data-ttu-id="087b7-171">節點資料流</span><span class="sxs-lookup"><span data-stu-id="087b7-171">Node Streaming</span></span>|<span data-ttu-id="087b7-172">節點值的資料流</span><span class="sxs-lookup"><span data-stu-id="087b7-172">Node-Value Streaming</span></span>|<span data-ttu-id="087b7-173">描述</span><span class="sxs-lookup"><span data-stu-id="087b7-173">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="087b7-174">資料表插入作業</span><span class="sxs-lookup"><span data-stu-id="087b7-174">Table Insert operation</span></span>|<span data-ttu-id="087b7-175">支援\*</span><span class="sxs-lookup"><span data-stu-id="087b7-175">Supported\*</span></span>|<span data-ttu-id="087b7-176">不支援配接器與 Oracle 資料庫之間。</span><span class="sxs-lookup"><span data-stu-id="087b7-176">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="087b7-177">支援用戶端與配接器之間。\*</span><span class="sxs-lookup"><span data-stu-id="087b7-177">Supported between the client and adapter.\*</span></span>|<span data-ttu-id="087b7-178">不支援端對端節點值串流處理，因為 ODP.NET 會緩衝處理 LOB 資料行的值，並接著執行 insert。</span><span class="sxs-lookup"><span data-stu-id="087b7-178">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the insert is performed.</span></span> <span data-ttu-id="087b7-179">但是，節點值的資料流的用戶端與配接器之間有可能的 LOB 資料行，如果用戶端會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-179">However, node-value streaming between the client and the adapter is possible for LOB columns, if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-180">選取的資料表作業</span><span class="sxs-lookup"><span data-stu-id="087b7-180">Table Select operation</span></span>|<span data-ttu-id="087b7-181">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-181">Supported</span></span>|<span data-ttu-id="087b7-182">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-182">Supported</span></span>|<span data-ttu-id="087b7-183">配接器會使用**BodyWriter**建立回應訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-183">The adapter uses a **BodyWriter** to create the response message.</span></span> <span data-ttu-id="087b7-184">如果在用戶端取用訊息**XmlDictionaryWriter**，串流 LOB 資料行的節點值，就會發生。</span><span class="sxs-lookup"><span data-stu-id="087b7-184">If the client consumes the message using an **XmlDictionaryWriter**, node-value streaming for LOB columns occurs.</span></span>|  
|<span data-ttu-id="087b7-185">資料表更新作業</span><span class="sxs-lookup"><span data-stu-id="087b7-185">Table Update operation</span></span>|<span data-ttu-id="087b7-186">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-186">Supported</span></span>|<span data-ttu-id="087b7-187">不支援配接器與 Oracle 資料庫之間。</span><span class="sxs-lookup"><span data-stu-id="087b7-187">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="087b7-188">支援用戶端與配接器之間。</span><span class="sxs-lookup"><span data-stu-id="087b7-188">Supported between the client and adapter.</span></span>|<span data-ttu-id="087b7-189">不支援端對端節點值串流處理，因為 LOB 資料行的值會緩衝處理 ODP.NET，並接著執行更新。</span><span class="sxs-lookup"><span data-stu-id="087b7-189">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET, and then the update is performed.</span></span> <span data-ttu-id="087b7-190">但是，節點值的資料流的用戶端與配接器之間可能是 LOB 資料行如果用戶端會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-190">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-191">資料表刪除作業</span><span class="sxs-lookup"><span data-stu-id="087b7-191">Table Delete operation</span></span>|<span data-ttu-id="087b7-192">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-192">Supported</span></span>|<span data-ttu-id="087b7-193">不支援配接器與 Oracle 資料庫之間。</span><span class="sxs-lookup"><span data-stu-id="087b7-193">Not supported between the adapter and the Oracle database.</span></span> <span data-ttu-id="087b7-194">支援用戶端與配接器之間。</span><span class="sxs-lookup"><span data-stu-id="087b7-194">Supported between the client and adapter.</span></span>|<span data-ttu-id="087b7-195">不支援端對端節點值串流處理，因為 ODP.NET 會緩衝處理 LOB 資料行的值，並接著執行刪除。</span><span class="sxs-lookup"><span data-stu-id="087b7-195">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="087b7-196">但是，節點值的資料流的用戶端與配接器之間可能是 LOB 資料行如果用戶端會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-196">However, node-value streaming between the client and the adapter is possible for LOB columns if the client creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-197">資料表 ReadLOB 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-197">Table ReadLOB operation</span></span>|<span data-ttu-id="087b7-198">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-198">Supported</span></span>|<span data-ttu-id="087b7-199">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-199">Supported</span></span>|<span data-ttu-id="087b7-200">ReadLOB 作業主要被設計來在 WCF 服務模型中的資料流 LOB 資料行。</span><span class="sxs-lookup"><span data-stu-id="087b7-200">The ReadLOB operation is primarily designed to stream LOB data columns in the WCF service model.</span></span> <span data-ttu-id="087b7-201">在 WCF 通道模型中，如果在用戶端取用訊息**XmlReader** (藉由叫用**GetReaderAtBodyContents**回應訊息上的方法)，會進行串流處理端對端的節點值。</span><span class="sxs-lookup"><span data-stu-id="087b7-201">In the WCF channel model, if the client consumes the message using an **XmlReader** (by invoking the **GetReaderAtBodyContents** method on the response message), end-to-end node-value streaming occurs.</span></span> <span data-ttu-id="087b7-202">這是因為配接器會傳回**XmlReader**支援**ReadValueChunk**呼叫 ReadLOB 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-202">This is because the adapter returns an **XmlReader** that supports **ReadValueChunk** calls for the ReadLOB response message.</span></span> <span data-ttu-id="087b7-203">不過，建議您不要使用 WCF 通道模型 ReadLOB 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-203">However, it is recommended that you do not use the ReadLOB operation from the WCF channel model.</span></span> <span data-ttu-id="087b7-204">您可以改用選取作業或 SQLEXECUTE 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-204">You can use a Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="087b7-205">資料表 UpdateLOB 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-205">Table UpdateLOB operation</span></span>|<span data-ttu-id="087b7-206">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-206">Supported</span></span>|<span data-ttu-id="087b7-207">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-207">Supported</span></span>|<span data-ttu-id="087b7-208">配接器會使用**XmlDictionaryWriter**取用的要求訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-208">The adapter uses an **XmlDictionaryWriter** to consume the request message.</span></span> <span data-ttu-id="087b7-209">如果用戶端會使用**BodyWriter**若要建立要求訊息，端對端節點值串流 LOB 資料，就會發生。</span><span class="sxs-lookup"><span data-stu-id="087b7-209">If the client uses a **BodyWriter** to create the request message, end-to-end node-value streaming for LOB data occurs.</span></span>|  
|<span data-ttu-id="087b7-210">SQLEXECUTE 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-210">SQLEXECUTE operation</span></span>|<span data-ttu-id="087b7-211">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-211">Supported</span></span>|<span data-ttu-id="087b7-212">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-212">Supported</span></span>|<span data-ttu-id="087b7-213">配接器會使用**BodyWriter**建立回應訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-213">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="087b7-214">如果用戶端會使用**XmlDictionaryWriter**取用回應訊息，端對端節點值串流 LOB 資料，就會發生。</span><span class="sxs-lookup"><span data-stu-id="087b7-214">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span><br /><br /> <span data-ttu-id="087b7-215">端對端節點值資料流不會支援要求訊息，因為它可以叫用 Oracle 資料庫的作業之前，配接器必須緩衝所有的運算元。</span><span class="sxs-lookup"><span data-stu-id="087b7-215">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="087b7-216">預存程序和函式的作業</span><span class="sxs-lookup"><span data-stu-id="087b7-216">Stored procedure and function operation</span></span>|<span data-ttu-id="087b7-217">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-217">Supported</span></span>|<span data-ttu-id="087b7-218">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-218">Supported</span></span>|<span data-ttu-id="087b7-219">配接器會使用**BodyWriter**建立回應訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-219">The adapter uses a **BodyWriter** to create the response message.</span></span><br /><br /> <span data-ttu-id="087b7-220">如果用戶端會使用**XmlDictionaryWriter**取用回應訊息，端對端節點值串流 LOB 資料，就會發生。</span><span class="sxs-lookup"><span data-stu-id="087b7-220">If the client uses an **XmlDictionaryWriter** to consume the response message, end-to-end node-value streaming for the LOB data occurs.</span></span> <span data-ttu-id="087b7-221">(這表示，支援外的資料流和 IN 出程序和函式參數，回應訊息中的。)</span><span class="sxs-lookup"><span data-stu-id="087b7-221">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="087b7-222">端對端節點值資料流不會支援要求訊息，因為它可以叫用 Oracle 資料庫的作業之前，配接器必須緩衝所有的運算元。</span><span class="sxs-lookup"><span data-stu-id="087b7-222">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="087b7-223">POLLINGSTMT 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-223">POLLINGSTMT operation</span></span>|<span data-ttu-id="087b7-224">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-224">Supported</span></span>|<span data-ttu-id="087b7-225">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-225">Supported</span></span>|<span data-ttu-id="087b7-226">配接器會使用**BodyWriter**建立 POLLINGSTMT 要求訊息。</span><span class="sxs-lookup"><span data-stu-id="087b7-226">The adapter uses a **BodyWriter** to create the POLLINGSTMT request message.</span></span> <span data-ttu-id="087b7-227">如果在用戶端取用訊息**XmlDictionaryWriter**，則會發生節點值的 LOB 資料行串流。</span><span class="sxs-lookup"><span data-stu-id="087b7-227">If the client consumes the message using an **XmlDictionaryWriter**, then node-value streaming for LOB columns occurs.</span></span>|  
  
 <span data-ttu-id="087b7-228">如需如何實作 LOB 資料流在程式碼中，當您使用 WCF 通道模型的資訊，請參閱[串流處理 Oracle 資料庫的 LOB 資料類型使用的 WCF 通道模型](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md)。</span><span class="sxs-lookup"><span data-stu-id="087b7-228">For information about how to implement LOB data streaming in your code when you use the WCF channel model, see [Streaming Oracle Database LOB Data Types Using the WCF Channel Model](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md).</span></span>  
  
## <a name="streaming-support-in-the-wcf-service-model"></a><span data-ttu-id="087b7-229">WCF 服務模型中的資料流支援</span><span class="sxs-lookup"><span data-stu-id="087b7-229">Streaming Support in the WCF Service Model</span></span>  
 <span data-ttu-id="087b7-230">序列化和還原序列化訊息的 XML 表示法與該訊息的 managed 程式碼物件表示法之間需要寫入和讀取整個訊息載入記憶體。</span><span class="sxs-lookup"><span data-stu-id="087b7-230">Serializing and deserializing between the XML representation of a message and the managed code object representation of that message requires writing and reading the entire message into memory.</span></span> <span data-ttu-id="087b7-231">基於這個理由，資料流處理的節點和節點值的資料流都不支援大部分的作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-231">For this reason, neither node streaming nor node-value streaming is supported for most operations.</span></span>  
  
 <span data-ttu-id="087b7-232">唯一的例外是 ReadLOB 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-232">The only exception to this is the ReadLOB operation.</span></span> <span data-ttu-id="087b7-233">這項作業是專為支援端對端資料流來讀取資料表和檢視表的 LOB 資料行中的 WCF 服務模型的實作。</span><span class="sxs-lookup"><span data-stu-id="087b7-233">This operation is implemented specifically to support end-to-end streaming for reading table and view LOB columns in the WCF service model.</span></span>  
  
## <a name="streaming-support-in-biztalk-server"></a><span data-ttu-id="087b7-234">在 BizTalk Server 中的資料流支援</span><span class="sxs-lookup"><span data-stu-id="087b7-234">Streaming Support in BizTalk Server</span></span>  
 <span data-ttu-id="087b7-235">下表提供有關如何在 BizTalk Server 中支援資料流時的詳細的資訊。</span><span class="sxs-lookup"><span data-stu-id="087b7-235">The following table provides detailed information about how streaming is supported in BizTalk Server.</span></span> <span data-ttu-id="087b7-236">(請參閱 「 介面卡 」 的所有參考[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; Wcf-custom 配接器永遠都有其完整名稱，此資料表中。)</span><span class="sxs-lookup"><span data-stu-id="087b7-236">(All references to the "adapter" refer to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]; the WCF-Custom adapter is always referred to by its full name in this table.)</span></span>  
  
|<span data-ttu-id="087b7-237">作業</span><span class="sxs-lookup"><span data-stu-id="087b7-237">Operation</span></span>|<span data-ttu-id="087b7-238">節點資料流</span><span class="sxs-lookup"><span data-stu-id="087b7-238">Node Streaming</span></span>|<span data-ttu-id="087b7-239">節點值的資料流</span><span class="sxs-lookup"><span data-stu-id="087b7-239">Node-Value Streaming</span></span>|<span data-ttu-id="087b7-240">描述</span><span class="sxs-lookup"><span data-stu-id="087b7-240">Description</span></span>|  
|---------------|--------------------|---------------------------|-----------------|  
|<span data-ttu-id="087b7-241">資料表插入作業</span><span class="sxs-lookup"><span data-stu-id="087b7-241">Table Insert operation</span></span>|<span data-ttu-id="087b7-242">支援\*</span><span class="sxs-lookup"><span data-stu-id="087b7-242">Supported\*</span></span>|<span data-ttu-id="087b7-243">不支援配接器與 Oracle 資料庫之間;不過，BizTalk Server 與配接器之間串流資料。</span><span class="sxs-lookup"><span data-stu-id="087b7-243">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="087b7-244">不支援端對端節點值串流處理，因為 ODP.NET 會緩衝處理 LOB 資料行的值，並接著執行 insert。</span><span class="sxs-lookup"><span data-stu-id="087b7-244">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the insert is performed.</span></span> <span data-ttu-id="087b7-245">不過，BizTalk Server 與配接器之間的資料流處理的節點值支援 LOB 資料類型的因為 Wcf-custom 配接器會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-245">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-246">選取的資料表作業</span><span class="sxs-lookup"><span data-stu-id="087b7-246">Table Select operation</span></span>|<span data-ttu-id="087b7-247">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-247">Supported</span></span>|<span data-ttu-id="087b7-248">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-248">Supported</span></span>|<span data-ttu-id="087b7-249">Wcf-custom 配接器會使用**XmlDictionaryWriter**取用回應訊息，因此支援端對端節點值串流 LOB 類型。</span><span class="sxs-lookup"><span data-stu-id="087b7-249">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB types is supported.</span></span>|  
|<span data-ttu-id="087b7-250">資料表更新作業</span><span class="sxs-lookup"><span data-stu-id="087b7-250">Table Update operation</span></span>|<span data-ttu-id="087b7-251">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-251">Supported</span></span>|<span data-ttu-id="087b7-252">不支援配接器與 Oracle 資料庫之間;不過，BizTalk Server 與配接器之間串流資料。</span><span class="sxs-lookup"><span data-stu-id="087b7-252">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="087b7-253">因為 ODP.NET 會緩衝處理 LOB 資料行的值，然後執行更新時，不支援端對端節點值資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-253">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the update is performed.</span></span> <span data-ttu-id="087b7-254">不過，BizTalk Server 與配接器之間的資料流處理的節點值支援 LOB 資料類型的因為 Wcf-custom 配接器會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-254">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-255">資料表刪除作業</span><span class="sxs-lookup"><span data-stu-id="087b7-255">Table Delete operation</span></span>|<span data-ttu-id="087b7-256">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-256">Supported</span></span>|<span data-ttu-id="087b7-257">不支援配接器與 Oracle 資料庫之間;不過，BizTalk Server 與配接器之間串流資料。</span><span class="sxs-lookup"><span data-stu-id="087b7-257">Not supported between the adapter and the Oracle database; however, data is streamed between BizTalk Server and the adapter.</span></span>|<span data-ttu-id="087b7-258">不支援端對端節點值串流處理，因為 ODP.NET 會緩衝處理 LOB 資料行的值，並接著執行刪除。</span><span class="sxs-lookup"><span data-stu-id="087b7-258">End-to-end node-value streaming is not supported because the values of LOB columns are buffered by ODP.NET and then the delete is performed.</span></span> <span data-ttu-id="087b7-259">不過，BizTalk Server 與配接器之間的資料流處理的節點值支援 LOB 資料類型的因為 Wcf-custom 配接器會建立與訊息**BodyWriter**。</span><span class="sxs-lookup"><span data-stu-id="087b7-259">However, node-value streaming between BizTalk Server and the adapter is supported for LOB data types because the WCF-Custom adapter creates the message with a **BodyWriter**.</span></span>|  
|<span data-ttu-id="087b7-260">資料表 ReadLOB 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-260">Table ReadLOB operation</span></span>|<span data-ttu-id="087b7-261">BizTalk Server 不支援 ReadLOB 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-261">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="087b7-262">BizTalk Server 不支援 ReadLOB 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-262">The ReadLOB operation is not supported for BizTalk Server.</span></span>|<span data-ttu-id="087b7-263">BizTalk Server 不支援 ReadLOB 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-263">The ReadLOB operation is not supported for BizTalk Server.</span></span> <span data-ttu-id="087b7-264">相反地，請使用選取的作業或 SQLEXECUTE 作業。</span><span class="sxs-lookup"><span data-stu-id="087b7-264">Use the Select operation or a SQLEXECUTE operation instead.</span></span>|  
|<span data-ttu-id="087b7-265">資料表 UpdateLOB 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-265">Table UpdateLOB operation</span></span>|<span data-ttu-id="087b7-266">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-266">Supported</span></span>|<span data-ttu-id="087b7-267">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-267">Supported</span></span>|<span data-ttu-id="087b7-268">Wcf-custom 配接器會使用**BodyWriter**來建立要求訊息，因此支援端對端節點值 LOB 資料類型的資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-268">The WCF-Custom adapter uses a **BodyWriter** to create the request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
|<span data-ttu-id="087b7-269">SQLEXECUTE 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-269">SQLEXECUTE operation</span></span>|<span data-ttu-id="087b7-270">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-270">Supported</span></span>|<span data-ttu-id="087b7-271">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-271">Supported</span></span>|<span data-ttu-id="087b7-272">Wcf-custom 配接器會使用**XmlDictionaryWriter**取用回應訊息，因此支援端對端節點值，回應訊息中的 LOB 資料類型的資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-272">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span><br /><br /> <span data-ttu-id="087b7-273">端對端節點值資料流不會支援要求訊息，因為它可以叫用 Oracle 資料庫的作業之前，配接器必須緩衝所有的運算元。</span><span class="sxs-lookup"><span data-stu-id="087b7-273">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="087b7-274">預存程序和函式的作業</span><span class="sxs-lookup"><span data-stu-id="087b7-274">Stored procedure and function operation</span></span>|<span data-ttu-id="087b7-275">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-275">Supported</span></span>|<span data-ttu-id="087b7-276">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-276">Supported</span></span>|<span data-ttu-id="087b7-277">Wcf-custom 配接器會使用**XmlDictionaryWriter**取用回應訊息，因此支援端對端節點值，回應訊息中的 LOB 資料類型的資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-277">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the response message, so end-to-end node-value streaming for LOB data types in the response message is supported.</span></span> <span data-ttu-id="087b7-278">(這表示，支援外的資料流和 IN 出程序和函式參數，回應訊息中的。)</span><span class="sxs-lookup"><span data-stu-id="087b7-278">(This means that streaming is supported for OUT and IN OUT procedure and function parameters in the response message.)</span></span><br /><br /> <span data-ttu-id="087b7-279">端對端節點值資料流不會支援要求訊息，因為它可以叫用 Oracle 資料庫的作業之前，配接器必須緩衝所有的運算元。</span><span class="sxs-lookup"><span data-stu-id="087b7-279">End-to-end node-value streaming is not supported for the request message because the adapter must buffer all operands before it can invoke the operation on the Oracle database.</span></span>|  
|<span data-ttu-id="087b7-280">POLLINGSTMT 作業</span><span class="sxs-lookup"><span data-stu-id="087b7-280">POLLINGSTMT operation</span></span>|<span data-ttu-id="087b7-281">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-281">Supported</span></span>|<span data-ttu-id="087b7-282">支援</span><span class="sxs-lookup"><span data-stu-id="087b7-282">Supported</span></span>|<span data-ttu-id="087b7-283">Wcf-custom 配接器會使用**XmlDictionaryWriter**取用 （輸入） 的要求訊息，因此支援端對端節點值 LOB 資料類型的資料流。</span><span class="sxs-lookup"><span data-stu-id="087b7-283">The WCF-Custom adapter uses an **XmlDictionaryWriter** to consume the (inbound) request message, so end-to-end node-value streaming for LOB data types is supported.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="087b7-284">另請參閱</span><span class="sxs-lookup"><span data-stu-id="087b7-284">See Also</span></span>  
[<span data-ttu-id="087b7-285">開發您的 Oracle 資料庫應用程式</span><span class="sxs-lookup"><span data-stu-id="087b7-285">Develop your Oracle Database applications</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-your-oracle-database-applications.md)