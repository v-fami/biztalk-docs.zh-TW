---
title: "使用 SQL 配接器和 BizTalk Server 安全性 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cc439d65-1d7e-4e6e-bb0d-a8cb9f0607b8
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b0bc410a651c179daf43c47fb573d1772f6c1e01
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="security-with-the-sql-adapter-and-biztalk-server"></a><span data-ttu-id="35ca3-102">使用 SQL 配接器和 BizTalk Server 安全性</span><span class="sxs-lookup"><span data-stu-id="35ca3-102">Security with the SQL adapter and BizTalk Server</span></span>
<span data-ttu-id="35ca3-103">當您設定傳送埠或接收埠 （位置） 使用 BizTalk Server 管理主控台或使用[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]擷取 BizTalk 解決方案的訊息結構描述，您必須提供認證的 SQL Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="35ca3-103">When you configure a send port or a receive port (location) by using the BizTalk Server Administration console or use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] to retrieve message schemas for a BizTalk solution, you must provide credentials for the SQL Server database.</span></span> <span data-ttu-id="35ca3-104">請務必在安全的方式，可協助防止它們被洩漏給潛在惡意的動作項目中提供這些認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-104">It is important to supply these credentials in a secure way to help prevent them from being revealed to potentially malicious actors.</span></span> <span data-ttu-id="35ca3-105">本主題討論如何最安全的方式提供的認證[!INCLUDE[adaptersql](../../includes/adaptersql-md.md)]BizTalk Server 解決方案。</span><span class="sxs-lookup"><span data-stu-id="35ca3-105">This topic discusses how to most securely supply credentials for the [!INCLUDE[adaptersql](../../includes/adaptersql-md.md)] for BizTalk Server solutions.</span></span>  
  
 <span data-ttu-id="35ca3-106">多個一般討論的 BizTalk 方案的內容中的安全性是以免受到擴充主題，並已超出本文範圍。</span><span class="sxs-lookup"><span data-stu-id="35ca3-106">A more general discussion of security in the context of BizTalk solutions is an expansive topic and is beyond the scope of this documentation.</span></span> <span data-ttu-id="35ca3-107">如需如何讓您的 BizTalk 解決方案更安全的資訊，請參閱[安全和保護您的 BizTalk 訊息](../../core/secure-and-protect-your-biztalk-messages.md)。</span><span class="sxs-lookup"><span data-stu-id="35ca3-107">For information about how you can make your BizTalk solutions more secure, see [Secure and protect your BizTalk messages](../../core/secure-and-protect-your-biztalk-messages.md).</span></span>
  
## <a name="how-do-i-protect-credentials-when-i-use-the-consume-adapter-service-biztalk-project-add-in"></a><span data-ttu-id="35ca3-108">如何執行保護認證時使用取用配接器服務 BizTalk 專案增益集？</span><span class="sxs-lookup"><span data-stu-id="35ca3-108">How Do I Protect Credentials When I Use the Consume Adapter Service BizTalk Project Add-in?</span></span>  
 <span data-ttu-id="35ca3-109">當您使用[!INCLUDE[consumeadapterservshort_md](../../includes/consumeadapterservshort-md.md)]擷取 BizTalk 解決方案的訊息結構描述，您必須提供使用者名稱和密碼從**安全性**索引標籤上**設定配接器** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="35ca3-109">When you use the [!INCLUDE[consumeadapterservshort_md](../../includes/consumeadapterservshort-md.md)] to retrieve message schemas for a BizTalk solution, you must supply the user name and password from the **Security** tab on the **Configure Adapter** dialog box.</span></span> <span data-ttu-id="35ca3-110">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]將不允許您在 設定認證**設定 URI**欄位。</span><span class="sxs-lookup"><span data-stu-id="35ca3-110">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] will not allow you to set credentials in the **Configure a URI** field.</span></span> <span data-ttu-id="35ca3-111">這可以改善安全性防止出現在純文字認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-111">This improves security by preventing credentials from appearing in clear text.</span></span> <span data-ttu-id="35ca3-112">如需有關如何擷取訊息結構描述使用[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]，包括如何輸入 SQL Server 資料庫的使用者名稱和密碼，請參閱[使用 SQL 配接器的VisualStudio中的SQLServer作業取得中繼資料](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="35ca3-112">For more information about how to retrieve message schemas by using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], including how to enter a user name and password for the SQL Server database, see [Get metadata for SQL Server operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md).</span></span>  
  
## <a name="how-do-i-protect-credentials-when-i-configure-a-send-port-or-a-receive-location"></a><span data-ttu-id="35ca3-113">如何保護認證時設定傳送埠或接收位置？</span><span class="sxs-lookup"><span data-stu-id="35ca3-113">How Do I Protect Credentials When I Configure a Send Port or a Receive Location?</span></span>  
 <span data-ttu-id="35ca3-114">BizTalk 解決方案會使用 Microsoft BizTalk Wcf-custom 配接器使用 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="35ca3-114">BizTalk solutions use the Microsoft BizTalk WCF-Custom adapter to consume WCF services.</span></span> <span data-ttu-id="35ca3-115">[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]是 WCF 自訂繫結，可讓用戶端使用的 SQL Server 資料庫，就好像 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="35ca3-115">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] is a WCF custom binding that enables clients to consume the SQL Server database as if it were a WCF service.</span></span> <span data-ttu-id="35ca3-116">使用 BizTalk 解決方案[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]透過傳送埠和接收位置設定為使用 Wcf-custom 配接器。</span><span class="sxs-lookup"><span data-stu-id="35ca3-116">BizTalk solutions consume the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] through send ports and receive locations that are configured to use the WCF-Custom adapter.</span></span> <span data-ttu-id="35ca3-117">Wcf-custom 配接器，接著，設定為使用[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]做為其傳輸。</span><span class="sxs-lookup"><span data-stu-id="35ca3-117">The WCF-Custom adapter is, in turn, configured to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] as its transport.</span></span> <span data-ttu-id="35ca3-118">如需如何設定傳送埠和接收的埠 （接收位置），包括如何設定 Wcf-custom 配接器的詳細資訊，請參閱[手動設定 SQL 配接器的實體連接埠繫結](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="35ca3-118">For more information about how to configure send ports and receive ports (receive locations), including how to configure the WCF-Custom adapter, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span>
  
 <span data-ttu-id="35ca3-119">設定 SQL Server 資料庫認證，從**認證** 索引標籤**Wcf-custom 傳輸屬性**對話方塊來傳送埠，或從**其他** 索引標籤**Wcf-custom 傳輸屬性**對話方塊的 接收位置。</span><span class="sxs-lookup"><span data-stu-id="35ca3-119">You configure the SQL Server database credentials from the **Credentials** tab of the **WCF-Custom Transport Properties** dialog box for send ports or from the **Other** tab of the **WCF-Custom Transport Properties** dialog box for receive locations.</span></span> <span data-ttu-id="35ca3-120">由於 WCF 自訂配接器支援企業單一登入 (SSO)，也可以選擇其中一個這些索引標籤上提供使用者名稱和密碼或 SSO 分支機構應用程式。</span><span class="sxs-lookup"><span data-stu-id="35ca3-120">Because the WCF-Custom adapter supports Enterprise Single Sign-On (SSO), you can also choose to provide either a user name and password or an SSO affiliate application on either of these tabs.</span></span> <span data-ttu-id="35ca3-121">下列主題將討論這兩個選項。</span><span class="sxs-lookup"><span data-stu-id="35ca3-121">The following topics discuss both options.</span></span>  
  
### <a name="user-name-password-credentials"></a><span data-ttu-id="35ca3-122">使用者名稱密碼認證</span><span class="sxs-lookup"><span data-stu-id="35ca3-122">User Name Password Credentials</span></span>  
 <span data-ttu-id="35ca3-123">您應該只提供使用者名稱和密碼從**認證**（適用於傳送埠） 索引標籤或**其他** 索引標籤 （如接收位置） 中**Wcf-custom 傳輸屬性** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="35ca3-123">You should only supply a user name and password from the **Credentials** tab (for send ports) or the **Other** tab (for receive locations) in the **WCF-Custom Transport Properties** dialog box.</span></span> <span data-ttu-id="35ca3-124">這可確保：</span><span class="sxs-lookup"><span data-stu-id="35ca3-124">This ensures the following:</span></span>  
  
-   <span data-ttu-id="35ca3-125">您的認證不會顯示在**位址 (URI)**欄位 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="35ca3-125">Your credentials will not be displayed in the **Address (URI)** field of the dialog box.</span></span> <span data-ttu-id="35ca3-126">這會防止誰可以存取您的螢幕 （或擁有權限，讓他們檢視傳送埠或接收位置屬性） 的那些看到您的認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-126">This prevents those who have access to your screen (or who have permissions that enable them to view the send port or receive location properties) from seeing your credentials.</span></span>  
  
-   <span data-ttu-id="35ca3-127">如果您匯出的傳送埠或接收連接埠繫結密碼將不寫入至繫結檔案。</span><span class="sxs-lookup"><span data-stu-id="35ca3-127">Your password will not be written to the binding file if you export the send port or receive port binding.</span></span> <span data-ttu-id="35ca3-128">這可防止存取的任何人檔案檢視您的密碼。</span><span class="sxs-lookup"><span data-stu-id="35ca3-128">This prevents anyone with access to the file from viewing your password.</span></span>  
  
### <a name="enterprise-single-sign-on-and-sso-affiliate-applications"></a><span data-ttu-id="35ca3-129">企業單一登入和 SSO 分支機構應用程式</span><span class="sxs-lookup"><span data-stu-id="35ca3-129">Enterprise Single Sign-On and SSO Affiliate Applications</span></span>  
 <span data-ttu-id="35ca3-130">您可以設定 Wcf-custom 配接器，使其使用企業單一登入 (SSO) 以取得 SQL Server 資料庫的認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-130">You can configure the WCF-Custom adapter so that it uses Enterprise Single Sign-on (SSO) to get the credentials for the SQL Server database.</span></span> <span data-ttu-id="35ca3-131">SSO 使用資料庫和主要密碼來加密和儲存使用者認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-131">SSO uses a database and a master secret to encrypt and store user credentials.</span></span> <span data-ttu-id="35ca3-132">它也提供將 Microsoft Windows 帳戶對應到第二個認證，可用來存取後端系統的服務。</span><span class="sxs-lookup"><span data-stu-id="35ca3-132">It also provides services to map Microsoft Windows accounts to secondary credentials that are used to access a back-end system.</span></span> <span data-ttu-id="35ca3-133">藉由使用 SSO，您可以對應至使用者名稱和密碼的 SQL Server 資料庫上的 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="35ca3-133">By using SSO, you can map a Windows account to a user name and password on the SQL Server database.</span></span>  
  
 <span data-ttu-id="35ca3-134">SSO 使用*分支機構應用程式*和*SSO 對應*對應至後端系統的認證。</span><span class="sxs-lookup"><span data-stu-id="35ca3-134">SSO uses *affiliate applications* and *SSO mappings* to map credentials to the back-end system.</span></span> <span data-ttu-id="35ca3-135">分支機構應用程式是指的是系統或需要第二個認證的應用程式的 SSO 中的邏輯實體。</span><span class="sxs-lookup"><span data-stu-id="35ca3-135">An affiliate application is a logical entity in SSO that refers to a system or an application that requires secondary credentials.</span></span> <span data-ttu-id="35ca3-136">SSO 對應是與分支機構應用程式相關聯。</span><span class="sxs-lookup"><span data-stu-id="35ca3-136">An SSO mapping is associated with an affiliate application.</span></span> <span data-ttu-id="35ca3-137">則會對應至該帳戶用於存取分支機構系統或應用程式的第二個認證的 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="35ca3-137">It maps a Windows account to the secondary credentials used by that account to access the affiliate system or application.</span></span> <span data-ttu-id="35ca3-138">SSO 對應可以與 Windows 使用者帳戶或群組相關聯。</span><span class="sxs-lookup"><span data-stu-id="35ca3-138">An SSO mapping can be associated with a Windows user account or with a group.</span></span>  
  
 <span data-ttu-id="35ca3-139">若要使用 SSO 與[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]，您必須執行下列動作。</span><span class="sxs-lookup"><span data-stu-id="35ca3-139">To use SSO with the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], you must do the following.</span></span>  
  
1.  <span data-ttu-id="35ca3-140">建立分支機構應用程式 SSO 來保留使用者名稱密碼認證的 SQL Server 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="35ca3-140">Create an affiliate application in SSO to hold the user name password credentials for the SQL Server database.</span></span> <span data-ttu-id="35ca3-141">具有特殊類型的 SSO 系統管理員權限的人員，通常會執行此步驟。</span><span class="sxs-lookup"><span data-stu-id="35ca3-141">This step is often performed by someone with special types of SSO administrative privileges.</span></span>  
  
2.  <span data-ttu-id="35ca3-142">建立使用者或群組對應，將您的 Windows 帳戶對應的使用者名稱和密碼，可用來建立與 SQL Server 資料庫的連接至分支機構應用程式。</span><span class="sxs-lookup"><span data-stu-id="35ca3-142">Create a user or group mapping for the affiliate application that maps your Windows account to the user name and password that are used to establish a connection with the SQL Server database.</span></span> <span data-ttu-id="35ca3-143">根據您的安裝，使用者可能無法執行此步驟中，或可能需要擁有特殊類型的 SSO 系統管理員權限的使用者。</span><span class="sxs-lookup"><span data-stu-id="35ca3-143">Depending on your installation, a user might be able to perform this step, or it might require someone with special types of SSO administrative privileges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="35ca3-144">為 SSO 設定時，Wcf-custom 配接器會使用 SSO 所提供的服務從 SSO 資料庫取得的 SQL Server 使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="35ca3-144">When configured for SSO, the WCF-Custom adapter uses services provided by SSO to get the SQL Server user name and password from the SSO database.</span></span> <span data-ttu-id="35ca3-145">它會提供這些 （未加密） [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]，好讓配接器可以開啟 SQL Server 資料庫的連接。</span><span class="sxs-lookup"><span data-stu-id="35ca3-145">It provides these (unencrypted) to the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], so that the adapter can open a connection to the SQL Server database.</span></span> <span data-ttu-id="35ca3-146">SSO 提供的任何加密或保護跨之間的連線[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]和 SQL Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="35ca3-146">SSO provides no encryption or protection across the connection between the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] and the SQL Server database.</span></span>  
  
 <span data-ttu-id="35ca3-147">如需如何使用 SSO，包括如何建立分支機構應用程式和 SSO 對應的相關資訊的詳細資訊，請參閱[使用 SSO](../../core/using-sso.md)。</span><span class="sxs-lookup"><span data-stu-id="35ca3-147">For information about how to use SSO, including information about how to create affiliate applications and SSO mappings, see [Using SSO](../../core/using-sso.md).</span></span> <span data-ttu-id="35ca3-148">多個一般 SSO 的詳細資訊，請參閱[實作企業單一登入](../../core/implementing-enterprise-single-sign-on.md)。</span><span class="sxs-lookup"><span data-stu-id="35ca3-148">For more general information about SSO, see [Implementing Enterprise Single Sign-On](../../core/implementing-enterprise-single-sign-on.md).</span></span>
  
## <a name="the-acceptcredentialsinuri-binding-property"></a><span data-ttu-id="35ca3-149">AcceptCredentialsInUri 繫結屬性</span><span class="sxs-lookup"><span data-stu-id="35ca3-149">The AcceptCredentialsInUri Binding Property</span></span>  
 <span data-ttu-id="35ca3-150">[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]不支援**AcceptCredentialsInUri**繫結屬性。</span><span class="sxs-lookup"><span data-stu-id="35ca3-150">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] does not support **AcceptCredentialsInUri** binding property.</span></span> <span data-ttu-id="35ca3-151">認證永遠不會允許連接 URI 中。</span><span class="sxs-lookup"><span data-stu-id="35ca3-151">Credentials are never permitted in the connection URI.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="35ca3-152">另請參閱</span><span class="sxs-lookup"><span data-stu-id="35ca3-152">See Also</span></span>  
[<span data-ttu-id="35ca3-153">保護 SQL 應用程式</span><span class="sxs-lookup"><span data-stu-id="35ca3-153">Secure your SQL applications</span></span>](../../adapters-and-accelerators/adapter-sql/secure-your-sql-applications.md)  
[<span data-ttu-id="35ca3-154">若要保護的 SQL 配接器的最佳作法</span><span class="sxs-lookup"><span data-stu-id="35ca3-154">Best practices to secure the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/best-practices-to-secure-the-sql-adapter.md)