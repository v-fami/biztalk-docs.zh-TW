---
title: InterAct 配接器安全性架構 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a4924b8c-1fda-4a0c-b9be-8f2ccba38013
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8fb4234c72ad1d44fd1ca157ae031a73e2dbbd9a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36971847"
---
# <a name="interact-adapter-security-architecture"></a><span data-ttu-id="0ffad-102">InterAct 配接器安全性架構</span><span class="sxs-lookup"><span data-stu-id="0ffad-102">InterAct Adapter Security Architecture</span></span>
<span data-ttu-id="0ffad-103">訊息傳輸和接收的安全性是使用 SWIFTNet 連結 (SNL) 及 SWIFTAlliance 閘道 (SAG) 中具有憑證] 和 [密碼編譯功能來實作。</span><span class="sxs-lookup"><span data-stu-id="0ffad-103">Security for the message transmission and receipt is implemented using the certificate and crypto features inherent in SWIFTNet Link (SNL) and the SWIFTAlliance Gateway (SAG).</span></span> <span data-ttu-id="0ffad-104">SWIFT 建議服務設計為要套用的 「 端對端 「 簽章的互動 — 也就是登入要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="0ffad-104">SWIFT recommends that services designed for InterAct to apply an “end-to-end” signature—that is, to sign both request and response messages.</span></span>  
  
 <span data-ttu-id="0ffad-105">SWIFTNet 連結的安全性模組實作密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-105">The cryptographic operations are implemented by the security module of SWIFTNet Link.</span></span> <span data-ttu-id="0ffad-106">此模組可讓簽章和使用 PKI 的金鑰加密。</span><span class="sxs-lookup"><span data-stu-id="0ffad-106">This module allows signature and encryption using PKI keys.</span></span> <span data-ttu-id="0ffad-107">本質和程度加密編譯作業會指定為傳遞至 Api 之要求和回應控制資料結構的一部分。</span><span class="sxs-lookup"><span data-stu-id="0ffad-107">The nature and extent of cryptography operations are specified as part of the Request and Response Control data structures passed to the APIs.</span></span>  
  
 <span data-ttu-id="0ffad-108">SWIFTNet 支援簽署/加密 RequestPayload 或 ResponsePayload。</span><span class="sxs-lookup"><span data-stu-id="0ffad-108">SWIFTNet supports the sign/encrypt of the RequestPayload or ResponsePayload.</span></span> <span data-ttu-id="0ffad-109">也可以簽署 RequestHeader 或 ResponseHeader。</span><span class="sxs-lookup"><span data-stu-id="0ffad-109">Also the RequestHeader or ResponseHeader can be signed.</span></span>  
  
## <a name="signingencrypting-requests-and-responses"></a><span data-ttu-id="0ffad-110">簽署/加密要求和回應</span><span class="sxs-lookup"><span data-stu-id="0ffad-110">Signing/Encrypting Requests and Responses</span></span>  
 <span data-ttu-id="0ffad-111">套用 SWIFTNet 互動要求的項目上的密碼編譯作業的規則如下所示：</span><span class="sxs-lookup"><span data-stu-id="0ffad-111">The rules for applying cryptographic operations on SWIFTNet InterAct Request elements are as follows:</span></span>  
  
- <span data-ttu-id="0ffad-112">RequestControl： 這送往 SWIFTNet 只。</span><span class="sxs-lookup"><span data-stu-id="0ffad-112">RequestControl: this is destined to SWIFTNet only.</span></span> <span data-ttu-id="0ffad-113">SWIFTNet 提供 RequestDescriptor 回應者 （和某些項目也給要求者）。</span><span class="sxs-lookup"><span data-stu-id="0ffad-113">SWIFTNet delivers a RequestDescriptor to the responder (and some elements also to the Requestor).</span></span> <span data-ttu-id="0ffad-114">因此，用戶端程序可處理密碼編譯作業時，伺服器可以對其執行。</span><span class="sxs-lookup"><span data-stu-id="0ffad-114">Therefore, no client process to server process cryptographic operation can be performed on it.</span></span>  
  
- <span data-ttu-id="0ffad-115">RequestE2EControl： 這個項目包含的資訊，以確保可靠的端對端傳訊。</span><span class="sxs-lookup"><span data-stu-id="0ffad-115">RequestE2EControl: this element contains information to ensure reliable end-to-end messaging.</span></span> <span data-ttu-id="0ffad-116">可以對其不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-116">No cryptographic operation can be performed on it.</span></span>  
  
- <span data-ttu-id="0ffad-117">RequestHeader： 它是使用 SWIFTNet 並傳達給回應者不變。</span><span class="sxs-lookup"><span data-stu-id="0ffad-117">RequestHeader: it is used by SWIFTNet and conveyed unchanged to the Responder.</span></span> <span data-ttu-id="0ffad-118">因此，這可以都只簽署了。</span><span class="sxs-lookup"><span data-stu-id="0ffad-118">Therefore, this can only be signed.</span></span>  
  
- <span data-ttu-id="0ffad-119">RequestPayload： 您可以在此執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-119">RequestPayload: any cryptographic operations can be performed on this.</span></span>  
  
- <span data-ttu-id="0ffad-120">加密的項目： 這些的先前已啟動的密碼編譯作業，此要求相關。</span><span class="sxs-lookup"><span data-stu-id="0ffad-120">Crypto element(s): these relate to previously activated cryptographic operations on this Request.</span></span> <span data-ttu-id="0ffad-121">這些可以不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-121">No cryptographic operations can be performed on these.</span></span>  
  
  <span data-ttu-id="0ffad-122">將密碼編譯函式套用 SWIFTNet 互動回應所引發的規則如下：</span><span class="sxs-lookup"><span data-stu-id="0ffad-122">The rules for applying cryptographic functions on SWIFTNet InterAct responses are:</span></span>  
  
- <span data-ttu-id="0ffad-123">ResponseControl： 這送往 SWIFTNet 只。</span><span class="sxs-lookup"><span data-stu-id="0ffad-123">ResponseControl: this is destined to SWIFTNet only.</span></span> <span data-ttu-id="0ffad-124">SWIFTNet 提供 ResponseDescriptor 給要求者。</span><span class="sxs-lookup"><span data-stu-id="0ffad-124">SWIFTNet delivers a ResponseDescriptor to the Requestor.</span></span> <span data-ttu-id="0ffad-125">因此，任何的伺服器處理序，至用戶端處理密碼編譯作業，可以對其不執行。</span><span class="sxs-lookup"><span data-stu-id="0ffad-125">Therefore, no server process to client process cryptographic operation, can be performed on it.</span></span>  
  
- <span data-ttu-id="0ffad-126">ResponseE2EControl： 這個項目包含的資訊，以確保可靠的端對端傳訊。</span><span class="sxs-lookup"><span data-stu-id="0ffad-126">ResponseE2EControl: this element contains information to ensure reliable end-to-end messaging.</span></span> <span data-ttu-id="0ffad-127">可以對其不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-127">No cryptographic operation can be performed on it.</span></span>  
  
- <span data-ttu-id="0ffad-128">ResponseHeader： 可以簽署這個項目 （傳輸變更至要求者）。</span><span class="sxs-lookup"><span data-stu-id="0ffad-128">ResponseHeader: this element can be signed (it is transferred unchanged to the Requestor).</span></span>  
  
- <span data-ttu-id="0ffad-129">ResponsePayload： 可以進行加密及/或簽署。</span><span class="sxs-lookup"><span data-stu-id="0ffad-129">ResponsePayload: can be encrypted and/or signed.</span></span>  
  
- <span data-ttu-id="0ffad-130">加密的項目： 這些的先前已啟動的密碼編譯作業，此要求相關。</span><span class="sxs-lookup"><span data-stu-id="0ffad-130">Crypto element(s): these relate to previously activated cryptographic operations on this Request.</span></span> <span data-ttu-id="0ffad-131">這些可以不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-131">No cryptographic operations can be performed on these.</span></span>  
  
## <a name="receiving-requests-with-cryptography"></a><span data-ttu-id="0ffad-132">接收要求使用密碼編譯</span><span class="sxs-lookup"><span data-stu-id="0ffad-132">Receiving Requests with Cryptography</span></span>  
 <span data-ttu-id="0ffad-133">伺服器處理序可能會收到已限於由要求者的密碼編譯作業的要求。</span><span class="sxs-lookup"><span data-stu-id="0ffad-133">A server process may receive Requests that were subjected to cryptographic operations by the Requestor.</span></span> <span data-ttu-id="0ffad-134">連入要求包含所有相關的資訊，以啟用反向的密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-134">The incoming Request contains all relevant information to enable the reverse cryptographic operations.</span></span> <span data-ttu-id="0ffad-135">CryptoInternal 資訊的是，這類的解密和驗證函式現在會有效地運作。</span><span class="sxs-lookup"><span data-stu-id="0ffad-135">The CryptoInternal information is such that the decryption and verification function will now effectively operate.</span></span>  
  
 <span data-ttu-id="0ffad-136">需要伺服器處理序啟用的 DN，而解密您必須進行的安全性內容</span><span class="sxs-lookup"><span data-stu-id="0ffad-136">The server process will need to activate the security contexts of the DN for which decryption needs to take place</span></span>  
  
 <span data-ttu-id="0ffad-137">反向的密碼編譯作業則會修改要求確認 (解密） 的方式，原始要求可供原封不動地伺服器處理序，因為它原本要傳遞至密碼編譯金鑰的用戶端程序作業。</span><span class="sxs-lookup"><span data-stu-id="0ffad-137">The Request will then be modified by the reverse cryptographic operations (verify, decrypt) in such a way that the original Request will be made available unaltered to the server process, as it was originally delivered by the client process to the cryptographic operations.</span></span> <span data-ttu-id="0ffad-138">等候回應，類似的處理會進行。</span><span class="sxs-lookup"><span data-stu-id="0ffad-138">For the Response, similar processing takes place.</span></span> <span data-ttu-id="0ffad-139">請務必了解，驗證簽章不會只驗證內容簽署已不變更，但它將會驗證是否簽署者為正版。</span><span class="sxs-lookup"><span data-stu-id="0ffad-139">It is important to realize that verification of a signature will not only verify what was signed was not altered, but that it will authenticate whether the signer is genuine.</span></span> <span data-ttu-id="0ffad-140">這需要 SignDN 使用有效的憑證。</span><span class="sxs-lookup"><span data-stu-id="0ffad-140">This requires that the SignDN uses a valid certificate.</span></span> <span data-ttu-id="0ffad-141">有效的憑證是憑證已撤銷 （查閱在憑證撤銷清單中，保持集中 SWIFTNet 內）。</span><span class="sxs-lookup"><span data-stu-id="0ffad-141">A valid certificate is a certificate has not been revoked (a lookup in the Certificate Revocation List, kept centrally within SWIFTNet).</span></span>  
  
## <a name="activation"></a><span data-ttu-id="0ffad-142">啟用</span><span class="sxs-lookup"><span data-stu-id="0ffad-142">Activation</span></span>  
 <span data-ttu-id="0ffad-143">SWIFTNet 連結能驗證和解密在自動模式中的所有連入要求和內送回應。</span><span class="sxs-lookup"><span data-stu-id="0ffad-143">SWIFTNet Link can operate verification and decryption in automatic mode for all incoming Requests and incoming Responses.</span></span> <span data-ttu-id="0ffad-144">這表示會自動處理 SWIFTNet 連結 （驗證和解密） 最後一個密碼編譯區塊的所有連入要求 （伺服器端） 或內送回應 （用戶端）。</span><span class="sxs-lookup"><span data-stu-id="0ffad-144">This means that SWIFTNet Link will automatically process (verify and decrypt) the last crypto block of all incoming Requests (server side) or incoming Responses (client side).</span></span> <span data-ttu-id="0ffad-145">必要條件如下 （如果要求解密） 解密所需的安全性內容會開啟和，以自動模式 （此設定以自動模式會對 Sw:InitRequest 或 Sw:HandleInitResponse，藉由初始化 SWIFTNet 連結設定為 「 自動 」 CryptoMode 或更好的還是 「 進階 」 的互動。</span><span class="sxs-lookup"><span data-stu-id="0ffad-145">The prerequisites are that the security context required for decryption (if decryption is requested) is opened and that SWIFTNet Link has been initialized in automatic mode (this setting to automatic mode is done on the Sw:InitRequest or Sw:HandleInitResponse, by setting the CryptoMode to "Automatic" or better still "Advanced" for InterAct.</span></span> <span data-ttu-id="0ffad-146">(我們一律會使用 「 進階 」 互動的介面卡，因為這可讓用戶端或伺服器應用程式復原表單未預期的加密，另一端，或從過期的憑證。</span><span class="sxs-lookup"><span data-stu-id="0ffad-146">(We will always use “Advanced” for the InterAct Adapter, as this allows the client or server application to recover form unexpected encryption by the remote side, or from an expired certificate.</span></span>  
  
 <span data-ttu-id="0ffad-147">SWIFTNet 連結運作簽章和加密在一個連出要求 （或一個傳出的回應） 時自動 RequestCrypto (ResponseCrypto) 欄位會初始化為"TRUE"RequestControl (ResponseControl) 的要求 （回應） 中。</span><span class="sxs-lookup"><span data-stu-id="0ffad-147">SWIFTNet Link operates signature and encryption automatically on one outgoing Request (or one outgoing Response) if the field RequestCrypto (ResponseCrypto) is initialized to “TRUE” in the RequestControl (ResponseControl) of the Request (Response).</span></span>  
  
 <span data-ttu-id="0ffad-148">在此情況下 SWIFTNet 連結處理最後一個的加密區塊。</span><span class="sxs-lookup"><span data-stu-id="0ffad-148">In that case SWIFTNet Link processes the last crypto block.</span></span> <span data-ttu-id="0ffad-149">必要條件如下 （如果要求簽章），所需的簽章的安全性內容會開啟，加密的區塊是存在於要求上的簽章和加密需要此項目，表示與所 RequestCrypto (ResponseCrypto)旗標設為"TRUE"RequestControl (ResponseControl) 中。</span><span class="sxs-lookup"><span data-stu-id="0ffad-149">The prerequisites are that the security context required for signature (if signature is requested) is opened, that the crypto block is present in the Request with indication on the signature and encryption required, and that the RequestCrypto (ResponseCrypto) flag is set to “TRUE” in the RequestControl (ResponseControl).</span></span> <span data-ttu-id="0ffad-150">一律這麼做，不論在初始化用戶端或伺服器使用 CryptoMode。</span><span class="sxs-lookup"><span data-stu-id="0ffad-150">This is always done, irrespective of the CryptoMode used at initialization of the client or server.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0ffad-151">另請參閱</span><span class="sxs-lookup"><span data-stu-id="0ffad-151">See Also</span></span>  
 <span data-ttu-id="0ffad-152">[InterAct 配接器架構](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-152">[InterAct Adapter Architecture](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span></span>  
 <span data-ttu-id="0ffad-153">[InterAct 配接器元件](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-153">[InterAct Adapter Components](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span></span>  
 <span data-ttu-id="0ffad-154">[商務交換的 interAct 配接器訊息](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-154">[InterAct Adapter Messages for Business Exchange](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span></span>  
 <span data-ttu-id="0ffad-155">[InterAct 配接器用戶端應用程式](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-155">[InterAct Adapter Client Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span></span>  
 <span data-ttu-id="0ffad-156">[InterAct 配接器伺服器應用程式](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-156">[InterAct Adapter Server Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span></span>  
 <span data-ttu-id="0ffad-157">[InterAct 配接器儲存和轉寄](../../adapters-and-accelerators/fileact-interact/interact-adapter-store-and-forward.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-157">[InterAct Adapter Store and Forward](../../adapters-and-accelerators/fileact-interact/interact-adapter-store-and-forward.md) </span></span>  
 <span data-ttu-id="0ffad-158">[互動配接器端對端可靠傳遞](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-158">[InterAct Adapter End-to-End Reliable Delivery](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span></span>  
 <span data-ttu-id="0ffad-159">[InterAct 配接器狀態監視](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span><span class="sxs-lookup"><span data-stu-id="0ffad-159">[InterAct Adapter Status Monitoring](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span></span>  
 [<span data-ttu-id="0ffad-160">InterAct 配接器不可否認性</span><span class="sxs-lookup"><span data-stu-id="0ffad-160">InterAct Adapter Non-Repudiation</span></span>](../../adapters-and-accelerators/fileact-interact/interact-adapter-non-repudiation.md)