---
title: 互動的配接器安全性架構 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a4924b8c-1fda-4a0c-b9be-8f2ccba38013
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de0eee57daec102507a9e502e3146e1cfcdec723
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22225358"
---
# <a name="interact-adapter-security-architecture"></a><span data-ttu-id="d6fac-102">互動的配接器安全性架構</span><span class="sxs-lookup"><span data-stu-id="d6fac-102">InterAct Adapter Security Architecture</span></span>
<span data-ttu-id="d6fac-103">訊息傳輸和接收的安全性是使用固有 SWIFTNet 連結 (SNL) 和 SWIFTAlliance 閘道 (SAG) 中的憑證和密碼編譯功能來實作。</span><span class="sxs-lookup"><span data-stu-id="d6fac-103">Security for the message transmission and receipt is implemented using the certificate and crypto features inherent in SWIFTNet Link (SNL) and the SWIFTAlliance Gateway (SAG).</span></span> <span data-ttu-id="d6fac-104">SWIFT 建議服務設計的互動來 「 端對端 「 簽章套用 — 也就是登入要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="d6fac-104">SWIFT recommends that services designed for InterAct to apply an “end-to-end” signature—that is, to sign both request and response messages.</span></span>  
  
 <span data-ttu-id="d6fac-105">SWIFTNet 連結的安全性模組實作密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-105">The cryptographic operations are implemented by the security module of SWIFTNet Link.</span></span> <span data-ttu-id="d6fac-106">此模組可讓簽章和加密使用 PKI 金鑰。</span><span class="sxs-lookup"><span data-stu-id="d6fac-106">This module allows signature and encryption using PKI keys.</span></span> <span data-ttu-id="d6fac-107">本質和程度加密編譯作業會指定傳遞至 Api 的要求和回應控制項資料結構的一部分。</span><span class="sxs-lookup"><span data-stu-id="d6fac-107">The nature and extent of cryptography operations are specified as part of the Request and Response Control data structures passed to the APIs.</span></span>  
  
 <span data-ttu-id="d6fac-108">SWIFTNet 支援簽署/加密 RequestPayload 或 ResponsePayload。</span><span class="sxs-lookup"><span data-stu-id="d6fac-108">SWIFTNet supports the sign/encrypt of the RequestPayload or ResponsePayload.</span></span> <span data-ttu-id="d6fac-109">也可以簽署 RequestHeader 或 ResponseHeader。</span><span class="sxs-lookup"><span data-stu-id="d6fac-109">Also the RequestHeader or ResponseHeader can be signed.</span></span>  
  
## <a name="signingencrypting-requests-and-responses"></a><span data-ttu-id="d6fac-110">簽署/加密要求和回應</span><span class="sxs-lookup"><span data-stu-id="d6fac-110">Signing/Encrypting Requests and Responses</span></span>  
 <span data-ttu-id="d6fac-111">密碼編譯操作，要求 SWIFTNet 互動項目上的套用的規則如下所示：</span><span class="sxs-lookup"><span data-stu-id="d6fac-111">The rules for applying cryptographic operations on SWIFTNet InterAct Request elements are as follows:</span></span>  
  
-   <span data-ttu-id="d6fac-112">RequestControl： 這被要以 SWIFTNet 只。</span><span class="sxs-lookup"><span data-stu-id="d6fac-112">RequestControl: this is destined to SWIFTNet only.</span></span> <span data-ttu-id="d6fac-113">SWIFTNet 會 RequestDescriptor 傳遞至回應者 （和也給要求者的某些項目）。</span><span class="sxs-lookup"><span data-stu-id="d6fac-113">SWIFTNet delivers a RequestDescriptor to the responder (and some elements also to the Requestor).</span></span> <span data-ttu-id="d6fac-114">因此，可以對其不執行至伺服器處理的密碼編譯作業的任何用戶端程序。</span><span class="sxs-lookup"><span data-stu-id="d6fac-114">Therefore, no client process to server process cryptographic operation can be performed on it.</span></span>  
  
-   <span data-ttu-id="d6fac-115">RequestE2EControl： 這個項目包含的資訊，確保端對端的可信賴傳訊。</span><span class="sxs-lookup"><span data-stu-id="d6fac-115">RequestE2EControl: this element contains information to ensure reliable end-to-end messaging.</span></span> <span data-ttu-id="d6fac-116">可以對其不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-116">No cryptographic operation can be performed on it.</span></span>  
  
-   <span data-ttu-id="d6fac-117">RequestHeader： 它是由 SWIFTNet 並傳達給回應者不變。</span><span class="sxs-lookup"><span data-stu-id="d6fac-117">RequestHeader: it is used by SWIFTNet and conveyed unchanged to the Responder.</span></span> <span data-ttu-id="d6fac-118">因此，這可以只是帶正負號。</span><span class="sxs-lookup"><span data-stu-id="d6fac-118">Therefore, this can only be signed.</span></span>  
  
-   <span data-ttu-id="d6fac-119">RequestPayload： 您可以在此執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-119">RequestPayload: any cryptographic operations can be performed on this.</span></span>  
  
-   <span data-ttu-id="d6fac-120">加密的項目： 這些與先前已啟動的密碼編譯作業，此要求相關聯。</span><span class="sxs-lookup"><span data-stu-id="d6fac-120">Crypto element(s): these relate to previously activated cryptographic operations on this Request.</span></span> <span data-ttu-id="d6fac-121">這些可以不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-121">No cryptographic operations can be performed on these.</span></span>  
  
 <span data-ttu-id="d6fac-122">套用密碼編譯的函式 SWIFTNet 互動回應所引發的規則如下：</span><span class="sxs-lookup"><span data-stu-id="d6fac-122">The rules for applying cryptographic functions on SWIFTNet InterAct responses are:</span></span>  
  
-   <span data-ttu-id="d6fac-123">ResponseControl： 這被要以 SWIFTNet 只。</span><span class="sxs-lookup"><span data-stu-id="d6fac-123">ResponseControl: this is destined to SWIFTNet only.</span></span> <span data-ttu-id="d6fac-124">SWIFTNet 將 ResponseDescriptor 傳遞給要求者。</span><span class="sxs-lookup"><span data-stu-id="d6fac-124">SWIFTNet delivers a ResponseDescriptor to the Requestor.</span></span> <span data-ttu-id="d6fac-125">因此，沒有伺服器處理序在用戶端處理密碼編譯作業，可以對其執行。</span><span class="sxs-lookup"><span data-stu-id="d6fac-125">Therefore, no server process to client process cryptographic operation, can be performed on it.</span></span>  
  
-   <span data-ttu-id="d6fac-126">ResponseE2EControl： 這個項目包含的資訊，確保端對端的可信賴傳訊。</span><span class="sxs-lookup"><span data-stu-id="d6fac-126">ResponseE2EControl: this element contains information to ensure reliable end-to-end messaging.</span></span> <span data-ttu-id="d6fac-127">可以對其不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-127">No cryptographic operation can be performed on it.</span></span>  
  
-   <span data-ttu-id="d6fac-128">ResponseHeader： 可以簽署這個項目 （傳送變更到要求者）。</span><span class="sxs-lookup"><span data-stu-id="d6fac-128">ResponseHeader: this element can be signed (it is transferred unchanged to the Requestor).</span></span>  
  
-   <span data-ttu-id="d6fac-129">ResponsePayload： 可以進行加密及/或簽署。</span><span class="sxs-lookup"><span data-stu-id="d6fac-129">ResponsePayload: can be encrypted and/or signed.</span></span>  
  
-   <span data-ttu-id="d6fac-130">加密的項目： 這些與先前已啟動的密碼編譯作業，此要求相關聯。</span><span class="sxs-lookup"><span data-stu-id="d6fac-130">Crypto element(s): these relate to previously activated cryptographic operations on this Request.</span></span> <span data-ttu-id="d6fac-131">這些可以不執行任何密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-131">No cryptographic operations can be performed on these.</span></span>  
  
## <a name="receiving-requests-with-cryptography"></a><span data-ttu-id="d6fac-132">接收要求使用密碼編譯</span><span class="sxs-lookup"><span data-stu-id="d6fac-132">Receiving Requests with Cryptography</span></span>  
 <span data-ttu-id="d6fac-133">伺服器處理序可能會收到已進行要求者的密碼編譯作業的要求。</span><span class="sxs-lookup"><span data-stu-id="d6fac-133">A server process may receive Requests that were subjected to cryptographic operations by the Requestor.</span></span> <span data-ttu-id="d6fac-134">傳入的要求包含所有的相關資訊，若要啟用反向的密碼編譯作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-134">The incoming Request contains all relevant information to enable the reverse cryptographic operations.</span></span> <span data-ttu-id="d6fac-135">CryptoInternal 資訊會解密和驗證函式現在會有效地運作。</span><span class="sxs-lookup"><span data-stu-id="d6fac-135">The CryptoInternal information is such that the decryption and verification function will now effectively operate.</span></span>  
  
 <span data-ttu-id="d6fac-136">伺服器處理序將需要啟動的 DN 進行哪些解密需求的安全性內容</span><span class="sxs-lookup"><span data-stu-id="d6fac-136">The server process will need to activate the security contexts of the DN for which decryption needs to take place</span></span>  
  
 <span data-ttu-id="d6fac-137">要求將會加以修改反向的密碼編譯作業 （確認、 解密） 的方式，原始要求可供不變，與伺服器處理序，因為它原來隨選密碼編譯金鑰的用戶端程序作業。</span><span class="sxs-lookup"><span data-stu-id="d6fac-137">The Request will then be modified by the reverse cryptographic operations (verify, decrypt) in such a way that the original Request will be made available unaltered to the server process, as it was originally delivered by the client process to the cryptographic operations.</span></span> <span data-ttu-id="d6fac-138">回應，類似的處理會發生。</span><span class="sxs-lookup"><span data-stu-id="d6fac-138">For the Response, similar processing takes place.</span></span> <span data-ttu-id="d6fac-139">請務必了解，驗證簽章將只驗證功能已簽署已不變更，但它將會驗證是否簽署人為正版。</span><span class="sxs-lookup"><span data-stu-id="d6fac-139">It is important to realize that verification of a signature will not only verify what was signed was not altered, but that it will authenticate whether the signer is genuine.</span></span> <span data-ttu-id="d6fac-140">這需要 SignDN 使用有效的憑證。</span><span class="sxs-lookup"><span data-stu-id="d6fac-140">This requires that the SignDN uses a valid certificate.</span></span> <span data-ttu-id="d6fac-141">有效的憑證是憑證已撤銷 （SWIFTNet 內集中保存在憑證撤銷清單中的查閱）。</span><span class="sxs-lookup"><span data-stu-id="d6fac-141">A valid certificate is a certificate has not been revoked (a lookup in the Certificate Revocation List, kept centrally within SWIFTNet).</span></span>  
  
## <a name="activation"></a><span data-ttu-id="d6fac-142">啟用</span><span class="sxs-lookup"><span data-stu-id="d6fac-142">Activation</span></span>  
 <span data-ttu-id="d6fac-143">SWIFTNet 連結可以操作驗證和解密在自動模式中的所有連入要求和內送回應。</span><span class="sxs-lookup"><span data-stu-id="d6fac-143">SWIFTNet Link can operate verification and decryption in automatic mode for all incoming Requests and incoming Responses.</span></span> <span data-ttu-id="d6fac-144">這表示會自動處理 SWIFTNet 連結 （驗證和解密） 的所有內送要求 （伺服器端） 或連入回應 （用戶端） 區塊的最後一個密碼編譯。</span><span class="sxs-lookup"><span data-stu-id="d6fac-144">This means that SWIFTNet Link will automatically process (verify and decrypt) the last crypto block of all incoming Requests (server side) or incoming Responses (client side).</span></span> <span data-ttu-id="d6fac-145">必要條件是開啟的 （如果要求解密） 解密所需的安全性內容，且 SWIFTNet 連結，已在自動模式中 （此設定以自動模式由 Sw:InitRequest 或 Sw:HandleInitResponse，初始化設定為 「 自動 」 CryptoMode 或更好的仍 「 進階 」 的互動。</span><span class="sxs-lookup"><span data-stu-id="d6fac-145">The prerequisites are that the security context required for decryption (if decryption is requested) is opened and that SWIFTNet Link has been initialized in automatic mode (this setting to automatic mode is done on the Sw:InitRequest or Sw:HandleInitResponse, by setting the CryptoMode to "Automatic" or better still "Advanced" for InterAct.</span></span> <span data-ttu-id="d6fac-146">(我們將一律使用 [進階] 進行互動的介面卡，這可讓用戶端或伺服器應用程式復原表單未預期的加密，另一端，或從過期的憑證。</span><span class="sxs-lookup"><span data-stu-id="d6fac-146">(We will always use “Advanced” for the InterAct Adapter, as this allows the client or server application to recover form unexpected encryption by the remote side, or from an expired certificate.</span></span>  
  
 <span data-ttu-id="d6fac-147">SWIFTNet 連結運作簽章及加密自動上一個連出要求 （或一個外寄回應），如果欄位 RequestCrypto (ResponseCrypto) 會初始化為"TRUE"的要求 （回應） RequestControl (ResponseControl) 中。</span><span class="sxs-lookup"><span data-stu-id="d6fac-147">SWIFTNet Link operates signature and encryption automatically on one outgoing Request (or one outgoing Response) if the field RequestCrypto (ResponseCrypto) is initialized to “TRUE” in the RequestControl (ResponseControl) of the Request (Response).</span></span>  
  
 <span data-ttu-id="d6fac-148">在此情況下 SWIFTNet 連結處理最後一個的加密區塊。</span><span class="sxs-lookup"><span data-stu-id="d6fac-148">In that case SWIFTNet Link processes the last crypto block.</span></span> <span data-ttu-id="d6fac-149">先決條件皆已開啟的簽章 （如果要求簽章） 所需的安全性內容，密碼編譯區塊是存在於具有簽章和加密所需，指示要求，而且 RequestCrypto (ResponseCrypto)旗標設定為"TRUE"RequestControl (ResponseControl) 中。</span><span class="sxs-lookup"><span data-stu-id="d6fac-149">The prerequisites are that the security context required for signature (if signature is requested) is opened, that the crypto block is present in the Request with indication on the signature and encryption required, and that the RequestCrypto (ResponseCrypto) flag is set to “TRUE” in the RequestControl (ResponseControl).</span></span> <span data-ttu-id="d6fac-150">進行此設定一律，不論在初始化用戶端或伺服器使用 CryptoMode。</span><span class="sxs-lookup"><span data-stu-id="d6fac-150">This is always done, irrespective of the CryptoMode used at initialization of the client or server.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d6fac-151">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d6fac-151">See Also</span></span>  
 <span data-ttu-id="d6fac-152">[互動的配接器架構](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-152">[InterAct Adapter Architecture](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span></span>  
 <span data-ttu-id="d6fac-153">[InterAct 配接器元件](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-153">[InterAct Adapter Components](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span></span>  
 <span data-ttu-id="d6fac-154">[配接器訊息互動的商務交換](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-154">[InterAct Adapter Messages for Business Exchange](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span></span>  
 <span data-ttu-id="d6fac-155">[InterAct 配接器用戶端應用程式](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-155">[InterAct Adapter Client Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span></span>  
 <span data-ttu-id="d6fac-156">[InterAct 配接器伺服器應用程式](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-156">[InterAct Adapter Server Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span></span>  
 <span data-ttu-id="d6fac-157">[配接器儲存與轉送互動](../../adapters-and-accelerators/fileact-interact/interact-adapter-store-and-forward.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-157">[InterAct Adapter Store and Forward](../../adapters-and-accelerators/fileact-interact/interact-adapter-store-and-forward.md) </span></span>  
 <span data-ttu-id="d6fac-158">[互動配接器端對端可靠傳遞](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-158">[InterAct Adapter End-to-End Reliable Delivery](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span></span>  
 <span data-ttu-id="d6fac-159">[互動的介面卡狀態監視](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span><span class="sxs-lookup"><span data-stu-id="d6fac-159">[InterAct Adapter Status Monitoring](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span></span>  
 [<span data-ttu-id="d6fac-160">互動配接器不可否認性</span><span class="sxs-lookup"><span data-stu-id="d6fac-160">InterAct Adapter Non-Repudiation</span></span>](../../adapters-and-accelerators/fileact-interact/interact-adapter-non-repudiation.md)