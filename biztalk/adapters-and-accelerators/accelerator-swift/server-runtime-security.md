---
title: 伺服器執行階段安全性 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- security, server runtime
- servers, security
- servers, runtime
ms.assetid: 40f5ca3e-d9d3-4543-bd38-82283c343b76
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3c690c6e34e5ac8d5f70bc58cfd36e4e99006e8b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36976263"
---
# <a name="server-runtime-security"></a><span data-ttu-id="e7f17-102">伺服器執行階段安全性</span><span class="sxs-lookup"><span data-stu-id="e7f17-102">Server Runtime Security</span></span>
[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e7f17-103"> Message Repair 和 New Submission 控制 SWIFT 的訊息，商務使用者、 後端系統和 SWIFT 網路端點之間的流量安全且具決定性的方式。</span><span class="sxs-lookup"><span data-stu-id="e7f17-103"> Message Repair and New Submission governs the flow of SWIFT messages between business users, back-end systems, and SWIFT network endpoints in a secure and deterministic manner.</span></span> <span data-ttu-id="e7f17-104">它會驗證商務使用者所提交的訊息、 驗證訊息的資料和商務規則的正確性，並將訊息路由傳送到後端系統或最終傳遞至 SWIFT 的網路。</span><span class="sxs-lookup"><span data-stu-id="e7f17-104">It authenticates messages submitted by business users, validates messages for data and business-rule correctness, and routes messages to back-end systems or for final delivery to the SWIFT network.</span></span> <span data-ttu-id="e7f17-105">如需有關數位簽章的詳細資訊，請查看 [加密及簽署憑證] 上 MSDN 文件庫網站，在[ http://go.microsoft.com/fwlink/?linkid=50285 ](http://go.microsoft.com/fwlink/?linkid=50285)。</span><span class="sxs-lookup"><span data-stu-id="e7f17-105">For more information about digital certificates, see "Encryption and Signing Certificates" on the MSDN Library Web site at [http://go.microsoft.com/fwlink/?linkid=50285](http://go.microsoft.com/fwlink/?linkid=50285).</span></span>  
  
 <span data-ttu-id="e7f17-106">Message Repair 和 New Submission[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]協調流程應用程式，裝載，而且執行[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]安全性內容。</span><span class="sxs-lookup"><span data-stu-id="e7f17-106">Message Repair and New Submission is a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] orchestration application, hosted and executed in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] security context.</span></span> <span data-ttu-id="e7f17-107">它會保護，當做[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]應用程式的[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]稍早所述的安全性功能。</span><span class="sxs-lookup"><span data-stu-id="e7f17-107">It is secured as a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] application by the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] security features described earlier.</span></span> <span data-ttu-id="e7f17-108">Message Repair 和 New Submission 也定義並強制執行特定的 SWIFT 的訊息建立、 修復、 核准及提交的使用者層級安全性原則，如下所示：</span><span class="sxs-lookup"><span data-stu-id="e7f17-108">Message Repair and New Submission also defines and enforces user-level security policies specific to SWIFT message creation, repair, approval, and submission, as follows:</span></span>  
  
- <span data-ttu-id="e7f17-109">全新或修復，所有訊息都提交至[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]透過 Message Repair 和 New Submission 必須來自受信任的使用者。</span><span class="sxs-lookup"><span data-stu-id="e7f17-109">All messages, new or repaired, submitted to [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] through Message Repair and New Submission must originate from a trusted user.</span></span>  
  
- <span data-ttu-id="e7f17-110">建立或修復訊息的受信任的使用者必須具有正確的授權和權限。</span><span class="sxs-lookup"><span data-stu-id="e7f17-110">Trusted users who create or repair messages must have the correct authorization and rights.</span></span> <span data-ttu-id="e7f17-111">核准或拒絕訊息的受信任的使用者必須具有正確的授權和權限。</span><span class="sxs-lookup"><span data-stu-id="e7f17-111">Trusted users who approve or reject messages must have the correct authorization and rights.</span></span>  
  
- <span data-ttu-id="e7f17-112">所有訊息必須經過已知數目的受信任的使用者都核准。</span><span class="sxs-lookup"><span data-stu-id="e7f17-112">All messages must be approved by a known number of trusted users.</span></span> <span data-ttu-id="e7f17-113">必須是唯一的訊息建立者、 repairer，以及核准者鏈結中每個信任的使用者，相同的使用者無法建立或修復以及核准或拒絕訊息。</span><span class="sxs-lookup"><span data-stu-id="e7f17-113">Each trusted user in the chain of message creator, repairer, and approvers must be unique—the same user cannot create or repair and approve or reject a message.</span></span> <span data-ttu-id="e7f17-114">相同的使用者無法輸入多個核准或拒絕決策中包含多個步驟的核准程序的單一訊息。</span><span class="sxs-lookup"><span data-stu-id="e7f17-114">The same user cannot enter multiple approve or reject decisions for a single message in a multistep approval process.</span></span> <span data-ttu-id="e7f17-115">您無法核准您自己建立或修復的訊息，也不可以核准多個核准者為相同的訊息。</span><span class="sxs-lookup"><span data-stu-id="e7f17-115">You cannot approve your own created or repaired messages, nor can you approve the same message as multiple approvers.</span></span>  
  
- <span data-ttu-id="e7f17-116">您無法改變一則訊息，在核准程序期間 （也就是訊息無法在之後修改原始送交 Message Repair 和 New Submission，為全新或修復的訊息）。</span><span class="sxs-lookup"><span data-stu-id="e7f17-116">You cannot alter a message during the approval process (that is, a message cannot be altered after original submission to Message Repair and New Submission, as a new or repaired message).</span></span>  
  
- <span data-ttu-id="e7f17-117">重設金鑰驗證階段期間變更的訊息必須完全符合原始訊息 （建立或修復）。</span><span class="sxs-lookup"><span data-stu-id="e7f17-117">Messages altered during a rekey verification stage must exactly match the original message (either created or repaired).</span></span>  
  
  <span data-ttu-id="e7f17-118">若要強制這些安全性語意，訊息修復和新送出驗證內嵌在每個收到，建立或修復核准提交程序的每個階段的 XML 訊息的數位簽章。</span><span class="sxs-lookup"><span data-stu-id="e7f17-118">To enforce these security semantics, Message Repair and New Submission validates the digital signature embedded in every XML message that it receives, at each stage of the creation or repair approval-submission process.</span></span> <span data-ttu-id="e7f17-119">Message Repair 和 New Submission 的數位簽章驗證可執行下列檢查。</span><span class="sxs-lookup"><span data-stu-id="e7f17-119">The Message Repair and New Submission digital signature validation performs the following checks.</span></span> <span data-ttu-id="e7f17-120">如果一或多個這些檢查會失敗，Message Repair 和 New Submission 的停駐點，而且會儲存到訊息方塊中，並將安全性錯誤會記錄在事件記錄檔中：</span><span class="sxs-lookup"><span data-stu-id="e7f17-120">If one or more of these checks fail, Message Repair and New Submission stops and is persisted through the message box, and a security fault is logged in the Event Log:</span></span>  
  
- <span data-ttu-id="e7f17-121">XML 訊息必須經過數位簽署，因此必須包含對應的數位簽章。</span><span class="sxs-lookup"><span data-stu-id="e7f17-121">The XML message must be digitally signed and therefore must contain a corresponding digital signature.</span></span>  
  
- <span data-ttu-id="e7f17-122">每個工作流程中使用的數位簽章必須設定為使用受信任的數位憑證。</span><span class="sxs-lookup"><span data-stu-id="e7f17-122">Each digital signature used in the workflow must be made by using a trusted digital certificate.</span></span> <span data-ttu-id="e7f17-123">這可確保訊息建立者、 repairer、 驗證器和核准者是受信任。</span><span class="sxs-lookup"><span data-stu-id="e7f17-123">This ensures that the message creator, repairer, verifier and approvers are trusted.</span></span>  
  
- <span data-ttu-id="e7f17-124">每個受信任的數位認證必須屬於[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]網域，使用者是否具有邏輯的授權單位或內執行動作的權限的網域群組成員資格[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="e7f17-124">Each trusted digital certificate must belong to a [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] domain user who has membership in the domain group having logical authority or rights to perform actions within [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)].</span></span> <span data-ttu-id="e7f17-125">這可確保在建立或送出核准修復動作的程序中的每個參與者都具有正確的授權或權限來執行它們執行的特定動作。</span><span class="sxs-lookup"><span data-stu-id="e7f17-125">This ensures that each participant in the create or repair-approval-submission process has the correct authority or rights to perform the specific action that they performed.</span></span>  
  
   <span data-ttu-id="e7f17-126">上述規則會強制執行透過 SharePoint 網站，透過網站使用者群組和表單送出程式碼上的 Acl。</span><span class="sxs-lookup"><span data-stu-id="e7f17-126">The preceding rules are enforced through ACLs on the SharePoint site through site user groups and through the form submit code.</span></span> <span data-ttu-id="e7f17-127">若訊息執行位置的使用者不是處於[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]使用者群組 （網域或本機） Message Repair 和 New Submission 會拒絕訊息。</span><span class="sxs-lookup"><span data-stu-id="e7f17-127">If the user acting upon the message is not in the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Users group (domain or local), Message Repair and New Submission rejects the message.</span></span>  
  
   <span data-ttu-id="e7f17-128">例如，組織強制執行的三階段的核准程序可能會定義這三個邏輯角色： Repairers、 驗證者 （重設金鑰階段） 和核准者。</span><span class="sxs-lookup"><span data-stu-id="e7f17-128">For example, an organization that enforces a three-stage approval process might define these three logical roles: Repairers, Verifiers (Rekey stage), and Approvers.</span></span> <span data-ttu-id="e7f17-129">同樣地，參與角色的使用者必須屬於[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]使用者網域群組。</span><span class="sxs-lookup"><span data-stu-id="e7f17-129">Correspondingly, the users participating in the roles need to belong to the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Users domain group.</span></span> <span data-ttu-id="e7f17-130">進一步鎖定 SharePoint 網站的使用者應該會組織成邏輯網域群組 （例如 repairers，驗證者，核准者）。</span><span class="sxs-lookup"><span data-stu-id="e7f17-130">To further lock down the SharePoint site the users should be organized into logical domain groups (such as repairers, verifiers, approvers).</span></span>  
  
   <span data-ttu-id="e7f17-131">如需站台的使用者群組的詳細資訊，請參閱[Windows SharePoint Services 安全性](../../adapters-and-accelerators/accelerator-swift/windows-sharepoint-services-security.md)。</span><span class="sxs-lookup"><span data-stu-id="e7f17-131">For more information about site user groups see [Windows SharePoint Services Security](../../adapters-and-accelerators/accelerator-swift/windows-sharepoint-services-security.md).</span></span>  
  
- <span data-ttu-id="e7f17-132">每個堆疊中的數位簽章必須是唯一的。</span><span class="sxs-lookup"><span data-stu-id="e7f17-132">Each digital signature in the stack must be unique.</span></span> <span data-ttu-id="e7f17-133">也就是說，每個數位簽章必須設定為使用唯一的數位憑證 （相對於其他的簽章相同堆疊中）。</span><span class="sxs-lookup"><span data-stu-id="e7f17-133">That is, each digital signature must be made by using a unique digital certificate (relative to the other signatures in the same stack).</span></span> <span data-ttu-id="e7f17-134">這可確保訊息，未經核准所建立/修復訊息的人員，且完全沒有人核准為多位核准者相同的訊息。</span><span class="sxs-lookup"><span data-stu-id="e7f17-134">This ensures that the message was not approved by the person who created/repaired the message, and that no person approved the same message as multiple approvers.</span></span>  
  
  <span data-ttu-id="e7f17-135">Message Repair 和 New Submission 會施加嚴格的安全性原則，讓檢查點的訊息建立、 修復、 核准及提交基礎結構每個進入點。</span><span class="sxs-lookup"><span data-stu-id="e7f17-135">Message Repair and New Submission imposes strict security policies by having checkpoints at each entry point into the message creation, repair, approval, and submission infrastructure.</span></span> <span data-ttu-id="e7f17-136">這些檢查點會緊密結合的 Message Repair 和 New Submission 的核心功能，因此無法規避。</span><span class="sxs-lookup"><span data-stu-id="e7f17-136">These checkpoints are tightly coupled with core functionality of Message Repair and New Submission and cannot be circumvented.</span></span> <span data-ttu-id="e7f17-137">雖然 Message Repair 和 New Submission 的設計為緊密整合[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]形式簽署功能，它也設計為安全且穩健地強制執行的真實性和 SWIFT 的訊息，即使保護而[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]是不使用訊息會直接由結束使用者提交到 Message Repair 和 New Submission 接收結束點 （SharePoint Web 資料夾）。</span><span class="sxs-lookup"><span data-stu-id="e7f17-137">While Message Repair and New Submission is designed to integrate seamlessly with the [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] form-signing functionality, it is also designed to be secure and robust enough to enforce authenticity and protection of SWIFT messages even if [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] is not used and messages are submitted directly by end users to Message Repair and New Submission receive endpoints (SharePoint Web folders).</span></span>