---
title: 監視節流使用效能臨界值規則 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: cc2c3024-a54b-4485-8110-c2ec9ec52721
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4d5bf8f327cbdb12ebe0723941afd6e37b5d2409
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968047"
---
# <a name="monitoring-throttling-using-performance-threshold-rules"></a><span data-ttu-id="192a0-102">監視節流使用效能臨界值規則</span><span class="sxs-lookup"><span data-stu-id="192a0-102">Monitoring Throttling Using Performance Threshold Rules</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="192a0-103"> 將會初始化節流，以保護系統不致達到無法復原的狀態。</span><span class="sxs-lookup"><span data-stu-id="192a0-103"> will initialize throttling to protect the system from reaching an unrecoverable state.</span></span> <span data-ttu-id="192a0-104">節流可以表示發生問題，並協助您識別其來源。</span><span class="sxs-lookup"><span data-stu-id="192a0-104">Throttling can indicate a problem and assist you in identifying its source.</span></span> <span data-ttu-id="192a0-105">您已識別為基礎的節流狀態瓶頸的原因之後，分析其他效能計數器，以縮小問題的來源。</span><span class="sxs-lookup"><span data-stu-id="192a0-105">After you have identified the cause of the bottleneck based on the throttling state, analyze the other performance counters to narrow down the source of the problem.</span></span>  
  
 <span data-ttu-id="192a0-106">比方說，在 MessageBox 資料庫上的高爭用情況可能是因為高 CPU 使用量，因而造成過度分頁至磁碟，進而可能記憶體不足所造成。</span><span class="sxs-lookup"><span data-stu-id="192a0-106">For example, high contention on the MessageBox database could be due to high CPU usage, which could be caused by excessively paging to disk, which in turn could be caused by low memory conditions.</span></span> <span data-ttu-id="192a0-107">MessageBox 上的高爭用也可能因高鎖定爭用時，可能是由於磁碟機飽和。</span><span class="sxs-lookup"><span data-stu-id="192a0-107">High contention on the MessageBox could also be caused by high lock contention, which could be due to saturated disk drives.</span></span>  
  
 <span data-ttu-id="192a0-108">監視訊息傳遞節流狀態 」 和 「 訊息發佈節流狀態，每個主控件執行個體，通常是疑難排解節流時啟動的好地方。</span><span class="sxs-lookup"><span data-stu-id="192a0-108">Monitoring the Message Delivery Throttling State and the Message Publishing Throttling State for each host instance is usually a good place to start when troubleshooting throttling.</span></span> <span data-ttu-id="192a0-109">如果這些計數器的值不是零，則表示 BizTalk Server 系統中發生節流，並可進一步分析瓶頸的原因。</span><span class="sxs-lookup"><span data-stu-id="192a0-109">If the value of these counters is not zero, it is indicative that throttling is happening within the BizTalk Server system and it is possible to further analyze the cause of the bottleneck.</span></span> <span data-ttu-id="192a0-110">如需有關其他效能計數器的描述，請參閱[資料庫層中的識別瓶頸](http://go.microsoft.com/fwlink/?LinkID=154678)(<http://go.microsoft.com/fwlink/?LinkID=154678>) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]幫助。</span><span class="sxs-lookup"><span data-stu-id="192a0-110">For descriptions on the other performance counters, see [Identifying Bottlenecks in the Database Tier](http://go.microsoft.com/fwlink/?LinkID=154678) (<http://go.microsoft.com/fwlink/?LinkID=154678>) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
## <a name="biztalk-server-system-performance-counters"></a><span data-ttu-id="192a0-111">BizTalk Server 系統效能計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-111">BizTalk Server System Performance Counters</span></span>  
  
|<span data-ttu-id="192a0-112">Object</span><span class="sxs-lookup"><span data-stu-id="192a0-112">Object</span></span>|<span data-ttu-id="192a0-113">執行個體</span><span class="sxs-lookup"><span data-stu-id="192a0-113">Instance</span></span>|<span data-ttu-id="192a0-114">計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-114">Counter</span></span>|<span data-ttu-id="192a0-115">監控目的</span><span class="sxs-lookup"><span data-stu-id="192a0-115">Monitoring Purpose</span></span>|  
|------------|--------------|-------------|------------------------|  
|<span data-ttu-id="192a0-116">處理器</span><span class="sxs-lookup"><span data-stu-id="192a0-116">Processor</span></span>|<span data-ttu-id="192a0-117">_Total</span><span class="sxs-lookup"><span data-stu-id="192a0-117">_Total</span></span>|<span data-ttu-id="192a0-118">% 處理器時間</span><span class="sxs-lookup"><span data-stu-id="192a0-118">% Processor Time</span></span>|<span data-ttu-id="192a0-119">資源爭用</span><span class="sxs-lookup"><span data-stu-id="192a0-119">Resource Contention</span></span>|  
|<span data-ttu-id="192a0-120">處理</span><span class="sxs-lookup"><span data-stu-id="192a0-120">Process</span></span>|<span data-ttu-id="192a0-121">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="192a0-121">BTSNTSvc</span></span>|<span data-ttu-id="192a0-122">虛擬位元組</span><span class="sxs-lookup"><span data-stu-id="192a0-122">Virtual Bytes</span></span>|<span data-ttu-id="192a0-123">記憶體流失/膨脹</span><span class="sxs-lookup"><span data-stu-id="192a0-123">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="192a0-124">處理</span><span class="sxs-lookup"><span data-stu-id="192a0-124">Process</span></span>|<span data-ttu-id="192a0-125">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="192a0-125">BTSNTSvc</span></span>|<span data-ttu-id="192a0-126">私用位元組</span><span class="sxs-lookup"><span data-stu-id="192a0-126">Private Bytes</span></span>|<span data-ttu-id="192a0-127">記憶體流失/膨脹</span><span class="sxs-lookup"><span data-stu-id="192a0-127">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="192a0-128">處理</span><span class="sxs-lookup"><span data-stu-id="192a0-128">Process</span></span>|<span data-ttu-id="192a0-129">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="192a0-129">BTSNTSvc</span></span>|<span data-ttu-id="192a0-130">控制碼計數</span><span class="sxs-lookup"><span data-stu-id="192a0-130">Handle Count</span></span>|<span data-ttu-id="192a0-131">資源爭用</span><span class="sxs-lookup"><span data-stu-id="192a0-131">Resource Contention</span></span>|  
|<span data-ttu-id="192a0-132">處理</span><span class="sxs-lookup"><span data-stu-id="192a0-132">Process</span></span>|<span data-ttu-id="192a0-133">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="192a0-133">BTSNTSvc</span></span>|<span data-ttu-id="192a0-134">執行緒計數</span><span class="sxs-lookup"><span data-stu-id="192a0-134">Thread Count</span></span>|<span data-ttu-id="192a0-135">資源爭用</span><span class="sxs-lookup"><span data-stu-id="192a0-135">Resource Contention</span></span>|  
|<span data-ttu-id="192a0-136">實體磁碟</span><span class="sxs-lookup"><span data-stu-id="192a0-136">Physical Disk</span></span>|<span data-ttu-id="192a0-137">_Total</span><span class="sxs-lookup"><span data-stu-id="192a0-137">_Total</span></span>|<span data-ttu-id="192a0-138">% 閒置時間</span><span class="sxs-lookup"><span data-stu-id="192a0-138">% Idle Time</span></span>|<span data-ttu-id="192a0-139">資源爭用</span><span class="sxs-lookup"><span data-stu-id="192a0-139">Resource Contention</span></span>|  
|<span data-ttu-id="192a0-140">實體磁碟</span><span class="sxs-lookup"><span data-stu-id="192a0-140">Physical Disk</span></span>|<span data-ttu-id="192a0-141">_Total</span><span class="sxs-lookup"><span data-stu-id="192a0-141">_Total</span></span>|<span data-ttu-id="192a0-142">Current Disk Queue Length</span><span class="sxs-lookup"><span data-stu-id="192a0-142">Current Disk Queue Length</span></span>|<span data-ttu-id="192a0-143">資源爭用</span><span class="sxs-lookup"><span data-stu-id="192a0-143">Resource Contention</span></span>|  
  
## <a name="biztalk-application-counters"></a><span data-ttu-id="192a0-144">BizTalk 應用程式計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-144">BizTalk Application Counters</span></span>  
  
|<span data-ttu-id="192a0-145">Object</span><span class="sxs-lookup"><span data-stu-id="192a0-145">Object</span></span>|<span data-ttu-id="192a0-146">執行個體</span><span class="sxs-lookup"><span data-stu-id="192a0-146">Instance</span></span>|<span data-ttu-id="192a0-147">計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-147">Counter</span></span>|<span data-ttu-id="192a0-148">描述</span><span class="sxs-lookup"><span data-stu-id="192a0-148">Description</span></span>|  
|------------|--------------|-------------|-----------------|  
|<span data-ttu-id="192a0-149">BizTalk 傳訊</span><span class="sxs-lookup"><span data-stu-id="192a0-149">BizTalk Messaging</span></span>|<span data-ttu-id="192a0-150">RxHost</span><span class="sxs-lookup"><span data-stu-id="192a0-150">RxHost</span></span>|<span data-ttu-id="192a0-151">每秒接收文件數</span><span class="sxs-lookup"><span data-stu-id="192a0-151">Documents Received/Sec</span></span>|<span data-ttu-id="192a0-152">內送速率</span><span class="sxs-lookup"><span data-stu-id="192a0-152">Incoming Rate</span></span>|  
|<span data-ttu-id="192a0-153">BizTalk 傳訊</span><span class="sxs-lookup"><span data-stu-id="192a0-153">BizTalk Messaging</span></span>|<span data-ttu-id="192a0-154">TxHost</span><span class="sxs-lookup"><span data-stu-id="192a0-154">TxHost</span></span>|<span data-ttu-id="192a0-155">每秒處理文件數</span><span class="sxs-lookup"><span data-stu-id="192a0-155">Documents Processed/Sec</span></span>|<span data-ttu-id="192a0-156">外寄速率</span><span class="sxs-lookup"><span data-stu-id="192a0-156">Outgoing Rate</span></span>|  
|<span data-ttu-id="192a0-157">XLANGs/協調流程</span><span class="sxs-lookup"><span data-stu-id="192a0-157">XLANGs/Orchestrations</span></span>|<span data-ttu-id="192a0-158">PxHost</span><span class="sxs-lookup"><span data-stu-id="192a0-158">PxHost</span></span>|<span data-ttu-id="192a0-159">已完成的協調流程/秒</span><span class="sxs-lookup"><span data-stu-id="192a0-159">Orchestrations Completed/Sec</span></span>|<span data-ttu-id="192a0-160">處理速率</span><span class="sxs-lookup"><span data-stu-id="192a0-160">Processing Rate</span></span>|  
|<span data-ttu-id="192a0-161">BizTalk: MessageBox： 一般計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-161">BizTalk: MessageBox: General Counters</span></span>|<span data-ttu-id="192a0-162">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="192a0-162">MsgBoxName</span></span>|<span data-ttu-id="192a0-163">多工緩衝處理大小</span><span class="sxs-lookup"><span data-stu-id="192a0-163">Spool Size</span></span>|<span data-ttu-id="192a0-164">所有主控件佇列總計大小</span><span class="sxs-lookup"><span data-stu-id="192a0-164">Cumulative size of all Host Queues</span></span>|  
|<span data-ttu-id="192a0-165">BizTalk: MessageBox： 一般計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-165">BizTalk: MessageBox: General Counters</span></span>|<span data-ttu-id="192a0-166">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="192a0-166">MsgBoxName</span></span>|<span data-ttu-id="192a0-167">追蹤資料大小</span><span class="sxs-lookup"><span data-stu-id="192a0-167">Tracking Data Size</span></span>|<span data-ttu-id="192a0-168">MessageBox 上的 TrackingData 資料表大小</span><span class="sxs-lookup"><span data-stu-id="192a0-168">Size of TrackingData table on the MessageBox</span></span>|  
|<span data-ttu-id="192a0-169">BizTalk: MessageBox： 主控件計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-169">BizTalk: MessageBox: Host Counters</span></span>|<span data-ttu-id="192a0-170">PxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="192a0-170">PxHost:MsgBoxName</span></span>|<span data-ttu-id="192a0-171">主控件佇列 - 長度</span><span class="sxs-lookup"><span data-stu-id="192a0-171">Host Queue - Length</span></span>|<span data-ttu-id="192a0-172">指定主控件佇列中的訊息數</span><span class="sxs-lookup"><span data-stu-id="192a0-172">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="192a0-173">BizTalk: MessageBox： 主控件計數器</span><span class="sxs-lookup"><span data-stu-id="192a0-173">BizTalk: MessageBox: Host Counters</span></span>|<span data-ttu-id="192a0-174">TxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="192a0-174">TxHost:MsgBoxName</span></span>|<span data-ttu-id="192a0-175">主控件佇列 - 長度</span><span class="sxs-lookup"><span data-stu-id="192a0-175">Host Queue - Length</span></span>|<span data-ttu-id="192a0-176">指定主控件佇列中的訊息數</span><span class="sxs-lookup"><span data-stu-id="192a0-176">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="192a0-177">BizTalk： 訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="192a0-177">BizTalk: Message Agent</span></span>|<span data-ttu-id="192a0-178">RxHost</span><span class="sxs-lookup"><span data-stu-id="192a0-178">RxHost</span></span>|<span data-ttu-id="192a0-179">資料庫大小</span><span class="sxs-lookup"><span data-stu-id="192a0-179">Database Size</span></span>|<span data-ttu-id="192a0-180">發佈 (PxHost) 佇列的大小</span><span class="sxs-lookup"><span data-stu-id="192a0-180">Size of publishing (PxHost) Queue</span></span>|  
|<span data-ttu-id="192a0-181">BizTalk： 訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="192a0-181">BizTalk: Message Agent</span></span>|<span data-ttu-id="192a0-182">PxHost</span><span class="sxs-lookup"><span data-stu-id="192a0-182">PxHost</span></span>|<span data-ttu-id="192a0-183">資料庫大小</span><span class="sxs-lookup"><span data-stu-id="192a0-183">Database Size</span></span>|<span data-ttu-id="192a0-184">發佈 (TxHost) 佇列的大小</span><span class="sxs-lookup"><span data-stu-id="192a0-184">Size of publishing (TxHost) Queue</span></span>|  
|<span data-ttu-id="192a0-185">BizTalk： 訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="192a0-185">BizTalk: Message Agent</span></span>|<span data-ttu-id="192a0-186">HostName</span><span class="sxs-lookup"><span data-stu-id="192a0-186">HostName</span></span>|<span data-ttu-id="192a0-187">訊息傳遞節流狀態</span><span class="sxs-lookup"><span data-stu-id="192a0-187">Message Delivery Throttling State</span></span>|<span data-ttu-id="192a0-188">影響 XLANG 和輸出傳輸</span><span class="sxs-lookup"><span data-stu-id="192a0-188">Affects XLANG and Outbound transports</span></span>|  
|<span data-ttu-id="192a0-189">BizTalk： 訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="192a0-189">BizTalk: Message Agent</span></span>|<span data-ttu-id="192a0-190">HostName</span><span class="sxs-lookup"><span data-stu-id="192a0-190">HostName</span></span>|<span data-ttu-id="192a0-191">訊息發佈節流狀態</span><span class="sxs-lookup"><span data-stu-id="192a0-191">Message Publishing Throttling State</span></span>|<span data-ttu-id="192a0-192">影響 XLANG 和輸入傳輸</span><span class="sxs-lookup"><span data-stu-id="192a0-192">Affects XLANG and Inbound transports</span></span>|  
  
## <a name="in-this-section"></a><span data-ttu-id="192a0-193">本節內容</span><span class="sxs-lookup"><span data-stu-id="192a0-193">In This Section</span></span>  
  
-   [<span data-ttu-id="192a0-194">監視節流</span><span class="sxs-lookup"><span data-stu-id="192a0-194">Monitoring for Throttling</span></span>](../technical-guides/monitoring-for-throttling.md)