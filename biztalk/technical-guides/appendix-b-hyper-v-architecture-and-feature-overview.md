---
title: "附錄 b： 使用 HYPER-V 的架構和功能概觀 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 87b6b9a0-a470-43f7-b076-36075477cc34
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9e6282b6f5a5784b80d58a1a1737389ee23e01e2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="appendix-b-hyper-v-architecture-and-feature-overview"></a><span data-ttu-id="14c4c-102">附錄 b： 使用 HYPER-V 的架構和功能概觀</span><span class="sxs-lookup"><span data-stu-id="14c4c-102">Appendix B: Hyper-V Architecture and Feature Overview</span></span>
<span data-ttu-id="14c4c-103">本主題提供 HYPER-V 架構的概觀，說明優點和缺點的 HYPER-V。</span><span class="sxs-lookup"><span data-stu-id="14c4c-103">This topic provides an overview of Hyper-V architecture, describes advantages and disadvantages of Hyper-V.</span></span>  
  
## <a name="hyper-v-architecture"></a><span data-ttu-id="14c4c-104">HYPER-V 架構</span><span class="sxs-lookup"><span data-stu-id="14c4c-104">Hyper-V Architecture</span></span>  
  
 <span data-ttu-id="14c4c-105">HYPER-V 是以 hypervisor 為基礎的虛擬化平台和技術的其中一個[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]的跑馬燈功能、 即時移轉。</span><span class="sxs-lookup"><span data-stu-id="14c4c-105">Hyper-V is a hypervisor-based virtualization platform and an enabling technology for one of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]’s marquee features, Live Migration.</span></span> <span data-ttu-id="14c4c-106">與 HYPER-V 版本 1.0，Windows Server 2008 是能夠快速移轉，可能只有幾秒鐘的停機時間與實體主機之間移動 Vm。</span><span class="sxs-lookup"><span data-stu-id="14c4c-106">With Hyper-V version 1.0, Windows Server 2008 was capable of Quick Migration, which could move VMs between physical hosts with only a few seconds of down-time.</span></span> <span data-ttu-id="14c4c-107">即時移轉與目標實體之間移動，就可能發生毫秒，這表示看不到已連線的使用者變得移轉作業中。</span><span class="sxs-lookup"><span data-stu-id="14c4c-107">With Live Migration, moves between physical targets happen in millisecond, which means migration operations become invisible to connected users.</span></span> <span data-ttu-id="14c4c-108">若要找出新功能和增強功能[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]HYPER-V，請參閱[What's New in Windows Server 2008 R2 中 HYPER-V](http://go.microsoft.com/fwlink/?LinkID=202427)。</span><span class="sxs-lookup"><span data-stu-id="14c4c-108">To find out new features and improvements in  [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Hyper-V, see [What's New in Hyper-V in Windows Server 2008 R2](http://go.microsoft.com/fwlink/?LinkID=202427).</span></span>  
  
 <span data-ttu-id="14c4c-109">Hypervisor 是可以裝載多個虛擬機器 (Vm) 與彼此隔離，但透過虛擬化的處理器、 記憶體和 I/O 裝置共用的基礎硬體資源的特定處理器的虛擬化平台。</span><span class="sxs-lookup"><span data-stu-id="14c4c-109">The hypervisor is the processor-specific virtualization platform that can host multiple virtual machines (VMs) that are isolated from each other but share the underlying hardware resources by virtualizing the processors, memory, and I/O devices.</span></span>  
  
 <span data-ttu-id="14c4c-110">HYPER-V 虛擬機器中執行的客體作業系統提供效能接近在實體硬體上執行的作業系統效能*如果*必要的虛擬伺服器用戶端 (VSC) 驅動程式和服務會安裝在客體作業系統上。</span><span class="sxs-lookup"><span data-stu-id="14c4c-110">Guest operating systems running in a Hyper-V virtual machine provide performance approaching the performance of an operating system running on physical hardware *if* the necessary virtual server client (VSC) drivers and services are installed on the guest operating system.</span></span> <span data-ttu-id="14c4c-111">HYPER-V 虛擬伺服器用戶端 (VSC) 程式碼，也稱為 HYPER-V I/O 的應用、 可讓您直接存取 HYPER-V 」 虛擬機器匯流排 」 和適用於安裝 HYPER-V 整合服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-111">Hyper-V virtual server client (VSC) code, also known as Hyper-V enlightened I/O, enables direct access to the Hyper-V “Virtual Machine Bus” and is available with the installation of Hyper-V integration services.</span></span> <span data-ttu-id="14c4c-112">同時[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]和[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]HYPER-V 支援啟發 I/O 與 HYPER-V 整合服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-112">Both [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] and [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] support Hyper-V enlightened I/O with Hyper-V integration services.</span></span> <span data-ttu-id="14c4c-113">提供 VSC 驅動程式的 HYPER-V 整合服務也可供其他用戶端作業系統。</span><span class="sxs-lookup"><span data-stu-id="14c4c-113">Hyper-V Integration services that provide VSC drivers are also available for other client operating systems.</span></span>  
  
 <span data-ttu-id="14c4c-114">HYPER-V 支援的資料分割方面的隔離。</span><span class="sxs-lookup"><span data-stu-id="14c4c-114">Hyper-V supports isolation in terms of a partition.</span></span> <span data-ttu-id="14c4c-115">資料分割是隔離的支援的 hypervisor，作業系統執行所在的邏輯單元。</span><span class="sxs-lookup"><span data-stu-id="14c4c-115">A partition is a logical unit of isolation, supported by the hypervisor, in which operating systems execute.</span></span> <span data-ttu-id="14c4c-116">Microsoft hypervisor 必須至少一個父代或根，分割區，執行[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="14c4c-116">The Microsoft hypervisor must have at least one parent, or root, partition, running [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="14c4c-117">虛擬化堆疊會在父分割區且可直接存取硬體裝置。</span><span class="sxs-lookup"><span data-stu-id="14c4c-117">The virtualization stack runs in the parent partition and has direct access to the hardware devices.</span></span> <span data-ttu-id="14c4c-118">根磁碟分割然後建立子主控客體作業系統的磁碟分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-118">The root partition then creates the child partitions which host the guest operating systems.</span></span> <span data-ttu-id="14c4c-119">根磁碟分割會建立使用 hypercall 應用程式開發介面 (API) 的子磁碟分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-119">A root partition creates child partitions using the hypercall application programming interface (API).</span></span>  
  
 <span data-ttu-id="14c4c-120">資料分割不需要存取實體的處理器，也不要處理處理器插斷。</span><span class="sxs-lookup"><span data-stu-id="14c4c-120">Partitions do not have access to the physical processor, nor do they handle the processor interrupts.</span></span> <span data-ttu-id="14c4c-121">相反地，他們擁有的虛擬處理器檢視和執行每個客體資料分割的私人虛擬記憶體位址區域中。</span><span class="sxs-lookup"><span data-stu-id="14c4c-121">Instead, they have a virtual view of the processor and run in a virtual memory address region that is private to each guest partition.</span></span> <span data-ttu-id="14c4c-122">Hypervisor 會處理插斷處理器，並重新導向至個別資料分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-122">The hypervisor handles the interrupts to the processor, and redirects them to the respective partition.</span></span> <span data-ttu-id="14c4c-123">HYPER-V 也可以硬體加速各種客體的虛擬位址空間使用輸入輸出記憶體管理單位 （iommu 所致） 的運作獨立 CPU 所使用的記憶體管理硬體之間的位址轉譯。</span><span class="sxs-lookup"><span data-stu-id="14c4c-123">Hyper-V can also hardware accelerate the address translation between various guest virtual address spaces by using an Input Output Memory Management Unit (IOMMU) which operates independent of the memory management hardware used by the CPU.</span></span> <span data-ttu-id="14c4c-124">IOMMU 用來重新對應至位址的子資料分割所使用的實體記憶體位址。</span><span class="sxs-lookup"><span data-stu-id="14c4c-124">An IOMMU is used to remap physical memory addresses to the addresses that are used by the child partitions.</span></span>  
  
 <span data-ttu-id="14c4c-125">子資料分割也沒有其他硬體資源的直接存取，並會顯示為虛擬裝置 (VDevs) 的虛擬檢視的資源。</span><span class="sxs-lookup"><span data-stu-id="14c4c-125">Child partitions also do not have direct access to other hardware resources and are presented a virtual view of the resources, as virtual devices (VDevs).</span></span> <span data-ttu-id="14c4c-126">透過 VMBus 或父分割區，用來處理要求中的裝置以 hypervisor 的虛擬裝置的要求重新導向。</span><span class="sxs-lookup"><span data-stu-id="14c4c-126">Requests to the virtual devices are redirected either via the VMBus or the hypervisor to the devices in the parent partition, which handles the requests.</span></span> <span data-ttu-id="14c4c-127">VMBus 是邏輯資料分割間的通訊通道。</span><span class="sxs-lookup"><span data-stu-id="14c4c-127">The VMBus is a logical inter-partition communication channel.</span></span> <span data-ttu-id="14c4c-128">父分割區裝載虛擬化服務提供者 (VSPs) 來處理從子分割的裝置存取要求 VMBus 透過通訊。</span><span class="sxs-lookup"><span data-stu-id="14c4c-128">The parent partition hosts Virtualization Service Providers (VSPs) which communicate over the VMBus to handle device access requests from child partitions.</span></span> <span data-ttu-id="14c4c-129">子分割裝載虛擬化服務取用者 (VSCs) 的裝置將要求重新導向 VSPs 透過 VMBus 父分割區中。</span><span class="sxs-lookup"><span data-stu-id="14c4c-129">Child partitions host Virtualization Service Consumers (VSCs) which redirect device requests to VSPs in the parent partition via the VMBus.</span></span> <span data-ttu-id="14c4c-130">這整個程序會感覺到客體作業系統。</span><span class="sxs-lookup"><span data-stu-id="14c4c-130">This entire process is transparent to the guest operating system.</span></span>  
  
 <span data-ttu-id="14c4c-131">虛擬裝置也可以利用 Windows 伺服器虛擬化功能，稱為啟發 I/O，儲存體、 網路功能、 圖形及輸入的子系統。</span><span class="sxs-lookup"><span data-stu-id="14c4c-131">Virtual Devices can also take advantage of a Windows Server Virtualization feature, named Enlightened I/O, for storage, networking, graphics, and input subsystems.</span></span> <span data-ttu-id="14c4c-132">啟發的 I/O 是利用 VMBus 直接，略過任何裝置的模擬層的高層級的通訊協定 （例如 SCSI) 的特製化感知虛擬化的實作。</span><span class="sxs-lookup"><span data-stu-id="14c4c-132">Enlightened I/O is a specialized virtualization-aware implementation of high level communication protocols (such as SCSI) that utilize the VMBus directly, bypassing any device emulation layer.</span></span> <span data-ttu-id="14c4c-133">這樣可以更有效率的通訊，但是需要是 hypervisor，並注意 VMBus 啟用的客體。</span><span class="sxs-lookup"><span data-stu-id="14c4c-133">This makes the communication more efficient but requires an enlightened guest that is hypervisor and VMBus aware.</span></span> <span data-ttu-id="14c4c-134">HYPER-V 架構 I/O 和 hypervisor 知道的核心提供透過 HYPER-V 整合服務的安裝。</span><span class="sxs-lookup"><span data-stu-id="14c4c-134">Hyper-V enlightened I/O and a hypervisor aware kernel is provided via installation of Hyper-V integration services.</span></span> <span data-ttu-id="14c4c-135">整合元件，包括虛擬伺服器用戶端 (VSC) 驅動程式，也可供其他用戶端作業系統。</span><span class="sxs-lookup"><span data-stu-id="14c4c-135">Integration components, which include virtual server client (VSC) drivers, are also available for other client operating systems.</span></span> <span data-ttu-id="14c4c-136">HYPER-V 需要包含硬體輔助虛擬化，例如處理器隨附 Intel VT 或 AMD 虛擬化 (AMD-V) 技術。</span><span class="sxs-lookup"><span data-stu-id="14c4c-136">Hyper-V requires a processor that includes hardware assisted virtualization, such as is provided with Intel VT or AMD Virtualization (AMD-V) technology.</span></span>  
  
 <span data-ttu-id="14c4c-137">下圖提供 Windows Server 2008 上執行的 HYPER-V 環境的架構的高階概觀。</span><span class="sxs-lookup"><span data-stu-id="14c4c-137">The following diagram provides a high-level overview of the architecture of a Hyper-V environment running on Windows Server 2008.</span></span>  
  
 <span data-ttu-id="14c4c-138">![Hyper-v &#45;HYPER-V 架構概觀](../technical-guides/media/eadd2a84-3936-4b48-a0e2-05b94882d848.gif "eadd2a84-3936-4b48-a0e2-05b94882d848")</span><span class="sxs-lookup"><span data-stu-id="14c4c-138">![Hyper&#45;V architecture overview](../technical-guides/media/eadd2a84-3936-4b48-a0e2-05b94882d848.gif "eadd2a84-3936-4b48-a0e2-05b94882d848")</span></span>  
<span data-ttu-id="14c4c-139">HYPER-V 架構的概觀</span><span class="sxs-lookup"><span data-stu-id="14c4c-139">Overview of Hyper-V architecture</span></span>  
  
 <span data-ttu-id="14c4c-140">縮略字和使用在上圖中的詞彙描述如下：</span><span class="sxs-lookup"><span data-stu-id="14c4c-140">Acronyms and terms used in the diagram above are described below:</span></span>  
  
-   <span data-ttu-id="14c4c-141">**APIC** – 進階可程式化插斷控制器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-141">**APIC** – Advanced Programmable Interrupt Controller.</span></span> <span data-ttu-id="14c4c-142">會輸出可讓優先權等級指派給它的插斷的裝置。</span><span class="sxs-lookup"><span data-stu-id="14c4c-142">A device which allows priority levels to be assigned to its interrupt outputs.</span></span>  
  
-   <span data-ttu-id="14c4c-143">**子分割**– 裝載為客體作業系統的磁碟分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-143">**Child Partition** – Partition that hosts a guest operating system.</span></span> <span data-ttu-id="14c4c-144">透過虛擬機器匯流排 (VMBus) 或 hypervisor 提供所有的存取權的實體記憶體並由子分割的裝置。</span><span class="sxs-lookup"><span data-stu-id="14c4c-144">All access to physical memory and devices by a child partition is provided via the Virtual Machine Bus (VMBus) or the hypervisor.</span></span>  
  
-   <span data-ttu-id="14c4c-145">**Hypercall** – 以便與 hypervisor 進行通訊的介面。</span><span class="sxs-lookup"><span data-stu-id="14c4c-145">**Hypercall** – Interface for communication with the hypervisor.</span></span> <span data-ttu-id="14c4c-146">Hypercall 介面可容納由 hypervisor 所提供的最佳化作業的存取。</span><span class="sxs-lookup"><span data-stu-id="14c4c-146">The hypercall interface accommodates access to the optimizations provided by the hypervisor.</span></span>  
  
-   <span data-ttu-id="14c4c-147">**Hypervisor** – 位於之間的硬體和一或多個作業系統的軟體層。</span><span class="sxs-lookup"><span data-stu-id="14c4c-147">**Hypervisor** – A layer of software that sits between the hardware and one or more operating systems.</span></span> <span data-ttu-id="14c4c-148">其主要工作是要提供隔離的執行環境稱為 「 磁碟分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-148">Its primary job is to provide isolated execution environments called partitions.</span></span> <span data-ttu-id="14c4c-149">Hypervisor 可控制和 arbitrates 基礎硬體的存取權。</span><span class="sxs-lookup"><span data-stu-id="14c4c-149">The hypervisor controls and arbitrates access to the underlying hardware.</span></span>  
  
-   <span data-ttu-id="14c4c-150">**IC** – 整合元件。</span><span class="sxs-lookup"><span data-stu-id="14c4c-150">**IC** – Integration component.</span></span> <span data-ttu-id="14c4c-151">允許子資料分割與其他資料分割和 hypervisor 通訊的元件。</span><span class="sxs-lookup"><span data-stu-id="14c4c-151">Component that allows child partitions to communication with other partitions and the hypervisor.</span></span>  
  
-   <span data-ttu-id="14c4c-152">**I/O 堆疊**– 輸入/輸出堆疊。</span><span class="sxs-lookup"><span data-stu-id="14c4c-152">**I/O stack** – Input/output stack.</span></span>  
  
-   <span data-ttu-id="14c4c-153">**MSR** – 記憶體服務例行工作。</span><span class="sxs-lookup"><span data-stu-id="14c4c-153">**MSR** – Memory Service Routine.</span></span>  
  
-   <span data-ttu-id="14c4c-154">**根磁碟分割**– 管理電腦層級功能，例如裝置驅動程式、 電源管理，以及裝置熱新增/移除。</span><span class="sxs-lookup"><span data-stu-id="14c4c-154">**Root Partition** – Manages machine-level functions such as device drivers, power management, and device hot addition/removal.</span></span> <span data-ttu-id="14c4c-155">根 （或父系） 磁碟分割是可直接存取實體記憶體和裝置的唯一資料分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-155">The root (or parent) partition is the only partition that has direct access to physical memory and devices.</span></span>  
  
-   <span data-ttu-id="14c4c-156">**VID** – 虛擬化基礎結構驅動程式。</span><span class="sxs-lookup"><span data-stu-id="14c4c-156">**VID** – Virtualization Infrastructure Driver.</span></span> <span data-ttu-id="14c4c-157">提供資料分割管理服務、 虛擬處理器管理服務和分割區的記憶體管理服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-157">Provides partition management services, virtual processor management services, and memory management services for partitions.</span></span>  
  
-   <span data-ttu-id="14c4c-158">**VMBus** – 間的分割區在多個作用中的虛擬化資料分割的系統上的通訊和裝置列舉所用的通道為基礎的通訊機制。</span><span class="sxs-lookup"><span data-stu-id="14c4c-158">**VMBus** – Channel-based communication mechanism used for inter-partition communication and device enumeration on systems with multiple active virtualized partitions.</span></span> <span data-ttu-id="14c4c-159">VMBus 安裝 HYPER-V 整合服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-159">The VMBus is installed with Hyper-V Integration Services.</span></span>  
  
-   <span data-ttu-id="14c4c-160">**VMMS** – 虛擬機器管理服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-160">**VMMS** – Virtual Machine Management Service.</span></span> <span data-ttu-id="14c4c-161">負責管理子資料分割中的所有虛擬機器的狀態。</span><span class="sxs-lookup"><span data-stu-id="14c4c-161">Responsible for managing the state of all virtual machines in child partitions.</span></span>  
  
-   <span data-ttu-id="14c4c-162">**VMWP** – 虛擬機器背景工作處理序。</span><span class="sxs-lookup"><span data-stu-id="14c4c-162">**VMWP** – Virtual Machine Worker Process.</span></span> <span data-ttu-id="14c4c-163">使用者模式虛擬化堆疊的元件。</span><span class="sxs-lookup"><span data-stu-id="14c4c-163">A user mode component of the virtualization stack.</span></span> <span data-ttu-id="14c4c-164">工作者處理序可提供虛擬機器管理服務，從[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]在父分割至子資料分割中的客體作業系統的執行個體。</span><span class="sxs-lookup"><span data-stu-id="14c4c-164">The worker process provides virtual machine management services from the [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] instance in the parent partition to the guest operating systems in the child partitions.</span></span> <span data-ttu-id="14c4c-165">虛擬機器管理服務會產生不同的背景工作處理序的每個執行中虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-165">The Virtual Machine Management Service spawns a separate worker process for each running virtual machine.</span></span>  
  
-   <span data-ttu-id="14c4c-166">**VSC** – 虛擬化服務用戶端。</span><span class="sxs-lookup"><span data-stu-id="14c4c-166">**VSC** – Virtualization Service Client.</span></span> <span data-ttu-id="14c4c-167">綜合裝置執行個體所在的子資料分割。</span><span class="sxs-lookup"><span data-stu-id="14c4c-167">A synthetic device instance that resides in a child partition.</span></span> <span data-ttu-id="14c4c-168">VSCs 利用虛擬化服務提供者 (VSPs) 所提供的父分割中的硬體資源。</span><span class="sxs-lookup"><span data-stu-id="14c4c-168">VSCs utilize hardware resources that are provided by Virtualization Service Providers (VSPs) in the parent partition.</span></span> <span data-ttu-id="14c4c-169">透過與通訊父分割區中對應的 VSPs VMBus 滿足子分割的裝置 I/O 要求。</span><span class="sxs-lookup"><span data-stu-id="14c4c-169">They communicate with the corresponding VSPs in the parent partition over the VMBus to satisfy a child partitions device I/O requests.</span></span>  
  
-   <span data-ttu-id="14c4c-170">**VSP** – 虛擬化服務提供者。</span><span class="sxs-lookup"><span data-stu-id="14c4c-170">**VSP** – Virtualization Service Provider.</span></span> <span data-ttu-id="14c4c-171">位於根磁碟分割，並且透過虛擬機器匯流排 (VMBus) 提供子分割的綜合裝置支援。</span><span class="sxs-lookup"><span data-stu-id="14c4c-171">Resides in the root partition and provide synthetic device support to child partitions over the Virtual Machine Bus (VMBus).</span></span>  
  
-   <span data-ttu-id="14c4c-172">**WinHv** – Windows Hypervisor 介面程式庫。</span><span class="sxs-lookup"><span data-stu-id="14c4c-172">**WinHv** – Windows Hypervisor Interface Library.</span></span> <span data-ttu-id="14c4c-173">WinHv 是基本上之間分割的作業系統的驅動程式和可呼叫使用標準 Windows 呼叫慣例在 hypervisor 中的驅動程式 hypervisor 橋接器</span><span class="sxs-lookup"><span data-stu-id="14c4c-173">WinHv is essentially a bridge between a partitioned operating system’s drivers and the hypervisor which allows drivers to call the hypervisor using standard Windows calling conventions</span></span>  
  
-   <span data-ttu-id="14c4c-174">**WMI** – 虛擬機器管理服務會公開一組 Windows Management Instrumentation WMI 為基礎的 Api 管理和控制虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-174">**WMI** – The Virtual Machine Management Service exposes a set of Windows Management Instrumentation (WMI)-based APIs for managing and controlling virtual machines.</span></span>  
  
 <span data-ttu-id="14c4c-175">大部分的這些授權條款中所定義[Glossary8](../technical-guides/glossary8.md)。</span><span class="sxs-lookup"><span data-stu-id="14c4c-175">Most of these terms are defined in the [Glossary8](../technical-guides/glossary8.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="14c4c-176">如需有關[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]HYPER-V，請參閱[http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187)。</span><span class="sxs-lookup"><span data-stu-id="14c4c-176">For more information about [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Hyper-V, see [http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187).</span></span>  
  
## <a name="advantages-of-hyper-v"></a><span data-ttu-id="14c4c-177">使用 HYPER-V 的優點</span><span class="sxs-lookup"><span data-stu-id="14c4c-177">Advantages of Hyper-V</span></span>  
 <span data-ttu-id="14c4c-178">在 HYPER-V 虛擬化環境中執行企業層級方案的優點包括：</span><span class="sxs-lookup"><span data-stu-id="14c4c-178">The advantages of running enterprise-level solutions in a Hyper-V virtualized environment include the following:</span></span>  
  
1.  <span data-ttu-id="14c4c-179">**硬體資源的彙總**-多部實體伺服器可輕易地合併到相對較少的伺服器藉由實作與 HYPER-V 虛擬化。</span><span class="sxs-lookup"><span data-stu-id="14c4c-179">**Consolidation of hardware resources** - Multiple physical servers can be easily consolidated into comparatively fewer servers by implementing virtualization with Hyper-V.</span></span> <span data-ttu-id="14c4c-180">彙總可容納已部署的硬體資源的完整使用權。</span><span class="sxs-lookup"><span data-stu-id="14c4c-180">Consolidation accommodates full use of deployed hardware resources.</span></span> <span data-ttu-id="14c4c-181">Windows Server 2008 R2 中 HYPER-V 現在可以存取在主機電腦上的最多 64 個邏輯 Cpu。</span><span class="sxs-lookup"><span data-stu-id="14c4c-181">Hyper-V in Windows Server 2008 R2 can now access up to 64 logical CPUs on host computers.</span></span> <span data-ttu-id="14c4c-182">這項功能不只會利用新的多核心系統，這也表示大於每個實體主機的虛擬機器彙總比例。</span><span class="sxs-lookup"><span data-stu-id="14c4c-182">This capability not only takes advantage of new multicore systems, it also means greater virtual machine consolidation ratios per physical host.</span></span>  
  
2.  <span data-ttu-id="14c4c-183">**輕鬆管理**:</span><span class="sxs-lookup"><span data-stu-id="14c4c-183">**Ease of administration**:</span></span>  
  
    -   <span data-ttu-id="14c4c-184">彙總的資源集中化會簡化管理。</span><span class="sxs-lookup"><span data-stu-id="14c4c-184">Consolidation and centralization of resources simplifies administration.</span></span>  
  
    -   <span data-ttu-id="14c4c-185">向上延展和向外的延展的實作被容納多更輕鬆。</span><span class="sxs-lookup"><span data-stu-id="14c4c-185">Implementation of scale-up and scale out is accommodated with much greater ease.</span></span>  
  
3.  <span data-ttu-id="14c4c-186">**節省成本的有效**:</span><span class="sxs-lookup"><span data-stu-id="14c4c-186">**Significant cost savings**:</span></span>  
  
    -   <span data-ttu-id="14c4c-187">因為多部虛擬機器可以在單一實體機器上執行，可大幅降低硬體成本，因此，不需要每一部個別的實體機器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-187">Hardware costs are significantly reduced because multiple virtual machines can run on a single physical machine, therefore, a separate physical machine is not required for every computer.</span></span>  
  
    -   <span data-ttu-id="14c4c-188">HYPER-V 授權成本隨附的授權成本[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="14c4c-188">Hyper-V licensing costs are included with the license cost of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="14c4c-189">您也可以用來做可以安裝在一個獨立產品購買 HYPER-V [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Server Core。</span><span class="sxs-lookup"><span data-stu-id="14c4c-189">Hyper-V can also be purchased for use as a stand-alone product that can be installed on [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Server Core.</span></span>  
  
    -   <span data-ttu-id="14c4c-190">藉由將合併到虛擬化的 HYPER-V 環境，因為 「 足跡 」 減少實體硬體上的現有應用程式可能會大幅降低電源需求，並在需要。</span><span class="sxs-lookup"><span data-stu-id="14c4c-190">Power requirements may be significantly reduced by consolidating existing applications onto a virtualized Hyper-V environment due to the reduced physical hardware “footprint” that is required.</span></span>  
  
4.  <span data-ttu-id="14c4c-191">**錯誤容錯支援透過 HYPER-V 叢集**– 因為 HYPER-V 是叢集感知應用程式，[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]提供原生的主機叢集為 HYPER-V 虛擬化環境中建立的虛擬機器的支援。</span><span class="sxs-lookup"><span data-stu-id="14c4c-191">**Fault tolerance support through Hyper-V clustering** – Because Hyper-V is a cluster aware application, [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] provides native host clustering support for virtual machines created in a Hyper-V virtualized environment.</span></span>  
  
5.  <span data-ttu-id="14c4c-192">**簡化部署和管理**:</span><span class="sxs-lookup"><span data-stu-id="14c4c-192">**Ease of deployment and management**:</span></span>  
  
    -   <span data-ttu-id="14c4c-193">現有伺服器合併到較少的實體伺服器可以簡化部署。</span><span class="sxs-lookup"><span data-stu-id="14c4c-193">Consolidation of existing servers into fewer physical servers simplifies deployment.</span></span>  
  
    -   <span data-ttu-id="14c4c-194">使用 System Center Virtual Machine Manager 完整的 HYPER-V 管理方案。</span><span class="sxs-lookup"><span data-stu-id="14c4c-194">A comprehensive Hyper-V management solution is available with System Center Virtual Machine Manager.</span></span> <span data-ttu-id="14c4c-195">如需 System Center Virtual Machine Manager 的詳細資訊，請參閱[http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303)。</span><span class="sxs-lookup"><span data-stu-id="14c4c-195">For more information about System Center Virtual Machine Manager, see [http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303).</span></span>  
  
6.  <span data-ttu-id="14c4c-196">**索引鍵 HYPER-V 效能特性**:</span><span class="sxs-lookup"><span data-stu-id="14c4c-196">**Key Hyper-V performance characteristics**:</span></span>  
  
    -   <span data-ttu-id="14c4c-197">**改善的硬體共用架構**-HYPER-V 提供改善的存取和使用率的核心資源，例如磁碟、 網路功能，並配備感知 hypervisor 的核心和使用的視訊時執行的來賓作業系統必要的虛擬伺服器用戶端 (VSC) 程式碼 （稱為 HYPER-V 啟發 I/O）。</span><span class="sxs-lookup"><span data-stu-id="14c4c-197">**Improved hardware sharing architecture** - Hyper-V provides improved access and utilization of core resources, such as disk, networking, and video when running guest operating systems with a hypervisor-aware kernel and which are equipped with requisite virtual server client (VSC) code (known as Hyper-V enlightened I/O).</span></span> <span data-ttu-id="14c4c-198">強化套件是為了協助降低成本的記憶體管理等特定的作業系統函式對作業系統的增強功能。</span><span class="sxs-lookup"><span data-stu-id="14c4c-198">Enlightenments are enhancements made to the operating system to help reduce the cost of certain operating system functions like memory management.</span></span> <span data-ttu-id="14c4c-199">目前，兩者[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]和[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]HYPER-V 支援啟發 I/O 和 hypervisor 知道的核心，透過安裝 HYPER-V 整合服務。</span><span class="sxs-lookup"><span data-stu-id="14c4c-199">Presently, both [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] and [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] support Hyper-V enlightened I/O and a hypervisor aware kernel via installation of Hyper-V integration services.</span></span> <span data-ttu-id="14c4c-200">整合元件，包括 VSC 驅動程式，也可供其他用戶端作業系統。</span><span class="sxs-lookup"><span data-stu-id="14c4c-200">Integration components, which include VSC drivers, are also available for other client operating systems.</span></span>  
  
         <span data-ttu-id="14c4c-201">磁碟效能不重要的磁碟 I/O 密集的企業應用程式，例如 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]和 HYPER-V 除了啟發的 I/O;HYPER-V 提供 「 通過 」 磁碟支援，可提供與實體磁碟效能同等的磁碟效能。</span><span class="sxs-lookup"><span data-stu-id="14c4c-201">Disk performance is critical for disk I/O intensive enterprise applications such as Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and in addition to Hyper-V enlightened I/O; Hyper-V provides “Passthrough” disk support which provides disk performance on par with physical disk performance.</span></span> <span data-ttu-id="14c4c-202">請注意 「 通過 」 磁碟支援，提供在方便的小型成本，改善的效能。</span><span class="sxs-lookup"><span data-stu-id="14c4c-202">Note that “Passthrough” disk support provides improved performance at a small cost to convenience.</span></span> <span data-ttu-id="14c4c-203">「 通過 」 磁碟是本質上實體磁碟/Lun，連接至虛擬機器，並不支援某些功能的虛擬磁碟，例如虛擬機器快照。</span><span class="sxs-lookup"><span data-stu-id="14c4c-203">“Passthrough” disks are essentially physical disks/LUNs that are attached to a virtual machine and do not support some of the functionality of virtual disks, such as Virtual Machine Snapshots.</span></span>  
  
    -   <span data-ttu-id="14c4c-204">**處理器硬體輔助虛擬化支援**– HYPER-V 可充分利用可用的最近使用的處理器技術的處理器硬體輔助虛擬化支援。</span><span class="sxs-lookup"><span data-stu-id="14c4c-204">**Processor hardware-assisted virtualization support** – Hyper-V takes full advantage of processor hardware assisted virtualization support that is available with recent processor technology.</span></span>  
  
    -   <span data-ttu-id="14c4c-205">**多核心 (SMP) 客體作業系統支援**– HYPER-V 能夠在虛擬機器環境中，以便利用完整的多執行緒處理功能中的虛擬應用程式可支援最多四個處理器機器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-205">**Multi-core (SMP) guest operating system support** – Hyper-V provides the ability to support up to four processors in a virtual machine environment, which allows applications to take full advantage of multi-threading functionality in a virtual machine.</span></span>  
  
    -   <span data-ttu-id="14c4c-206">**32 位元和 64 位元的客體作業系統支援**– HYPER-V 同時執行不同類型的作業系統，包括跨不同的伺服器平台，例如視窗中，32 位元和 64 位元系統提供廣泛的支援Linux®，和其他人。</span><span class="sxs-lookup"><span data-stu-id="14c4c-206">**Both 32-bit and 64-bit guest operating system support** – Hyper-V provides broad support for simultaneously running different types of operating systems, including 32-bit and 64-bit systems across different server platforms, such as Windows, Linux®, and others.</span></span>  
  
7.  <span data-ttu-id="14c4c-207">**追蹤記錄來證明**-機碼的 Microsoft Web sites MSDN ([http://msdn.microsoft.com](http://go.microsoft.com/fwlink/?LinkId=122019)) 和 TechNet ([http://technet.microsoft.com](http://go.microsoft.com/fwlink/?LinkID=64380)) 在 HYPER-V 環境中裝載。</span><span class="sxs-lookup"><span data-stu-id="14c4c-207">**Proven track record** - Key Microsoft Web sites MSDN ([http://msdn.microsoft.com](http://go.microsoft.com/fwlink/?LinkId=122019)) and TechNet ([http://technet.microsoft.com](http://go.microsoft.com/fwlink/?LinkID=64380)) are hosted in Hyper-V environments.</span></span>  
  
8.  <span data-ttu-id="14c4c-208">**完整的產品支援**– Microsoft 企業應用程式 （例如 Exchange Server 和 SQL Server） 全面測試在 HYPER-V 中執行，因為 Microsoft 程式碼修正時提供支援這些應用程式已部署並在 HYPER-V 中執行環境。</span><span class="sxs-lookup"><span data-stu-id="14c4c-208">**Comprehensive product support** – Because Microsoft enterprise applications (such as Exchange Server and SQL Server) are fully tested running in Hyper-V, Microsoft provides code fix support for these applications when deployed and run in a Hyper-V environment.</span></span>  
  
9. <span data-ttu-id="14c4c-209">**延展性**– 額外處理電源、 網路頻寬和儲存體容量，可透過快速且輕鬆地 apportioning 其他可用的資源從主機電腦的客體虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-209">**Scalability** – Additional processing power, network bandwidth, and storage capacity can be accomplished quickly and easily by apportioning additional available resources from the host computer to the guest virtual machine(s).</span></span> <span data-ttu-id="14c4c-210">這可能需要在主機電腦會在升級或客體虛擬機器會移至更適用的主機電腦。</span><span class="sxs-lookup"><span data-stu-id="14c4c-210">This may require that the host computer is upgraded or that the guest virtual machines are moved to a more capable host computer.</span></span>  
  
 <span data-ttu-id="14c4c-211">如需有關優點的運用提供與 HYPER-V 虛擬化技術的深入資訊，請參閱[虛擬化優點](http://go.microsoft.com/fwlink/?LinkID=202419)的[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="14c4c-211">For more in depth information about the benefits of leveraging virtualization technology provided with Hyper-V, see    [Virtualization Benefits](http://go.microsoft.com/fwlink/?LinkID=202419) of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span>  
  
## <a name="disadvantages-of-hyper-v"></a><span data-ttu-id="14c4c-212">使用 HYPER-V 的缺點</span><span class="sxs-lookup"><span data-stu-id="14c4c-212">Disadvantages of Hyper-V</span></span>  
 <span data-ttu-id="14c4c-213">執行 HYPER-V 的虛擬化環境中的企業級解決方案的缺點可能包括：</span><span class="sxs-lookup"><span data-stu-id="14c4c-213">Some disadvantages of running enterprise-level solutions in a Hyper-V virtualized environment may include:</span></span>  
  
-   <span data-ttu-id="14c4c-214">**硬體需求 –**伺服器彙總的要求，因為 HYPER-V 虛擬機器會消耗更多的 CPU 和記憶體，而且需要更大的磁碟 I/O 頻寬比可比較運算的載入與實體伺服器。</span><span class="sxs-lookup"><span data-stu-id="14c4c-214">**Hardware requirements –** Due to the demands of server consolidation, Hyper-V virtual machines tend to consume more CPU and memory, and require greater disk I/O bandwidth than physical servers with comparable computing loads.</span></span> <span data-ttu-id="14c4c-215">64 位元和 Windows Server 2008 R2 的所有版本的 64 位元只才可用 HYPER-V 伺服器角色，因為實體硬體必須支援硬體輔助虛擬化。</span><span class="sxs-lookup"><span data-stu-id="14c4c-215">Because the Hyper-V server role is only available for 64-bit and all editions of Windows Server 2008 R2 are 64-bit only, the physical hardware must support hardware assisted virtualization.</span></span> <span data-ttu-id="14c4c-216">這表示處理器必須相容於 Intel VT 或 AMD 虛擬化 (AMD-V) 技術、 在系統 BIOS 必須支援的資料執行防止 (DEP)，而且必須啟用 DEP。</span><span class="sxs-lookup"><span data-stu-id="14c4c-216">This means the processor must be compatible with Intel VT or AMD Virtualization (AMD-V) technology, the system BIOS must support Data Execution Prevention (DEP), and DEP must be enabled.</span></span>  
  
-   <span data-ttu-id="14c4c-217">**軟體需求 –**雖然大部分的 Microsoft 軟體支援 HYPER-V 虛擬機器上執行，某些 Microsoft 軟體正在仍然正在測試以確保與 HYPER-V 虛擬化環境的相容性。</span><span class="sxs-lookup"><span data-stu-id="14c4c-217">**Software requirements –** While most Microsoft software is supported running on Hyper-V virtual machines, some Microsoft software is still in the process of being tested to ensure compatibility with a Hyper-V virtualized environment.</span></span> <span data-ttu-id="14c4c-218">例如，大部分 Microsoft 企業層級的應用程式支援在 HYPER-V 上執行，或是正在支援在 HYPER-V 上的測試良好與否。</span><span class="sxs-lookup"><span data-stu-id="14c4c-218">For example, most Microsoft enterprise level applications either support running on Hyper-V or are in the process of being tested for support on Hyper-V.</span></span> <span data-ttu-id="14c4c-219">所有版本的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]因為[!INCLUDE[btsBizTalkServer2004](../includes/btsbiztalkserver2004-md.md)]支援在 HYPER-V 上執行。</span><span class="sxs-lookup"><span data-stu-id="14c4c-219">All versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] since [!INCLUDE[btsBizTalkServer2004](../includes/btsbiztalkserver2004-md.md)] are supported running on Hyper-V.</span></span> <span data-ttu-id="14c4c-220">如需有關的支援能力[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]和[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]上 HYPER-V，請參閱[附錄 c: BizTalk Server 和 SQL Server 為 HYPER-V 可支援性](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md)。</span><span class="sxs-lookup"><span data-stu-id="14c4c-220">For more information on the supportability of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] on Hyper-V, see [Appendix C: BizTalk Server and SQL Server Hyper-V Supportability](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md).</span></span>