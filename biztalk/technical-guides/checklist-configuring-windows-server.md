---
title: 檢查清單： 設定 Windows Server |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ebd7ea95-cc73-4c98-a796-193f394fb5b8
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4bffa095c4ed5834f93b3a8634915214ac7b9530
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22299846"
---
# <a name="checklist-configuring-windows-server"></a><span data-ttu-id="edceb-102">檢查清單： 設定 Windows Server</span><span class="sxs-lookup"><span data-stu-id="edceb-102">Checklist: Configuring Windows Server</span></span>
<span data-ttu-id="edceb-103">本主題列出 Windows Server 準備用於生產環境時所應遵循的步驟[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="edceb-103">This topic lists steps that you should follow when preparing Windows Server for use in a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>  
  
##  <a name="BKMK_Win2k8"></a><span data-ttu-id="edceb-104">設定 Windows Server</span><span class="sxs-lookup"><span data-stu-id="edceb-104">Configure Windows Server</span></span>  
  
|<span data-ttu-id="edceb-105">步驟</span><span class="sxs-lookup"><span data-stu-id="edceb-105">Steps</span></span>|<span data-ttu-id="edceb-106">參考</span><span class="sxs-lookup"><span data-stu-id="edceb-106">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edceb-107">設定 MSDTC 以提供[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="edceb-107">Configure MSDTC for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|<span data-ttu-id="edceb-108">-了解[如何啟用 BizTalk Server 上的 MSDTC](http://go.microsoft.com/fwlink/?LinkId=153236) (http://go.microsoft.com/fwlink/?LinkId=153236)。</span><span class="sxs-lookup"><span data-stu-id="edceb-108">-   See [How to Enable MSDTC on the BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153236) (http://go.microsoft.com/fwlink/?LinkId=153236).</span></span><br /><span data-ttu-id="edceb-109">-了解[MSDTC 問題疑難排解](http://go.microsoft.com/fwlink/?LinkId=153237)(http://go.microsoft.com/fwlink/?LinkId=153237)。</span><span class="sxs-lookup"><span data-stu-id="edceb-109">-   See [Troubleshooting Problems with MSDTC](http://go.microsoft.com/fwlink/?LinkId=153237) (http://go.microsoft.com/fwlink/?LinkId=153237).</span></span>|  
|<span data-ttu-id="edceb-110">設定為以[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="edceb-110">Configure firewall(s) for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="edceb-111">**附註：** 這個步驟是只需要一個或多個防火牆是否在位置中您[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="edceb-111">**Note:**  This step is only required if one or more firewalls are in place in your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>|<span data-ttu-id="edceb-112">-了解[BizTalk Server 所需的連接埠](http://go.microsoft.com/fwlink/?LinkId=153238)(http://go.microsoft.com/fwlink/?LinkId=153238)。</span><span class="sxs-lookup"><span data-stu-id="edceb-112">-   See [Required Ports for BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=153238) (http://go.microsoft.com/fwlink/?LinkId=153238).</span></span><br /><span data-ttu-id="edceb-113">-請參閱 Microsoft 知識庫文章 154596， [< 如何設定 RPC 動態連接埠配置以使用防火牆 >](http://go.microsoft.com/fwlink/?LinkId=153239) (http://go.microsoft.com/fwlink/?LinkId=153239)。</span><span class="sxs-lookup"><span data-stu-id="edceb-113">-   See Microsoft Knowledge Base article 154596, [“How to configure RPC dynamic port allocation to work with firewalls”](http://go.microsoft.com/fwlink/?LinkId=153239) (http://go.microsoft.com/fwlink/?LinkId=153239).</span></span>|  
|<span data-ttu-id="edceb-114">關閉所有執行的電腦上的超執行緒[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]和[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="edceb-114">Turn off hyperthreading on all computers running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>|<span data-ttu-id="edceb-115">-相當重要，該超執行緒執行的電腦已關閉[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="edceb-115">-   It is critical that hyperthreading be turned off for computers running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="edceb-116">這是電腦的 BIOS 設定，通常位於 BIOS 設定的處理器設定。</span><span class="sxs-lookup"><span data-stu-id="edceb-116">This is a BIOS setting, typically found in the Processor settings of the BIOS setup.</span></span> <span data-ttu-id="edceb-117">超執行緒會讓伺服器可能沒有更多的處理器/處理器核心比實際;不過，超執行緒處理器通常介於 20%到 30%的實體處理器/處理器核心的效能之間提供。</span><span class="sxs-lookup"><span data-stu-id="edceb-117">Hyperthreading makes the server appear to have more processors/processor cores than it actually does; however, hyperthreaded processors typically provide between 20% and 30% of the performance of a physical processor/processor core.</span></span> <span data-ttu-id="edceb-118">當[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]計數調整自我調整演算法，超執行緒處理器的處理器數目會導致這些調整會扭曲，即不利於整體效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-118">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] counts the number of processors to adjust its self-tuning algorithms, the hyperthreaded processors cause these adjustments to be skewed, which is detrimental to overall performance.</span></span><br /><span data-ttu-id="edceb-119">-應該關閉超執行緒的[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦因為可能會造成競爭的高等級的應用程式 (例如[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]) 可能會造成效能降低超執行緒的環境中[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦。</span><span class="sxs-lookup"><span data-stu-id="edceb-119">-   Hyperthreading should be turned off for [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers because applications that can cause high levels of contention (such as [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]) can cause decreased performance in a hyper-threaded environment on a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computer.</span></span>|  
|<span data-ttu-id="edceb-120">請確定 Windows Server 處理器排程設為 「 背景服務 」。</span><span class="sxs-lookup"><span data-stu-id="edceb-120">Ensure Windows Server processor scheduling is set to “Background services”.</span></span>|<span data-ttu-id="edceb-121">確保您的環境中執行 Windows Server 的所有電腦上設定此組態選項，將會改善整體系統效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-121">Ensuring this configuration option is set on all computers running Windows Server in your environment will improve the overall system performance.</span></span> <span data-ttu-id="edceb-122">請遵循這些步驟，以確保 Windows 伺服器設定為喜好背景服務：</span><span class="sxs-lookup"><span data-stu-id="edceb-122">Follow these steps to ensure Windows Server is configured to favor background services:</span></span><br /><br /> <span data-ttu-id="edceb-123">1.按一下**啟動**，按一下 **執行**，然後輸入**sysdm.cpl**中**執行**方塊。</span><span class="sxs-lookup"><span data-stu-id="edceb-123">1.  Click **Start**, click **Run**, and then type **sysdm.cpl** in the **Run** box.</span></span><br /><span data-ttu-id="edceb-124">2.在**系統屬性**對話方塊中，按一下 **進階**索引標籤，然後再按一下**設定**下**效能**。</span><span class="sxs-lookup"><span data-stu-id="edceb-124">2.  In the **System Properties** dialog box, click the **Advanced** tab, and then click **Settings** under **Performance**.</span></span><br /><span data-ttu-id="edceb-125">3.在**效能選項**對話方塊中，按一下 **進階**索引標籤上，請確定**背景服務**選項底下**處理器排程**，按一下**確定**，然後按一下  **確定**  以關閉 **系統屬性** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="edceb-125">3.  In the **Performance Options** dialog box, click the **Advanced** tab, make sure the **Background services** option is selected under **Processor scheduling**, click **OK**, and then click **OK** again to close **System Properties** dialog box.</span></span>|  
|<span data-ttu-id="edceb-126">將 Windows 分頁檔，在個別的本機實體磁碟機。</span><span class="sxs-lookup"><span data-stu-id="edceb-126">Place the Windows paging file on a separate local physical drive.</span></span>|<span data-ttu-id="edceb-127">執行 Windows Server 的電腦上，將分頁檔移到不同的實體磁碟區以外的作業系統會提高效能降低磁碟爭用情況。</span><span class="sxs-lookup"><span data-stu-id="edceb-127">Moving the paging file to a separate physical volume other than the operating system on a computer running Windows Server improves performance by reducing disk contention.</span></span><br /><br /> <span data-ttu-id="edceb-128">請遵循下列步驟，將分頁檔移至不同的實體磁碟區以外的作業系統：</span><span class="sxs-lookup"><span data-stu-id="edceb-128">Follow these steps to move the paging file to a separate physical volume other than the operating system:</span></span><br /><br /> <span data-ttu-id="edceb-129">1.按一下**啟動**，按一下 **執行**，然後輸入**sysdm.cpl**中**開啟**方塊。</span><span class="sxs-lookup"><span data-stu-id="edceb-129">1.  Click **Start**, click **Run**, and then type **sysdm.cpl** in the **Open** box.</span></span><br /><span data-ttu-id="edceb-130">2.按一下**進階**索引標籤，然後再按一下**設定**下**效能**。</span><span class="sxs-lookup"><span data-stu-id="edceb-130">2.  Click the **Advanced** tab, and then click **Settings** under **Performance**.</span></span><br /><span data-ttu-id="edceb-131">3.按一下**進階**索引標籤上，按一下 **變更**下**虛擬記憶體**、 指定的分頁檔的選項，請按一下**確定**然後按一下**確定** 以關閉 系統內容。</span><span class="sxs-lookup"><span data-stu-id="edceb-131">3.  Click the **Advanced** tab, click **Change** under **Virtual memory**, specify options for the paging file, click **OK** and then click **OK** again to close System Properties.</span></span> <span data-ttu-id="edceb-132">**注意：** 您必須重新啟動電腦，新設定才會生效。</span><span class="sxs-lookup"><span data-stu-id="edceb-132">**Note:**      You must restart the computer for the new settings to take effect.</span></span>|  
|<span data-ttu-id="edceb-133">-所有磁碟都重組 (本機和 SAN/NAS) 上定期排程離峰時間磁碟重組。</span><span class="sxs-lookup"><span data-stu-id="edceb-133">-   Defragment all disks (local and SAN/NAS) on a regular basis by scheduling off-hours disk defragmentation.</span></span><br /><span data-ttu-id="edceb-134">重組 Windows 分頁檔，並預先配置主版檔案資料表中每個磁碟的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境，以提升整體系統效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-134">-   Defragment the Windows paging file and pre-allocate the Master File Tables of each disk in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment to boost overall system performance.</span></span>|<span data-ttu-id="edceb-135">使用[PageDefrag 公用程式](http://go.microsoft.com/fwlink/?LinkId=108976)(http://go.microsoft.com/fwlink/?LinkId=108976) 重組 Windows 分頁檔，並預先配置主檔案表格。</span><span class="sxs-lookup"><span data-stu-id="edceb-135">Use the [PageDefrag utility](http://go.microsoft.com/fwlink/?LinkId=108976) (http://go.microsoft.com/fwlink/?LinkId=108976) to defragment the Windows paging file and pre-allocate the Master File Tables.</span></span>|  
|<span data-ttu-id="edceb-136">如果執行的電腦上安裝防毒軟體[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]，停用的資料和交易的檔案 （.mdf、.ndf、.ldf 和.mdb） 的即時掃描。</span><span class="sxs-lookup"><span data-stu-id="edceb-136">If antivirus software is installed on the computer running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], disable real-time scanning of the data and transaction files (.mdf, .ndf, .ldf, .mdb).</span></span>|<span data-ttu-id="edceb-137">即時掃描[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]資料和交易檔可以增加磁碟 I/O 競爭，並減少[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-137">Real-time scanning of the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] data and transaction files can increase disk I/O contention and reduce [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] performance.</span></span>|  
|<span data-ttu-id="edceb-138">如果執行的電腦上安裝防毒軟體[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，停用的任何參考的非可執行檔的檔案類型的即時掃描[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]接收位置 （通常是。XML，但也可能是.csv 或.txt 等。)。</span><span class="sxs-lookup"><span data-stu-id="edceb-138">If antivirus software is installed on the computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], disable real-time scanning of non-executable file types referenced by any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive locations (usually .XML, but can also be .csv, .txt, etc.).</span></span>|<span data-ttu-id="edceb-139">非可執行檔所參考的即時掃描[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]接收位置可以增加這些檔案的 I/O 競爭，並減少[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-139">Real-time scanning of non-executable files that are referenced by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive locations can increase I/O contention on these files and reduce [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance.</span></span>|  
|<span data-ttu-id="edceb-140">如果入侵偵測軟體安裝，停用網路掃描之間執行的電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]和外部資料儲存機制 ([!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]) 或訊息 （例如訊息佇列和 WebSphere MQSeries） 服務。</span><span class="sxs-lookup"><span data-stu-id="edceb-140">If intrusion detection software is installed, disable network scanning between computers running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and external data repositories ([!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]) or messaging services (such as Message Queuing and WebSphere MQSeries).</span></span>|<span data-ttu-id="edceb-141">入侵偵測軟體可以變慢或甚至阻止在網路上的有效通訊。</span><span class="sxs-lookup"><span data-stu-id="edceb-141">Intrusion detection software can slow down or even prevent valid communications over the network.</span></span>|  
|<span data-ttu-id="edceb-142">網路卡 (NIC) 驅動程式中的所有電腦上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境應微調的效能。</span><span class="sxs-lookup"><span data-stu-id="edceb-142">Network card (NIC) drivers on all computers in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment should be tuned for performance.</span></span>|<span data-ttu-id="edceb-143">調整要最大化的封包緩衝區、 可用的記憶體數量，傳入和傳出的網路裝置驅動程式。</span><span class="sxs-lookup"><span data-stu-id="edceb-143">Adjust the network device drivers to maximize the amount of memory available for packet buffering, both incoming and outgoing.</span></span> <span data-ttu-id="edceb-144">也最大化緩衝區計數，尤其是傳輸緩衝區和聯合緩衝區。</span><span class="sxs-lookup"><span data-stu-id="edceb-144">Also maximize buffer counts, especially transmit buffers and coalesce buffers.</span></span> <span data-ttu-id="edceb-145">預設值為這些參數，，及是否即使提供，而有所不同製造商與驅動程式版本。</span><span class="sxs-lookup"><span data-stu-id="edceb-145">The default values for these parameters, and whether they are even provided, vary between manufacturers and driver versions.</span></span> <span data-ttu-id="edceb-146">目標是以最大化網路介面卡硬體，所完成的工作，並允許以降低網路流量爆發和相關聯的壅塞的網路作業的最大可能的緩衝區空間。</span><span class="sxs-lookup"><span data-stu-id="edceb-146">The goal is to maximize the work done by the network interface card hardware, and to allow the greatest possible buffer space for network operations to mitigate network traffic bursts and associated congestion.</span></span>|  
|<span data-ttu-id="edceb-147">將網路卡設定為固定的速度和雙工</span><span class="sxs-lookup"><span data-stu-id="edceb-147">Set the network cards to a fixed speed and duplex</span></span>|<span data-ttu-id="edceb-148">使用固定的速度和雙工 (1 Gb 或更高版本與全雙工) 的 BizTalk 和 SQL 伺服器上的網路連線。</span><span class="sxs-lookup"><span data-stu-id="edceb-148">Use a fixed speed and duplex (1 Gigabit or higher with full duplex) for the network connections on the BizTalk and SQL servers.</span></span> <span data-ttu-id="edceb-149">這可確保，網路介面不會不自動交涉較低速度或雙面列印設定，在過去已有些企業參數有問題。</span><span class="sxs-lookup"><span data-stu-id="edceb-149">This will ensure that the network interface does not auto-negotiate a lower speed or duplex setting, which has been a problem with some enterprise switches in the past.</span></span> <span data-ttu-id="edceb-150">此外，在高容量環境中，建議您擁有 Gigabit 網路。</span><span class="sxs-lookup"><span data-stu-id="edceb-150">Also, in high-volume environments, it is advisable to have Gigabit networks.</span></span>|  
|<span data-ttu-id="edceb-151">停止或停用任何不是絕對必要 （例如 列印多工緩衝處理器與索引服務） 的 Windows 服務中的所有電腦上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="edceb-151">Stop or disable any Windows services that are not strictly necessary (such as Print Spooler and Indexing Service) on all computers in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>|<span data-ttu-id="edceb-152">在實際執行伺服器上執行不必要的服務會使用系統資源，否則無法使用由[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]或[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="edceb-152">Running unnecessary services on a production server uses system resources which could otherwise be used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] or [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span>|  
  
## <a name="in-this-section"></a><span data-ttu-id="edceb-153">本節內容</span><span class="sxs-lookup"><span data-stu-id="edceb-153">In This Section</span></span>  
  
-   [<span data-ttu-id="edceb-154">安裝 COM + Hotfix 彙總套件</span><span class="sxs-lookup"><span data-stu-id="edceb-154">Installing COM+ Hotfix Rollup Packages</span></span>](../technical-guides/installing-com-hotfix-rollup-packages.md)  
  
## <a name="see-also"></a><span data-ttu-id="edceb-155">另請參閱</span><span class="sxs-lookup"><span data-stu-id="edceb-155">See Also</span></span>  
 [<span data-ttu-id="edceb-156">作業的檢查清單</span><span class="sxs-lookup"><span data-stu-id="edceb-156">Operations Checklists</span></span>](../technical-guides/operations-checklists.md)