---
title: 檢查清單： 設定 Windows Server |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ebd7ea95-cc73-4c98-a796-193f394fb5b8
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5106941269472e55e893fbbf75e84fddc1920d13
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968071"
---
# <a name="checklist-configuring-windows-server"></a>檢查清單： 設定 Windows Server
本主題列出準備在生產環境中使用 Windows Server 時，您應該遵循的步驟[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。  
  
##  <a name="BKMK_Win2k8"></a> 設定 Windows Server  
  
|                                                                                                                                                                                      步驟                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               參考                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                                                                     設定 MSDTC 以提供[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                              -請參閱[如何啟用 BizTalk Server 上的 MSDTC](http://go.microsoft.com/fwlink/?LinkId=153236) (<http://go.microsoft.com/fwlink/?LinkId=153236>)。<br />-請參閱[MSDTC 問題疑難排解](http://go.microsoft.com/fwlink/?LinkId=153237)(<http://go.microsoft.com/fwlink/?LinkId=153237>)。                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                        設定為以[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。 **注意：** 此步驟才需要一或多個防火牆是否在您[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。                                        |                                                                                                                                                                                                                                                                                                                                                                                                                             -請參閱[BizTalk Server 所需的連接埠](http://go.microsoft.com/fwlink/?LinkId=153238)(<http://go.microsoft.com/fwlink/?LinkId=153238>)。<br />-請參閱 Microsoft 知識庫文章 154596， [< 如何設定 RPC 動態連接埠配置以使用防火牆 >](http://go.microsoft.com/fwlink/?LinkId=153239) (<http://go.microsoft.com/fwlink/?LinkId=153239>)。                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                            關閉所有執行的電腦上的超執行緒[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]並[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。                            | -請務必執行之電腦的超執行緒已關閉[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。 這是電腦的 BIOS 設定，多半的 BIOS 設定的處理器設定。 超執行緒會讓伺服器似乎有更多的處理器/處理器核心比它真正的運作;不過，超執行緒處理器通常介於 20%到 30%的實體處理器/處理器核心的效能之間提供。 當[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]計數調整其自我調整演算法，超執行緒處理器的處理器數目會導致這些調整扭曲，即危害到整體效能。<br />-超執行緒應該為已關閉[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦因為可能會導致高的層級的競爭的應用程式 (例如[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]) 上可能會導致在超執行緒環境中的效能降低[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦。 |
|                                                                                                                                                   請確定 Windows Server 處理器排程設定為 「 背景服務 」。                                                                                                                                                   |                                                                                                                                                                                                                                               確保您的環境中執行 Windows Server 的所有電腦上設定這個組態選項，將會改善整體系統效能。 請遵循下列步驟以確保 Windows Server 會設定偏好的背景服務：<br /><br /> 1.按一下 [**開始**，按一下**執行**，然後輸入**sysdm.cpl**中**執行**] 方塊中。<br />2.在 [**系統屬性**] 對話方塊中，按一下**進階**索引標籤，然後再按**設定**下**效能**。<br />3.在 **效能選項** 對話方塊中，按一下**進階**索引標籤上，確定**背景服務**選項下**處理器排程**，按一下**確定**，然後按一下**確定**以關閉**系統屬性** 對話方塊。                                                                                                                                                                                                                                               |
|                                                                                                                                                        將 Windows 分頁檔案不同的本機實體磁碟機上。                                                                                                                                                        |                                                                                                                                                                                                                                將分頁檔移至不同的實體磁碟區以外的作業系統中，執行 Windows Server 的電腦上，則可以藉由降低磁碟爭用改善效能。<br /><br /> 請遵循下列步驟來將分頁檔移至不同的實體磁碟區以外的作業系統：<br /><br /> 1.按一下 [**開始**，按一下**執行**，然後輸入**sysdm.cpl**中**開啟**] 方塊中。<br />2.按一下 **進階**索引標籤，然後再按一下**設定**之下**效能**。<br />3.按一下 **進階**索引標籤上，按一下**變更**下**虛擬記憶體**，指定分頁檔案的選項，按一下**確定**，然後按一下 **確定** 以關閉 系統屬性。 **注意：** 您必須重新啟動電腦，讓新設定才會生效。                                                                                                                                                                                                                                 |
|            -重組所有磁碟 (本機和 SAN/NAS) 定期排程在離峰磁碟重組。<br />-重組 Windows 分頁檔，並預先配置主要檔案資料表中的每個磁碟的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境，以提高整體系統效能。            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             使用[PageDefrag 公用程式](http://go.microsoft.com/fwlink/?LinkId=108976)(<http://go.microsoft.com/fwlink/?LinkId=108976>) 重組 Windows 分頁檔，並預先配置主檔案表格。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                                          如果執行的電腦上安裝防毒軟體[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]，停用的資料和交易的檔案 （.mdf、.ndf、.ldf 和.mdb） 的即時掃描。                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  即時掃描[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]資料和交易檔可以增加磁碟 I/O 競爭，並減少[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]效能。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 如果執行的電腦上安裝防毒軟體[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，停用的任何參考的非可執行檔的檔案類型的即時掃描[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]接收位置 （通常是。XML，但也可能是.csv、.txt 等等。)。 |                                                                                                                                                                                                                                                                                                                                                                                                                                                     所參考的非可執行檔的即時掃描[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]接收位置可以增加這些檔案的 I/O 競爭，並減少[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]效能。                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     如果安裝入侵偵測軟體時，停用網路掃描之間執行的電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]及外部資料存放庫 ([!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]) 或傳訊服務 （例如訊息佇列和 WebSphere MQSeries）。     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   入侵偵測軟體可以變慢，或甚至防止在網路上的 有效的通訊。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                                                                               網路卡 (NIC) 中的所有電腦上的驅動程式[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境應該為效能微調。                                                                                                |                                                                                                                                                                                                                                                                                                                                     調整到最大的封包緩衝，可用的記憶體數量，傳入和傳出的網路裝置驅動程式。 也最大化緩衝區計數，特別是傳輸緩衝區和聯合緩衝區。 預設值為這些參數，，及是否甚至提供，製造商與驅動程式版本之間的變更。 目標是最大化網路介面卡硬體，所完成的工作，並允許以減少網路流量高載和相關聯的壅塞的網路作業的最大可能的緩衝區空間。                                                                                                                                                                                                                                                                                                                                     |
|                                                                                                                                                                將網路卡設定為固定的速度和雙工                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                         使用固定的速度和雙工 (1 Gb 或更高版本，具有完整的雙工) 的 BizTalk 和 SQL 伺服器的網路連線。 這可確保，網路介面未自動-交涉較低速度或雙面列印設定，在過去已有些企業參數發生問題。 此外，在高容量環境中，最好有 Gigabit 網路。                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                                                                    停止或停用任何不是絕對必要 （例如列印多工緩衝處理器和編製索引的服務） 的 Windows 服務中的所有電腦上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                             在實際伺服器上執行不必要的服務會使用系統資源，否則無法使用所[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]或[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]。                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
  
## <a name="in-this-section"></a>本節內容  
  
-   [安裝 COM+ Hotfix 彙總套件](../technical-guides/installing-com-hotfix-rollup-packages.md)  
  
## <a name="see-also"></a>另請參閱  
 [作業檢查清單](../technical-guides/operations-checklists.md)