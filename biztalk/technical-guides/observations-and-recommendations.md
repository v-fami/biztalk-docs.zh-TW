---
title: 觀察與建議 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 88289080-1a59-4ffc-a0b2-312ec21940c2
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bf134382be6086a1a3ab96fa649fa6cbb41d9bad
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36980071"
---
# <a name="observations-and-recommendations"></a><span data-ttu-id="e5bc3-102">觀察與建議</span><span class="sxs-lookup"><span data-stu-id="e5bc3-102">Observations and Recommendations</span></span>
## <a name="test-results-summary"></a><span data-ttu-id="e5bc3-103">測試結果摘要</span><span class="sxs-lookup"><span data-stu-id="e5bc3-103">Test Results Summary</span></span>  
 <span data-ttu-id="e5bc3-104">僅限傳訊案例的結果中未觀察到為 ~ 109,382,400 每天的訊息。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-104">The results for the Messaging-only scenario were observed to be ~ 109,382,400 messages per day.</span></span> <span data-ttu-id="e5bc3-105">協調流程案例中，結果會指出執行 BizTalk Server 的單一電腦可以處理最多 58,752,000 每天的訊息。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-105">For the Orchestration scenario, the results indicate that a single computer running BizTalk Server can process up to 58,752,000 messages per day.</span></span> <span data-ttu-id="e5bc3-106">在沙箱環境中使用一般的企業級部署許多 BizTalk Server 解決方案的硬體，已達到這些結果。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-106">These results were achieved in a sandboxed environment using normal enterprise-class hardware deployed for many BizTalk Server solutions.</span></span> <span data-ttu-id="e5bc3-107">因此，這些結果表示 BizTalk Server 效能的型別可透過任何自訂程式碼。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-107">Therefore, these results indicate the type of BizTalk Server performance of that can be achieved with no custom code.</span></span> <span data-ttu-id="e5bc3-108">客戶解決方案通常涉及自訂開發的 BizTalk 成品、在許多情況下這會增加處理需求這進而會影響效能。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-108">Customer solutions often involve custom-developed BizTalk artifacts; in many cases this increases processing requirements which in turn affects performance.</span></span> <span data-ttu-id="e5bc3-109">依照本指南中，所述的建議特別[最佳化 BizTalk Server 應用程式](../technical-guides/optimizing-biztalk-server-applications.md)區段中，實作自訂開發 BizTalk Server 成品可以降到最低的影響。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-109">By following the advice presented in this guide, particularly the [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md) section, the impact of implementing custom-developed BizTalk Server artifacts can be minimized.</span></span>  
  
 <span data-ttu-id="e5bc3-110">下表提供此效能評定的測試結果的摘要。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-110">The following table provides a summary of the test results for this performance assessment.</span></span>  
  
|<span data-ttu-id="e5bc3-111">狀況</span><span class="sxs-lookup"><span data-stu-id="e5bc3-111">Scenario</span></span>|<span data-ttu-id="e5bc3-112">傳訊 (BizTalk KPI – 每秒處理的文件)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-112">Messaging (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="e5bc3-113">傳訊 (SQL KPI – SQL 處理器使用率)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-113">Messaging (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="e5bc3-114">傳訊延遲 （秒）</span><span class="sxs-lookup"><span data-stu-id="e5bc3-114">Messaging Latency (Seconds)</span></span>|<span data-ttu-id="e5bc3-115">協調流程 (BizTalk KPI – 每秒處理的文件)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-115">Orchestration (BizTalk KPI – Documents Processed per Second)</span></span>|<span data-ttu-id="e5bc3-116">協調流程 (SQL KPI – SQL 處理器使用率)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-116">Orchestration (SQL KPI – SQL Processor Utilization)</span></span>|<span data-ttu-id="e5bc3-117">協調流程的延遲 （秒）</span><span class="sxs-lookup"><span data-stu-id="e5bc3-117">Orchestration Latency (Seconds)</span></span>|  
|--------------|----------------------------------------------------------------|-------------------------------------------------------|-----------------------------------|--------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------|  
|<span data-ttu-id="e5bc3-118">單一 MessageBox 1 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-118">Single MessageBox 1 BizTalk Server computer</span></span>|<span data-ttu-id="e5bc3-119">每秒處理的 1266年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-119">1266 documents processed per second</span></span>|<span data-ttu-id="e5bc3-120">59%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-120">59% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-121">0.06</span><span class="sxs-lookup"><span data-stu-id="e5bc3-121">0.06</span></span>|<span data-ttu-id="e5bc3-122">每秒處理的 680 文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-122">680 documents processed per second</span></span>|<span data-ttu-id="e5bc3-123">66.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-123">66.5% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-124">0.067</span><span class="sxs-lookup"><span data-stu-id="e5bc3-124">0.067</span></span>|  
|<span data-ttu-id="e5bc3-125">單一 MessageBox 2 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-125">Single MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-126">每秒處理的 1267年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-126">1267 documents processed per second</span></span>|<span data-ttu-id="e5bc3-127">59.8%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-127">59.8% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-128">0.057</span><span class="sxs-lookup"><span data-stu-id="e5bc3-128">0.057</span></span>|<span data-ttu-id="e5bc3-129">每秒處理的 686 文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-129">686 documents processed per second</span></span>|<span data-ttu-id="e5bc3-130">68.5%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-130">68.5% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-131">0.067</span><span class="sxs-lookup"><span data-stu-id="e5bc3-131">0.067</span></span>|  
|<span data-ttu-id="e5bc3-132">3 個 MessageBox 1 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-132">3 MessageBox 1 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-133">每秒處理的 2102年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-133">2102 documents processed per second</span></span>|<span data-ttu-id="e5bc3-134">41%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-134">41% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-135">0.077</span><span class="sxs-lookup"><span data-stu-id="e5bc3-135">0.077</span></span>|<span data-ttu-id="e5bc3-136">每秒處理的一份列出 974 文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-136">974 documents processed per second</span></span>|<span data-ttu-id="e5bc3-137">48%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-137">48% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-138">0.11</span><span class="sxs-lookup"><span data-stu-id="e5bc3-138">0.11</span></span>|  
|<span data-ttu-id="e5bc3-139">3 個 MessageBox 2 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-139">3 MessageBox 2 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-140">每秒處理的 2285年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-140">2285 documents processed per second</span></span>|<span data-ttu-id="e5bc3-141">第 58%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-141">58% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-142">0.041</span><span class="sxs-lookup"><span data-stu-id="e5bc3-142">0.041</span></span>|<span data-ttu-id="e5bc3-143">每秒處理的 1065年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-143">1065 documents processed per second</span></span>|<span data-ttu-id="e5bc3-144">65%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-144">65% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-145">0..69</span><span class="sxs-lookup"><span data-stu-id="e5bc3-145">0..69</span></span>|  
|<span data-ttu-id="e5bc3-146">4 個 Messagebox 1 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-146">4 MessageBoxes 1 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-147">每秒處理的 2125年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-147">2125 documents processed per second</span></span>|<span data-ttu-id="e5bc3-148">30%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-148">30% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-149">0.078</span><span class="sxs-lookup"><span data-stu-id="e5bc3-149">0.078</span></span>|<span data-ttu-id="e5bc3-150">每秒處理的 979 文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-150">979 documents processed per second</span></span>|<span data-ttu-id="e5bc3-151">37%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-151">37% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-152">0.095</span><span class="sxs-lookup"><span data-stu-id="e5bc3-152">0.095</span></span>|  
|<span data-ttu-id="e5bc3-153">4 個 MessageBoxes 2 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-153">4 MessageBoxes 2 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-154">每秒處理的 2790年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-154">2790 documents processed per second</span></span>|<span data-ttu-id="e5bc3-155">50%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-155">50% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-156">0.052</span><span class="sxs-lookup"><span data-stu-id="e5bc3-156">0.052</span></span>|<span data-ttu-id="e5bc3-157">每秒處理的 1487年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-157">1487 documents processed per second</span></span>|<span data-ttu-id="e5bc3-158">63%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-158">63% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-159">0.15</span><span class="sxs-lookup"><span data-stu-id="e5bc3-159">0.15</span></span>|  
|<span data-ttu-id="e5bc3-160">4 個 MessageBoxes 3 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="e5bc3-160">4 MessageBoxes 3 BizTalk Server computers</span></span>|<span data-ttu-id="e5bc3-161">每秒處理的 2656年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-161">2656 documents processed per second</span></span>|<span data-ttu-id="e5bc3-162">第 58%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-162">58% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-163">0.074</span><span class="sxs-lookup"><span data-stu-id="e5bc3-163">0.074</span></span>|<span data-ttu-id="e5bc3-164">每秒處理的 1388年文件</span><span class="sxs-lookup"><span data-stu-id="e5bc3-164">1388 documents processed per second</span></span>|<span data-ttu-id="e5bc3-165">65%SQL CPU 使用率</span><span class="sxs-lookup"><span data-stu-id="e5bc3-165">65% SQL CPU utilization</span></span>|<span data-ttu-id="e5bc3-166">0.15</span><span class="sxs-lookup"><span data-stu-id="e5bc3-166">0.15</span></span>|  
  
## <a name="comparison-of-performance-statistics-with-biztalk-server-2009"></a><span data-ttu-id="e5bc3-167">搭配 BizTalk Server 2009 的效能統計資料的比較</span><span class="sxs-lookup"><span data-stu-id="e5bc3-167">Comparison of performance statistics with BizTalk Server 2009</span></span>  
 <span data-ttu-id="e5bc3-168">下表顯示 BizTalk Server 2009 和 BizTalk Server 2010 之間的效能統計資料的比較。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-168">The following table shows a comparison of performance statistics between BizTalk Server 2009 and BizTalk Server 2010.</span></span> <span data-ttu-id="e5bc3-169">下表所列的 BizTalk Server 2009 效能統計資料是從 BizTalk Server 2009 效能和最佳化指南。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-169">The BizTalk Server 2009 performance statistics listed in this table are from the BizTalk Server 2009 Performance and Optimization Guide.</span></span>  
  
|<span data-ttu-id="e5bc3-170">狀況</span><span class="sxs-lookup"><span data-stu-id="e5bc3-170">Scenario</span></span>|<span data-ttu-id="e5bc3-171">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="e5bc3-171">BizTalk Server 2009</span></span><br /> <span data-ttu-id="e5bc3-172">最大持續輸送量 (MST) msgs/sec</span><span class="sxs-lookup"><span data-stu-id="e5bc3-172">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="e5bc3-173">BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="e5bc3-173">BizTalk Server 2009</span></span><br /><span data-ttu-id="e5bc3-174">BizTalk Server 所需的數目</span><span class="sxs-lookup"><span data-stu-id="e5bc3-174">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="e5bc3-175">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="e5bc3-175">BizTalk Server 2010</span></span><br /><span data-ttu-id="e5bc3-176">最大持續輸送量 (MST) msgs/sec</span><span class="sxs-lookup"><span data-stu-id="e5bc3-176">Maximum Sustainable Throughput (MST) msgs/sec</span></span>|<span data-ttu-id="e5bc3-177">BizTalk Server 2010</span><span class="sxs-lookup"><span data-stu-id="e5bc3-177">BizTalk Server 2010</span></span><br /><span data-ttu-id="e5bc3-178">BizTalk Server 所需的數目</span><span class="sxs-lookup"><span data-stu-id="e5bc3-178">Number of BizTalk Servers needed</span></span>|<span data-ttu-id="e5bc3-179">BizTalk Server 2010 的差異 %從 BizTalk Server 2009</span><span class="sxs-lookup"><span data-stu-id="e5bc3-179">BizTalk Server 2010 % difference from BizTalk Server 2009</span></span>|  
|--------------|----------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------------------|  
|<span data-ttu-id="e5bc3-180">訊息-單一 MessageBox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-180">Messaging - Single MessageBox</span></span>|<span data-ttu-id="e5bc3-181">1291</span><span class="sxs-lookup"><span data-stu-id="e5bc3-181">1291</span></span>|<span data-ttu-id="e5bc3-182">2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-182">2</span></span>|<span data-ttu-id="e5bc3-183">1266</span><span class="sxs-lookup"><span data-stu-id="e5bc3-183">1266</span></span>|<span data-ttu-id="e5bc3-184">@shouldalert</span><span class="sxs-lookup"><span data-stu-id="e5bc3-184">1</span></span>|<span data-ttu-id="e5bc3-185">98.06%</span><span class="sxs-lookup"><span data-stu-id="e5bc3-185">98.06%</span></span>|  
|<span data-ttu-id="e5bc3-186">協調流程-單一 MessageBox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-186">Orchestration - Single MessageBox</span></span>|<span data-ttu-id="e5bc3-187">676</span><span class="sxs-lookup"><span data-stu-id="e5bc3-187">676</span></span>|<span data-ttu-id="e5bc3-188">2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-188">2</span></span>|<span data-ttu-id="e5bc3-189">680</span><span class="sxs-lookup"><span data-stu-id="e5bc3-189">680</span></span>|<span data-ttu-id="e5bc3-190">@shouldalert</span><span class="sxs-lookup"><span data-stu-id="e5bc3-190">1</span></span>|<span data-ttu-id="e5bc3-191">100.59%</span><span class="sxs-lookup"><span data-stu-id="e5bc3-191">100.59%</span></span>|  
|<span data-ttu-id="e5bc3-192">訊息-3 個 Messagebox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-192">Messaging - 3 MessageBoxes</span></span>|<span data-ttu-id="e5bc3-193">2103</span><span class="sxs-lookup"><span data-stu-id="e5bc3-193">2103</span></span>|<span data-ttu-id="e5bc3-194">3</span><span class="sxs-lookup"><span data-stu-id="e5bc3-194">3</span></span>|<span data-ttu-id="e5bc3-195">2285</span><span class="sxs-lookup"><span data-stu-id="e5bc3-195">2285</span></span>|<span data-ttu-id="e5bc3-196">2 （2102年每秒 1 BTS 與）</span><span class="sxs-lookup"><span data-stu-id="e5bc3-196">2 (2102/sec with 1 BTS)</span></span>|<span data-ttu-id="e5bc3-197">108.65%</span><span class="sxs-lookup"><span data-stu-id="e5bc3-197">108.65%</span></span>|  
|<span data-ttu-id="e5bc3-198">訊息-4 的 Messagebox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-198">Messaging - 4 MessageBoxes</span></span>|<span data-ttu-id="e5bc3-199">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-199">Not applicable</span></span>|<span data-ttu-id="e5bc3-200">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-200">Not applicable</span></span>|<span data-ttu-id="e5bc3-201">2790</span><span class="sxs-lookup"><span data-stu-id="e5bc3-201">2790</span></span>|<span data-ttu-id="e5bc3-202">2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-202">2</span></span>|<span data-ttu-id="e5bc3-203">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-203">Not applicable</span></span>|  
|<span data-ttu-id="e5bc3-204">協調流程-3 個 Messagebox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-204">Orchestration - 3 MessageBoxes</span></span>|<span data-ttu-id="e5bc3-205">1005</span><span class="sxs-lookup"><span data-stu-id="e5bc3-205">1005</span></span>|<span data-ttu-id="e5bc3-206">4</span><span class="sxs-lookup"><span data-stu-id="e5bc3-206">4</span></span>|<span data-ttu-id="e5bc3-207">1065</span><span class="sxs-lookup"><span data-stu-id="e5bc3-207">1065</span></span>|<span data-ttu-id="e5bc3-208">2 （974 每秒 1 BTS 與）</span><span class="sxs-lookup"><span data-stu-id="e5bc3-208">2 (974/sec with 1 BTS)</span></span>|<span data-ttu-id="e5bc3-209">105.97%</span><span class="sxs-lookup"><span data-stu-id="e5bc3-209">105.97%</span></span>|  
|<span data-ttu-id="e5bc3-210">協調流程-4 的 Messagebox</span><span class="sxs-lookup"><span data-stu-id="e5bc3-210">Orchestration - 4 MessageBoxes</span></span>|<span data-ttu-id="e5bc3-211">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-211">Not applicable</span></span>|<span data-ttu-id="e5bc3-212">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-212">Not applicable</span></span>|<span data-ttu-id="e5bc3-213">1487</span><span class="sxs-lookup"><span data-stu-id="e5bc3-213">1487</span></span>|<span data-ttu-id="e5bc3-214">2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-214">2</span></span>|<span data-ttu-id="e5bc3-215">不適用</span><span class="sxs-lookup"><span data-stu-id="e5bc3-215">Not applicable</span></span>|  
  
 <span data-ttu-id="e5bc3-216">我們在實驗室環境中，使用四個 MessageBox 資料庫時，最大持續輸送量結果如下所示：</span><span class="sxs-lookup"><span data-stu-id="e5bc3-216">In our lab environment, when using four MessageBox databases, the maximum sustainable throughput results were as follows:</span></span>  
  
- <span data-ttu-id="e5bc3-217">傳訊案例中，每秒的 2790年文件。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-217">For messaging scenario, 2790 documents per second.</span></span>  
  
- <span data-ttu-id="e5bc3-218">協調流程案例中，每秒的 1487年文件。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-218">For orchestration scenario, 1487 documents per second.</span></span>  
  
  <span data-ttu-id="e5bc3-219">**訊息考量**時 BizTalk Server 不會限制訊息大小，和我們所執行的測試，BizTalk Server 2010 使用僅限 2 KB 的訊息所使用的 WCF 配接器的型別為 Wcf-nettcp 配接器。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-219">**Message considerations** While BizTalk Server imposes no restriction on message size, the tests we ran for BizTalk Server 2010 used 2-KB messages only and the type of WCF adapter used was WCF-NetTCP adapter.</span></span> <span data-ttu-id="e5bc3-220">這符合 BizTalk Server 2009 效能最佳化指南的測試中使用的訊息大小和配接器類型。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-220">This matches the message size and adapter type used in the testing for the BizTalk Server 2009 Performance Optimization Guide.</span></span>  
  
  <span data-ttu-id="e5bc3-221">效能改善的驅動程式會：</span><span class="sxs-lookup"><span data-stu-id="e5bc3-221">The drivers for the performance improvement are:</span></span>  
  
1.  <span data-ttu-id="e5bc3-222">**硬體已大幅提升**-我們的實驗室中所使用的 SQL Server 電腦是 4 CPU，四核心 （16 核心），@ 2.40 GHz Intel Xeon E7330。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-222">**Hardware advancements** - The SQL Server computers used in our lab were 4-CPU, quad-core (16 cores), Intel Xeon E7330 @ 2.40 GHz.</span></span> <span data-ttu-id="e5bc3-223">在 2009年測試中，CPU 4 顆四核心 （16 核心），Intel Xeon 2.4 GHz 有人使用。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-223">In the 2009 tests, 4-CPU, quad-core (16 cores), Intel Xeon 2.4 GHz were used.</span></span>  
  
     <span data-ttu-id="e5bc3-224">在我們的實驗室中使用的 BizTalk Server 電腦是 2-CPU，四核心 （8 核心），Nehalem 超執行緒 (16 個邏輯核心），Intel Xeon X 5570 @ 2.93 GHz。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-224">The BizTalk Server computers used in our lab were 2-CPU, quad-core (8 cores), Nehalem Hyper-Threaded (16 logical cores), Intel Xeon X5570 @ 2.93 GHz.</span></span> <span data-ttu-id="e5bc3-225">在 2009年測試中，CPU 2 顆四核心 （8 核心），Intel Xeon 2.33 GHz 有人使用。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-225">In the 2009 tests, 2-CPU, quad-core (8 cores), Intel Xeon 2.33 GHz were used.</span></span>  
  
2.  <span data-ttu-id="e5bc3-226">**SQL Server 引擎的改進**-2009年中的測試執行 SQL Server 2008，而我們的測試所執行之 SQL Server 2008 R2 為基礎的資料庫平台。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-226">**Improvement of SQL Server Engine** - The tests in 2009 were performed against SQL Server 2008, whereas our tests were performed with SQL Server 2008 R2 as the underlying database platform.</span></span>  
  
## <a name="recommendations-for-scaling-the-biztalk-server-and-sql-server-tiers"></a><span data-ttu-id="e5bc3-227">建議用於調整 BizTalk Server 和 SQL Server 層</span><span class="sxs-lookup"><span data-stu-id="e5bc3-227">Recommendations for scaling the BizTalk Server and SQL Server tiers</span></span>  
 <span data-ttu-id="e5bc3-228">與這些結果中，BizTalk Server 產品小組無法示範，單一的 BizTalk Server 電腦和單一的 SQL Server 電腦可以支援超過 109 百萬封訊息中訊息的案例和 58 百萬個協調流程在 24 小時期間內。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-228">With these results, the BizTalk Server Product Team was able to demonstrate that a single BizTalk Server computer and a single SQL Server computer can support over 109 million messages in a messaging scenario and 58 million orchestrations during a 24-hour period.</span></span> <span data-ttu-id="e5bc3-229">藉由調整最適合我們的環境中可用的設定 BizTalk Server 和 SQL 層，我們可以處理每一天和超過 128 萬個協調流程的 over241 百萬封訊息。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-229">By scaling the BizTalk Server and SQL tiers to the optimal configuration available in our environment, we were able to process over241 million messages per day and over 128 million orchestrations.</span></span> <span data-ttu-id="e5bc3-230">結果執行的沙箱環境中使用的許多企業中部署的硬體類別。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-230">The results were performed in a sandboxed environment by using the class of hardware deployed in many enterprises.</span></span> <span data-ttu-id="e5bc3-231">如稍早所述，這些數字代表實際的效能，可透過任何自訂程式碼和最佳化的環境的 BizTalk server。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-231">As stated earlier, these numbers represent realistic performance of BizTalk Server that can be achieved with no custom code and an optimized environment.</span></span>  <span data-ttu-id="e5bc3-232">使用額外的硬體，就可以，更佳的效能可能有已完成。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-232">With additional hardware, it is possible that even greater performance could have been achieved.</span></span> <span data-ttu-id="e5bc3-233">客戶解決方案通常涉及自訂開發 BizTalk 成品會產生額外的處理需求，因此增加資源使用量，進而降低整體效能。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-233">Customer solutions often involve custom-developed BizTalk artifacts that incur additional processing requirements, hence increasing resource utilization and in turn reducing overall performance.</span></span> <span data-ttu-id="e5bc3-234">不過，依照下列指南，特別是在建議中所述的建議[最佳化 BizTalk Server 應用程式](../technical-guides/optimizing-biztalk-server-applications.md)的影響可以降到最低。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-234">However, by following the advice outlined throughout the guide, particularly the recommendations in [Optimizing BizTalk Server Applications](../technical-guides/optimizing-biztalk-server-applications.md), the impact of this can be minimized.</span></span>  
  
 <span data-ttu-id="e5bc3-235">結果會示範，向外擴充 BizTalk Server 的電腦數目是有效的向外延展策略是否 MessageBox SQL Server 電腦不是瓶頸。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-235">The results demonstrate that scaling out the number of BizTalk Server computers is an effective scale-out strategy if the MessageBox SQL Server computer is not a bottleneck.</span></span> <span data-ttu-id="e5bc3-236">導致我們的結果指出，新增 BizTalk Server 電腦會變成無效的向外延展技術因為我們觀察到 MessageBox 資料庫中的共用資料表上發生的爭用點的特定時間點之後, 的效能降低。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-236">After a certain point our results indicate that adding BizTalk Server computers becomes an ineffective scale-out technique because we observed that a contention point occurred on the shared tables within the MessageBox database, which caused performance to diminish.</span></span> <span data-ttu-id="e5bc3-237">為獲得最佳結果，您可以從 BizTalk Server 群組與單一 MessageBox 資料庫取得，您應該套用所述的最佳化[最佳化資料庫效能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-237">To maximize the results that can be obtained from a BizTalk Server group with a single MessageBox database, you should apply the optimizations described in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="e5bc3-238">特別是，您應該確保快速的儲存體子系統，用於 SQL Server 儲存體和 SQL Server 用來儲存 MessageBox 資料庫檔案的邏輯磁碟回應中最短的時間。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-238">In particular, you should ensure that a fast storage subsystem is used for the SQL Server storage and that the logical disks used by SQL Server to store the MessageBox database files respond in the shortest possible time.</span></span> <span data-ttu-id="e5bc3-239">測量可接受的讀/寫效能的常用臨界值是 15 毫秒。通常這被測量 avg.Disk sec/Read 和 avg.可以在邏輯磁碟效能物件下找到的磁碟 sec/Write 計數器。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-239">A commonly used threshold for measuring acceptable read/write performance is 15 milliseconds; typically this is measured by the Avg. Disk sec/Read and Avg. Disk sec/Write counters that can be found under the Logical Disk performance object.</span></span> <span data-ttu-id="e5bc3-240">套用所有可用的最佳化來裝載 MessageBox 資料庫的 SQL Server 電腦之後, 就可以新增其他 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-240">Once all available optimizations have been applied to the SQL Server computer that hosts the MessageBox database, additional MessageBox databases can be added.</span></span> <span data-ttu-id="e5bc3-241">相同的最佳化技術套用至主要 MessageBox 資料庫也應該套用至次要資料庫。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-241">The same optimization techniques that were applied to the primary MessageBox database should also be applied to the secondary databases.</span></span> <span data-ttu-id="e5bc3-242">我們建議您遵循的指導方針[相應放大 SQL Server 層](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文件。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-242">We recommend that you follow the guidelines in [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
 <span data-ttu-id="e5bc3-243">若要獲得最佳結果，整個的硬體和軟體堆疊必須是適當的品質，並也正確設定。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-243">To gain optimal results, the whole hardware and software stack needs to be of appropriate quality and also configured correctly.</span></span> <span data-ttu-id="e5bc3-244">首先，很好的品質硬體應該購買額度，包括但不是限於，gigabit 網路、 快速的儲存體 （SAN 或本機 SQL 磁碟 15-K） 和現代的電腦具有多個具有多個核心每一 CPU 的 Cpu。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-244">First, good quality hardware should be purchased including, but not limited to, gigabit networking, fast storage (SAN or 15-K local SQL disks) and modern computers that have multiple CPUs with multiple cores per CPU.</span></span> <span data-ttu-id="e5bc3-245">SQL Server 電腦只能專用於 BizTalk Server 僅處理。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-245">The SQL Server computer should be dedicated to BizTalk Server processing only.</span></span> <span data-ttu-id="e5bc3-246">當執行單一的 SQL Server 電腦時，我們建議在建立兩個 SQL 執行個體，另一個用於 BizTalk MessageBox，另一個用於所有其他資料庫。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-246">When running a single SQL Server computer, we recommend that two instances of SQL be created, one for the BizTalk MessageBox and one for all other databases.</span></span> <span data-ttu-id="e5bc3-247">這可讓執行個體層級設定，以獲得最佳效能的 MessageBox 設定。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-247">This enables instance-wide settings to be configured for optimal performance of the MessageBox.</span></span> <span data-ttu-id="e5bc3-248">最佳化的建議[最佳化效能](../technical-guides/optimizing-performance.md)應套用逐步解說以下列順序：[最佳化作業系統效能](../technical-guides/optimizing-operating-system-performance.md)，[最佳化的網路效能](../technical-guides/optimizing-network-performance.md)，[預先設定資料庫 Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md)，[後置設定資料庫 Optimizations2](../technical-guides/post-configuration-database-optimizations2.md)和[一般 BizTalk ServerOptimizations1](../technical-guides/general-biztalk-server-optimizations1.md)。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-248">The optimizations recommended in [Optimizing Performance](../technical-guides/optimizing-performance.md) should be applied step by step in the following order: [Optimizing Operating System Performance](../technical-guides/optimizing-operating-system-performance.md), [Optimizing Network Performance](../technical-guides/optimizing-network-performance.md), [Pre-Configuration Database Optimizations2](../technical-guides/pre-configuration-database-optimizations2.md), [Post-Configuration Database Optimizations2](../technical-guides/post-configuration-database-optimizations2.md) and [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md).</span></span> <span data-ttu-id="e5bc3-249">建立專用的檔案群組的 MessageBox 資料庫和配置 SAN Lun，跨這些中所述[最佳化檔案群組的資料庫 2](../technical-guides/optimizing-filegroups-for-the-databases2.md)，可提供相當大的效能改進，取決於您SAN 組態和 LUN 配置。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-249">Creating dedicated filegroups for the MessageBox database and allocating these across the SAN LUNs, as described in [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md), can provide considerable performance improvement depending on your SAN configuration and LUN layout.</span></span>  
  
 <span data-ttu-id="e5bc3-250">若要有效地判斷如何調整 BizTalk Server 或 SQL 層，我們建議，負載測試會執行使用近似實際的生產環境資料的訊息。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-250">To effectively determine how to scale the BizTalk Server or SQL tier, we recommend that load testing be performed using messages that approximate actual production data.</span></span> <span data-ttu-id="e5bc3-251">之前調整 BizTalk Server 層，請確定 SQL Server 已不是瓶頸，依照中的建議[監視 SQL Server 效能](../technical-guides/monitoring-sql-server-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-251">Before scaling the BizTalk Server tier, ensure that SQL Server is not already a bottleneck, as recommended in [Monitoring SQL Server Performance](../technical-guides/monitoring-sql-server-performance.md).</span></span> <span data-ttu-id="e5bc3-252">如果 SQL Server 不是瓶頸，而且沒有任何 BizTalk Server 電腦上的 CPU 空間，您可以藉由修改您的主控件執行個體配置改善輸送量。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-252">If SQL Server is not a bottleneck and there is CPU headroom on any of the BizTalk Server computers, you may be able to improve throughput by modifying your host instance layout.</span></span> <span data-ttu-id="e5bc3-253">請務必建立四個或五個關鍵效能指標 (Kpi)，這可做為所有測試回合的高階比較點。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-253">It is important to establish four or five key performance indicators (KPIs), which are used as high-level comparison points for all test runs.</span></span> <span data-ttu-id="e5bc3-254">遵循此建議中，您將能夠快速量測計是否特定變更會降低解決方案的整體效能。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-254">Following this advice, you will be able to quickly gauge whether a particular change degraded overall performance of the solution.</span></span>  
  
 <span data-ttu-id="e5bc3-255">再相應放大的 SQL Server 層，套用所有的最佳化[最佳化資料庫效能](../technical-guides/optimizing-database-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-255">Before scaling out the SQL Server tier, apply all of the optimizations in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="e5bc3-256">在客戶效能實驗室的過程中，以下的觀察是該磁碟的儲存體設定 MessageBox 和 TempDb 資料庫特別的是可以提供超過 30%輸送量改進。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-256">During the course of customer performance labs, the observation was that disk storage configuration for the MessageBox and TempDb databases in particular can provide over 30 percent throughput improvement.</span></span> <span data-ttu-id="e5bc3-257">時調整多個 MessageBox 資料庫，因為小的效能優勢時從單一的 MessageBox 資料庫向外延展至兩個 MessageBox 資料庫，就已會使用三或四個 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-257">When scaling to multiple MessageBox databases, three and four MessageBox databases were used because there is little performance advantage when scaling out from a single MessageBox database to two MessageBox databases.</span></span> <span data-ttu-id="e5bc3-258">如需有關向外擴充 BizTalk Server MessageBox 的詳細資訊，請參閱 <<c0> [ 相應放大 SQL Server 層](http://go.microsoft.com/fwlink/?LinkID=158075)(http://go.microsoft.com/fwlink/?LinkID=158075) BizTalk Server 文件。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-258">For more information about scaling out the BizTalk Server MessageBox, see [Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkID=158075) (http://go.microsoft.com/fwlink/?LinkID=158075) in the BizTalk Server documentation.</span></span>  
  
## <a name="implemented-optimizations"></a><span data-ttu-id="e5bc3-259">實作的最佳化</span><span class="sxs-lookup"><span data-stu-id="e5bc3-259">Implemented Optimizations</span></span>  
 <span data-ttu-id="e5bc3-260">本章節提供所有實驗室測試案例已套用的最佳化檢查的清單。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-260">This section provides a checklist of all optimizations that were applied for the lab test scenarios.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e5bc3-261">這些應該經過測試，根據您的變更管理程序才能套用這些實際執行環境中。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-261">These should be tested in accordance with your change management procedures before applying these within your production environment.</span></span>  
  
 <span data-ttu-id="e5bc3-262">套用系統化、 受控制的方式的最佳化，藉由套用一組最佳化，然後測試影響 — 將會導致的最大的效能優勢。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-262">Applying the optimizations in a systematic, controlled manner—by applying a set of optimizations, then testing the impact—will result in the maximum performance benefit.</span></span> <span data-ttu-id="e5bc3-263">實際解決方案的效能降低可能會造成未定期測試的最佳化影響套用最佳化。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-263">Applying optimizations without periodically testing the impact of the optimizations may actually result in a performance degradation of the solution.</span></span>  
  
### <a name="checklists-of-optimizations-applied"></a><span data-ttu-id="e5bc3-264">套用的最佳化功能的檢查清單</span><span class="sxs-lookup"><span data-stu-id="e5bc3-264">Checklists of Optimizations Applied</span></span>  
 <span data-ttu-id="e5bc3-265">**平台和網路最佳化**</span><span class="sxs-lookup"><span data-stu-id="e5bc3-265">**Platform and Network Optimizations**</span></span>  
  
|<span data-ttu-id="e5bc3-266">Optimization</span><span class="sxs-lookup"><span data-stu-id="e5bc3-266">Optimization</span></span>|<span data-ttu-id="e5bc3-267">參考</span><span class="sxs-lookup"><span data-stu-id="e5bc3-267">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="e5bc3-268">BIOS： 設定效能設定。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-268">BIOS: Configure settings for performance.</span></span>|[<span data-ttu-id="e5bc3-269">最佳化作業系統效能</span><span class="sxs-lookup"><span data-stu-id="e5bc3-269">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="e5bc3-270">停用 SQL Server 檔案上的即時掃描。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-270">Disable real-time scanning on SQL Server files.</span></span>|[<span data-ttu-id="e5bc3-271">最佳化作業系統效能</span><span class="sxs-lookup"><span data-stu-id="e5bc3-271">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="e5bc3-272">啟用 「 高效能 」 電源計劃在所有 BizTalk Server 和 SQL Server 的電腦上。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-272">Enable the “High performance” Power Plan on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="e5bc3-273">改善作業系統效能的一般指導方針</span><span class="sxs-lookup"><span data-stu-id="e5bc3-273">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
|<span data-ttu-id="e5bc3-274">所有的 BizTalk Server 和 SQL Server 的電腦上，停用防毒軟體。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-274">Disable Antivirus on all BizTalk Server and SQL Server computers.</span></span>|[<span data-ttu-id="e5bc3-275">改善作業系統效能的一般指導方針</span><span class="sxs-lookup"><span data-stu-id="e5bc3-275">General Guidelines for Improving Operating System Performance</span></span>](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)|  
  
 <span data-ttu-id="e5bc3-276">**SQL Server 最佳化： 一般**</span><span class="sxs-lookup"><span data-stu-id="e5bc3-276">**SQL Server Optimizations: General**</span></span>  
  
|<span data-ttu-id="e5bc3-277">Optimization</span><span class="sxs-lookup"><span data-stu-id="e5bc3-277">Optimization</span></span>|<span data-ttu-id="e5bc3-278">參考</span><span class="sxs-lookup"><span data-stu-id="e5bc3-278">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="e5bc3-279">您可以設定 NTFS 檔案配置單位為 64 KB。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-279">Set NTFS File Allocation Unit to 64 KB.</span></span>|[<span data-ttu-id="e5bc3-280">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-280">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-281">安裝 SQL Server 2008 R2。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-281">Install SQL Server 2008 R2.</span></span>|[<span data-ttu-id="e5bc3-282">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-282">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-283">設定 SQL Server 2008 R2 的資料收集器/倉儲。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-283">Configure SQL Server 2008 R2 Data Collector/Warehouse.</span></span>|[<span data-ttu-id="e5bc3-284">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-284">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-285">請確定適當的 Windows 權限，已擴充為 SQL Server 服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-285">Ensure that appropriate Windows privileges have been extended to the SQL Server Service accounts.</span></span>|<span data-ttu-id="e5bc3-286">SQL Server 2008 R2: [C4519ce9d014">setting Up Windows Service](http://go.microsoft.com/fwlink/?LinkID=132144) (http://go.microsoft.com/fwlink/?LinkID=132144)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-286">SQL Server 2008 R2: [Setting Up Windows Service Accounts](http://go.microsoft.com/fwlink/?LinkID=132144) (http://go.microsoft.com/fwlink/?LinkID=132144)</span></span>|  
|<span data-ttu-id="e5bc3-287">設定適用於 SQL Server 的最小和最大伺服器記憶體。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-287">Set Minimum and Maximum Server Memory for SQL Server.</span></span>|[<span data-ttu-id="e5bc3-288">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-288">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-289">使用適用於 SQL Server 的帳戶 Windows 鎖定記憶體中的分頁權限授與。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-289">Grant the Windows Lock Pages In Memory privilege to the account that is used for SQL Server.</span></span>|[<span data-ttu-id="e5bc3-290">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-290">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-291">預先調整適當大小的 BizTalk Server 資料庫大小與多個資料檔案...</span><span class="sxs-lookup"><span data-stu-id="e5bc3-291">Pre-size BizTalk Server databases to appropriate size with multiple data files..</span></span>|[<span data-ttu-id="e5bc3-292">後置設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-292">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-293">設定 SQL Server 用戶端通訊協定。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-293">Configure SQL Server Client Protocols.</span></span>|<span data-ttu-id="e5bc3-294">[疑難排解 SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-294">[Troubleshooting SQL Server](http://go.microsoft.com/fwlink/?LinkID=154250) (http://go.microsoft.com/fwlink/?LinkID=154250)</span></span>|  
|<span data-ttu-id="e5bc3-295">將 tempdb 資料庫分割成多個資料檔案大小相同的 BizTalk Server 使用的每個 SQL Server 執行個體</span><span class="sxs-lookup"><span data-stu-id="e5bc3-295">Split the tempdb database into multiple data files of equal size on each SQL Server instance used by BizTalk Server</span></span>|[<span data-ttu-id="e5bc3-296">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-296">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-297">手動設定 SQL Server 處理序相似性</span><span class="sxs-lookup"><span data-stu-id="e5bc3-297">Manually set SQL Server Process Affinity</span></span>|[<span data-ttu-id="e5bc3-298">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-298">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-299">設定 MSDTC 和停用 DTC 追蹤</span><span class="sxs-lookup"><span data-stu-id="e5bc3-299">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="e5bc3-300">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-300">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-301">作為啟動參數啟用追蹤旗標 T1118，SQL Server 的所有執行個體</span><span class="sxs-lookup"><span data-stu-id="e5bc3-301">Enable Trace Flag T1118 as a startup parameter for all instances of SQL Server</span></span>|[<span data-ttu-id="e5bc3-302">預先設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-302">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="e5bc3-303">**SQL Server 最佳化： BizTalk 資料庫**</span><span class="sxs-lookup"><span data-stu-id="e5bc3-303">**SQL Server Optimizations: BizTalk Databases**</span></span>  
  
|<span data-ttu-id="e5bc3-304">Optimization</span><span class="sxs-lookup"><span data-stu-id="e5bc3-304">Optimization</span></span>|<span data-ttu-id="e5bc3-305">參考</span><span class="sxs-lookup"><span data-stu-id="e5bc3-305">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="e5bc3-306">設為固定的值並不是百分比值的自動成長的 BizTalk 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-306">Set Autogrowth of BizTalk databases to a fixed value and not a percentage value.</span></span>|[<span data-ttu-id="e5bc3-307">後置設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-307">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-308">移動/分割 BizTalk 資料庫資料和記錄檔來區隔的 LUN。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-308">Move/split BizTalk database data and log files to separate LUNS.</span></span>|[<span data-ttu-id="e5bc3-309">後置設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-309">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="e5bc3-310">請考慮設定特定的 MessageBox 資料庫資料表上的 'text in row' 資料表選項</span><span class="sxs-lookup"><span data-stu-id="e5bc3-310">Consider setting the 'text in row' table option on specific MessageBox database tables</span></span>|[<span data-ttu-id="e5bc3-311">後置設定資料庫 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-311">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
  
 <span data-ttu-id="e5bc3-312">**BizTalk 最佳化**</span><span class="sxs-lookup"><span data-stu-id="e5bc3-312">**BizTalk Optimizations**</span></span>  
  
|<span data-ttu-id="e5bc3-313">Optimization</span><span class="sxs-lookup"><span data-stu-id="e5bc3-313">Optimization</span></span>|<span data-ttu-id="e5bc3-314">參考</span><span class="sxs-lookup"><span data-stu-id="e5bc3-314">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="e5bc3-315">個別接收埠、 傳送埠、 協調流程，以及獨立的專用的主機上的追蹤。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-315">Separate receive ports, send ports, orchestrations, and tracking on separate, dedicated hosts.</span></span>|[<span data-ttu-id="e5bc3-316">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="e5bc3-316">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="e5bc3-317">設定輪詢間隔。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-317">Configure polling intervals.</span></span>|[<span data-ttu-id="e5bc3-318">低延遲案例 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-318">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="e5bc3-319">調整 BizTalk 組態檔的最大連接屬性。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-319">Adjust the BizTalk configuration file maximum connection property.</span></span>|<span data-ttu-id="e5bc3-320">"Increase 藉由變更 maxconnection 參數的值允許的 SOAP 和 HTTP 並行的連線數 」 一節[一般 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-320">“Increase the number of SOAP and HTTP concurrent connections allowed by changing the value for the maxconnection parameter” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="e5bc3-321">在 BizTalk Server 中的每個節點上定義的 CLR 裝載每個主控件執行個體的參數：</span><span class="sxs-lookup"><span data-stu-id="e5bc3-321">Define CLR Hosting parameters for each host instance on each BizTalk Server node:</span></span><br /><br /> <span data-ttu-id="e5bc3-322">最大的 IO 執行緒： 250</span><span class="sxs-lookup"><span data-stu-id="e5bc3-322">Maximum IO Threads: 250</span></span><br /><br /> <span data-ttu-id="e5bc3-323">最大工作者執行緒： 100</span><span class="sxs-lookup"><span data-stu-id="e5bc3-323">Maximum Worker Threads: 100</span></span><br /><br /> <span data-ttu-id="e5bc3-324">最小的 IO 執行緒： 25</span><span class="sxs-lookup"><span data-stu-id="e5bc3-324">Minimum IO Threads: 25</span></span><br /><br /> <span data-ttu-id="e5bc3-325">最小的工作者執行緒： 25</span><span class="sxs-lookup"><span data-stu-id="e5bc3-325">Minimum Worker Threads: 25</span></span>|<span data-ttu-id="e5bc3-326">"定義的 CLR 裝載執行緒值，BizTalk 主控件執行個體 」 一節[一般 BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span><span class="sxs-lookup"><span data-stu-id="e5bc3-326">“Define CLR hosting thread values for BizTalk host instances” section of [General BizTalk Server Optimizations1](../technical-guides/general-biztalk-server-optimizations1.md)</span></span>|  
|<span data-ttu-id="e5bc3-327">增加到 10000 的內含式訊息和內部訊息佇列大小。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-327">Increase In-process messages and Internal Message Queue Size to 10000.</span></span>|[<span data-ttu-id="e5bc3-328">低延遲案例 Optimizations2</span><span class="sxs-lookup"><span data-stu-id="e5bc3-328">Low-Latency Scenario Optimizations2</span></span>](../technical-guides/low-latency-scenario-optimizations2.md)|  
|<span data-ttu-id="e5bc3-329">停用 BizTalk Server 群組層級追蹤。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-329">Disable BizTalk Server Group-level tracking.</span></span>|[<span data-ttu-id="e5bc3-330">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="e5bc3-330">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="e5bc3-331">管理同時執行的外掛式接收的位置、 後端 Web 服務和 IIS 7.5 和 IIS 7.0 整合模式中執行的 WCF 服務可以裝載的 ASP.NET 4 Web 應用程式的要求的數目</span><span class="sxs-lookup"><span data-stu-id="e5bc3-331">Manage the number of concurrently executing requests for ASP.NET 4 Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Integrated mode</span></span>|[<span data-ttu-id="e5bc3-332">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="e5bc3-332">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="e5bc3-333">停用 BizTalk Server 主控件節流</span><span class="sxs-lookup"><span data-stu-id="e5bc3-333">Disable BizTalk Server host throttling</span></span>|[<span data-ttu-id="e5bc3-334">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="e5bc3-334">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
|<span data-ttu-id="e5bc3-335">設定 MSDTC 和停用 DTC 追蹤</span><span class="sxs-lookup"><span data-stu-id="e5bc3-335">Configure MSDTC and disable DTC tracing</span></span>|[<span data-ttu-id="e5bc3-336">一般 BizTalk Server Optimizations1</span><span class="sxs-lookup"><span data-stu-id="e5bc3-336">General BizTalk Server Optimizations1</span></span>](../technical-guides/general-biztalk-server-optimizations1.md)|  
  
 <span data-ttu-id="e5bc3-337">**WCF 組態最佳化**</span><span class="sxs-lookup"><span data-stu-id="e5bc3-337">**WCF Configuration Optimizations**</span></span>  
  
|<span data-ttu-id="e5bc3-338">Optimization</span><span class="sxs-lookup"><span data-stu-id="e5bc3-338">Optimization</span></span>|<span data-ttu-id="e5bc3-339">參考</span><span class="sxs-lookup"><span data-stu-id="e5bc3-339">Reference</span></span>|  
|------------------|---------------|  
|<span data-ttu-id="e5bc3-340">每個 WCF 服務，適用於 serviceThrottling 服務行為，並將**maxConcurrentCalls**並**maxConcurrentSessions**為 200。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-340">For each WCF service, apply the serviceThrottling service behavior, and set **maxConcurrentCalls** and **maxConcurrentSessions** to 200.</span></span>|[<span data-ttu-id="e5bc3-341">最佳化 BizTalk Server WCF 配接器效能</span><span class="sxs-lookup"><span data-stu-id="e5bc3-341">Optimizing BizTalk Server WCF Adapter Performance</span></span>](../technical-guides/optimizing-biztalk-server-wcf-adapter-performance.md)|  
|<span data-ttu-id="e5bc3-342">後端 WCF 服務組態檔中設定 serviceThrottling 行為的使用方式。</span><span class="sxs-lookup"><span data-stu-id="e5bc3-342">Configure the usage of serviceThrottling behavior in the backend WCF service configuration file.</span></span>|[<span data-ttu-id="e5bc3-343">最佳化 WCF Web 服務效能</span><span class="sxs-lookup"><span data-stu-id="e5bc3-343">Optimizing WCF Web Service Performance</span></span>](../technical-guides/optimizing-wcf-web-service-performance.md)|  
  
## <a name="see-also"></a><span data-ttu-id="e5bc3-344">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e5bc3-344">See Also</span></span>  
 [<span data-ttu-id="e5bc3-345">調整生產 BizTalk Server 環境</span><span class="sxs-lookup"><span data-stu-id="e5bc3-345">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)