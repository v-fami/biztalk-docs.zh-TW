---
title: 實作版本控制策略 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 0a3c7af6-6277-4667-8f14-e6d1cb9e99d4
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8990fb3d65b29609738ed398829a438478eeabb3
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37015039"
---
# <a name="implementing-a-versioning-strategy"></a><span data-ttu-id="8a377-102">實作版本控制策略</span><span class="sxs-lookup"><span data-stu-id="8a377-102">Implementing a Versioning Strategy</span></span>
<span data-ttu-id="8a377-103">版本控制是指更新成品的實作並遞增其版本號碼。</span><span class="sxs-lookup"><span data-stu-id="8a377-103">Versioning is the act of updating the implementation of an artifact and incrementing its version number.</span></span>  
  
## <a name="general-versioning-issues"></a><span data-ttu-id="8a377-104">一般版本控制的問題</span><span class="sxs-lookup"><span data-stu-id="8a377-104">General Versioning Issues</span></span>  
 <span data-ttu-id="8a377-105">BizTalk 應用程式版本可能會產生問題，當您需要執行兩個版本的 BizTalk 方案的並行，或如果您無法排程部署的新版本的 BizTalk 應用程式停機時間。</span><span class="sxs-lookup"><span data-stu-id="8a377-105">BizTalk application versioning can become an issue when you need to run two versions of a BizTalk solution side-by-side, or if you cannot schedule BizTalk application downtime to deploy a new version.</span></span> <span data-ttu-id="8a377-106">如果您不需要執行兩個版本同時 （例如，如果您不有任何長時間執行的協調流程） 的解決方案，它是完全解除部署舊版本和部署新的版本與版本控制策略 （沒有組件版本控制）。</span><span class="sxs-lookup"><span data-stu-id="8a377-106">If you do not need to run two versions of the solution simultaneously (for example, if you have no long-running orchestrations), then it is perfectly acceptable to undeploy the old version and deploy the new version as a versioning strategy (no assembly versioning).</span></span> <span data-ttu-id="8a377-107">這會是可能的版本控制策略，不過我們還是建議遞增檔案版本號碼 （若要讓您知道哪一個版本部署在 BizTalk server 上）。</span><span class="sxs-lookup"><span data-stu-id="8a377-107">This is a possible versioning strategy, although we still recommend incrementing the file version number (to let you know which version is deployed on the BizTalk servers).</span></span> <span data-ttu-id="8a377-108">如需有關如何更新部署的應用程式的詳細資訊，請參閱[檢查清單： 更新組件](../technical-guides/checklist-updating-an-assembly.md)。</span><span class="sxs-lookup"><span data-stu-id="8a377-108">For more information about updating an application that is deployed, see [Checklist: Updating an Assembly](../technical-guides/checklist-updating-an-assembly.md).</span></span>  
  
 <span data-ttu-id="8a377-109">如果您需要支援長時間執行的協調流程，和/或您需要執行任何 BizTalk 應用程式停機時間的 BizTalk 應用程式部署，然後紮實的 BizTalk 版本控制策略需要實作並且身體力行端對端的不同版本控制案例。</span><span class="sxs-lookup"><span data-stu-id="8a377-109">If you need to support long-running orchestrations, and/or you need to perform BizTalk application deployments with no BizTalk application downtime, then a solid BizTalk versioning strategy needs to be implemented and practiced end-to-end for the different versioning scenarios.</span></span> <span data-ttu-id="8a377-110">這包括.NET 組件版本控制和所有的 BizTalk 成品的版本控制。</span><span class="sxs-lookup"><span data-stu-id="8a377-110">This includes .NET assembly versioning and versioning of all BizTalk artifacts.</span></span> <span data-ttu-id="8a377-111">這包括結構描述、 對應、 管線、 管線元件、 協調流程、 自訂配接器、 自訂類別中呼叫的協調流程、 對應、 商務規則與 BAM。</span><span class="sxs-lookup"><span data-stu-id="8a377-111">This includes schemas, maps, pipelines, pipeline components, orchestrations, custom adapters, custom classes called in orchestrations and maps, business rules, and BAM.</span></span> <span data-ttu-id="8a377-112">如需詳細的並存版本控制的詳細資訊，請參閱[更新使用並排顯示版本控制](../technical-guides/updating-using-side-by-side-versioning.md)。</span><span class="sxs-lookup"><span data-stu-id="8a377-112">For more information about side-by-side versioning, see [Updating Using Side-by-Side Versioning](../technical-guides/updating-using-side-by-side-versioning.md).</span></span>  
  
## <a name="versioning-an-assembly"></a><span data-ttu-id="8a377-113">組件的版本控制</span><span class="sxs-lookup"><span data-stu-id="8a377-113">Versioning an Assembly</span></span>  
 <span data-ttu-id="8a377-114">當您更新組件時，您會有下列選擇：</span><span class="sxs-lookup"><span data-stu-id="8a377-114">When you update an assembly, you have a choice between the following:</span></span>  
  
- <span data-ttu-id="8a377-115">選擇的固定的組件的版本特定的傳遞標並遞增只有檔案版本號碼。</span><span class="sxs-lookup"><span data-stu-id="8a377-115">Choosing a fixed assembly version for a given deliverable and incrementing only the file version number.</span></span>  
  
- <span data-ttu-id="8a377-116">在開發的過程中，遞增檔案版本和組件版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-116">Incrementing both the assembly version and the file version during the course of development.</span></span>  
  
  <span data-ttu-id="8a377-117">這些方法會在下表比較：</span><span class="sxs-lookup"><span data-stu-id="8a377-117">These approaches are compared in the following table:</span></span>  
  
|<span data-ttu-id="8a377-118">**固定的組件版本，動態檔案版本**</span><span class="sxs-lookup"><span data-stu-id="8a377-118">**Fixed assembly version, dynamic file version**</span></span>|<span data-ttu-id="8a377-119">**動態組件版本，固定或動態檔案版本**</span><span class="sxs-lookup"><span data-stu-id="8a377-119">**Dynamic assembly version, fixed or dynamic file version**</span></span>|  
|------------------------------------------------------|-----------------------------------------------------------------|  
|<span data-ttu-id="8a377-120">組件版本號碼 = 固定編號</span><span class="sxs-lookup"><span data-stu-id="8a377-120">Assembly version number = Fixed number</span></span><br /><br /> <span data-ttu-id="8a377-121">檔案版本號碼 = 組建編號</span><span class="sxs-lookup"><span data-stu-id="8a377-121">File version number = Build number</span></span>|<span data-ttu-id="8a377-122">組件版本號碼 = 組建編號</span><span class="sxs-lookup"><span data-stu-id="8a377-122">Assembly version number = Build number</span></span><br /><br /> <span data-ttu-id="8a377-123">檔案版本號碼 = 組建編號</span><span class="sxs-lookup"><span data-stu-id="8a377-123">File version number = Build number</span></span>|  
|<span data-ttu-id="8a377-124">如果多個組件會安裝 BizTalk Server 執行階段可能會挑選錯誤的組件版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-124">BizTalk Server runtime may pick up the wrong version of the assembly if multiple assemblies are installed.</span></span>|<span data-ttu-id="8a377-125">BizTalk Server 一律執行最新版的組件，即使已安裝多個組件。</span><span class="sxs-lookup"><span data-stu-id="8a377-125">BizTalk Server always runs the latest version of the assembly, even if multiple assemblies are installed.</span></span>|  
|<span data-ttu-id="8a377-126">任何時候都只能部署一種解決方案版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-126">Only one version of the solution can be deployed at any time.</span></span>|<span data-ttu-id="8a377-127">（雖然可能會發生衝突的解決方案，例如結構描述定義的其他層面），可以並存部署解決方案的不同版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-127">Different versions of the solution can be deployed side by side (although other aspects of the solution, such as schema definitions, may conflict).</span></span>|  
|<span data-ttu-id="8a377-128">BizTalk 主控件需要重新啟動，才能強制載入更新的組件。</span><span class="sxs-lookup"><span data-stu-id="8a377-128">BizTalk Host needs to be restarted to force the loading of updated assemblies.</span></span>|<span data-ttu-id="8a377-129">強制載入新的組件的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="8a377-129">Forces BizTalk Server to load new assemblies.</span></span>|  
|<span data-ttu-id="8a377-130">建立新的部署作業時比較不費力，因為參考組件版本號碼的檔案 (例如繫結檔案與追蹤設定檔) 不需要加以編輯。</span><span class="sxs-lookup"><span data-stu-id="8a377-130">Requires less work to create a new deployment because files that reference the assembly version number (for example, binding files and tracking profiles) do not need to be edited.</span></span>|<span data-ttu-id="8a377-131">部署作業比較費力，因為參考組件版本號碼的檔案需要保持更新為最新版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-131">Requires more work for deployment because files that reference the assembly version number need to be kept updated with the new version.</span></span>|  
  
 <span data-ttu-id="8a377-132">您可以選擇使用固定的組件版本與動態檔案版本方法，如果您是建立一個系統原型，或是開發任何其他類型的專案，將不會釋放。</span><span class="sxs-lookup"><span data-stu-id="8a377-132">You may choose to use the fixed assembly version and dynamic file version approach if you are prototyping a system or developing any other type of project that will not be released.</span></span> <span data-ttu-id="8a377-133">如果您不打算將應用程式傳遞給一般使用者，可以將組件版本固定下來，並遞增檔案版本號碼來簡化部署作業並降低相依性被破壞的可能性。</span><span class="sxs-lookup"><span data-stu-id="8a377-133">If you do not intend to deliver the application to an end user, you can streamline deployment tasks and reduce broken dependencies by fixing the assembly version and incrementing the file version number.</span></span> <span data-ttu-id="8a377-134">針對版本追蹤，請務必記得為每個組建遞增檔案版本號碼。</span><span class="sxs-lookup"><span data-stu-id="8a377-134">For version tracking, you must remember to increment the file version number for each build.</span></span>  
  
 <span data-ttu-id="8a377-135">如果您所建立的專案將會傳遞給一般使用者，應該要考慮遞增組件版本，並且選擇性地將有意義的檔案版本號碼儲存起來。</span><span class="sxs-lookup"><span data-stu-id="8a377-135">If you are building a project that will be delivered to an end user, you should consider incrementing the assembly version number and, optionally, storing a meaningful file version number.</span></span> <span data-ttu-id="8a377-136">雖然這個方法在修改組建編號以及與其關聯之相依性時會增加額外的工作，卻能夠確保您的組件已更新至最新的版本。</span><span class="sxs-lookup"><span data-stu-id="8a377-136">While this approach incurs the added effort of modifying build numbers and associated dependencies, it ensures that the latest versions of your assemblies are used.</span></span> <span data-ttu-id="8a377-137">透過使用自動化的部署指令碼，您可以降低版本管理的影響。</span><span class="sxs-lookup"><span data-stu-id="8a377-137">By using automated deployment scripts, you can lessen the impact of versioning.</span></span> <span data-ttu-id="8a377-138">若要檢視部署範例，請參閱[應用程式部署 （BizTalk Server Samples 資料夾）](http://go.microsoft.com/fwlink/?LinkId=155134) (<http://go.microsoft.com/fwlink/?LinkId=155134>) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]幫助。</span><span class="sxs-lookup"><span data-stu-id="8a377-138">To view deployment samples, see [Application Deployment (BizTalk Server Samples Folder)](http://go.microsoft.com/fwlink/?LinkId=155134) (<http://go.microsoft.com/fwlink/?LinkId=155134>) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8a377-139">您應該選擇的版本控制機制，可確保適當的檔案傳遞，並簡化維護和增強功能。</span><span class="sxs-lookup"><span data-stu-id="8a377-139">You should choose the versioning mechanism that ensures that the proper files are delivered and that simplifies maintenance and enhancement.</span></span>  
  
 <span data-ttu-id="8a377-140">如需版本控制問題的詳細資訊，請參閱[BizTalk Server 專案版本管理](http://go.microsoft.com/fwlink/?LinkID=154209)(<http://go.microsoft.com/fwlink/?LinkID=154209>) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]幫助。</span><span class="sxs-lookup"><span data-stu-id="8a377-140">For more information about versioning issues, see [BizTalk Server Project Versioning](http://go.microsoft.com/fwlink/?LinkID=154209) (<http://go.microsoft.com/fwlink/?LinkID=154209>) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>