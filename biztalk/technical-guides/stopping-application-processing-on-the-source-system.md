---
title: "停止處理在來源系統上的應用程式 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cde5fc62-4bc2-4ef0-81bc-c7d39ff36cb6
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 70fe980e3f29e2bd4cf13aa2b74a1923126fcec2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="stopping-application-processing-on-the-source-system"></a><span data-ttu-id="9102f-102">停止處理在來源系統上的應用程式</span><span class="sxs-lookup"><span data-stu-id="9102f-102">Stopping Application Processing on the Source System</span></span>
<span data-ttu-id="9102f-103">應用程式處理應該停止時的來源[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]執行階段伺服器都仍然能夠參與使用現有的資料庫伺服器的文件處理。</span><span class="sxs-lookup"><span data-stu-id="9102f-103">Application processing should be stopped when the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime servers are still able to participate in document processing using the existing database servers.</span></span> <span data-ttu-id="9102f-104">在此案例中，處理活動必須先停止如此便可以完成一致的還原作業。</span><span class="sxs-lookup"><span data-stu-id="9102f-104">In this scenario, processing activity must be stopped so that a consistent restore operation can be completed.</span></span>  
  
 <span data-ttu-id="9102f-105">若要停止應用程式處理來源系統上，請確定所有連接都都會開啟生產環境之間[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]執行階段電腦和[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-105">To stop application processing on the source system, ensure that no connections are open between the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="9102f-106">請遵循下列步驟來停止對實際執行的應用程式處理[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]執行階段電腦：</span><span class="sxs-lookup"><span data-stu-id="9102f-106">Follow these steps to stop application processing on the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers:</span></span>  
  
1.  <span data-ttu-id="9102f-107">停用所有接收位置[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]BizTalk 群組中的電腦。</span><span class="sxs-lookup"><span data-stu-id="9102f-107">Disable all receive locations on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the BizTalk group.</span></span> <span data-ttu-id="9102f-108">請記下所有接收位置已停用，讓這些接收位置來重新啟用更新版本。</span><span class="sxs-lookup"><span data-stu-id="9102f-108">Make a note of all receive locations that are disabled so that these receive locations can be re-enabled later.</span></span> <span data-ttu-id="9102f-109">這會停止[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]無法處理內送訊息。</span><span class="sxs-lookup"><span data-stu-id="9102f-109">This will stop [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from processing incoming messages.</span></span>  
  
2.  <span data-ttu-id="9102f-110">停止所有的主控件執行個體上執行[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組中的電腦。</span><span class="sxs-lookup"><span data-stu-id="9102f-110">Stop all host instances from running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group.</span></span> <span data-ttu-id="9102f-111">這可藉由[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理主控台。</span><span class="sxs-lookup"><span data-stu-id="9102f-111">This can be done from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="9102f-112">記下 已停止，以便可以稍後重新啟動這些主控件執行個體的所有主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="9102f-112">Make a note of all the host instances that were stopped so that these host instances can be restarted later.</span></span>  
  
3.  <span data-ttu-id="9102f-113">停止所有[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]代理程式作業相關[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]上[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-113">Stop all [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Agent jobs related to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
4.  <span data-ttu-id="9102f-114">如果 BAM 正在使用中，停用任何 BAM cube 更新及資料維護 SSIS 封裝。</span><span class="sxs-lookup"><span data-stu-id="9102f-114">If BAM is in use, disable any BAM cube update and data maintenance SSIS packages.</span></span> <span data-ttu-id="9102f-115">這可以經由使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="9102f-115">This can be done by using [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span>  
  
5.  <span data-ttu-id="9102f-116">停止 Analysis Services 上[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-116">Stop Analysis Services on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="9102f-117">這可藉由來停止 MSSQLServerOLAPService 的所有執行個體上[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]安裝 Analysis Services 的電腦。</span><span class="sxs-lookup"><span data-stu-id="9102f-117">This can be done by stopping all instances of MSSQLServerOLAPService on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers where Analysis Services is installed.</span></span>  
  
6.  <span data-ttu-id="9102f-118">停止任何其他[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]可能執行的服務管理員中的服務[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組中的電腦，例如 「 企業單一登入服務 」 和 「 規則引擎更新服務。</span><span class="sxs-lookup"><span data-stu-id="9102f-118">Stop any other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services in Services Manager that may be running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group, for example, the Enterprise Single Sign-On Service and the Rule Engine Update Service.</span></span> <span data-ttu-id="9102f-119">記下以便它們可以稍後重新啟動已停止的服務。</span><span class="sxs-lookup"><span data-stu-id="9102f-119">Make a note of the services that are stopped so that they can be restarted later.</span></span>  
  
7.  <span data-ttu-id="9102f-120">關閉所有應用程式連接到[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-120">Close all applications that connect to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="9102f-121">這包括執行個體的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理主控台中， [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)]，和任何其他已安裝 BizTalk 應用程式。</span><span class="sxs-lookup"><span data-stu-id="9102f-121">This includes instances of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], and any other installed BizTalk applications.</span></span>  
  
8.  <span data-ttu-id="9102f-122">請確認沒有資料庫活動所產生[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9102f-122">Verify that there is no database activity generated by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="9102f-123">使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio 來查看哪些程序會連接到[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-123">Use [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio to see what processes are connected to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="9102f-124">這可藉由擴充**管理**按兩下**活動監視器**中[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="9102f-124">This can be done by expanding **Management** and double-clicking **Activity Monitor** in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span> <span data-ttu-id="9102f-125">然後按一下以選取**處理序資訊**。</span><span class="sxs-lookup"><span data-stu-id="9102f-125">Then click to select **Process Info**.</span></span> <span data-ttu-id="9102f-126">使用系統預存程序，或者**sp_who**或**sp_who2**來識別任何開啟的連接[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]電腦裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-126">Alternatively use the system stored procedures **sp_who** or **sp_who2** to identify any open connections to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="9102f-127">如果有任何連接的程序，找到這些服務，並通常; 予以終止最後的方法，以滑鼠右鍵按一下中的每個處理序或**處理序資訊** 窗格中的[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio，然後按一下**終止處理序**終止連線。</span><span class="sxs-lookup"><span data-stu-id="9102f-127">If there are any processes connected, locate them and terminate them normally; or as a last resort, right-click each process in the **Process Info** pane in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio and click **Kill process** to terminate the connection.</span></span>  
  
9. <span data-ttu-id="9102f-128">其他資料庫的處理可能會發生在應用程式資料庫。</span><span class="sxs-lookup"><span data-stu-id="9102f-128">Additional database processing may be occurring in application databases.</span></span> <span data-ttu-id="9102f-129">如果要還原這些資料庫，請確定所有處理都會都停止。</span><span class="sxs-lookup"><span data-stu-id="9102f-129">If these databases will be restored, ensure that all processing is stopped.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9102f-130">另請參閱</span><span class="sxs-lookup"><span data-stu-id="9102f-130">See Also</span></span>  
 [<span data-ttu-id="9102f-131">還原 BizTalk 群組</span><span class="sxs-lookup"><span data-stu-id="9102f-131">Restoring the BizTalk Group</span></span>](../technical-guides/restoring-the-biztalk-group.md)