---
title: "步驟 4： 設定負載測試的 BizTalk Server 環境 |Microsoft 文件"
ms.custom: 
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 5f336c5f-5a18-493d-8fc0-a8a475ab47b3
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5520062cb6c9bbd937d5c131c41992a7013a9711
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="step-4-configure-biztalk-server-environment-for-load-testing"></a><span data-ttu-id="56edb-102">步驟 4： 設定負載測試 BizTalk Server 的環境</span><span class="sxs-lookup"><span data-stu-id="56edb-102">Step 4: Configure BizTalk Server Environment for Load Testing</span></span>
<span data-ttu-id="56edb-103">本主題提供資訊，以建立 BizTalk Server 接收位置，接收埠和傳送埠執行主題所述的範例程式碼所需[步驟 1： 建立單元測試加入至 BizTalk Server 提交的文件](~/technical-guides/step-1-create-a-unit-test-to-submit-documents-to-biztalk-server.md)和[步驟 3： 建立負載測試，以便同時執行多個單元測試](~/technical-guides/step-3-create-a-load-test-to-perform-multiple-unit-tests-simultaneously.md)。</span><span class="sxs-lookup"><span data-stu-id="56edb-103">This topic provides information for creating the BizTalk Server Receive Locations, Receive Ports, and Send Ports required to run the sample code described in the topics [Step 1: Create a Unit Test to Submit Documents to BizTalk Server](~/technical-guides/step-1-create-a-unit-test-to-submit-documents-to-biztalk-server.md) and [Step 3: Create a Load Test to Perform Multiple Unit Tests Simultaneously](~/technical-guides/step-3-create-a-load-test-to-perform-multiple-unit-tests-simultaneously.md).</span></span>  
  
## <a name="configure-biztalk-server-environment-for-load-tests"></a><span data-ttu-id="56edb-104">設定 BizTalk Server 環境的負載測試</span><span class="sxs-lookup"><span data-stu-id="56edb-104">Configure BizTalk Server Environment for Load Tests</span></span>  
 <span data-ttu-id="56edb-105">本主題中所述[步驟 3： 建立負載測試來執行多個單元測試同時](~/technical-guides/step-3-create-a-load-test-to-perform-multiple-unit-tests-simultaneously.md)，負載測試**BTS_Messaging_Step**設為執行單元測試**BTSMessaging**和**BTSMessaging2**。</span><span class="sxs-lookup"><span data-stu-id="56edb-105">As described in the topic [Step 3: Create a Load Test to Perform Multiple Unit Tests Simultaneously](~/technical-guides/step-3-create-a-load-test-to-perform-multiple-unit-tests-simultaneously.md), the load test **BTS_Messaging_Step** is configured to execute the unit tests **BTSMessaging** and **BTSMessaging2**.</span></span> <span data-ttu-id="56edb-106">接著，這些單元測試載入一份郵件 C:\Projects\LoadTest\BTSLoad\TestMessages\TestXmlDocument.xml 並傳送至端點**BTSMessagingEP**和**BTSMessagingEP2**中所定義專案的應用程式組態檔 (app.config) 的下列區段：</span><span class="sxs-lookup"><span data-stu-id="56edb-106">In turn, these unit tests load a copy of the message C:\Projects\LoadTest\BTSLoad\TestMessages\TestXmlDocument.xml and send it to the endpoints **BTSMessagingEP** and **BTSMessagingEP2** as defined in the following section of the project’s application configuration (app.config) file:</span></span>  
  
 <span data-ttu-id="56edb-107">\<\!---> BTSMessagingEP\<端點 address="net.tcp://*BizTalk Server 電腦*: 8123/btsloadtest 」 繫結 ="netTcpBinding"bindingConfiguration ="netTcpBinding"合約 ="System.ServiceModel.Channels.IRequestChannel 「 名稱 ="BTSMessagingEP"/ >\<端點 address="net.tcp://*BizTalk Server 電腦*: 8123/btsloadtest 」 繫結 ="netTcpBinding"bindingConfiguration ="netTcpBinding"contract="System.ServiceModel.Channels.IRequestChannel 「 名稱 ="BTSMessagingEP2"/ ></span><span class="sxs-lookup"><span data-stu-id="56edb-107">\<\!-- BTSMessagingEP -->         \<endpoint address="net.tcp://*BizTalk Server Computer*:8123/btsloadtest" binding="netTcpBinding" bindingConfiguration="netTcpBinding" contract="System.ServiceModel.Channels.IRequestChannel" name="BTSMessagingEP" />         \<endpoint address="net.tcp://*BizTalk Server Computer*:8123/btsloadtest" binding="netTcpBinding" bindingConfiguration="netTcpBinding" contract="System.ServiceModel.Channels.IRequestChannel" name="BTSMessagingEP2" /></span></span>  
  
> [!NOTE]
>  <span data-ttu-id="56edb-108">如前文所述， *BizTalk Server 電腦*是實際的 BizTalk Server 電腦名稱，或確定 BizTalk Server 電腦都設定為網路負載平衡 (NLB) 叢集; 成員的案例中的預留位置*BizTalk Server 電腦*是的名稱或位址對應的 NLB 虛擬伺服器的預留位置。</span><span class="sxs-lookup"><span data-stu-id="56edb-108">As noted earlier, *BizTalk Server Computer* is a placeholder for the actual BizTalk Server computer names or, in the case that the BizTalk Server Computers are configured as members of a Network Load Balancing (NLB) cluster; *BizTalk Server Computer* is a placeholder for the name or address of the corresponding NLB virtual server.</span></span>  
  
 <span data-ttu-id="56edb-109">基於此範例中，兩部 BizTalk Server 電腦所使用，BizTalk Server Messagebox 資料庫已經在遠端 SQL Server 電腦上。</span><span class="sxs-lookup"><span data-stu-id="56edb-109">For purposes of this example, two BizTalk Server computers were used and the BizTalk Server Message Box database was on a remote SQL Server computer.</span></span>  
  
### <a name="create-biztalk-server-send-and-receive-hosts"></a><span data-ttu-id="56edb-110">建立 BizTalk Server 傳送和接收主控件</span><span class="sxs-lookup"><span data-stu-id="56edb-110">Create BizTalk Server Send and Receive Hosts</span></span>  
 <span data-ttu-id="56edb-111">依照主題中的 BizTalk Server 文件[如何建立新的主控件](http://go.microsoft.com/fwlink/?LinkId=208595)(http://go.microsoft.com/fwlink/?LinkId=208595) 來建立 BizTalk Server 「 傳送 」 主控件的傳送埠和傳送配接器處理常式。</span><span class="sxs-lookup"><span data-stu-id="56edb-111">Follow the steps in the BizTalk Server Documentation topic [How to Create a New Host](http://go.microsoft.com/fwlink/?LinkId=208595) (http://go.microsoft.com/fwlink/?LinkId=208595) to create a BizTalk Server “Send” host for Send Ports and Send adapter handlers.</span></span> <span data-ttu-id="56edb-112">設定主機具有下列屬性：</span><span class="sxs-lookup"><span data-stu-id="56edb-112">Configure the host with the following properties:</span></span>  
  
|<span data-ttu-id="56edb-113">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-113">Property</span></span>|<span data-ttu-id="56edb-114">值</span><span class="sxs-lookup"><span data-stu-id="56edb-114">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-115">名稱</span><span class="sxs-lookup"><span data-stu-id="56edb-115">Name</span></span>|<span data-ttu-id="56edb-116">TxHost</span><span class="sxs-lookup"><span data-stu-id="56edb-116">TxHost</span></span>|  
|<span data-ttu-id="56edb-117">類型</span><span class="sxs-lookup"><span data-stu-id="56edb-117">Type</span></span>|<span data-ttu-id="56edb-118">內含式</span><span class="sxs-lookup"><span data-stu-id="56edb-118">In-Process</span></span>|  
|<span data-ttu-id="56edb-119">允許主控件追蹤</span><span class="sxs-lookup"><span data-stu-id="56edb-119">Allow Host Tracking</span></span>|<span data-ttu-id="56edb-120">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-120">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-121">信任的驗證</span><span class="sxs-lookup"><span data-stu-id="56edb-121">Authentication Trusted</span></span>|<span data-ttu-id="56edb-122">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-122">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-123">僅限 32 位元</span><span class="sxs-lookup"><span data-stu-id="56edb-123">32-bit only</span></span>|<span data-ttu-id="56edb-124">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-124">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-125">將此預設主機群組中</span><span class="sxs-lookup"><span data-stu-id="56edb-125">Make this the default host in the group</span></span>|<span data-ttu-id="56edb-126">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-126">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-127">Windows 群組</span><span class="sxs-lookup"><span data-stu-id="56edb-127">Windows group</span></span>|<span data-ttu-id="56edb-128">Windows 群組，用來控制對此主機與關聯的主控件執行個體的存取。</span><span class="sxs-lookup"><span data-stu-id="56edb-128">The Windows group used to control access to this host and associated host instances.</span></span> <span data-ttu-id="56edb-129">建立的預設內含式主控件為視窗群組*\<電腦名稱 >*\BizTalk 應用程式使用者 （適用於單一伺服器安裝 BizTalk Server） 或*\<網域名稱 >*\BizTalk 應用程式使用者 （適用於 BizTalk Server 安裝，需要使用網域群組的多個伺服器）。</span><span class="sxs-lookup"><span data-stu-id="56edb-129">The Window group created for the default in-process host is named either *\<Computer Name>*\BizTalk Application Users (for a single server BizTalk Server installation) or *\<Domain Name>*\BizTalk Application Users (for a multiple server BizTalk Server installation, which requires the use of domain groups).</span></span> <span data-ttu-id="56edb-130">**注意：***\<電腦名稱 >*和*\<網域名稱 >*的實際電腦名稱或建立群組時使用的網域名稱的預留位置。  </span><span class="sxs-lookup"><span data-stu-id="56edb-130">**Note:**  *\<Computer Name>* and *\<Domain Name>* are placeholders for the actual computer name or domain name used when the group was created.</span></span> <br /><br /> <span data-ttu-id="56edb-131">如果此主機會建立一個新的群組，則它必須 > 主題所述的權限[主機群組](http://go.microsoft.com/fwlink/?LinkId=208803)(http://go.microsoft.com/fwlink/?LinkId=208803) 中的 BizTalk Server 文件。</span><span class="sxs-lookup"><span data-stu-id="56edb-131">If a new group is created for this host then it must have the privileges described in the topic [Host Groups](http://go.microsoft.com/fwlink/?LinkId=208803) (http://go.microsoft.com/fwlink/?LinkId=208803) in the BizTalk Server documentation.</span></span>|  
  
 <span data-ttu-id="56edb-132">重複執行建立 「 傳送 」 主控件建立 「 接收 」 主控件時，您會遵循的步驟。</span><span class="sxs-lookup"><span data-stu-id="56edb-132">Repeat the steps that you followed when creating the “Send” host to create a “Receive” host.</span></span> <span data-ttu-id="56edb-133">設定 「 接收 」 主控件具有下列屬性值：</span><span class="sxs-lookup"><span data-stu-id="56edb-133">Configure the “Receive” host with the following property values:</span></span>  
  
|<span data-ttu-id="56edb-134">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-134">Property</span></span>|<span data-ttu-id="56edb-135">值</span><span class="sxs-lookup"><span data-stu-id="56edb-135">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-136">名稱</span><span class="sxs-lookup"><span data-stu-id="56edb-136">Name</span></span>|<span data-ttu-id="56edb-137">RxHost</span><span class="sxs-lookup"><span data-stu-id="56edb-137">RxHost</span></span>|  
|<span data-ttu-id="56edb-138">類型</span><span class="sxs-lookup"><span data-stu-id="56edb-138">Type</span></span>|<span data-ttu-id="56edb-139">內含式</span><span class="sxs-lookup"><span data-stu-id="56edb-139">In-Process</span></span>|  
|<span data-ttu-id="56edb-140">允許主控件追蹤</span><span class="sxs-lookup"><span data-stu-id="56edb-140">Allow Host Tracking</span></span>|<span data-ttu-id="56edb-141">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-141">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-142">信任的驗證</span><span class="sxs-lookup"><span data-stu-id="56edb-142">Authentication Trusted</span></span>|<span data-ttu-id="56edb-143">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-143">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-144">僅限 32 位元</span><span class="sxs-lookup"><span data-stu-id="56edb-144">32-bit only</span></span>|<span data-ttu-id="56edb-145">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-145">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-146">將此預設主機群組中</span><span class="sxs-lookup"><span data-stu-id="56edb-146">Make this the default host in the group</span></span>|<span data-ttu-id="56edb-147">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-147">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-148">Windows 群組</span><span class="sxs-lookup"><span data-stu-id="56edb-148">Windows group</span></span>|<span data-ttu-id="56edb-149">Windows 群組，用來控制對此主機與關聯的主控件執行個體的存取。</span><span class="sxs-lookup"><span data-stu-id="56edb-149">The Windows group used to control access to this host and associated host instances.</span></span> <span data-ttu-id="56edb-150">建立的預設內含式主控件為視窗群組*\<電腦名稱 >*\BizTalk 應用程式使用者 （適用於單一伺服器安裝 BizTalk Server） 或*\<網域名稱 >*\BizTalk 應用程式使用者 （適用於 BizTalk Server 安裝，需要使用網域群組的多個伺服器）。</span><span class="sxs-lookup"><span data-stu-id="56edb-150">The Window group created for the default in-process host is named either *\<Computer Name>*\BizTalk Application Users (for a single server BizTalk Server installation) or *\<Domain Name>*\BizTalk Application Users (for a multiple server BizTalk Server installation, which requires the use of domain groups).</span></span> <span data-ttu-id="56edb-151">**注意：***\<電腦名稱 >*和*\<網域名稱 >*的實際電腦名稱或建立群組時使用的網域名稱的預留位置。  </span><span class="sxs-lookup"><span data-stu-id="56edb-151">**Note:**  *\<Computer Name>* and *\<Domain Name>* are placeholders for the actual computer name or domain name used when the group was created.</span></span> <br /><br /> <span data-ttu-id="56edb-152">如果此主機會建立一個新的群組，則它必須 > 主題所述的權限[主機群組](http://go.microsoft.com/fwlink/?LinkId=208803)(http://go.microsoft.com/fwlink/?LinkId=208803) 中的 BizTalk Server 文件。</span><span class="sxs-lookup"><span data-stu-id="56edb-152">If a new group is created for this host then it must have the privileges described in the topic [Host Groups](http://go.microsoft.com/fwlink/?LinkId=208803) (http://go.microsoft.com/fwlink/?LinkId=208803) in the BizTalk Server documentation.</span></span>|  
  
### <a name="create-instances-of-the-biztalk-server-send-and-receive-hosts"></a><span data-ttu-id="56edb-153">建立執行個體的 BizTalk Server 傳送和接收主控件</span><span class="sxs-lookup"><span data-stu-id="56edb-153">Create Instances of the BizTalk Server Send and Receive Hosts</span></span>  
 <span data-ttu-id="56edb-154">依照主題中的 BizTalk Server 文件[如何新增主控件執行個體](http://go.microsoft.com/fwlink/?LinkId=208596)(http://go.microsoft.com/fwlink/?LinkId=208596) 建立和啟動 BizTalk Server 「 傳送 」 主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="56edb-154">Follow the steps in the BizTalk Server Documentation topic [How to Add a Host Instance](http://go.microsoft.com/fwlink/?LinkId=208596) (http://go.microsoft.com/fwlink/?LinkId=208596) to create and start instances of the BizTalk Server “Send” host.</span></span> <span data-ttu-id="56edb-155">設定 BizTalk Server 群組中每個 BizTalk Server 上執行，並且具有下列屬性值設定每個主控件執行個體的 「 傳送 」 主控件執行個體：</span><span class="sxs-lookup"><span data-stu-id="56edb-155">Configure an instance of the “Send” host to run on each BizTalk Server in the BizTalk Server group and configure each host instance with the following property values:</span></span>  
  
|<span data-ttu-id="56edb-156">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-156">Property</span></span>|<span data-ttu-id="56edb-157">值</span><span class="sxs-lookup"><span data-stu-id="56edb-157">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-158">**主機名稱**</span><span class="sxs-lookup"><span data-stu-id="56edb-158">**Host name**</span></span>|<span data-ttu-id="56edb-159">選取**TxHost**旁的下拉式清單**主機名稱**。</span><span class="sxs-lookup"><span data-stu-id="56edb-159">Select **TxHost** from the drop-down list next to **Host name**.</span></span>|  
|<span data-ttu-id="56edb-160">**Server**</span><span class="sxs-lookup"><span data-stu-id="56edb-160">**Server**</span></span>|<span data-ttu-id="56edb-161">選取 BizTalk Server 會執行此主控件執行個體的下拉式清單旁**伺服器**。</span><span class="sxs-lookup"><span data-stu-id="56edb-161">Select the BizTalk Server that will run this host instance from the drop-down list next to **Server**.</span></span>|  
|<span data-ttu-id="56edb-162">**登入**</span><span class="sxs-lookup"><span data-stu-id="56edb-162">**Logon**</span></span>|<span data-ttu-id="56edb-163">1.按一下**設定** 按鈕以顯示**登入認證** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-163">1.  Click the **Configure** button to display the **Logon Credentials** dialog box.</span></span><br /><span data-ttu-id="56edb-164">2.在**登入認證**對話方塊中指定的屬性中輸入下列值：</span><span class="sxs-lookup"><span data-stu-id="56edb-164">2.  In the **Logon Credentials** dialog box enter the following values for the specified properties:</span></span><br />     <span data-ttu-id="56edb-165">**屬性**</span><span class="sxs-lookup"><span data-stu-id="56edb-165">**Property**</span></span><br />     <span data-ttu-id="56edb-166">**登入**： 此 BizTalk Server 主控件相關聯的 Windows 群組成員的使用者帳戶的名稱。</span><span class="sxs-lookup"><span data-stu-id="56edb-166">**Logon**: Name of user account that is a member of the Windows group associated with this BizTalk Server host.</span></span><br />     <span data-ttu-id="56edb-167">**密碼**： 在指定的使用者帳戶的密碼**登入**文字方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-167">**Password**: Password for the user account specified in the **Logon** textbox.</span></span><br /><span data-ttu-id="56edb-168">3.按一下**確定**關閉**登入認證** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-168">3.  Click **OK** to close the **Logon Credentials** dialog box.</span></span>|  
|<span data-ttu-id="56edb-169">**停用主控件執行個體無法啟動。**</span><span class="sxs-lookup"><span data-stu-id="56edb-169">**Disable host instance from starting.**</span></span>|<span data-ttu-id="56edb-170">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-170">Ensure that this box is un-checked.</span></span>|  
  
 <span data-ttu-id="56edb-171">後建立主控件執行個體，以滑鼠右鍵按一下主控件執行個體，然後選取**啟動**從內容功能表。</span><span class="sxs-lookup"><span data-stu-id="56edb-171">After creating the host instance, right-click on the host instance and select **Start** from the context menu.</span></span>  
  
 <span data-ttu-id="56edb-172">重複執行建立 「 傳送 」 主控件執行個體，若要建立 「 接收 」 主控件執行個體時，您遵循的步驟。</span><span class="sxs-lookup"><span data-stu-id="56edb-172">Repeat the steps that you followed when creating the “Send” host instances to create “Receive” host instances.</span></span> <span data-ttu-id="56edb-173">設定 BizTalk Server 群組中每個 BizTalk Server 上執行，並且具有下列屬性值設定每個主控件執行個體的 「 接收 」 主控件執行個體：</span><span class="sxs-lookup"><span data-stu-id="56edb-173">Configure an instance of the “Receive” host to run on each BizTalk Server in the BizTalk Server group and configure each host instance with the following property values:</span></span>  
  
|<span data-ttu-id="56edb-174">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-174">Property</span></span>|<span data-ttu-id="56edb-175">值</span><span class="sxs-lookup"><span data-stu-id="56edb-175">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-176">主機名稱</span><span class="sxs-lookup"><span data-stu-id="56edb-176">Host name</span></span>|<span data-ttu-id="56edb-177">選取**RxHost**旁的下拉式清單**主機名稱**。</span><span class="sxs-lookup"><span data-stu-id="56edb-177">Select **RxHost** from the drop-down list next to **Host name**.</span></span>|  
|<span data-ttu-id="56edb-178">Server</span><span class="sxs-lookup"><span data-stu-id="56edb-178">Server</span></span>|<span data-ttu-id="56edb-179">選取 BizTalk Server 會執行此主控件執行個體的下拉式清單旁**伺服器**。</span><span class="sxs-lookup"><span data-stu-id="56edb-179">Select the BizTalk Server that will run this host instance from the drop-down list next to **Server**.</span></span>|  
|<span data-ttu-id="56edb-180">登入</span><span class="sxs-lookup"><span data-stu-id="56edb-180">Logon</span></span>|<span data-ttu-id="56edb-181">1.按一下**設定** 按鈕以顯示**登入認證** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-181">1.  Click the **Configure** button to display the **Logon Credentials** dialog box.</span></span><br /><span data-ttu-id="56edb-182">2.在**登入認證**對話方塊中指定的屬性中輸入下列值：</span><span class="sxs-lookup"><span data-stu-id="56edb-182">2.  In the **Logon Credentials** dialog box enter the following values for the specified properties:</span></span><br />     <span data-ttu-id="56edb-183">**屬性**</span><span class="sxs-lookup"><span data-stu-id="56edb-183">**Property**</span></span><br />     <span data-ttu-id="56edb-184">**登入**： 此 BizTalk Server 主控件相關聯的 Windows 群組成員的使用者帳戶的名稱。</span><span class="sxs-lookup"><span data-stu-id="56edb-184">**Logon**: Name of user account that is a member of the Windows group associated with this BizTalk Server host.</span></span><br />     <span data-ttu-id="56edb-185">**密碼**： 在指定的使用者帳戶的密碼**登入**文字方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-185">**Password**: Password for the user account specified in the **Logon** textbox.</span></span><br /><span data-ttu-id="56edb-186">3.按一下**確定**關閉登入認證 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-186">3.  Click **OK** to close the Logon Credentials dialog box.</span></span>|  
|<span data-ttu-id="56edb-187">停止啟動主控件執行個體</span><span class="sxs-lookup"><span data-stu-id="56edb-187">Disable host instance from starting</span></span>|<span data-ttu-id="56edb-188">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-188">Ensure that this box is un-checked.</span></span>|  
  
 <span data-ttu-id="56edb-189">後建立主控件執行個體，以滑鼠右鍵按一下主控件執行個體，然後選取**啟動**從內容功能表。</span><span class="sxs-lookup"><span data-stu-id="56edb-189">After creating the host instance, right-click on the host instance and select **Start** from the context menu.</span></span>  
  
### <a name="create-a-biztalk-server-receive-port"></a><span data-ttu-id="56edb-190">建立 BizTalk Server 接收埠</span><span class="sxs-lookup"><span data-stu-id="56edb-190">Create a BizTalk Server Receive Port</span></span>  
 <span data-ttu-id="56edb-191">遵循本主題中的步驟[如何建立接收埠](http://go.microsoft.com/fwlink/?LinkID=154843)(http://go.microsoft.com/fwlink/?LinkID=154843) 若要建立單向接收埠的 BizTalk Server 文件中。</span><span class="sxs-lookup"><span data-stu-id="56edb-191">Follow the steps in the topic [How to Create a Receive Port](http://go.microsoft.com/fwlink/?LinkID=154843) (http://go.microsoft.com/fwlink/?LinkID=154843) in the BizTalk Server documentation to create a One-Way Receive Port.</span></span> <span data-ttu-id="56edb-192">建立接收埠時，保留所有屬性的預設值，但下表所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-192">When creating the Receive port, leave all properties at default values except as noted in the table below:</span></span>  
  
|<span data-ttu-id="56edb-193">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-193">Property</span></span>|<span data-ttu-id="56edb-194">值</span><span class="sxs-lookup"><span data-stu-id="56edb-194">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-195">General\Name</span><span class="sxs-lookup"><span data-stu-id="56edb-195">General\Name</span></span>|<span data-ttu-id="56edb-196">BTSLoadTestMessaging.OneWay.ReceivePort</span><span class="sxs-lookup"><span data-stu-id="56edb-196">BTSLoadTestMessaging.OneWay.ReceivePort</span></span>|  
|<span data-ttu-id="56edb-197">General\Port 類型</span><span class="sxs-lookup"><span data-stu-id="56edb-197">General\Port Type</span></span>|<span data-ttu-id="56edb-198">單向</span><span class="sxs-lookup"><span data-stu-id="56edb-198">One-Way</span></span>|  
|<span data-ttu-id="56edb-199">General\Authentication</span><span class="sxs-lookup"><span data-stu-id="56edb-199">General\Authentication</span></span>|<span data-ttu-id="56edb-200">無驗證</span><span class="sxs-lookup"><span data-stu-id="56edb-200">No authentication</span></span>|  
|<span data-ttu-id="56edb-201">General\Enable 路由失敗訊息</span><span class="sxs-lookup"><span data-stu-id="56edb-201">General\Enable routing for failed messages</span></span>|<span data-ttu-id="56edb-202">請確認不勾選此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-202">Ensure that this box is un-checked.</span></span>|  
|<span data-ttu-id="56edb-203">General\Description</span><span class="sxs-lookup"><span data-stu-id="56edb-203">General\Description</span></span>|<span data-ttu-id="56edb-204">保留空白</span><span class="sxs-lookup"><span data-stu-id="56edb-204">Leave blank</span></span>|  
|<span data-ttu-id="56edb-205">輸入對應</span><span class="sxs-lookup"><span data-stu-id="56edb-205">Inbound Maps</span></span>|<span data-ttu-id="56edb-206">無</span><span class="sxs-lookup"><span data-stu-id="56edb-206">None</span></span>|  
|<span data-ttu-id="56edb-207">追蹤</span><span class="sxs-lookup"><span data-stu-id="56edb-207">Tracking</span></span>|<span data-ttu-id="56edb-208">確定未核取所有的方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-208">Ensure that all boxes are un-checked.</span></span>|  
|<span data-ttu-id="56edb-209">接收位置</span><span class="sxs-lookup"><span data-stu-id="56edb-209">Receive Locations</span></span>|<span data-ttu-id="56edb-210">按一下**新增**，這樣就會顯示**接收位置屬性**應在下一節中所述設定 對話方塊**建立 BizTalk Server 接收位置**.</span><span class="sxs-lookup"><span data-stu-id="56edb-210">Click **New**, this will display the **Receive Location Properties** dialog box which should be configured as described in the following section, **Create a BizTalk Server Receive Location**.</span></span>|  
  
### <a name="create-a-biztalk-server-receive-location"></a><span data-ttu-id="56edb-211">建立 BizTalk Server 接收位置</span><span class="sxs-lookup"><span data-stu-id="56edb-211">Create a BizTalk Server Receive Location</span></span>  
 <span data-ttu-id="56edb-212">在**接收位置屬性**對話方塊顯示建立 BizTalk Server 接收連接埠時，套用指定的屬性值：</span><span class="sxs-lookup"><span data-stu-id="56edb-212">In the **Receive Location Properties** dialog box displayed while creating the BizTalk Server Receive port, apply the specified property values:</span></span>  
  
|<span data-ttu-id="56edb-213">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-213">Property</span></span>|<span data-ttu-id="56edb-214">值</span><span class="sxs-lookup"><span data-stu-id="56edb-214">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-215">名稱：</span><span class="sxs-lookup"><span data-stu-id="56edb-215">Name:</span></span>|<span data-ttu-id="56edb-216">BTSLoadTest.Messaging.OneWay.WCF Customer.ReceiveLocation</span><span class="sxs-lookup"><span data-stu-id="56edb-216">BTSLoadTest.Messaging.OneWay.WCF-Customer.ReceiveLocation</span></span>|  
|<span data-ttu-id="56edb-217">接收處理常式：</span><span class="sxs-lookup"><span data-stu-id="56edb-217">Receive handler:</span></span>|<span data-ttu-id="56edb-218">RxHost</span><span class="sxs-lookup"><span data-stu-id="56edb-218">RxHost</span></span>|  
|<span data-ttu-id="56edb-219">接收管線︰</span><span class="sxs-lookup"><span data-stu-id="56edb-219">Receive pipeline:</span></span>|<span data-ttu-id="56edb-220">PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="56edb-220">PassThruReceive</span></span>|  
|<span data-ttu-id="56edb-221">描述：</span><span class="sxs-lookup"><span data-stu-id="56edb-221">Description:</span></span>|<span data-ttu-id="56edb-222">將此留白</span><span class="sxs-lookup"><span data-stu-id="56edb-222">Leave this blank</span></span>|  
|<span data-ttu-id="56edb-223">類型：</span><span class="sxs-lookup"><span data-stu-id="56edb-223">Type:</span></span>|<span data-ttu-id="56edb-224">選取**Wcf-custom**從下拉式清單，然後按一下**設定** 按鈕，這會顯示**Wcf-custom 傳輸屬性**應該 對話方塊下一節所述設定**設定 Wcf-custom 接收傳輸**。</span><span class="sxs-lookup"><span data-stu-id="56edb-224">Select **WCF-Custom** from the drop-down list and then click the **Configure** button, this will display the **WCF-Custom Transport Properties** dialog box which should be configured as described in the following section, **Configure the WCF-Custom Receive Transport**.</span></span>|  
  
### <a name="configure-the-wcf-custom-receive-transport"></a><span data-ttu-id="56edb-225">設定 Wcf-custom 接收傳輸</span><span class="sxs-lookup"><span data-stu-id="56edb-225">Configure the WCF-Custom Receive Transport</span></span>  
 <span data-ttu-id="56edb-226">在**Wcf-custom 傳輸屬性**對話方塊顯示建立的 BizTalk Server 接收位置時，所有屬性都保留預設值以外，如下表所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-226">In the **WCF-Custom Transport Properties** dialog box displayed while creating the BizTalk Server Receive location, leave all properties at default values except as noted in the table below:</span></span>  
  
|<span data-ttu-id="56edb-227">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-227">Property</span></span>|<span data-ttu-id="56edb-228">值</span><span class="sxs-lookup"><span data-stu-id="56edb-228">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-229">General\Address (URI)</span><span class="sxs-lookup"><span data-stu-id="56edb-229">General\Address (URI)</span></span>|<span data-ttu-id="56edb-230">net.tcp: //localhost: 8123/btsloadtest</span><span class="sxs-lookup"><span data-stu-id="56edb-230">net.tcp://localhost:8123/btsloadtest</span></span>|  
|<span data-ttu-id="56edb-231">Binding\Binding 類型</span><span class="sxs-lookup"><span data-stu-id="56edb-231">Binding\Binding Type</span></span>|<span data-ttu-id="56edb-232">netTcpbinding</span><span class="sxs-lookup"><span data-stu-id="56edb-232">netTcpbinding</span></span>|  
|<span data-ttu-id="56edb-233">Binding\NetTcpBindingElement\listenBacklog</span><span class="sxs-lookup"><span data-stu-id="56edb-233">Binding\NetTcpBindingElement\listenBacklog</span></span>|<span data-ttu-id="56edb-234">400</span><span class="sxs-lookup"><span data-stu-id="56edb-234">400</span></span>|  
|<span data-ttu-id="56edb-235">Binding\NetTcpBindingElement\maxConnections</span><span class="sxs-lookup"><span data-stu-id="56edb-235">Binding\NetTcpBindingElement\maxConnections</span></span>|<span data-ttu-id="56edb-236">400</span><span class="sxs-lookup"><span data-stu-id="56edb-236">400</span></span>|  
|<span data-ttu-id="56edb-237">Binding\Security\NetTcpSecurityElement\mode</span><span class="sxs-lookup"><span data-stu-id="56edb-237">Binding\Security\NetTcpSecurityElement\mode</span></span>|<span data-ttu-id="56edb-238">無</span><span class="sxs-lookup"><span data-stu-id="56edb-238">None</span></span>|  
|<span data-ttu-id="56edb-239">Behavior\ServiceBehavior\serviceThrottling\ServiceThrottlingElement**附註：**將 serviceThrottling 行為新增至清單的行為，以滑鼠右鍵按一下 ServiceBehavior 按一下**加入擴充**，選取**serviceThrottling**從清單中的行為延伸模組，然後按一下**確定**。</span><span class="sxs-lookup"><span data-stu-id="56edb-239">Behavior\ServiceBehavior\serviceThrottling\ServiceThrottlingElement **Note:**  To add the serviceThrottling behavior to the list of behaviors, right-click ServiceBehavior, click **Add Extension**, select **serviceThrottling** from the list of behavior extensions and then click **OK**.</span></span>|<span data-ttu-id="56edb-240">設定**ServiceThrottlingElement**屬性為下列值：</span><span class="sxs-lookup"><span data-stu-id="56edb-240">Set the **ServiceThrottlingElement** properties to the following values:</span></span><br /><br /> <span data-ttu-id="56edb-241">-   **maxConcurrentCalls** 400</span><span class="sxs-lookup"><span data-stu-id="56edb-241">-   **maxConcurrentCalls** 400</span></span><br /><span data-ttu-id="56edb-242">-   **maxConcurrentInstances** 400</span><span class="sxs-lookup"><span data-stu-id="56edb-242">-   **maxConcurrentInstances** 400</span></span><br /><span data-ttu-id="56edb-243">-   **maxConcurrentSessions** 400</span><span class="sxs-lookup"><span data-stu-id="56edb-243">-   **maxConcurrentSessions** 400</span></span>|  
|<span data-ttu-id="56edb-244">Behavior\ServiceBehavior\serviceDebug\ServiceDebugElement**附註：**加入 serviceDebug 行為的行為，以滑鼠右鍵按一下 ServiceBehavior 清單按一下**加入擴充**，選取**serviceDebug**行為延伸模組，然後再按一下清單中**確定**。</span><span class="sxs-lookup"><span data-stu-id="56edb-244">Behavior\ServiceBehavior\serviceDebug\ServiceDebugElement **Note:**  To add the serviceDebug behavior to the list of behaviors, right-click ServiceBehavior, click **Add Extension**, select **serviceDebug** from the list of behavior extensions, and then click **OK**.</span></span>|<span data-ttu-id="56edb-245">保留的清單**ServiceDebugElement**屬性保留為預設值 （空白） 除了下列的屬性，來變更為 True 的值：</span><span class="sxs-lookup"><span data-stu-id="56edb-245">Leave the list of **ServiceDebugElement** properties at their default values (empty) except for the following properties, which should be changed to a value of True:</span></span><br /><br /> <span data-ttu-id="56edb-246">-   **httpHelpPageEnabled** ，則為 True</span><span class="sxs-lookup"><span data-stu-id="56edb-246">-   **httpHelpPageEnabled** True</span></span><br /><span data-ttu-id="56edb-247">-   **httpsHelpPageEnabled** ，則為 True</span><span class="sxs-lookup"><span data-stu-id="56edb-247">-   **httpsHelpPageEnabled** True</span></span><br /><span data-ttu-id="56edb-248">-   **includeExceptionDetailInFaults** ，則為 True</span><span class="sxs-lookup"><span data-stu-id="56edb-248">-   **includeExceptionDetailInFaults** True</span></span>|  
  
 <span data-ttu-id="56edb-249">按一下**確定**來關閉 Wcf-custom 傳輸屬性 對話方塊，然後按一下**確定** 以關閉 接收位置屬性 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-249">Click **OK** to close the WCF-Custom Transport Properties dialog box and then click **OK** again to close the Receive Location Properties dialog box.</span></span>  
  
### <a name="create-a-biztalk-server-send-port"></a><span data-ttu-id="56edb-250">建立 BizTalk Server 傳送埠</span><span class="sxs-lookup"><span data-stu-id="56edb-250">Create a BizTalk Server Send Port</span></span>  
 <span data-ttu-id="56edb-251">遵循本主題中的步驟[如何建立傳送埠](http://go.microsoft.com/fwlink/?LinkID=154845)(http://go.microsoft.com/fwlink/?LinkID=154845) 中建立的 BizTalk Server 文件**靜態單向**傳送埠。</span><span class="sxs-lookup"><span data-stu-id="56edb-251">Follow the steps in the topic [How to Create a Send Port](http://go.microsoft.com/fwlink/?LinkID=154845) (http://go.microsoft.com/fwlink/?LinkID=154845) in the BizTalk Server documentation to create a **Static One-Way** Send Port.</span></span> <span data-ttu-id="56edb-252">建立傳送埠時，保留所有屬性的預設值，但下表所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-252">When creating the Send port, leave all properties at default values except as noted in the table below:</span></span>  
  
|<span data-ttu-id="56edb-253">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-253">Property</span></span>|<span data-ttu-id="56edb-254">值</span><span class="sxs-lookup"><span data-stu-id="56edb-254">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-255">General\Name</span><span class="sxs-lookup"><span data-stu-id="56edb-255">General\Name</span></span>|<span data-ttu-id="56edb-256">BTSLoadTest.Messaging.Send.WCF 自訂</span><span class="sxs-lookup"><span data-stu-id="56edb-256">BTSLoadTest.Messaging.Send.WCF-Custom</span></span>|  
|<span data-ttu-id="56edb-257">General\Send 處理常式</span><span class="sxs-lookup"><span data-stu-id="56edb-257">General\Send handler</span></span>|<span data-ttu-id="56edb-258">TxHost</span><span class="sxs-lookup"><span data-stu-id="56edb-258">TxHost</span></span>|  
|<span data-ttu-id="56edb-259">General\Send 管線</span><span class="sxs-lookup"><span data-stu-id="56edb-259">General\Send pipeline</span></span>|<span data-ttu-id="56edb-260">PassThruTransmit</span><span class="sxs-lookup"><span data-stu-id="56edb-260">PassThruTransmit</span></span>|  
|<span data-ttu-id="56edb-261">Filters\Name</span><span class="sxs-lookup"><span data-stu-id="56edb-261">Filters\Name</span></span>|<span data-ttu-id="56edb-262">BTS.ReceivePortName</span><span class="sxs-lookup"><span data-stu-id="56edb-262">BTS.ReceivePortName</span></span>|  
|<span data-ttu-id="56edb-263">Filters\Operator</span><span class="sxs-lookup"><span data-stu-id="56edb-263">Filters\Operator</span></span>|==|  
|<span data-ttu-id="56edb-264">Filters\Value</span><span class="sxs-lookup"><span data-stu-id="56edb-264">Filters\Value</span></span>|<span data-ttu-id="56edb-265">BTSLoadTest.Messaging.OneWay.ReceivePort</span><span class="sxs-lookup"><span data-stu-id="56edb-265">BTSLoadTest.Messaging.OneWay.ReceivePort</span></span>|  
|<span data-ttu-id="56edb-266">由 Filters\Group</span><span class="sxs-lookup"><span data-stu-id="56edb-266">Filters\Group by</span></span>|<span data-ttu-id="56edb-267">和**附註：**篩選這些屬性會設定以正確的值，如果應該顯示為`BTS.ReceivePortName == BTSLoadTest.Messaging.OneWay.ReceivePort`b 中的 [傳送埠屬性] 對話方塊的 [篩選] 頁面底部所見ox。</span><span class="sxs-lookup"><span data-stu-id="56edb-267">And **Note:**  If these properties are configured with the correct values, the filter should be displayed as                                              `BTS.ReceivePortName == BTSLoadTest.Messaging.OneWay.ReceivePort` as seen toward the bottom of the Filters page of the Send Port Properties dialog box.</span></span> <span data-ttu-id="56edb-268">因為套用此篩選之後，此傳送埠訂閱透過名為 BTSLoadTest.Messaging.OneWay.ReceivePort 接收埠的 BizTalk Server 收到任何訊息。</span><span class="sxs-lookup"><span data-stu-id="56edb-268">As a result of applying this filter, this Send port subscribes to any messages received by BizTalk Server via the Receive Port named BTSLoadTest.Messaging.OneWay.ReceivePort.</span></span>|  
|<span data-ttu-id="56edb-269">追蹤</span><span class="sxs-lookup"><span data-stu-id="56edb-269">Tracking</span></span>|<span data-ttu-id="56edb-270">確定未核取所有的方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-270">Ensure that all boxes are un-checked.</span></span>|  
|<span data-ttu-id="56edb-271">General\Type</span><span class="sxs-lookup"><span data-stu-id="56edb-271">General\Type</span></span>|<span data-ttu-id="56edb-272">選取**Wcf-custom**從下拉式清單，然後按一下**設定** 按鈕，這會顯示**Wcf-custom 傳輸屬性**應該 對話方塊下一節所述設定**設定 Wcf-custom 傳送傳輸**。</span><span class="sxs-lookup"><span data-stu-id="56edb-272">Select **WCF-Custom** from the drop-down list and then click the **Configure** button, this will display the **WCF-Custom Transport Properties** dialog box which should be configured as described in the following section, **Configure the WCF-Custom Send Transport**.</span></span>|  
  
### <a name="configure-the-wcf-custom-send-transport"></a><span data-ttu-id="56edb-273">設定 Wcf-custom 傳送傳輸</span><span class="sxs-lookup"><span data-stu-id="56edb-273">Configure the WCF-Custom Send Transport</span></span>  
 <span data-ttu-id="56edb-274">在**Wcf-custom 傳輸屬性**建立 BizTalk Server 傳送埠時顯示的對話方塊，請將所有屬性都保留預設值，但除外下, 表所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-274">In the **WCF-Custom Transport Properties** dialog box displayed while creating the BizTalk Server Send Port, leave all properties at default values except as noted in the table below:</span></span>  
  
|<span data-ttu-id="56edb-275">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-275">Property</span></span>|<span data-ttu-id="56edb-276">值</span><span class="sxs-lookup"><span data-stu-id="56edb-276">Value</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="56edb-277">General\Address (URI)</span><span class="sxs-lookup"><span data-stu-id="56edb-277">General\Address (URI)</span></span>|<span data-ttu-id="56edb-278">net.tcp://*\<電腦名稱 >*: 2001年/TCP1**重要事項：***\<電腦名稱 >*是預留位置用的實際電腦名稱以裝載 IndigoService.exe，其設計為使用透過 WCF 傳送的訊息。  </span><span class="sxs-lookup"><span data-stu-id="56edb-278">net.tcp://*\<Computer Name>*:2001/TCP1 **Important:**  *\<Computer Name>* is a placeholder for the actual computer name used to host IndigoService.exe, which is designed to consume messages sent via WCF.</span></span> <span data-ttu-id="56edb-279">因為 IndigoService.exe 需要極少的資源，所以通常完全可接受用於 BizTalk Server 群組資料庫的 SQL Server 電腦上執行 IndigoService.exe。</span><span class="sxs-lookup"><span data-stu-id="56edb-279">Because IndigoService.exe requires very little resources, it is often perfectly acceptable to run IndigoService.exe on the SQL Server computer used for the BizTalk Server group databases.</span></span> <span data-ttu-id="56edb-280">IndigoService.exe 屬於 BizTalk 基準精靈，將會位於[BizTalk 基準精靈](http://go.microsoft.com/fwlink/?LinkID=186347)(http://go.microsoft.com/fwlink/?LinkID=186347)。</span><span class="sxs-lookup"><span data-stu-id="56edb-280">IndigoService.exe is part of the BizTalk Benchmark Wizard, which is available at [BizTalk Benchmark Wizard](http://go.microsoft.com/fwlink/?LinkID=186347) (http://go.microsoft.com/fwlink/?LinkID=186347).</span></span>|  
|<span data-ttu-id="56edb-281">Binding\Binding 類型</span><span class="sxs-lookup"><span data-stu-id="56edb-281">Binding\Binding Type</span></span>|<span data-ttu-id="56edb-282">**customBinding**</span><span class="sxs-lookup"><span data-stu-id="56edb-282">**customBinding**</span></span>|  
  
 <span data-ttu-id="56edb-283">如同大部分的 WCF 自訂繫結類型**customBinding**繫結型別會公開一些屬性，它應該設定為下列值：</span><span class="sxs-lookup"><span data-stu-id="56edb-283">As with most of the WCF-Custom Binding Types, the **customBinding** Binding type exposes several properties, which should be set to the following values:</span></span>  
  
1.  <span data-ttu-id="56edb-284">在下**繫結**區段沒有**CustomBindingElement**屬性相關之**組態**> 一節。</span><span class="sxs-lookup"><span data-stu-id="56edb-284">Under the **Binding** section there is a **CustomBindingElement** property with an associated **Configuration** section.</span></span> <span data-ttu-id="56edb-285">保留的所有值的組態區段中**CustomBindingElement**屬性保留為預設值。</span><span class="sxs-lookup"><span data-stu-id="56edb-285">Leave all of the values in the Configuration section for the **CustomBindingElement** property at their default values.</span></span>  
  
2.  <span data-ttu-id="56edb-286">然後在**CustomBindingElement**以滑鼠右鍵按一下**textMessageEncoding**選取**移除延伸模組 (Del)**。</span><span class="sxs-lookup"><span data-stu-id="56edb-286">Then under **CustomBindingElement** right-click **textMessageEncoding** and select **Remove extension (Del)**.</span></span> <span data-ttu-id="56edb-287">同樣地，以滑鼠右鍵按一下**httpTransport**選取**移除延伸模組 (Del)**。</span><span class="sxs-lookup"><span data-stu-id="56edb-287">Likewise, right-click **httpTransport** and select **Remove extension (Del)**.</span></span>  
  
3.  <span data-ttu-id="56edb-288">現在以滑鼠右鍵按一下**CustomBindingElement**選取**加入擴充功能集**顯示**選取繫結元素延伸模組** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-288">Now right-click **CustomBindingElement** and select **Add extension Ins** to display the **Select Binding Element Extension** dialog box.</span></span>  
  
4.  <span data-ttu-id="56edb-289">選取**binaryMessageEncoding**按一下**確定**新增**binaryMessageEncoding**項目延伸。</span><span class="sxs-lookup"><span data-stu-id="56edb-289">Select **binaryMessageEncoding** and click **OK** to add the **binaryMessageEncoding** element extension.</span></span> <span data-ttu-id="56edb-290">重複步驟顯示**選取繫結元素延伸模組**對話方塊和捲軸向下可用的項目延伸的清單直到您看到**tcpTransport**項目延伸，選取**tcpTransport**按一下**確定**。</span><span class="sxs-lookup"><span data-stu-id="56edb-290">Repeat the steps to display the **Select Binding Element Extension** dialog box and scroll down the list of available element extensions until you see the **tcpTransport** element extension, select **tcpTransport** and click **OK**.</span></span>  
  
5.  <span data-ttu-id="56edb-291">在下**CustomBindingElement**選取**tcpTransport**項目和組態區段中**tcpTransport**，保留所有屬性的預設值以外，做為下表所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-291">Under **CustomBindingElement** select the **tcpTransport** element and in the Configuration section for **tcpTransport**, leave all properties at default values except as noted in the following table:</span></span>  
  
    |<span data-ttu-id="56edb-292">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-292">Property</span></span>|<span data-ttu-id="56edb-293">值</span><span class="sxs-lookup"><span data-stu-id="56edb-293">Value</span></span>|  
    |--------------|-----------|  
    |<span data-ttu-id="56edb-294">connectionBufferSize</span><span class="sxs-lookup"><span data-stu-id="56edb-294">connectionBufferSize</span></span>|<span data-ttu-id="56edb-295">2097152</span><span class="sxs-lookup"><span data-stu-id="56edb-295">2097152</span></span>|  
    |<span data-ttu-id="56edb-296">maxBufferSize</span><span class="sxs-lookup"><span data-stu-id="56edb-296">maxBufferSize</span></span>|<span data-ttu-id="56edb-297">2097152</span><span class="sxs-lookup"><span data-stu-id="56edb-297">2097152</span></span>|  
    |<span data-ttu-id="56edb-298">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="56edb-298">maxPendingAccepts</span></span>|<span data-ttu-id="56edb-299">400</span><span class="sxs-lookup"><span data-stu-id="56edb-299">400</span></span>|  
    |<span data-ttu-id="56edb-300">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="56edb-300">maxPendingConnections</span></span>|<span data-ttu-id="56edb-301">400</span><span class="sxs-lookup"><span data-stu-id="56edb-301">400</span></span>|  
    |<span data-ttu-id="56edb-302">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="56edb-302">listenBacklog</span></span>|<span data-ttu-id="56edb-303">400</span><span class="sxs-lookup"><span data-stu-id="56edb-303">400</span></span>|  
    |<span data-ttu-id="56edb-304">maxBufferPoolSize</span><span class="sxs-lookup"><span data-stu-id="56edb-304">maxBufferPoolSize</span></span>|<span data-ttu-id="56edb-305">2097152</span><span class="sxs-lookup"><span data-stu-id="56edb-305">2097152</span></span>|  
    |<span data-ttu-id="56edb-306">maxReceivedMessageSize</span><span class="sxs-lookup"><span data-stu-id="56edb-306">maxReceivedMessageSize</span></span>|<span data-ttu-id="56edb-307">2097152</span><span class="sxs-lookup"><span data-stu-id="56edb-307">2097152</span></span>|  
  
6.  <span data-ttu-id="56edb-308">在下**tcpTransport**項目選取**n**項目並保留預設值的所有屬性都值除了**maxOutboundConnectionsPerEndpoint**屬性，來變更值為 400。</span><span class="sxs-lookup"><span data-stu-id="56edb-308">Under the **tcpTransport** element select the **ConnectionPoolSettings** element and leave all properties at default values except for the **maxOutboundConnectionsPerEndpoint** property, which should be changed to a value of 400.</span></span>  
  
7.  <span data-ttu-id="56edb-309">按一下**確定**若要關閉 [Wcf-custom 傳輸屬性] 對話方塊，然後按一下 [ **[確定]** ] 以關閉 [BTSLoadTest.Messaging.Send.WCF 自訂-傳送埠屬性] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-309">Click **OK** to close the WCF-Custom Transport Properties dialog box, then click **OK** again to close the BTSLoadTest.Messaging.Send.WCF-Custom – Send Port Properties dialog box.</span></span>  
  
### <a name="configure-a-computer-to-consume-messages-sent-by-the-biztalk-server-send-port"></a><span data-ttu-id="56edb-310">設定電腦以使用 BizTalk Server 傳送埠所傳送的訊息</span><span class="sxs-lookup"><span data-stu-id="56edb-310">Configure a Computer to Consume Messages Sent by the BizTalk Server Send Port</span></span>  
 <span data-ttu-id="56edb-311">如先前所述，IndigoService.exe 被設計來使用透過 WCF 傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="56edb-311">As described earlier, the IndigoService.exe is designed to consume messages sent via WCF.</span></span> <span data-ttu-id="56edb-312">IndigoService.exe 屬於 BizTalk 基準精靈，將會位於[BizTalk 基準精靈](http://go.microsoft.com/fwlink/?LinkID=186347)(http://go.microsoft.com/fwlink/?LinkID=186347)。</span><span class="sxs-lookup"><span data-stu-id="56edb-312">IndigoService.exe is part of the BizTalk Benchmark Wizard, which is available at [BizTalk Benchmark Wizard](http://go.microsoft.com/fwlink/?LinkID=186347) (http://go.microsoft.com/fwlink/?LinkID=186347).</span></span> <span data-ttu-id="56edb-313">若要設定和執行此範例的目的 IndigoService.exe 最簡單的方式是只需下載 BizTalk 基準精靈 zip 檔案，從[BizTalk 基準精靈下載頁面](http://go.microsoft.com/fwlink/?LinkID=209100)(http://go.microsoft.com/fwlink/?LinkID = 209100)，然後將解壓縮到您想要執行 IndigoService.exe 的電腦上下列 4 個檔案：</span><span class="sxs-lookup"><span data-stu-id="56edb-313">The easiest way to set up and run IndigoService.exe for purposes of this example is to simply download the BizTalk Benchmark Wizard zip file from the [BizTalk BenchMark Wizard download page](http://go.microsoft.com/fwlink/?LinkID=209100) (http://go.microsoft.com/fwlink/?LinkID=209100) and extract the following 4 files onto the computer that you would like to run IndigoService.exe:</span></span>  
  
1.  <span data-ttu-id="56edb-314">\IndigoService\bin\Release\IndigoService.exe</span><span class="sxs-lookup"><span data-stu-id="56edb-314">\IndigoService\bin\Release\IndigoService.exe</span></span>  
  
2.  <span data-ttu-id="56edb-315">\IndigoService\bin\Release\IndigoService.exe.config</span><span class="sxs-lookup"><span data-stu-id="56edb-315">\IndigoService\bin\Release\IndigoService.exe.config</span></span>  
  
3.  <span data-ttu-id="56edb-316">\IndigoService\bin\Release\Response.xml</span><span class="sxs-lookup"><span data-stu-id="56edb-316">\IndigoService\bin\Release\Response.xml</span></span>  
  
4.  <span data-ttu-id="56edb-317">\IndigoService\bin\Release\StartIndigoService.bat</span><span class="sxs-lookup"><span data-stu-id="56edb-317">\IndigoService\bin\Release\StartIndigoService.bat</span></span>  
  
 <span data-ttu-id="56edb-318">然後啟動 IndigoService.exe StartIndigoService.bat 上按兩下。</span><span class="sxs-lookup"><span data-stu-id="56edb-318">Then, start IndigoService.exe by double-clicking on StartIndigoService.bat.</span></span> <span data-ttu-id="56edb-319">IndigoService.exe 取用 IndigoService.exe.config 檔案中指定的端點傳送的訊息：</span><span class="sxs-lookup"><span data-stu-id="56edb-319">IndigoService.exe consumes messages sent to the endpoint specified in the IndigoService.exe.config file:</span></span>  
  
 <span data-ttu-id="56edb-320">\<端點位址 ="net.tcp: //localhost: 2001年/TCP1 」 繫結 ="netTcpBinding"bindingConfiguration ="Binding1"name ="endpoint1"contract="IndigoService.IServiceTwoWaysVoidNonTransactional"/ ></span><span class="sxs-lookup"><span data-stu-id="56edb-320">\<endpoint address="net.tcp://localhost:2001/TCP1"             binding="netTcpBinding"             bindingConfiguration="Binding1"             name="endpoint1"             contract="IndigoService.IServiceTwoWaysVoidNonTransactional" /></span></span>  
  
 <span data-ttu-id="56edb-321">這就是為什麼傳送連接埠設定位址的位址 (URI) 的 net.tcp://*\<電腦名稱 >*: 2001年/TCP1</span><span class="sxs-lookup"><span data-stu-id="56edb-321">This is why the Send Port Address is configured with an Address (URI) of net.tcp://*\<Computer Name>*:2001/TCP1</span></span>  
  
 <span data-ttu-id="56edb-322">因為 IndigoService.exe 需要極少的資源，所以通常完全可接受用於 BizTalk Server 資料庫的 SQL Server 電腦上執行 IndigoService.exe。</span><span class="sxs-lookup"><span data-stu-id="56edb-322">Because IndigoService.exe requires very little resources, it is often perfectly acceptable to run IndigoService.exe on the SQL Server computer used for the BizTalk Server databases.</span></span>  
  
### <a name="disable-tracking-and-throttling-for-the-biztalk-server-group"></a><span data-ttu-id="56edb-323">停用追蹤和節流在 BizTalk Server 群組</span><span class="sxs-lookup"><span data-stu-id="56edb-323">Disable Tracking and Throttling for the BizTalk Server Group</span></span>  
 <span data-ttu-id="56edb-324">若要判斷絕對最大持續輸送量的系統，這兩個訊息追蹤和節流應該停用開始負載測試之前。</span><span class="sxs-lookup"><span data-stu-id="56edb-324">In order to determine the absolute maximum sustainable throughput of the system, both message Tracking and Throttling should be disabled before beginning load testing.</span></span> <span data-ttu-id="56edb-325">這可以使用 BizTalk Server 管理主控台，依照下列步驟：</span><span class="sxs-lookup"><span data-stu-id="56edb-325">This can be done using the BizTalk Server Administration console by following these steps:</span></span>  
  
1.  <span data-ttu-id="56edb-326">啟動 BizTalk Server 管理主控台。</span><span class="sxs-lookup"><span data-stu-id="56edb-326">Launch the BizTalk Server Administration console.</span></span> <span data-ttu-id="56edb-327">按一下**啟動**，指向 **所有程式**，指向  **BizTalk Server 2010** ，然後按一下  **BizTalk Server 管理**。</span><span class="sxs-lookup"><span data-stu-id="56edb-327">Click **Start**, point to **All Programs**, point to **BizTalk Server 2010** and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="56edb-328">在下**BizTalk Server 管理**、 選取您的 BizTalk 群組，如果有列出，或如果未列出，以滑鼠右鍵按一下**BizTalk Server 管理**，選取**連接至現有的群組**，輸入裝載 BizTalk 群組的 BizTalk Server 管理資料庫旁的 SQL Server 名稱**SQL Server 名稱：**，輸入的 BizTalk 群組的管理資料庫名稱旁邊**資料庫名稱：** ，然後按一下 **確定**。</span><span class="sxs-lookup"><span data-stu-id="56edb-328">Under **BizTalk Server Administration**, select your BizTalk Group if it is listed or if it is not listed, right-click **BizTalk Server Administration**, select **Connect to Existing Group**, enter the SQL Server name that houses the BizTalk Group’s BizTalk Server Management database next to **SQL Server name:**, enter the name of the BizTalk Group’s management database name next to **Database name:** and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="56edb-329">以滑鼠右鍵按一下 [BizTalk 群組] 節點，然後選取**設定**顯示**BizTalk 設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="56edb-329">Right-click the BizTalk Group node and select **Settings** to display the **BizTalk Settings Dashboard**.</span></span>  
  
4.  <span data-ttu-id="56edb-330">按一下以選取**主機**BizTalk 設定儀表板的左窗格中。</span><span class="sxs-lookup"><span data-stu-id="56edb-330">Click to select **Hosts** in the left hand pane of the BizTalk Settings Dashboard.</span></span>  
  
5.  <span data-ttu-id="56edb-331">按一下下拉式清單旁**主機**選取其中一個會在效能測試期間使用的主機。</span><span class="sxs-lookup"><span data-stu-id="56edb-331">Click the dropdown list next to **Host** to select one of the hosts that will be used during performance testing.</span></span>  
  
6.  <span data-ttu-id="56edb-332">將內容保留其預設值以外，如下列表格中所述：</span><span class="sxs-lookup"><span data-stu-id="56edb-332">Leave properties at their default values except as noted in the following table:</span></span>  
  
    |<span data-ttu-id="56edb-333">屬性</span><span class="sxs-lookup"><span data-stu-id="56edb-333">Property</span></span>|<span data-ttu-id="56edb-334">值</span><span class="sxs-lookup"><span data-stu-id="56edb-334">Value</span></span>|  
    |--------------|-----------|  
    |<span data-ttu-id="56edb-335">**追蹤資料到 DTA DB General\Move**</span><span class="sxs-lookup"><span data-stu-id="56edb-335">**General\Move tracking data to DTA DB**</span></span>|<span data-ttu-id="56edb-336">如果已核取，請取消選取此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-336">Uncheck this box if it is checked.</span></span>|  
    |<span data-ttu-id="56edb-337">**僅限 General\32 位元**</span><span class="sxs-lookup"><span data-stu-id="56edb-337">**General\32-bit only**</span></span>|<span data-ttu-id="56edb-338">如果已核取，請取消選取此方塊。</span><span class="sxs-lookup"><span data-stu-id="56edb-338">Uncheck this box if it is checked.</span></span>|  
    |<span data-ttu-id="56edb-339">**General\Polling Intervals\Messaging**</span><span class="sxs-lookup"><span data-stu-id="56edb-339">**General\Polling Intervals\Messaging**</span></span>|<span data-ttu-id="56edb-340">設為 20000000 值</span><span class="sxs-lookup"><span data-stu-id="56edb-340">Set to a value of 20000000</span></span>|  
    |<span data-ttu-id="56edb-341">**General\Polling Intervals\Orchestrations**</span><span class="sxs-lookup"><span data-stu-id="56edb-341">**General\Polling Intervals\Orchestrations**</span></span>|<span data-ttu-id="56edb-342">設為 20000000 值</span><span class="sxs-lookup"><span data-stu-id="56edb-342">Set to a value of 20000000</span></span>|  
    |<span data-ttu-id="56edb-343">**資源型 Throttling\In 處理訊息**</span><span class="sxs-lookup"><span data-stu-id="56edb-343">**Resource-Based Throttling\In-process messages**</span></span>|<span data-ttu-id="56edb-344">設為值的 10000 倍</span><span class="sxs-lookup"><span data-stu-id="56edb-344">Set to a value of 10000</span></span>|  
    |<span data-ttu-id="56edb-345">**資源型 Throttling\Internal 訊息佇列大小**</span><span class="sxs-lookup"><span data-stu-id="56edb-345">**Resource-Based Throttling\Internal message queue size**</span></span>|<span data-ttu-id="56edb-346">設為值的 10000 倍</span><span class="sxs-lookup"><span data-stu-id="56edb-346">Set to a value of 10000</span></span>|  
    |<span data-ttu-id="56edb-347">**在 DB 中的資源型 Throttling\Message 計數**</span><span class="sxs-lookup"><span data-stu-id="56edb-347">**Resource-Based Throttling\Message count in DB**</span></span>|<span data-ttu-id="56edb-348">設定為 0 的值</span><span class="sxs-lookup"><span data-stu-id="56edb-348">Set to a value of 0</span></span>|  
    |<span data-ttu-id="56edb-349">**虛擬的 資源型 Throttling\Memory Usage\Process**</span><span class="sxs-lookup"><span data-stu-id="56edb-349">**Resource-Based Throttling\Memory Usage\Process virtual**</span></span>|<span data-ttu-id="56edb-350">設定為 0 的值</span><span class="sxs-lookup"><span data-stu-id="56edb-350">Set to a value of 0</span></span>|  
    |<span data-ttu-id="56edb-351">**根據速率的 Throttling\Publishing\Throttling 覆寫**</span><span class="sxs-lookup"><span data-stu-id="56edb-351">**Rate-Based Throttling\Publishing\Throttling override**</span></span>|<span data-ttu-id="56edb-352">設定為不要節流</span><span class="sxs-lookup"><span data-stu-id="56edb-352">Set to Do Not Throttle</span></span>|  
    |<span data-ttu-id="56edb-353">**根據速率的 Throttling\Delivery\Throttling 覆寫**</span><span class="sxs-lookup"><span data-stu-id="56edb-353">**Rate-Based Throttling\Delivery\Throttling override**</span></span>|<span data-ttu-id="56edb-354">設定為不要節流</span><span class="sxs-lookup"><span data-stu-id="56edb-354">Set to Do Not Throttle</span></span>|  
  
7.  <span data-ttu-id="56edb-355">重複步驟 6 中所述的效能測試期間將會使用每個主控件程序。</span><span class="sxs-lookup"><span data-stu-id="56edb-355">Repeat the process outlined in step 6 for every host that will be used during the course of performance testing.</span></span>  
  
8.  <span data-ttu-id="56edb-356">按一下以選取**主控件執行個體**BizTalk 設定儀表板的左窗格中。</span><span class="sxs-lookup"><span data-stu-id="56edb-356">Click to select **Host Instances** in the left hand pane of the BizTalk Settings Dashboard.</span></span>  
  
9. <span data-ttu-id="56edb-357">按一下下拉式清單旁**主控件執行個體：**選取其中一個用於效能測試的主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="56edb-357">Click the dropdown list next to **Host Instance:** to select one of the host instances that will be used for performance testing.</span></span>  
  
10. <span data-ttu-id="56edb-358">屬性值保留為預設設定，除了變更**.NET CLR 最大工作者執行緒**為**100**並變更**上最小.NET CLR 工作者執行緒**至值**25**。</span><span class="sxs-lookup"><span data-stu-id="56edb-358">Leave property values at their default setting except change the **.NET CLR Maximum worker threads** to a value of **100** and change the **.NET CLR Minimum worker threads** to a value of **25**.</span></span>  
  
11. <span data-ttu-id="56edb-359">重複步驟 10 期間的效能測試將會使用每個主控件執行個體中所述的程序。</span><span class="sxs-lookup"><span data-stu-id="56edb-359">Repeat the process outlined in step 10 for every host instance that will be used during the course of performance testing.</span></span>  
  
 <span data-ttu-id="56edb-360">即使停用追蹤和節流並不以任何方式代表要如何處理在生產案例中，因為這些作業會從效能觀點來看很合理停用它們了解，則為 true 最大持續因此高度耗費資源BizTalk Server 環境的輸送量 (MST)。</span><span class="sxs-lookup"><span data-stu-id="56edb-360">Even though disabling Tracking and Throttling does not in any way represent what should be done in a production scenario, because these operations are so expensive from a performance perspective it makes sense to disable them to find out the true Maximum Sustainable Throughput (MST) of a BizTalk Server Environment.</span></span> <span data-ttu-id="56edb-361">這可讓測試人員，清楚看到的調整，任何效能影響已套用至環境。</span><span class="sxs-lookup"><span data-stu-id="56edb-361">This allows testers to clearly see the impact of any performance tweaking that has been applied to the environment.</span></span> <span data-ttu-id="56edb-362">確實應該不會停用追蹤，而且如果您從一開始，您的 BizTalk Server 應用程式需要追蹤然後您應該啟用追蹤，無法讓引數。</span><span class="sxs-lookup"><span data-stu-id="56edb-362">Certainly an argument could be made that tracking should not be disabled and if you know from the outset that your BizTalk Server application will require tracking then you should enable tracking.</span></span> <span data-ttu-id="56edb-363">也就是說，**致力應該要對停用節流基於效能測試**。</span><span class="sxs-lookup"><span data-stu-id="56edb-363">With that said, **every effort should be made to disable throttling for purposes of performance testing**.</span></span> <span data-ttu-id="56edb-364">節流是防止 BizTalk Server 」 下降 「 由於過多的負載，在生產環境中非常有用。</span><span class="sxs-lookup"><span data-stu-id="56edb-364">Throttling is very useful for preventing a BizTalk Server from “falling over” due to excessive load in a production environment.</span></span> <span data-ttu-id="56edb-365">不過，您不想節流啟用期間，如果在負載測試期間節流中的是否已盡力而為然後您必須判斷何種效能層級很難因為從效能觀點來看昂貴的效能測試程式BizTalk Server 應用程式可以實際達成的。</span><span class="sxs-lookup"><span data-stu-id="56edb-365">However, you don’t want throttling enabled during performance testing because it is expensive from a performance standpoint and because if throttling kicks in during a load test then you will have a very difficult time determining what level of performance your BizTalk Server application can actually achieve.</span></span> <span data-ttu-id="56edb-366">下一個主題說明如何執行步驟負載測試以推入超過 MST BizTalk Server 環境，並回到實際常數負載測試時，MST 再擴充。</span><span class="sxs-lookup"><span data-stu-id="56edb-366">The next topics describe how to perform step load testing to push your BizTalk Server environment beyond MST and then scale back to actual MST with constant load testing.</span></span> <span data-ttu-id="56edb-367">如果已啟用節流設定，然後就會變成幾乎難以推超過 MST BizTalk 環境，讓您接著可能會發現 MST 是何種 true。</span><span class="sxs-lookup"><span data-stu-id="56edb-367">If throttling is enabled then it will become nearly impossible to push your BizTalk environment beyond MST so that you could in turn discover what the true MST is.</span></span>