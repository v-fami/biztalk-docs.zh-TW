---
title: 自動化建置流程 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d62380146f0bfba188843ed0e022340d88fcaceb
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/20/2018
ms.locfileid: "26010263"
---
# <a name="automating-the-build-process"></a><span data-ttu-id="6632f-102">自動化建置程序</span><span class="sxs-lookup"><span data-stu-id="6632f-102">Automating the Build Process</span></span>
<span data-ttu-id="6632f-103">自動化的建置程序會編譯、 部署和則會針對最新的原始碼專案的組建驗證測試 (Bvt) 執行一般的預先決定的間隔。</span><span class="sxs-lookup"><span data-stu-id="6632f-103">An automated build process compiles, deploys and then runs build verification tests (BVTs) against the latest source code for a project at regular, predetermined intervals.</span></span> <span data-ttu-id="6632f-104">然後 「 組建報告，」 成功或失敗的建置程序會詳細說明，為該專案的專案關係人。</span><span class="sxs-lookup"><span data-stu-id="6632f-104">Then a “build report,” which details the success or failure of the build process, is disseminated to the project stakeholders.</span></span> <span data-ttu-id="6632f-105">分析組建報告來判斷哪些區域的專案需要注意，如果專案應該會回復的較早的版本/組建。</span><span class="sxs-lookup"><span data-stu-id="6632f-105">The build report is analyzed to determine what areas of the project need attention and if the project should be rolled back to an earlier version/build.</span></span>  
  
 <span data-ttu-id="6632f-106">自動化的建置程序的功能是它可以排程要執行時段 」 關閉。 」</span><span class="sxs-lookup"><span data-stu-id="6632f-106">The power of an automated build process is that it can be scheduled to be run during “off hours.”</span></span> <span data-ttu-id="6632f-107">如此一來，它可以協助確保專案的穩定性而不顧循環直接離開的開發時間。</span><span class="sxs-lookup"><span data-stu-id="6632f-107">This way, it can help ensure the stability of the project without taking cycles directly away from the development time.</span></span>   
 <span data-ttu-id="6632f-108">本主題提供的建置流程概觀，描述如何組建驗證測試放入建置流程、 說明層面在組建驗證測試期間使用的功能測試以及提供資訊的重要性自動化建置程序。</span><span class="sxs-lookup"><span data-stu-id="6632f-108">This topic provides an overview of the build process, describes how build verification testing fits into the build process, describes aspects of functional testing used during build verification testing and provides information about the importance of automating the build process.</span></span>  
  
## <a name="overview-of-the-build-process"></a><span data-ttu-id="6632f-109">建置程序概觀</span><span class="sxs-lookup"><span data-stu-id="6632f-109">Overview of the build process</span></span>  
 <span data-ttu-id="6632f-110">之前想要測試的詳細資訊，請務必考慮如何測試配合整體的建置程序的內容。</span><span class="sxs-lookup"><span data-stu-id="6632f-110">Before looking into the specifics of testing, it’s important to consider the context of how testing fits into the overall build process.</span></span> <span data-ttu-id="6632f-111">所有 Microsoft 的產品群組從原理運作建置程序是任何軟體專案的活動訊號。</span><span class="sxs-lookup"><span data-stu-id="6632f-111">All of Microsoft’s product groups operate from the philosophy that the build process is the heartbeat of any software project.</span></span> <span data-ttu-id="6632f-112">這個方法也會使用許多世界上諮詢建置 Microsoft 軟體堆疊的頂端的關鍵任務解決方案的公司。</span><span class="sxs-lookup"><span data-stu-id="6632f-112">This approach is also used by many of the world’s top consulting firms that build mission-critical solutions on top of the Microsoft software stack.</span></span> <span data-ttu-id="6632f-113">如果沒有穩定的活動訊號和定期檢查它，就無法知道專案的健康狀態。</span><span class="sxs-lookup"><span data-stu-id="6632f-113">Without a steady heartbeat and a regular check of it, it is impossible to know the health of the project.</span></span> <span data-ttu-id="6632f-114">若要確保產品群組專案的整體健全狀況連續深入了解，在建置程序是每天執行，通常在午夜。</span><span class="sxs-lookup"><span data-stu-id="6632f-114">To ensure that the product groups have a continuous insight into the overall health of the project, the build process is run daily, typically at midnight.</span></span> <span data-ttu-id="6632f-115">下列步驟概述典型的自動化的建置程序：</span><span class="sxs-lookup"><span data-stu-id="6632f-115">The following steps summarize a typical automated build process:</span></span>  
  
1.  <span data-ttu-id="6632f-116">從原始程式碼儲存機制取得原始程式碼的最新組建。</span><span class="sxs-lookup"><span data-stu-id="6632f-116">Obtain the latest build of source code from the source code repository.</span></span>  
  
2.  <span data-ttu-id="6632f-117">編譯原始程式碼。</span><span class="sxs-lookup"><span data-stu-id="6632f-117">Compile the source code.</span></span>  
  
3.  <span data-ttu-id="6632f-118">組件的部署 – 通常會使用指令碼或 Microsoft Windows Installer 檔案的二進位檔。</span><span class="sxs-lookup"><span data-stu-id="6632f-118">Pack up binaries for deployment – typically using scripts or Microsoft Windows Installer files.</span></span>  
  
4.  <span data-ttu-id="6632f-119">將專案部署到測試伺服器。</span><span class="sxs-lookup"><span data-stu-id="6632f-119">Deploy project to a test server.</span></span>  
  
5.  <span data-ttu-id="6632f-120">自動執行一組完整組建驗證測試 (Bvt)。</span><span class="sxs-lookup"><span data-stu-id="6632f-120">Automatically run a full set of build verification tests (BVTs).</span></span>  
  
6.  <span data-ttu-id="6632f-121">詳細的組建將報表發行至專案小組的成員。</span><span class="sxs-lookup"><span data-stu-id="6632f-121">Publish a detailed build report to members of the project team.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6632f-122">Bvt 會運用以測試其品質解決方案的主要功能的功能測試。</span><span class="sxs-lookup"><span data-stu-id="6632f-122">BVTs are functional tests that exercise the main features of the solution to test its quality.</span></span>  <span data-ttu-id="6632f-123">您需要確保您 Bvt 完整到量測計配置的每日建置時間內執行組建的品質，但夠小 ！</span><span class="sxs-lookup"><span data-stu-id="6632f-123">You need to ensure your BVTs are comprehensive enough to gauge the build quality, yet small enough to execute within the allocated daily build time!</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6632f-124">您也應該將任何的部署、 解除部署、 設定和安裝指令碼或程序視為基於測試目的軟體專案的一部分。</span><span class="sxs-lookup"><span data-stu-id="6632f-124">You should also treat any deployment, un-deployment, configuration and installation scripts or processes as part of the software project for testing purposes.</span></span> <span data-ttu-id="6632f-125">應該經過測試的專案，以及部署和設定，這兩項作業。</span><span class="sxs-lookup"><span data-stu-id="6632f-125">Both the operations of the project, as well as the deployment and configuration of it, should be tested.</span></span>  
  
 <span data-ttu-id="6632f-126">此程序通常是清晨大約早上 6 點，可讓小組工作的新一天的組建開始的第一個成員來完成。</span><span class="sxs-lookup"><span data-stu-id="6632f-126">This process is typically completed by early morning around 6 A.M., which enables the first members of the team to start work on the new day’s build.</span></span> <span data-ttu-id="6632f-127">如果一或多個從前一晚 Bvt 失敗，它會儘速加以修正的小組的責任。</span><span class="sxs-lookup"><span data-stu-id="6632f-127">If one or more of the BVTs from the previous night failed, then it is the team’s responsibility to fix it as soon as possible.</span></span>  
  
 <span data-ttu-id="6632f-128">每日的建置程序有許多優點，專案。</span><span class="sxs-lookup"><span data-stu-id="6632f-128">Following a daily build process has many advantages for the project.</span></span> <span data-ttu-id="6632f-129">首先，它會提供規則的活動訊號 （組成每日組建加上自動化的 Bvt）。</span><span class="sxs-lookup"><span data-stu-id="6632f-129">First, it provides a regular heartbeat (made up of the daily build plus the automated BVTs).</span></span> <span data-ttu-id="6632f-130">第二，使用 Bvt 強制困難的工作，與系統的整合，並執行此動作早期本身可以降低專案風險。</span><span class="sxs-lookup"><span data-stu-id="6632f-130">Second, using BVTs forces integration with systems which is a tricky task, and doing this early in and of itself reduces project risks.</span></span> <span data-ttu-id="6632f-131">完成所需的時間，因為壓力和效能測試通常會執行每日建置程序之外。</span><span class="sxs-lookup"><span data-stu-id="6632f-131">Due to the time required to complete them, stress and performance testing are typically performed outside of the daily build process.</span></span> <span data-ttu-id="6632f-132">壓力和效能測試通常排程為在專案中的里程碑組建上執行。</span><span class="sxs-lookup"><span data-stu-id="6632f-132">Stress and performance tests are typically scheduled to be performed on a milestone build in the project.</span></span>  
  
 <span data-ttu-id="6632f-133">每日建置程序，並已經用於，有效地 BizTalk 解決方案。</span><span class="sxs-lookup"><span data-stu-id="6632f-133">The daily build process can be, and has been used, very effectively on BizTalk solutions.</span></span> <span data-ttu-id="6632f-134">不過，您需要確保從一開始反覆完成工作，通常會保留在專案結尾。</span><span class="sxs-lookup"><span data-stu-id="6632f-134">However, you need to ensure tasks that are typically left to the end in projects are done iteratively from the start.</span></span> <span data-ttu-id="6632f-135">例如，BizTalk Server 中的部署是當然非一般。</span><span class="sxs-lookup"><span data-stu-id="6632f-135">For example, deployment in BizTalk Server is certainly non-trivial.</span></span> <span data-ttu-id="6632f-136">請務必事先開發自動化的部署指令碼。</span><span class="sxs-lookup"><span data-stu-id="6632f-136">It is important that automated deployment scripts be developed up front.</span></span> <span data-ttu-id="6632f-137">如果不這麼做，您最後手動部署和解除部署整個專案中，花費更多的時間，最後幾次方案。</span><span class="sxs-lookup"><span data-stu-id="6632f-137">If you do not do this, you’ll end up manually deploying and un-deploying the solution many times throughout the project, which will cost you more time in the end.</span></span> <span data-ttu-id="6632f-138">有一些工具可用來驅動每日的建置程序。Visual Studio Team System 與 Team Foundation Server 是許多人的主要選擇。</span><span class="sxs-lookup"><span data-stu-id="6632f-138">There are tools available to drive the daily build process; Visual Studio Team System and Team Foundation Server are the primary choice for many people.</span></span> <span data-ttu-id="6632f-139">MSBuild 指令碼可能會用來建置程序中的磁碟機的步驟。</span><span class="sxs-lookup"><span data-stu-id="6632f-139">MSBuild scripts may be used to drive the steps in the build process.</span></span> <span data-ttu-id="6632f-140">另一個替代方式是開放原始碼[CruiseControl.NET 工具](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)。</span><span class="sxs-lookup"><span data-stu-id="6632f-140">Another alternative is the open source [CruiseControl.NET tool](http://go.microsoft.com/fwlink/?LinkId=116093) (http://go.microsoft.com/fwlink/?LinkId=116093).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6632f-141">使用此工具不支援的 Microsoft，Microsoft 並不保證此程式的適用性。</span><span class="sxs-lookup"><span data-stu-id="6632f-141">Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="6632f-142">請自行承擔使用這個程式的一切風險。</span><span class="sxs-lookup"><span data-stu-id="6632f-142">Use of this program is entirely at your own risk.</span></span>  
  
 <span data-ttu-id="6632f-143">如需有關如何自動化測試使用 Microsoft Test manager 的詳細資訊，請參閱[執行自動化測試](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368) Visual Studio 2010 的線上文件中</span><span class="sxs-lookup"><span data-stu-id="6632f-143">For more information about automating testing using Microsoft Test manager, see the topic [Running Automated Tests](http://go.microsoft.com/fwlink/?LinkID=208368) (http://go.microsoft.com/fwlink/?LinkID=208368)  in the Visual Studio 2010 online documentation</span></span>  
  
 <span data-ttu-id="6632f-144">如需有關如何自動化使用 Visual Studio 2010 建置程序的詳細資訊，請參閱[建置應用程式](http://go.microsoft.com/fwlink/?LinkID=208369)(超連結"http://go.microsoft.com/fwlink/?LinkID=208369" http://go.microsoft.com/fwlink/?LinkID=208369) Visual Studio 2010 文件中。</span><span class="sxs-lookup"><span data-stu-id="6632f-144">For more information about automating the build process using Visual Studio 2010, see [Building the Application](http://go.microsoft.com/fwlink/?LinkID=208369) ( HYPERLINK "http://go.microsoft.com/fwlink/?LinkID=208369" http://go.microsoft.com/fwlink/?LinkID=208369)  in the Visual Studio 2010 documentation.</span></span>  
  
## <a name="build-verification-testing"></a><span data-ttu-id="6632f-145">組建驗證測試</span><span class="sxs-lookup"><span data-stu-id="6632f-145">Build verification testing</span></span>  
 <span data-ttu-id="6632f-146">組建驗證測試時，通常會包含下列項目：</span><span class="sxs-lookup"><span data-stu-id="6632f-146">Build verification testing usually comprises the following elements:</span></span>  
  
-   <span data-ttu-id="6632f-147">**單元測試**-單元測試通常是要開發的第一個測試，因為在理想情況下它們應該先建立實際撰寫程式碼，如果您真正想要使用以測試為導向的開發方法。</span><span class="sxs-lookup"><span data-stu-id="6632f-147">**Unit Tests** - Because unit tests are typically the first tests to be developed, ideally they should be created before the code has actually been written, if you are truly using a test-driven development approach.</span></span> <span data-ttu-id="6632f-148">將它們新增到 Bvt 專案的早期階段，您提供至少部分的程式碼涵蓋範圍立即。</span><span class="sxs-lookup"><span data-stu-id="6632f-148">By adding them into BVTs during the early stages of a project, you provide at least some code coverage immediately.</span></span> <span data-ttu-id="6632f-149">功能測試的數目和因此測試涵蓋範圍的成長時，您也可以選擇移除 Bvt 單元測試。</span><span class="sxs-lookup"><span data-stu-id="6632f-149">As the number of functional tests and hence test coverage grows, you may opt to remove unit tests from the BVTs.</span></span>  
  
-   <span data-ttu-id="6632f-150">**煙霧測試**-端對端功能測試，測試您的解決方案的基本功能。</span><span class="sxs-lookup"><span data-stu-id="6632f-150">**Smoke Tests** - End-to-end functional tests that test the basic functionality of your solution.</span></span> <span data-ttu-id="6632f-151">如果這些失敗的項目很嚴重的錯誤。</span><span class="sxs-lookup"><span data-stu-id="6632f-151">If these fail, something is seriously wrong.</span></span> <span data-ttu-id="6632f-152">這些通常是相當快速執行。</span><span class="sxs-lookup"><span data-stu-id="6632f-152">These can usually be run relatively quickly.</span></span>  
  
-   <span data-ttu-id="6632f-153">**功能測試**-也指定的目標端對端案例中，但它們在此情況下測試的所有案例，在專案中。</span><span class="sxs-lookup"><span data-stu-id="6632f-153">**Functional Tests** - These also target end-to-end scenarios, but in this case they test all the scenarios in the project.</span></span> <span data-ttu-id="6632f-154">用於大型專案中，將可能有意義分類程式功能的測試，以進一步 (比方說，若要啟用快速、 可靠地和隔離要測試的特定元件)。</span><span class="sxs-lookup"><span data-stu-id="6632f-154">For large projects it may make sense to categorize your functional tests further (for instance, to enable a particular component to be tested quickly, reliably, and in isolation).</span></span> <span data-ttu-id="6632f-155">在您簽署在您的方案為作用正確之後，應該要鎖定這些功能的測試。</span><span class="sxs-lookup"><span data-stu-id="6632f-155">These functional tests should be locked down after you have signed off on your solution as being functionally correct.</span></span>  
  
-   <span data-ttu-id="6632f-156">**迴歸驗證測試**-每次方案 bug 已找到並修正問題，應將測試案例加入確認 bug 已修正而且，它會重新引入稍後在專案生命週期中的迴歸驗證。</span><span class="sxs-lookup"><span data-stu-id="6632f-156">**Regression Verification Tests** - Every time a solution bug is found and fixed, regression verification test cases should be added to verify that the bug is fixed and that it is not reintroduced later in the project life cycle.</span></span>  <span data-ttu-id="6632f-157">這些測試通常會是未涵蓋的功能的測試案例中的案例。</span><span class="sxs-lookup"><span data-stu-id="6632f-157">These tests will typically be cases that were not covered in the functional test cases.</span></span> <span data-ttu-id="6632f-158">您應該預期迴歸驗證測試會增加數目，即使方案已啟動，如果找到並修正新的 bug。</span><span class="sxs-lookup"><span data-stu-id="6632f-158">You should expect that your regression verification tests will increase in number even after the solution has gone live, if new bugs are discovered and fixed.</span></span>  
  
 <span data-ttu-id="6632f-159">在大型專案中，您可能需要讓您 Bvt （因為它們需要執行的時間長度） 的完整功能測試套件的子集。</span><span class="sxs-lookup"><span data-stu-id="6632f-159">On very large projects, you may need to make your BVTs a subset of the full functional test suite (due to length of time they take to execute).</span></span> <span data-ttu-id="6632f-160">對於較小的專案，Bvt 會構成整個集合。</span><span class="sxs-lookup"><span data-stu-id="6632f-160">For smaller projects, BVTs will constitute the entire set.</span></span> <span data-ttu-id="6632f-161">很明顯地，如果您要整合 Bvt 程式每日組建的一部分，整個程序需要自動化。</span><span class="sxs-lookup"><span data-stu-id="6632f-161">Obviously, if you are going to integrate the BVTs as part of your daily build, the whole process needs to be automated.</span></span> <span data-ttu-id="6632f-162">在本主題的其餘部分，我們將著重在如何使用 BizUnit 和其他工具來完成這項作業。</span><span class="sxs-lookup"><span data-stu-id="6632f-162">In the rest of this topic, we will focus on how you can use BizUnit and other tools to accomplish this.</span></span>  
  
## <a name="functional-testing"></a><span data-ttu-id="6632f-163">功能測試</span><span class="sxs-lookup"><span data-stu-id="6632f-163">Functional testing</span></span>  
 <span data-ttu-id="6632f-164">在內容中的 BizTalk 應用程式功能測試，測試特定的端對端案例。</span><span class="sxs-lookup"><span data-stu-id="6632f-164">In the context of BizTalk applications functional tests, test a specific end-to-end scenario.</span></span> <span data-ttu-id="6632f-165">當執行這種類型的測試，會很有用來為您從外部的觀點來看測試功能上的黑色方塊假設 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="6632f-165">When performing this type of testing, it is useful to imagine BizTalk Server as a black box that you test functionally from an external perspective.</span></span> <span data-ttu-id="6632f-166">例如，測試可能涉及饋送 （具有已知的值） 的輸入的訊息到接收位置的結束點 (範例中，URL、 FTP 位置，無論您選擇的傳輸是)。</span><span class="sxs-lookup"><span data-stu-id="6632f-166">For example, a test may involve feeding an input message (with known values) to a receive location end point (for example, URL, FTP location, whatever your choice of transport is).</span></span> <span data-ttu-id="6632f-167">測試便會監視正確的傳送端會產生正確輸出的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="6632f-167">The test would then monitor the correct number of messages with the correct output that is produced on the send side.</span></span> <span data-ttu-id="6632f-168">這似乎相當簡單。</span><span class="sxs-lookup"><span data-stu-id="6632f-168">This may sound relatively straightforward.</span></span> <span data-ttu-id="6632f-169">不過，當您考慮某些情況下需要返回以特定順序，而是在一段時間的輸入，及您複合這與其他方案的需求 (例如，記錄在 BAM 中追蹤資料時)，它會變得清楚的工具及架構可以用來協調這種情況。</span><span class="sxs-lookup"><span data-stu-id="6632f-169">However, when you consider that some scenarios require inputs to come in a certain order and at a certain time, and you compound this with other solution requirements (such as, when recording tracking data in BAM), it becomes clear that a tool and framework can be used to orchestrate this.</span></span>  
  
 <span data-ttu-id="6632f-170">很重要的功能測試設計來涵蓋所有可能的路徑，透過您的方案。</span><span class="sxs-lookup"><span data-stu-id="6632f-170">It is critical that functional testing is designed to cover all the possible paths through your solution.</span></span> <span data-ttu-id="6632f-171">這應該包含不只的情況下您預期在生產環境中，但是也失敗路徑和例外狀況處理路徑，您已實作但永遠不會希望使用 – 一個詞彙，通常用來描述這個測試中的 < 錯誤天狀況 >。</span><span class="sxs-lookup"><span data-stu-id="6632f-171">This should include not only those scenarios you expect in production, but also the failure paths and exception handling paths you have implemented but hope never to use – one phrase commonly used to describe this is testing for the “bad day scenario.”</span></span> <span data-ttu-id="6632f-172">您應該確定所有的協調流程、 所有允許的訊息類型，以及所有程式碼分支所運用的功能測試套件。</span><span class="sxs-lookup"><span data-stu-id="6632f-172">You should ensure all orchestrations, all permissible message types, and all code branches are exercised by your functional test suite.</span></span> <span data-ttu-id="6632f-173">下列章節說明開發正數和負數功能測試案例涵蓋所有程式碼路徑。</span><span class="sxs-lookup"><span data-stu-id="6632f-173">The following sections describe developing positive and negative functional test cases to cover all code paths.</span></span>  
  
 <span data-ttu-id="6632f-174">如功能測試的詳細資訊和其他測試類別應實作放入實際執行環境，BizTalk Server 解決方案之前，請參閱本主題[檢查清單： 測試操作整備](http://go.microsoft.com/fwlink/?LinkId=160138)中BizTalk Server 2010 操作指南 》，網址[ http://go.microsoft.com/fwlink/?LinkId=160138 ](http://go.microsoft.com/fwlink/?LinkId=160138)。</span><span class="sxs-lookup"><span data-stu-id="6632f-174">For more information about functional testing and the other testing categories that should be implemented before placing a BizTalk Server solution into production, see the topic [Checklist: Testing Operational Readiness](http://go.microsoft.com/fwlink/?LinkId=160138) in the BizTalk Server 2010 Operations Guide at [http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138).</span></span>  
  
### <a name="positive-tests"></a><span data-ttu-id="6632f-175">正向測試</span><span class="sxs-lookup"><span data-stu-id="6632f-175">Positive tests</span></span>  
  
-   <span data-ttu-id="6632f-176">執行以確保所有的訊息、 管線、 協調流程，組合的正向測試時很重要，而端點都會通過方案，這樣會執行所有的訊息流程。</span><span class="sxs-lookup"><span data-stu-id="6632f-176">It is important when performing positive tests to ensure all combinations of messages, pipelines, orchestrations, and endpoints are passed through the solution so that all the message flows are exercised.</span></span> <span data-ttu-id="6632f-177">若要確定您會測試所有的程式碼路徑可能會需要您處理使用不同的內容不同的訊息。</span><span class="sxs-lookup"><span data-stu-id="6632f-177">To ensure that you test all code paths will likely require that you process different messages with different content.</span></span>  
  
-   <span data-ttu-id="6632f-178">測試時，請使用將在生產環境中使用的傳輸類型。</span><span class="sxs-lookup"><span data-stu-id="6632f-178">When testing, use the transport type that will be used in production.</span></span> <span data-ttu-id="6632f-179">不幸的是，太多，功能測試執行時將使用一些其他傳輸，在生產環境中使用 file 配接器。</span><span class="sxs-lookup"><span data-stu-id="6632f-179">Unfortunately, all too often, functional testing is performed only by using the file adapter when some other transport will be used in production.</span></span> <span data-ttu-id="6632f-180">採用這個方法設定您和整體專案進行失敗之後。</span><span class="sxs-lookup"><span data-stu-id="6632f-180">Adopting this approach is setting you and the overall project up for failure later on.</span></span>  
  
-   <span data-ttu-id="6632f-181">驗證從系統傳送的所有訊息的裝載。</span><span class="sxs-lookup"><span data-stu-id="6632f-181">Validate the payload of all messages that are sent out from the system.</span></span> <span data-ttu-id="6632f-182">如果訊息是 XML，您應該驗證其結構描述和訊息使用 XPath 運算式中的索引鍵欄位。</span><span class="sxs-lookup"><span data-stu-id="6632f-182">If the messages are XML, you should validate their schema and key fields in the message using XPath expressions.</span></span>  
  
-   <span data-ttu-id="6632f-183">驗證所有的追蹤資料儲存在 BAM 中 （如果使用）;需要克服留在外部資料儲存機制中的任何其他資料。</span><span class="sxs-lookup"><span data-stu-id="6632f-183">Validate any tracking data stored in BAM (if used); any other data that is left in external data repositories should be accounted for.</span></span>  
  
-   <span data-ttu-id="6632f-184">如果您的方案使用 BRE，請測試所有商務規則引擎 (BRE) 原則和規則的執行。</span><span class="sxs-lookup"><span data-stu-id="6632f-184">Test the execution of all Business Rule Engine (BRE) policies and rules if your solution uses BRE.</span></span>  
  
### <a name="negative-tests"></a><span data-ttu-id="6632f-185">負向測試</span><span class="sxs-lookup"><span data-stu-id="6632f-185">Negative tests</span></span>  
  
-   <span data-ttu-id="6632f-186">確定您會透過您的系統測試無效訊息的處理。</span><span class="sxs-lookup"><span data-stu-id="6632f-186">Ensure you test the handling of invalid messages through your system.</span></span> <span data-ttu-id="6632f-187">您應該確認您所選擇的策略 （之前在 BizTalk Server 拒絕它們或是擱置那些） 已正確運作。</span><span class="sxs-lookup"><span data-stu-id="6632f-187">You should verify that your chosen strategy (to reject them before they come into BizTalk Server, or to suspend them) has worked correctly.</span></span>  
  
-   <span data-ttu-id="6632f-188">當測試無效訊息的處理，請確定您測試任何接收端的錯誤處理協調流程的已實作來處理擱置的訊息。</span><span class="sxs-lookup"><span data-stu-id="6632f-188">When testing the handling of invalid messages, ensure you test that any receive-side error handling orchestrations have been implemented to handle suspended messages.</span></span>  
  
-   <span data-ttu-id="6632f-189">請確定您的失敗案例涵蓋協調流程中的所有例外狀況區塊。</span><span class="sxs-lookup"><span data-stu-id="6632f-189">Ensure that your failure scenarios cover all exception blocks in your orchestrations.</span></span>  <span data-ttu-id="6632f-190">若要充分測試這不是常見的問題。</span><span class="sxs-lookup"><span data-stu-id="6632f-190">Failing to test this adequately is a common problem.</span></span>  
  
-   <span data-ttu-id="6632f-191">如果您使用長時間執行的交易與補償行為，請非常仔細地測試這些案例。</span><span class="sxs-lookup"><span data-stu-id="6632f-191">If you are using long-running transactions with compensation behavior, test these scenarios very carefully.</span></span> <span data-ttu-id="6632f-192">這是在不適當的測試將會產生嚴重的後果，生產環境中的另一個區域。</span><span class="sxs-lookup"><span data-stu-id="6632f-192">This is another area where inadequate testing will incur serious consequences in a production environment.</span></span>  
  
-   <span data-ttu-id="6632f-193">請確定失敗會記錄正確在適當的錯誤記錄檔。</span><span class="sxs-lookup"><span data-stu-id="6632f-193">Ensure failures are logged correctly in the appropriate error logs.</span></span>  
  
## <a name="automation-is-key"></a><span data-ttu-id="6632f-194">自動化是索引鍵</span><span class="sxs-lookup"><span data-stu-id="6632f-194">Automation is key</span></span>  
 <span data-ttu-id="6632f-195">若要有效率且有效地完成上述動作，投資的最前面位置將自動化測試的時間。</span><span class="sxs-lookup"><span data-stu-id="6632f-195">To do all of this efficiently and effectively, invest the time up front to automate testing.</span></span> <span data-ttu-id="6632f-196">手動測試相當耗時，容易出錯，而且耗用 （大量時間和成本）。</span><span class="sxs-lookup"><span data-stu-id="6632f-196">Manual testing is time consuming, error prone, and expensive (in terms of time and cost).</span></span> <span data-ttu-id="6632f-197">每次您執行手動測試時，您會加入另一個批次已由專案資源 （在小組中的人） 來處理的工作。</span><span class="sxs-lookup"><span data-stu-id="6632f-197">Every time you perform a manual test pass, you add another batch of tasks that have to be handled by project resources (people in the team).</span></span> <span data-ttu-id="6632f-198">這最前面位置自動化，您便能夠取得，才能開發測試每次執行在初始投資報酬率。</span><span class="sxs-lookup"><span data-stu-id="6632f-198">By automating this up front, you are able to get a return on the initial investment that is required to develop the tests every time they are run.</span></span> <span data-ttu-id="6632f-199">良好的功能測試應該迅速、 有效地執行，而且可以重複;每項測試也應該是自發 （它應該獨立於任何其他; 採用這個方法可讓您為測試套件以循序方式執行多個測試）。功能測試應該一律產生相同的結果。</span><span class="sxs-lookup"><span data-stu-id="6632f-199">Good functional tests should execute quickly and efficiently and be repeatable; each test should also be autonomous (It should be independent of any other; adopting this approach enables you to run multiple tests sequentially as a test suite.) The functional tests should always produce the same result.</span></span> <span data-ttu-id="6632f-200">撰寫不夠周全的功能測試 」 或 「 撰寫不夠周全的程式碼將會導致測試回合，導致混淆和調查失敗的根本原因的浪費的時間之間的不同的測試結果。</span><span class="sxs-lookup"><span data-stu-id="6632f-200">Poorly written functional tests or poorly written code will result in different tests results between test runs, leading to confusion and wasted time investigating the root cause of the failure.</span></span>  
  
 <span data-ttu-id="6632f-201">請務必將撰寫每項功能的測試所需的開發工作降至最低。</span><span class="sxs-lookup"><span data-stu-id="6632f-201">It is important to minimize the development effort required to write each functional test.</span></span> <span data-ttu-id="6632f-202">它是以產生 （依據開發時間） 的項目較少的測試案例，可能會得到通常會較為昂貴。</span><span class="sxs-lookup"><span data-stu-id="6632f-202">Usually the more expensive it is to produce something (in terms of development time), the fewer test cases you are likely to end up with.</span></span> <span data-ttu-id="6632f-203">這表示您必須透過您的程式碼的測試涵蓋範圍較低層級。</span><span class="sxs-lookup"><span data-stu-id="6632f-203">This means you will have a lower level of test coverage over your code.</span></span> <span data-ttu-id="6632f-204">藉由使用的測試架構，您可以開發更快速且輕鬆測試案例，因此，更輕鬆地取得完整的程式碼涵蓋範圍。</span><span class="sxs-lookup"><span data-stu-id="6632f-204">By using a test framework, you can develop test cases quicker and easier and, hence, make it easier to get full code coverage.</span></span> <span data-ttu-id="6632f-205">大部分的很好的測試架構會使用宣告式方法定義的測試。</span><span class="sxs-lookup"><span data-stu-id="6632f-205">Most good test frameworks use a declarative approach to defining tests.</span></span> <span data-ttu-id="6632f-206">（也就是測試組態會儲存在組態檔中，通常是 XML 檔案）。使用很好的測試架構可讓您開發完整功能測試套件以敏捷式軟體開發且可靠的方式，以及可避免 「 造"一再重複，所以必須。</span><span class="sxs-lookup"><span data-stu-id="6632f-206">(That is, the configuration for a test is stored in a configuration file, which is typically an XML file.) Using a good test framework enables you to develop a full functional test suite in an agile and reliable manner and avoids having to “reinvent the wheel” over and over, so to speak.</span></span>  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a><span data-ttu-id="6632f-207">BizTalk Server 專案的 MSBUILD 支援</span><span class="sxs-lookup"><span data-stu-id="6632f-207">MSBUILD support for BizTalk Server projects</span></span>  
 <span data-ttu-id="6632f-208">BizTalk Server 提供的 Microsoft Build Engine (MSBUILD) 平台，可容納在未安裝 Visual Studio 的組建實驗室環境中的 managed 專案的建置支援。</span><span class="sxs-lookup"><span data-stu-id="6632f-208">BizTalk Server provides support for the Microsoft Build Engine (MSBUILD) platform, which accommodates the building of managed projects in build lab environments where Visual Studio is not installed.</span></span> <span data-ttu-id="6632f-209">MSBUILD 可容納從命令列] 和 [進階的功能，包括記錄和批次處理的 MSBUILD 建置專案。</span><span class="sxs-lookup"><span data-stu-id="6632f-209">MSBUILD accommodates building projects from a command line and advanced functionality including MSBUILD logging and batching.</span></span> <span data-ttu-id="6632f-210">如需 MSBUILD 的詳細資訊，請參閱[MSBuild 概觀](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)。</span><span class="sxs-lookup"><span data-stu-id="6632f-210">For more information about MSBUILD, see [MSBuild Overview](http://go.microsoft.com/fwlink/?LinkId=131739) (http://go.microsoft.com/fwlink/?LinkId=131739).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6632f-211">另請參閱</span><span class="sxs-lookup"><span data-stu-id="6632f-211">See Also</span></span>  
 [<span data-ttu-id="6632f-212">實作自動化的測試</span><span class="sxs-lookup"><span data-stu-id="6632f-212">Implementing Automated Testing</span></span>](../technical-guides/implementing-automated-testing.md)