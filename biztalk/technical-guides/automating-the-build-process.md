---
title: 自動化建置程序 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 22752c413446c0964b8af11b76a2e262fdc40a2d
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997727"
---
# <a name="automating-the-build-process"></a><span data-ttu-id="675d7-102">自動化建置程序</span><span class="sxs-lookup"><span data-stu-id="675d7-102">Automating the Build Process</span></span>
<span data-ttu-id="675d7-103">自動化的建置程序會編譯、 部署和則會針對最新的原始碼專案的組建驗證測試 (Bvt) 執行規則、 預先決定的間隔。</span><span class="sxs-lookup"><span data-stu-id="675d7-103">An automated build process compiles, deploys and then runs build verification tests (BVTs) against the latest source code for a project at regular, predetermined intervals.</span></span> <span data-ttu-id="675d7-104">然後 「 組建報告，」 成功或失敗的建置程序，便會詳細說明，被散播給專案關係人。</span><span class="sxs-lookup"><span data-stu-id="675d7-104">Then a “build report,” which details the success or failure of the build process, is disseminated to the project stakeholders.</span></span> <span data-ttu-id="675d7-105">建置報告，就會分析來判斷專案的區域需要注意，如果專案應該會回復的較早的版本/組建。</span><span class="sxs-lookup"><span data-stu-id="675d7-105">The build report is analyzed to determine what areas of the project need attention and if the project should be rolled back to an earlier version/build.</span></span>  
  
 <span data-ttu-id="675d7-106">自動化的建置程序的威力在於它可以排定執行期間 「 關閉小時"。</span><span class="sxs-lookup"><span data-stu-id="675d7-106">The power of an automated build process is that it can be scheduled to be run during “off hours.”</span></span> <span data-ttu-id="675d7-107">如此一來，它可以協助確保專案的穩定性，無須直接從開發階段的循環。</span><span class="sxs-lookup"><span data-stu-id="675d7-107">This way, it can help ensure the stability of the project without taking cycles directly away from the development time.</span></span>   
 <span data-ttu-id="675d7-108">本主題提供建置程序的概觀，說明如何組建驗證測試放入建置流程、 組建驗證測試期間使用的功能測試的各個面向說明並提供資訊的重要性自動化建置程序。</span><span class="sxs-lookup"><span data-stu-id="675d7-108">This topic provides an overview of the build process, describes how build verification testing fits into the build process, describes aspects of functional testing used during build verification testing and provides information about the importance of automating the build process.</span></span>  
  
## <a name="overview-of-the-build-process"></a><span data-ttu-id="675d7-109">建置程序的概觀</span><span class="sxs-lookup"><span data-stu-id="675d7-109">Overview of the build process</span></span>  
 <span data-ttu-id="675d7-110">之前想要測試的詳細資訊，請務必考慮測試如何融入整體的建置程序的內容。</span><span class="sxs-lookup"><span data-stu-id="675d7-110">Before looking into the specifics of testing, it’s important to consider the context of how testing fits into the overall build process.</span></span> <span data-ttu-id="675d7-111">所有 Microsoft 產品小組從哲學操作建置程序是任何軟體專案的活動訊號。</span><span class="sxs-lookup"><span data-stu-id="675d7-111">All of Microsoft’s product groups operate from the philosophy that the build process is the heartbeat of any software project.</span></span> <span data-ttu-id="675d7-112">這個方法也會使用許多全球諮詢公司，建置任務關鍵性的解決方案，Microsoft 軟體堆疊頂端的頂端。</span><span class="sxs-lookup"><span data-stu-id="675d7-112">This approach is also used by many of the world’s top consulting firms that build mission-critical solutions on top of the Microsoft software stack.</span></span> <span data-ttu-id="675d7-113">如果沒有穩定的活動訊號和定期檢查它，就無法知道專案的健康狀態。</span><span class="sxs-lookup"><span data-stu-id="675d7-113">Without a steady heartbeat and a regular check of it, it is impossible to know the health of the project.</span></span> <span data-ttu-id="675d7-114">若要確保產品群組有連續的深入解析到專案的整體健全狀況，建置程序會每日，通常在午夜執行。</span><span class="sxs-lookup"><span data-stu-id="675d7-114">To ensure that the product groups have a continuous insight into the overall health of the project, the build process is run daily, typically at midnight.</span></span> <span data-ttu-id="675d7-115">下列步驟摘要說明典型的自動化的建置程序：</span><span class="sxs-lookup"><span data-stu-id="675d7-115">The following steps summarize a typical automated build process:</span></span>  
  
1.  <span data-ttu-id="675d7-116">從原始程式碼存放庫取得原始碼的最新組建。</span><span class="sxs-lookup"><span data-stu-id="675d7-116">Obtain the latest build of source code from the source code repository.</span></span>  
  
2.  <span data-ttu-id="675d7-117">編譯的原始程式碼。</span><span class="sxs-lookup"><span data-stu-id="675d7-117">Compile the source code.</span></span>  
  
3.  <span data-ttu-id="675d7-118">組件的部署 – 通常會使用指令碼或 Microsoft Windows Installer 檔案的二進位檔。</span><span class="sxs-lookup"><span data-stu-id="675d7-118">Pack up binaries for deployment – typically using scripts or Microsoft Windows Installer files.</span></span>  
  
4.  <span data-ttu-id="675d7-119">將專案部署至測試伺服器。</span><span class="sxs-lookup"><span data-stu-id="675d7-119">Deploy project to a test server.</span></span>  
  
5.  <span data-ttu-id="675d7-120">自動執行一組完整組建驗證測試 (Bvt)。</span><span class="sxs-lookup"><span data-stu-id="675d7-120">Automatically run a full set of build verification tests (BVTs).</span></span>  
  
6.  <span data-ttu-id="675d7-121">詳細的組建報表發行到專案小組的成員。</span><span class="sxs-lookup"><span data-stu-id="675d7-121">Publish a detailed build report to members of the project team.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="675d7-122">Bvt 是功能性測試，以演練要測試其品質解決方案的主要功能。</span><span class="sxs-lookup"><span data-stu-id="675d7-122">BVTs are functional tests that exercise the main features of the solution to test its quality.</span></span>  <span data-ttu-id="675d7-123">您需要確保您 Bvt 完整到量測計配置的每日組建時間內執行組建的品質，還得夠小 ！</span><span class="sxs-lookup"><span data-stu-id="675d7-123">You need to ensure your BVTs are comprehensive enough to gauge the build quality, yet small enough to execute within the allocated daily build time!</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="675d7-124">您也應該將任何的部署、 解除部署、 設定和安裝指令碼或處理程序，視為供測試用途的軟體專案的一部分。</span><span class="sxs-lookup"><span data-stu-id="675d7-124">You should also treat any deployment, un-deployment, configuration and installation scripts or processes as part of the software project for testing purposes.</span></span> <span data-ttu-id="675d7-125">應該經過測試的專案，以及部署和設定，這兩項作業。</span><span class="sxs-lookup"><span data-stu-id="675d7-125">Both the operations of the project, as well as the deployment and configuration of it, should be tested.</span></span>  
  
 <span data-ttu-id="675d7-126">此程序通常是清晨大約早上 6 點，可讓小組的第一個成員上建置新一天的啟動工作來完成的。</span><span class="sxs-lookup"><span data-stu-id="675d7-126">This process is typically completed by early morning around 6 A.M., which enables the first members of the team to start work on the new day’s build.</span></span> <span data-ttu-id="675d7-127">如果一或多個從先前的夜間 Bvt 失敗，它是小組的責任，儘速修正此問題。</span><span class="sxs-lookup"><span data-stu-id="675d7-127">If one or more of the BVTs from the previous night failed, then it is the team’s responsibility to fix it as soon as possible.</span></span>  
  
 <span data-ttu-id="675d7-128">每日的建置程序之後有專案的許多優點。</span><span class="sxs-lookup"><span data-stu-id="675d7-128">Following a daily build process has many advantages for the project.</span></span> <span data-ttu-id="675d7-129">首先，它會提供定期活動訊號 （組成的每日組建，再加上自動化的 Bvt）。</span><span class="sxs-lookup"><span data-stu-id="675d7-129">First, it provides a regular heartbeat (made up of the daily build plus the automated BVTs).</span></span> <span data-ttu-id="675d7-130">第二，使用 Bvt 強制與系統整合，這是相當棘手的工作，並執行此動作早期本身可以降低專案風險。</span><span class="sxs-lookup"><span data-stu-id="675d7-130">Second, using BVTs forces integration with systems which is a tricky task, and doing this early in and of itself reduces project risks.</span></span> <span data-ttu-id="675d7-131">若要完成所需的時間，因為壓力與效能測試通常會執行每日組建程序之外。</span><span class="sxs-lookup"><span data-stu-id="675d7-131">Due to the time required to complete them, stress and performance testing are typically performed outside of the daily build process.</span></span> <span data-ttu-id="675d7-132">壓力與效能測試通常被排定在專案中的里程碑組建上執行。</span><span class="sxs-lookup"><span data-stu-id="675d7-132">Stress and performance tests are typically scheduled to be performed on a milestone build in the project.</span></span>  
  
 <span data-ttu-id="675d7-133">每日組建程序，且已用，非常有效的 BizTalk 解決方案。</span><span class="sxs-lookup"><span data-stu-id="675d7-133">The daily build process can be, and has been used, very effectively on BizTalk solutions.</span></span> <span data-ttu-id="675d7-134">不過，您需要確保從一開始反覆地完成工作，通常會保留在專案結尾。</span><span class="sxs-lookup"><span data-stu-id="675d7-134">However, you need to ensure tasks that are typically left to the end in projects are done iteratively from the start.</span></span> <span data-ttu-id="675d7-135">比方說，在 BizTalk Server 中的部署是絕對重要的。</span><span class="sxs-lookup"><span data-stu-id="675d7-135">For example, deployment in BizTalk Server is certainly non-trivial.</span></span> <span data-ttu-id="675d7-136">請務必事先開發自動化的部署指令碼。</span><span class="sxs-lookup"><span data-stu-id="675d7-136">It is important that automated deployment scripts be developed up front.</span></span> <span data-ttu-id="675d7-137">如果不這麼做，您會以手動方式部署和解除部署結束許多時間在整個專案中，成本更多的時間，最後的解決方案。</span><span class="sxs-lookup"><span data-stu-id="675d7-137">If you do not do this, you’ll end up manually deploying and un-deploying the solution many times throughout the project, which will cost you more time in the end.</span></span> <span data-ttu-id="675d7-138">有一些工具可用來驅動每日的建置程序;Visual Studio Team System 與 Team Foundation Server 是許多人的主要選擇。</span><span class="sxs-lookup"><span data-stu-id="675d7-138">There are tools available to drive the daily build process; Visual Studio Team System and Team Foundation Server are the primary choice for many people.</span></span> <span data-ttu-id="675d7-139">MSBuild 指令碼可用來建置程序中的磁碟機的步驟使用。</span><span class="sxs-lookup"><span data-stu-id="675d7-139">MSBuild scripts may be used to drive the steps in the build process.</span></span> <span data-ttu-id="675d7-140">另一個替代方式是開放原始碼[CruiseControl.NET 工具](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)。</span><span class="sxs-lookup"><span data-stu-id="675d7-140">Another alternative is the open source [CruiseControl.NET tool](http://go.microsoft.com/fwlink/?LinkId=116093) (http://go.microsoft.com/fwlink/?LinkId=116093).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="675d7-141">Microsoft 不支援使用這個工具，Microsoft 不保證此程式的適用性。</span><span class="sxs-lookup"><span data-stu-id="675d7-141">Use of this tool is not supported by Microsoft, and Microsoft makes no guarantees about the suitability of this programs.</span></span> <span data-ttu-id="675d7-142">請自行承擔使用這個程式的一切風險。</span><span class="sxs-lookup"><span data-stu-id="675d7-142">Use of this program is entirely at your own risk.</span></span>  
  
 <span data-ttu-id="675d7-143">如需有關如何將自動化測試使用 Microsoft Test manager 的詳細資訊，請參閱主題[執行自動化測試](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368)在 Visual Studio 2010 的線上文件</span><span class="sxs-lookup"><span data-stu-id="675d7-143">For more information about automating testing using Microsoft Test manager, see the topic [Running Automated Tests](http://go.microsoft.com/fwlink/?LinkID=208368) (http://go.microsoft.com/fwlink/?LinkID=208368)  in the Visual Studio 2010 online documentation</span></span>  
  
 <span data-ttu-id="675d7-144">如需有關如何使用 Visual Studio 2010 建置程序自動化的詳細資訊，請參閱 <<c0> [ 建置應用程式](http://go.microsoft.com/fwlink/?LinkID=208369)(HYPERLINK"<http://go.microsoft.com/fwlink/?LinkID=208369>" <http://go.microsoft.com/fwlink/?LinkID=208369>) Visual Studio 2010 文件中。</span><span class="sxs-lookup"><span data-stu-id="675d7-144">For more information about automating the build process using Visual Studio 2010, see [Building the Application](http://go.microsoft.com/fwlink/?LinkID=208369) ( HYPERLINK "<http://go.microsoft.com/fwlink/?LinkID=208369>" <http://go.microsoft.com/fwlink/?LinkID=208369>)  in the Visual Studio 2010 documentation.</span></span>  
  
## <a name="build-verification-testing"></a><span data-ttu-id="675d7-145">組建驗證測試</span><span class="sxs-lookup"><span data-stu-id="675d7-145">Build verification testing</span></span>  
 <span data-ttu-id="675d7-146">組建驗證測試時，通常會包含下列項目：</span><span class="sxs-lookup"><span data-stu-id="675d7-146">Build verification testing usually comprises the following elements:</span></span>  
  
- <span data-ttu-id="675d7-147">**單元測試**-因為單元測試通常是第一次的測試，以進行開發，在理想情況下它們應該先建立實際上已寫入程式碼，如果您真正想要使用測試導向開發方法。</span><span class="sxs-lookup"><span data-stu-id="675d7-147">**Unit Tests** - Because unit tests are typically the first tests to be developed, ideally they should be created before the code has actually been written, if you are truly using a test-driven development approach.</span></span> <span data-ttu-id="675d7-148">藉由將它們新增到 Bvt 在專案早期階段，您提供一些程式碼涵蓋範圍執行下列立即。</span><span class="sxs-lookup"><span data-stu-id="675d7-148">By adding them into BVTs during the early stages of a project, you provide at least some code coverage immediately.</span></span> <span data-ttu-id="675d7-149">功能測試的數字，因此測試涵蓋範圍增加時，您也可以選擇移除 Bvt 的單元測試。</span><span class="sxs-lookup"><span data-stu-id="675d7-149">As the number of functional tests and hence test coverage grows, you may opt to remove unit tests from the BVTs.</span></span>  
  
- <span data-ttu-id="675d7-150">**煙霧測試**-測試您的解決方案的基本功能的端對端功能測試。</span><span class="sxs-lookup"><span data-stu-id="675d7-150">**Smoke Tests** - End-to-end functional tests that test the basic functionality of your solution.</span></span> <span data-ttu-id="675d7-151">如果這些失敗，是嚴重的錯誤。</span><span class="sxs-lookup"><span data-stu-id="675d7-151">If these fail, something is seriously wrong.</span></span> <span data-ttu-id="675d7-152">這些通常執行起來相對較快。</span><span class="sxs-lookup"><span data-stu-id="675d7-152">These can usually be run relatively quickly.</span></span>  
  
- <span data-ttu-id="675d7-153">**功能測試**-也指定的目標端對端案例中，但在此情況下它們在專案中，會在測試的所有案例時。</span><span class="sxs-lookup"><span data-stu-id="675d7-153">**Functional Tests** - These also target end-to-end scenarios, but in this case they test all the scenarios in the project.</span></span> <span data-ttu-id="675d7-154">針對大型專案可能合理分類您功能的測試，以進一步 (比方說，若要啟用快速、 可靠且隔離要測試的特定元件)。</span><span class="sxs-lookup"><span data-stu-id="675d7-154">For large projects it may make sense to categorize your functional tests further (for instance, to enable a particular component to be tested quickly, reliably, and in isolation).</span></span> <span data-ttu-id="675d7-155">您有已核准您的解決方案在功能上正確之後，應會鎖定這些功能的測試。</span><span class="sxs-lookup"><span data-stu-id="675d7-155">These functional tests should be locked down after you have signed off on your solution as being functionally correct.</span></span>  
  
- <span data-ttu-id="675d7-156">**迴歸驗證測試**-每次找到並修正，迴歸測試案例應該將確認 bug 已修正，而且，它會重新引入稍後在專案生命週期中的驗證解決方案 bug。</span><span class="sxs-lookup"><span data-stu-id="675d7-156">**Regression Verification Tests** - Every time a solution bug is found and fixed, regression verification test cases should be added to verify that the bug is fixed and that it is not reintroduced later in the project life cycle.</span></span>  <span data-ttu-id="675d7-157">這些測試通常是功能測試案例中未涵蓋的案例。</span><span class="sxs-lookup"><span data-stu-id="675d7-157">These tests will typically be cases that were not covered in the functional test cases.</span></span> <span data-ttu-id="675d7-158">您應該預期迴歸驗證測試會增加數目，即使解決方案已啟動，如果找到並修正新的 bug。</span><span class="sxs-lookup"><span data-stu-id="675d7-158">You should expect that your regression verification tests will increase in number even after the solution has gone live, if new bugs are discovered and fixed.</span></span>  
  
  <span data-ttu-id="675d7-159">在非常大型的專案，您可能需要讓您 Bvt （因為它們執行所需的時間長度） 的完整功能的測試套件的子集。</span><span class="sxs-lookup"><span data-stu-id="675d7-159">On very large projects, you may need to make your BVTs a subset of the full functional test suite (due to length of time they take to execute).</span></span> <span data-ttu-id="675d7-160">對於較小的專案，Bvt 會構成整個集合。</span><span class="sxs-lookup"><span data-stu-id="675d7-160">For smaller projects, BVTs will constitute the entire set.</span></span> <span data-ttu-id="675d7-161">很明顯地，如果您要整合 Bvt 每日組建的一部分，整個程序必須自動化。</span><span class="sxs-lookup"><span data-stu-id="675d7-161">Obviously, if you are going to integrate the BVTs as part of your daily build, the whole process needs to be automated.</span></span> <span data-ttu-id="675d7-162">在本主題的其餘部分，我們將著重在如何使用 BizUnit 和其他工具來完成這項作業。</span><span class="sxs-lookup"><span data-stu-id="675d7-162">In the rest of this topic, we will focus on how you can use BizUnit and other tools to accomplish this.</span></span>  
  
## <a name="functional-testing"></a><span data-ttu-id="675d7-163">功能測試</span><span class="sxs-lookup"><span data-stu-id="675d7-163">Functional testing</span></span>  
 <span data-ttu-id="675d7-164">在內容中的 BizTalk 應用程式功能測試，測試特定的端對端案例。</span><span class="sxs-lookup"><span data-stu-id="675d7-164">In the context of BizTalk applications functional tests, test a specific end-to-end scenario.</span></span> <span data-ttu-id="675d7-165">在執行這種類型的測試，最好想像為黑色方塊的功能測試從外部的觀點來看的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="675d7-165">When performing this type of testing, it is useful to imagine BizTalk Server as a black box that you test functionally from an external perspective.</span></span> <span data-ttu-id="675d7-166">例如，測試可能涉及饋送 （與已知的值） 的輸入的訊息到接收位置的結束點 (範例中，URL 中，FTP 位置，無論您選擇的傳輸是)。</span><span class="sxs-lookup"><span data-stu-id="675d7-166">For example, a test may involve feeding an input message (with known values) to a receive location end point (for example, URL, FTP location, whatever your choice of transport is).</span></span> <span data-ttu-id="675d7-167">測試會監視正確的傳送端會在產生的正確輸出的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="675d7-167">The test would then monitor the correct number of messages with the correct output that is produced on the send side.</span></span> <span data-ttu-id="675d7-168">這聽起來可能相當簡單。</span><span class="sxs-lookup"><span data-stu-id="675d7-168">This may sound relatively straightforward.</span></span> <span data-ttu-id="675d7-169">不過，當您考慮某些情況下需要以特定順序，並在一段時間的輸入，您將此複合其他方案需求 (例如，記錄在 BAM 中的追蹤資料時)，就不難，工具和架構可以用來協調這種情況。</span><span class="sxs-lookup"><span data-stu-id="675d7-169">However, when you consider that some scenarios require inputs to come in a certain order and at a certain time, and you compound this with other solution requirements (such as, when recording tracking data in BAM), it becomes clear that a tool and framework can be used to orchestrate this.</span></span>  
  
 <span data-ttu-id="675d7-170">很重要的功能測試設計來涵蓋所有可能的路徑，透過您的解決方案。</span><span class="sxs-lookup"><span data-stu-id="675d7-170">It is critical that functional testing is designed to cover all the possible paths through your solution.</span></span> <span data-ttu-id="675d7-171">這應該包含不只是這些情況下您預期在實際執行環境，但也失敗路徑和例外狀況處理路徑，您已實作，但不是希望使用 – 一個詞彙，通常用來描述這個進行測試，如 < 壞日子案例 >。</span><span class="sxs-lookup"><span data-stu-id="675d7-171">This should include not only those scenarios you expect in production, but also the failure paths and exception handling paths you have implemented but hope never to use – one phrase commonly used to describe this is testing for the “bad day scenario.”</span></span> <span data-ttu-id="675d7-172">您應該確定所有的協調流程、 所有允許的訊息類型，和所有的程式碼分支會運用的功能測試套件。</span><span class="sxs-lookup"><span data-stu-id="675d7-172">You should ensure all orchestrations, all permissible message types, and all code branches are exercised by your functional test suite.</span></span> <span data-ttu-id="675d7-173">下列各節會說明開發正數和負數功能測試案例來涵蓋所有程式碼路徑。</span><span class="sxs-lookup"><span data-stu-id="675d7-173">The following sections describe developing positive and negative functional test cases to cover all code paths.</span></span>  
  
 <span data-ttu-id="675d7-174">如需功能測試的詳細資訊和其他測試類別應實作之前先將 BizTalk Server 解決方案放入生產環境中，請參閱主題[檢查清單： 測試作業整備](http://go.microsoft.com/fwlink/?LinkId=160138)中在 BizTalk Server 2010 作業指南[ http://go.microsoft.com/fwlink/?LinkId=160138 ](http://go.microsoft.com/fwlink/?LinkId=160138)。</span><span class="sxs-lookup"><span data-stu-id="675d7-174">For more information about functional testing and the other testing categories that should be implemented before placing a BizTalk Server solution into production, see the topic [Checklist: Testing Operational Readiness](http://go.microsoft.com/fwlink/?LinkId=160138) in the BizTalk Server 2010 Operations Guide at [http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138).</span></span>  
  
### <a name="positive-tests"></a><span data-ttu-id="675d7-175">正向測試</span><span class="sxs-lookup"><span data-stu-id="675d7-175">Positive tests</span></span>  
  
-   <span data-ttu-id="675d7-176">執行正向測試以確保所有的訊息、 管線、 協調流程、 組合時很重要，且端點已傳送的解決方案，這樣會執行所有的訊息流程。</span><span class="sxs-lookup"><span data-stu-id="675d7-176">It is important when performing positive tests to ensure all combinations of messages, pipelines, orchestrations, and endpoints are passed through the solution so that all the message flows are exercised.</span></span> <span data-ttu-id="675d7-177">若要確定您會測試所有的程式碼路徑可能會需要您處理不同的訊息，以不同的內容。</span><span class="sxs-lookup"><span data-stu-id="675d7-177">To ensure that you test all code paths will likely require that you process different messages with different content.</span></span>  
  
-   <span data-ttu-id="675d7-178">測試時，使用 將生產環境中使用的傳輸類型。</span><span class="sxs-lookup"><span data-stu-id="675d7-178">When testing, use the transport type that will be used in production.</span></span> <span data-ttu-id="675d7-179">不幸的是，太多，功能測試是只能執行某些其他傳輸將會使用在生產環境中時，請使用 file 配接器。</span><span class="sxs-lookup"><span data-stu-id="675d7-179">Unfortunately, all too often, functional testing is performed only by using the file adapter when some other transport will be used in production.</span></span> <span data-ttu-id="675d7-180">採用這個方法設定寄件者和整體專案進行失敗之後。</span><span class="sxs-lookup"><span data-stu-id="675d7-180">Adopting this approach is setting you and the overall project up for failure later on.</span></span>  
  
-   <span data-ttu-id="675d7-181">驗證從系統傳送的所有訊息的承載。</span><span class="sxs-lookup"><span data-stu-id="675d7-181">Validate the payload of all messages that are sent out from the system.</span></span> <span data-ttu-id="675d7-182">如果訊息是 XML，您應該驗證其結構描述和訊息使用 XPath 運算式中的索引鍵欄位。</span><span class="sxs-lookup"><span data-stu-id="675d7-182">If the messages are XML, you should validate their schema and key fields in the message using XPath expressions.</span></span>  
  
-   <span data-ttu-id="675d7-183">驗證儲存在 BAM （使用） 時，任何追蹤資料需要克服會留在外部資料存放庫的任何其他資料。</span><span class="sxs-lookup"><span data-stu-id="675d7-183">Validate any tracking data stored in BAM (if used); any other data that is left in external data repositories should be accounted for.</span></span>  
  
-   <span data-ttu-id="675d7-184">如果您的方案使用 BRE，請測試所有的商務規則引擎 (BRE) 原則和規則的執行。</span><span class="sxs-lookup"><span data-stu-id="675d7-184">Test the execution of all Business Rule Engine (BRE) policies and rules if your solution uses BRE.</span></span>  
  
### <a name="negative-tests"></a><span data-ttu-id="675d7-185">負向測試</span><span class="sxs-lookup"><span data-stu-id="675d7-185">Negative tests</span></span>  
  
-   <span data-ttu-id="675d7-186">請確定您透過您的系統測試的 無效的訊息處理。</span><span class="sxs-lookup"><span data-stu-id="675d7-186">Ensure you test the handling of invalid messages through your system.</span></span> <span data-ttu-id="675d7-187">您應該確認您所選擇的策略 （拒絕它們，再放到 BizTalk Server 中，或是擱置那些） 已正確運作。</span><span class="sxs-lookup"><span data-stu-id="675d7-187">You should verify that your chosen strategy (to reject them before they come into BizTalk Server, or to suspend them) has worked correctly.</span></span>  
  
-   <span data-ttu-id="675d7-188">在測試的 無效的訊息處理時，請確定您測試任何接收端的錯誤處理協調流程，已實作來處理擱置的訊息。</span><span class="sxs-lookup"><span data-stu-id="675d7-188">When testing the handling of invalid messages, ensure you test that any receive-side error handling orchestrations have been implemented to handle suspended messages.</span></span>  
  
-   <span data-ttu-id="675d7-189">請確定您失敗的案例，說明在您的協調流程中的所有例外狀況區塊。</span><span class="sxs-lookup"><span data-stu-id="675d7-189">Ensure that your failure scenarios cover all exception blocks in your orchestrations.</span></span>  <span data-ttu-id="675d7-190">若要充分測試此失敗是常見的問題。</span><span class="sxs-lookup"><span data-stu-id="675d7-190">Failing to test this adequately is a common problem.</span></span>  
  
-   <span data-ttu-id="675d7-191">如果您使用長時間執行的交易與補償行為，請非常仔細測試這些案例。</span><span class="sxs-lookup"><span data-stu-id="675d7-191">If you are using long-running transactions with compensation behavior, test these scenarios very carefully.</span></span> <span data-ttu-id="675d7-192">這是其中不適當的測試將會產生嚴重的後果，在生產環境中的另一個區域。</span><span class="sxs-lookup"><span data-stu-id="675d7-192">This is another area where inadequate testing will incur serious consequences in a production environment.</span></span>  
  
-   <span data-ttu-id="675d7-193">請確定失敗會記錄正確適當的錯誤記錄檔。</span><span class="sxs-lookup"><span data-stu-id="675d7-193">Ensure failures are logged correctly in the appropriate error logs.</span></span>  
  
## <a name="automation-is-key"></a><span data-ttu-id="675d7-194">自動化是索引鍵</span><span class="sxs-lookup"><span data-stu-id="675d7-194">Automation is key</span></span>  
 <span data-ttu-id="675d7-195">若要有效率且有效地完成上述動作，將心力灌注事先將自動化測試的時間。</span><span class="sxs-lookup"><span data-stu-id="675d7-195">To do all of this efficiently and effectively, invest the time up front to automate testing.</span></span> <span data-ttu-id="675d7-196">手動測試是耗時、 容易出錯且昂貴 （以時間和成本）。</span><span class="sxs-lookup"><span data-stu-id="675d7-196">Manual testing is time consuming, error prone, and expensive (in terms of time and cost).</span></span> <span data-ttu-id="675d7-197">每次您執行手動測試時，您會新增另一個批次已由專案資源 （在小組中的人員） 的工作。</span><span class="sxs-lookup"><span data-stu-id="675d7-197">Every time you perform a manual test pass, you add another batch of tasks that have to be handled by project resources (people in the team).</span></span> <span data-ttu-id="675d7-198">藉由將此自動化最前面位置，就可以取得開發測試，每次執行時，才在初始投資報酬率。</span><span class="sxs-lookup"><span data-stu-id="675d7-198">By automating this up front, you are able to get a return on the initial investment that is required to develop the tests every time they are run.</span></span> <span data-ttu-id="675d7-199">良好的功能測試應快速且有效率地執行，且應可重複;每項測試也應該自發 （它應該以獨立於任何其他的方式是，採用這個方法可讓您為測試套件以循序方式執行多個測試）。功能測試應該一律產生相同的結果。</span><span class="sxs-lookup"><span data-stu-id="675d7-199">Good functional tests should execute quickly and efficiently and be repeatable; each test should also be autonomous (It should be independent of any other; adopting this approach enables you to run multiple tests sequentially as a test suite.) The functional tests should always produce the same result.</span></span> <span data-ttu-id="675d7-200">撰寫不夠周全的功能測試或撰寫不夠周全的程式碼會導致不同的測試結果之間測試回合，導致混淆和減少浪費的時間調查失敗的根本原因。</span><span class="sxs-lookup"><span data-stu-id="675d7-200">Poorly written functional tests or poorly written code will result in different tests results between test runs, leading to confusion and wasted time investigating the root cause of the failure.</span></span>  
  
 <span data-ttu-id="675d7-201">請務必盡可能減少所需寫入每個功能測試的開發作業。</span><span class="sxs-lookup"><span data-stu-id="675d7-201">It is important to minimize the development effort required to write each functional test.</span></span> <span data-ttu-id="675d7-202">它是要產生項目 （依據開發時間）、 較少的測試案例可能會得到通常更昂貴。</span><span class="sxs-lookup"><span data-stu-id="675d7-202">Usually the more expensive it is to produce something (in terms of development time), the fewer test cases you are likely to end up with.</span></span> <span data-ttu-id="675d7-203">這表示您必須透過您的程式碼的測試涵蓋範圍較低層級。</span><span class="sxs-lookup"><span data-stu-id="675d7-203">This means you will have a lower level of test coverage over your code.</span></span> <span data-ttu-id="675d7-204">藉由使用的測試架構，您可以開發更快速且輕鬆的測試案例，因此，讓您更輕鬆地取得完整的程式碼涵蓋範圍。</span><span class="sxs-lookup"><span data-stu-id="675d7-204">By using a test framework, you can develop test cases quicker and easier and, hence, make it easier to get full code coverage.</span></span> <span data-ttu-id="675d7-205">大部分的很好的測試架構會使用宣告式的方法，用來定義測試。</span><span class="sxs-lookup"><span data-stu-id="675d7-205">Most good test frameworks use a declarative approach to defining tests.</span></span> <span data-ttu-id="675d7-206">（也就是測試組態會儲存在組態檔，通常是 XML 檔案中）。使用很好的測試架構可讓您開發完整功能測試套件以敏捷式軟體開發且可靠的方式，以及就不需要 「 重新發明車輪 」，就是所謂。</span><span class="sxs-lookup"><span data-stu-id="675d7-206">(That is, the configuration for a test is stored in a configuration file, which is typically an XML file.) Using a good test framework enables you to develop a full functional test suite in an agile and reliable manner and avoids having to “reinvent the wheel” over and over, so to speak.</span></span>  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a><span data-ttu-id="675d7-207">BizTalk Server 專案的 MSBUILD 支援</span><span class="sxs-lookup"><span data-stu-id="675d7-207">MSBUILD support for BizTalk Server projects</span></span>  
 <span data-ttu-id="675d7-208">BizTalk Server 提供的 Microsoft 組建引擎 (MSBUILD) 平台，可容納在未安裝 Visual Studio 的組建實驗室環境中的 managed 專案的建置支援。</span><span class="sxs-lookup"><span data-stu-id="675d7-208">BizTalk Server provides support for the Microsoft Build Engine (MSBUILD) platform, which accommodates the building of managed projects in build lab environments where Visual Studio is not installed.</span></span> <span data-ttu-id="675d7-209">MSBUILD 可容納從命令列] 和 [進階的功能，包括記錄和批次處理的 MSBUILD 建置專案。</span><span class="sxs-lookup"><span data-stu-id="675d7-209">MSBUILD accommodates building projects from a command line and advanced functionality including MSBUILD logging and batching.</span></span> <span data-ttu-id="675d7-210">如需 MSBUILD 的詳細資訊，請參閱[MSBuild 概觀](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)。</span><span class="sxs-lookup"><span data-stu-id="675d7-210">For more information about MSBUILD, see [MSBuild Overview](http://go.microsoft.com/fwlink/?LinkId=131739) (http://go.microsoft.com/fwlink/?LinkId=131739).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="675d7-211">另請參閱</span><span class="sxs-lookup"><span data-stu-id="675d7-211">See Also</span></span>  
 [<span data-ttu-id="675d7-212">實作自動化的測試</span><span class="sxs-lookup"><span data-stu-id="675d7-212">Implementing Automated Testing</span></span>](../technical-guides/implementing-automated-testing.md)