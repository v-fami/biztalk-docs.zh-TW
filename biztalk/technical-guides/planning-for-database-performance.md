---
title: "規劃資料庫效能 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7212fa37-88e0-4b5f-af97-c72063357645
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1338088acc91a45572ae1b49131d99f6c58cb739
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="planning-for-database-performance"></a><span data-ttu-id="1868c-102">規劃資料庫效能</span><span class="sxs-lookup"><span data-stu-id="1868c-102">Planning for Database Performance</span></span>
<span data-ttu-id="1868c-103">Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]是極資料庫密集的應用程式，可能需要多達 13 個不同的資料庫中 Microsoft 建立[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="1868c-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is an extremely database intensive application that may require the creation of up to 13 separate databases in Microsoft [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="1868c-104">由於資料庫大量本質之故[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，為您選擇的適當版本和版別重要[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]，將裝載[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="1868c-104">Because of the database intensive nature of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], it is of critical importance that you choose the appropriate version and edition of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that will house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="1868c-105">若要執行的電腦的效能最佳化[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]該馬上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫，請遵循本主題中以及在建議[BizTalk Server 資料庫最佳化](http://go.microsoft.com/fwlink/?LinkID=101578)白皮書 ([http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578))。</span><span class="sxs-lookup"><span data-stu-id="1868c-105">To optimize the performance of the computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, follow the recommendations in this topic and in the [BizTalk Server Database Optimization](http://go.microsoft.com/fwlink/?LinkID=101578) white paper ([http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578)).</span></span>  
  
 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]<span data-ttu-id="1868c-106">資料庫必須安裝在[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]或[!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="1868c-106"> databases must be installed on either [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] or [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1868c-107">雖然這份技術白皮書為其他版本的撰寫[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]和[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]，您可以使用的相同建議[!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]和[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]  /  [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="1868c-107">While this white paper is written for other versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], you can use the same recommendations for [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] and [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)].</span></span>  
  
## <a name="considerations-for-sql-server-editions"></a><span data-ttu-id="1868c-108">SQL Server 版本的考量</span><span class="sxs-lookup"><span data-stu-id="1868c-108">Considerations for SQL Server Editions</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1868c-109">資料庫應該設定為在專用 SQL Server 執行個體盡可能上執行。</span><span class="sxs-lookup"><span data-stu-id="1868c-109"> databases should be configured to run on a dedicated SQL Server instance whenever possible.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1868c-110">資料庫大量應用程式，因此，明確劃分[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]電腦和裝載 SQL Server 電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫將可改善效能，並且應該視為最佳作法是在生產環境中的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境.</span><span class="sxs-lookup"><span data-stu-id="1868c-110"> is a database intensive application, so separation of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and the SQL Server computers that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases will improve performance and should be considered a best practice in a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>  
  
 <span data-ttu-id="1868c-111">各版[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]提供不同的功能，這可能會影響效能的程式[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="1868c-111">Various editions of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] provide different features which can affect the performance of your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="1868c-112">例如，在高負載情況下可用的數目資料庫可用於 32 位元版本的鎖定[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]可能超出即不利的 BizTalk 方案的效能。</span><span class="sxs-lookup"><span data-stu-id="1868c-112">For example, under high-load conditions, the number of available database locks that are available for the 32-bit version of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] may be exceeded, which is detrimental to the performance of the BizTalk solution.</span></span> <span data-ttu-id="1868c-113">請考慮罩上的 SQL Server 64 位元版本的 MessageBox 資料庫，如果您在測試環境中發生 「 鎖定不足 」 錯誤。</span><span class="sxs-lookup"><span data-stu-id="1868c-113">Consider housing your MessageBox database on a 64-bit version of SQL Server if you are experiencing "out of lock" errors in your test environment.</span></span> <span data-ttu-id="1868c-114">在 64 位元版本的 SQL Server 上，可用的鎖定數目大幅提高。</span><span class="sxs-lookup"><span data-stu-id="1868c-114">The number of available locks is significantly higher on the 64-bit version of SQL Server.</span></span>  
  
 <span data-ttu-id="1868c-115">請考慮下的表決定 database engine 功能時，您必須針對您的 BizTalk 環境。</span><span class="sxs-lookup"><span data-stu-id="1868c-115">Consider the table below when deciding on the database engine features that you will need for your BizTalk environment.</span></span> <span data-ttu-id="1868c-116">小規模的解決方案，例如，當執行[!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]Branch Edition [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]  /  [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Workgroup Edition 可能已滿足外罩[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="1868c-116">For small-scale solutions, for example when running [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] Branch Edition, [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Workgroup Edition may be adequate for housing the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="1868c-117">針對大規模的企業層級方案需要叢集的支援，BizTalk 記錄傳送支援，或 Analysis Services 支援，則需要[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]  /  [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Enterprise Edition 來保存[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="1868c-117">For large scale, enterprise-level solutions that require clustering support, BizTalk log shipping support, or Analysis Services support, then you will need [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Enterprise Edition to house the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] databases.</span></span>  
  
|<span data-ttu-id="1868c-118">SQL Server 的版本</span><span class="sxs-lookup"><span data-stu-id="1868c-118">Version and Edition of SQL Server</span></span>|<span data-ttu-id="1868c-119">64 位元支援</span><span class="sxs-lookup"><span data-stu-id="1868c-119">64-bit support</span></span>|<span data-ttu-id="1868c-120">多重執行個體的支援</span><span class="sxs-lookup"><span data-stu-id="1868c-120">Multi-Instance Support</span></span>|<span data-ttu-id="1868c-121">叢集支援</span><span class="sxs-lookup"><span data-stu-id="1868c-121">Clustering support</span></span>|<span data-ttu-id="1868c-122">Analysis Services</span><span class="sxs-lookup"><span data-stu-id="1868c-122">Analysis Services</span></span>|  
|---------------------------------------|---------------------|-----------------------------|------------------------|-----------------------|  
|<span data-ttu-id="1868c-123">SQL Server 2008 SP1 / SQL Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="1868c-123">SQL Server 2008 SP1 / SQL Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="1868c-124">是</span><span class="sxs-lookup"><span data-stu-id="1868c-124">Yes</span></span>|<span data-ttu-id="1868c-125">是</span><span class="sxs-lookup"><span data-stu-id="1868c-125">Yes</span></span>|<span data-ttu-id="1868c-126">是</span><span class="sxs-lookup"><span data-stu-id="1868c-126">Yes</span></span>|<span data-ttu-id="1868c-127">是</span><span class="sxs-lookup"><span data-stu-id="1868c-127">Yes</span></span>|  
|[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]<span data-ttu-id="1868c-128"> / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]Standard Edition</span><span class="sxs-lookup"><span data-stu-id="1868c-128"> / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Standard Edition</span></span>|<span data-ttu-id="1868c-129">是</span><span class="sxs-lookup"><span data-stu-id="1868c-129">Yes</span></span>|<span data-ttu-id="1868c-130">是</span><span class="sxs-lookup"><span data-stu-id="1868c-130">Yes</span></span>|<span data-ttu-id="1868c-131">是 （節點 2）</span><span class="sxs-lookup"><span data-stu-id="1868c-131">Yes (2 node)</span></span>|<span data-ttu-id="1868c-132">是</span><span class="sxs-lookup"><span data-stu-id="1868c-132">Yes</span></span>|  
|[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]<span data-ttu-id="1868c-133"> / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]Workgroup Edition</span><span class="sxs-lookup"><span data-stu-id="1868c-133"> / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Workgroup Edition</span></span>|<span data-ttu-id="1868c-134">是</span><span class="sxs-lookup"><span data-stu-id="1868c-134">Yes</span></span>|<span data-ttu-id="1868c-135">是</span><span class="sxs-lookup"><span data-stu-id="1868c-135">Yes</span></span>|<span data-ttu-id="1868c-136">否</span><span class="sxs-lookup"><span data-stu-id="1868c-136">No</span></span>|<span data-ttu-id="1868c-137">否</span><span class="sxs-lookup"><span data-stu-id="1868c-137">No</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="1868c-138">BAM RTA 需要[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]  /  [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Enterprise Edition。</span><span class="sxs-lookup"><span data-stu-id="1868c-138">BAM RTA requires [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] / [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] Enterprise Edition.</span></span>  
  
 <span data-ttu-id="1868c-139">如需完整的版本所支援的功能清單[!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]，請參閱[支援版本的 SQL Server 2008 R2 的功能](http://go.microsoft.com/fwlink/?LinkId=151940)([http://go.microsoft.com/fwlink/?LinkId = 151940](http://go.microsoft.com/fwlink/?LinkId=151940)) 中[!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)]文件。</span><span class="sxs-lookup"><span data-stu-id="1868c-139">For a complete list of the features supported by the editions of [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)], see [Features Supported by the Editions of SQL Server 2008 R2](http://go.microsoft.com/fwlink/?LinkId=151940) ([http://go.microsoft.com/fwlink/?LinkId=151940](http://go.microsoft.com/fwlink/?LinkId=151940)) in the [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] documentation.</span></span>