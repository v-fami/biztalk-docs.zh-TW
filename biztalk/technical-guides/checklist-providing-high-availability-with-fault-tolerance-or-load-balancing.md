---
title: "檢查清單： 提供高可用性容錯或負載平衡 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 3c93cfc3-05b2-43ad-b0a9-b7f0d2596113
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 72976dba4ed30ad6747d2d6175702110fe9730a7
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="checklist-providing-high-availability-with-fault-tolerance-or-load-balancing"></a><span data-ttu-id="a1c74-102">檢查清單： 提供高可用性與容錯或負載平衡</span><span class="sxs-lookup"><span data-stu-id="a1c74-102">Checklist: Providing High Availability with Fault Tolerance or Load Balancing</span></span>
<span data-ttu-id="a1c74-103">本主題列出您應該先完成設定容錯和/或負載平衡元件的實際執行的步驟[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境，以提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="a1c74-103">This topic lists steps that you should complete to configure fault tolerance and/or load balancing for the components of a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment to provide high availability.</span></span> <span data-ttu-id="a1c74-104">這些元件的容錯組態可讓系統持續運作的特定元件失敗時。</span><span class="sxs-lookup"><span data-stu-id="a1c74-104">Configuration of fault tolerance for these components will allow the system to continue operating if a particular component fails.</span></span>  
  
|<span data-ttu-id="a1c74-105">步驟</span><span class="sxs-lookup"><span data-stu-id="a1c74-105">Steps</span></span>|<span data-ttu-id="a1c74-106">參考</span><span class="sxs-lookup"><span data-stu-id="a1c74-106">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="a1c74-107">建立多個 BizTalk 主控件執行個體，並實作主控件叢集支援這些介面卡需要它。</span><span class="sxs-lookup"><span data-stu-id="a1c74-107">Create multiple BizTalk host instances and implement host clustering support for those adapters that require it.</span></span>|[<span data-ttu-id="a1c74-108">BizTalk 主控件的高可用性</span><span class="sxs-lookup"><span data-stu-id="a1c74-108">High Availability for BizTalk Hosts</span></span>](../technical-guides/high-availability-for-biztalk-hosts.md)|  
|<span data-ttu-id="a1c74-109">設定高可用性的追蹤主控件。</span><span class="sxs-lookup"><span data-stu-id="a1c74-109">Configure tracking hosts for high availability.</span></span>|[<span data-ttu-id="a1c74-110">BizTalk 主控件的高可用性</span><span class="sxs-lookup"><span data-stu-id="a1c74-110">High Availability for BizTalk Hosts</span></span>](../technical-guides/high-availability-for-biztalk-hosts.md)|  
|<span data-ttu-id="a1c74-111">設定[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]上的叢集資料庫[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]位於 Windows server 叢集執行個體。</span><span class="sxs-lookup"><span data-stu-id="a1c74-111">Configure the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases on a clustered [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance on a Windows server cluster.</span></span>|[<span data-ttu-id="a1c74-112">資料庫的高可用性</span><span class="sxs-lookup"><span data-stu-id="a1c74-112">High Availability for Databases</span></span>](../technical-guides/high-availability-for-databases.md)|  
|<span data-ttu-id="a1c74-113">設定高可用性的追蹤主控件。</span><span class="sxs-lookup"><span data-stu-id="a1c74-113">Configure tracking hosts for high availability.</span></span> <span data-ttu-id="a1c74-114">請確認至少 N + 1 個主機的執行個體啟用其中 N 是 BizTalk 群組中的 MessageBox 資料庫數目追蹤。</span><span class="sxs-lookup"><span data-stu-id="a1c74-114">Verify that there are at least N+1 host instances with tracking enabled where N is the number of MessageBox databases in the BizTalk group.</span></span>|<span data-ttu-id="a1c74-115">若要啟用追蹤的主機，請選取 **允許主控件追蹤**上**主控件屬性**對話方塊可從[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理主控台。</span><span class="sxs-lookup"><span data-stu-id="a1c74-115">To enable tracking for a host, select the option to **Allow Host Tracking** on the **Host Properties** dialog box available from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="a1c74-116">如需設定主機內容的詳細資訊，請參閱主題[如何修改主機內容](http://go.microsoft.com/fwlink/?LinkId=154359)(http://go.microsoft.com/fwlink/?LinkId=154359)。</span><span class="sxs-lookup"><span data-stu-id="a1c74-116">For more information about setting host properties, see the topic [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkId=154359) (http://go.microsoft.com/fwlink/?LinkId=154359).</span></span>|  
|<span data-ttu-id="a1c74-117">練習定期執行，以確保容錯移轉功能的資料庫容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="a1c74-117">Practice database failover regularly to ensure failover functionality.</span></span>|<span data-ttu-id="a1c74-118">應該直接指派此的責任，以確保這會對以一致的方式。</span><span class="sxs-lookup"><span data-stu-id="a1c74-118">This responsibility should be directly assigned to ensure that this is done on a consistent basis.</span></span>|  
|<span data-ttu-id="a1c74-119">請確定有足夠的處理能力和被動叢集節點上的記憶體，若要啟用多個[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]在容錯移轉案例中同時執行的執行個體。</span><span class="sxs-lookup"><span data-stu-id="a1c74-119">Verify there is enough processing power and memory on the passive cluster nodes to enable multiple [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instances to run simultaneously in failover scenarios.</span></span>|<span data-ttu-id="a1c74-120">如果兩個 SQL 執行個體經常會使用超過 50%的個別叢集節點上的資源，然後當兩個執行個體容錯移轉至單一節點，每個執行個體則會造成效能降低的問題。</span><span class="sxs-lookup"><span data-stu-id="a1c74-120">If two SQL instances regularly consume over 50 percent of the resources on individual cluster nodes, then when both instances fail over to a single node, each instance will incur degraded performance.</span></span> <span data-ttu-id="a1c74-121">因此，測試應該執行以確保單一叢集節點都能夠處理負載，直到失敗的節點恢復上線。</span><span class="sxs-lookup"><span data-stu-id="a1c74-121">Therefore, testing should be performed to ensure that a single cluster node will be able to handle the load until the failed node is brought back online.</span></span> <span data-ttu-id="a1c74-122">如果單一節點無法處理負載的兩個 SQL 執行個體然後考慮新增其他叢集節點，若要實作主動/主動/被動叢集拓撲。</span><span class="sxs-lookup"><span data-stu-id="a1c74-122">If a single node cannot handle the load of both SQL instances then consider adding additional cluster nodes to implement an Active/Active/Passive cluster topology.</span></span>|  
|<span data-ttu-id="a1c74-123">實作存放區域網路 (SAN) 來保存[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="a1c74-123">Implement a storage area network (SAN) to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="a1c74-124">**注意：**的話，請設定 SAN 磁碟使用 RAID 1 + 0 （等量磁碟區鏡像組） 的最大效能和高可用性的拓撲。</span><span class="sxs-lookup"><span data-stu-id="a1c74-124">**Note:**  If possible, configure the SAN disks using RAID 1+0 (a stripe of mirror sets) topology for maximum performance and high availability.</span></span>|<span data-ttu-id="a1c74-125">在[「 BizTalk Server 資料庫最佳化白皮書"](http://go.microsoft.com/fwlink/?linkid=104427) (http://go.microsoft.com/fwlink/?linkid=104427)，請參閱底下 「 效能微調 」 「 磁碟基礎結構 」 一節。</span><span class="sxs-lookup"><span data-stu-id="a1c74-125">In the [“BizTalk Server Database Optimization white paper”](http://go.microsoft.com/fwlink/?linkid=104427) (http://go.microsoft.com/fwlink/?linkid=104427), see the "Disk Infrastructure" section under "Performance Tuning".</span></span>|  
|<span data-ttu-id="a1c74-126">使用 Windows 叢集來叢集化企業單一登入 (SSO) 主要密碼伺服器。</span><span class="sxs-lookup"><span data-stu-id="a1c74-126">Use Windows Clustering to cluster the Enterprise Single Sign-On (SSO) master secret server.</span></span>|<span data-ttu-id="a1c74-127">[主要密碼伺服器的高可用性](../technical-guides/high-availability-for-the-master-secret-server.md)**附註：**執行未叢集化 SSO 服務執行的電腦上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]除非您叢集化 SSO 與 BizTalk 主控件相同的叢集群組中。</span><span class="sxs-lookup"><span data-stu-id="a1c74-127">[High Availability for the Master Secret Server](../technical-guides/high-availability-for-the-master-secret-server.md) **Note:**  Do not cluster the SSO service on a computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] unless you cluster SSO and a BizTalk host in the same cluster group.</span></span> <span data-ttu-id="a1c74-128">如需有關叢集化 SSO 服務和[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]相同叢集群組中的主應用程式請參閱[如何叢集 SSO 和 BizTalk 主控件相同的叢集群組中](http://go.microsoft.com/fwlink/?LinkId=154367)(http://go.microsoft.com/fwlink/?LinkId=154367)。</span><span class="sxs-lookup"><span data-stu-id="a1c74-128">For more information about clustering the SSO service and a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host in the same cluster group see [How to Cluster SSO and a BizTalk Host in the Same Cluster Group](http://go.microsoft.com/fwlink/?LinkId=154367) (http://go.microsoft.com/fwlink/?LinkId=154367).</span></span>|  
|<span data-ttu-id="a1c74-129">備份企業單一登入 (SSO) 主要密碼。</span><span class="sxs-lookup"><span data-stu-id="a1c74-129">Back up the Enterprise Single Sign-On (SSO) Master Secret.</span></span>|<span data-ttu-id="a1c74-130">請參閱[如何備份主要密碼](http://go.microsoft.com/fwlink/?LinkID=151395)(http://go.microsoft.com/fwlink/?LinkID=151395)。</span><span class="sxs-lookup"><span data-stu-id="a1c74-130">See [How to Back Up the Master Secret](http://go.microsoft.com/fwlink/?LinkID=151395) (http://go.microsoft.com/fwlink/?LinkID=151395).</span></span>|  
|<span data-ttu-id="a1c74-131">設定網際網路資訊服務 (IIS) Web 伺服器外掛式主控的件執行個體和 BAM 入口網站網頁，才能使用網路負載平衡 (NLB) 或其他負載平衡裝置提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="a1c74-131">Configure the Internet Information Services (IIS) Web server for isolated host instances and the BAM Portal Web page to be highly available using Network Load Balancing (NLB) or other load balancing device.</span></span>|<span data-ttu-id="a1c74-132">**適用於 Windows Server 2008**： 請參閱[網路負載平衡部署指南 》](http://go.microsoft.com/fwlink/?LinkId=153139) (http://go.microsoft.com/fwlink/?LinkId=153139)。</span><span class="sxs-lookup"><span data-stu-id="a1c74-132">**For Windows Server 2008**: See [Network Load Balancing Deployment Guide](http://go.microsoft.com/fwlink/?LinkId=153139) (http://go.microsoft.com/fwlink/?LinkId=153139).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a1c74-133">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a1c74-133">See Also</span></span>  
 [<span data-ttu-id="a1c74-134">提供高可用性</span><span class="sxs-lookup"><span data-stu-id="a1c74-134">Providing High Availability</span></span>](../technical-guides/providing-high-availability.md)