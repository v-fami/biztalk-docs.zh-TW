---
title: 檢查清單： 執行每週效能檢查 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c36fe78d-1be8-49f2-97ce-b6d0cadffab8
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f7898702e42253ab1155b0a6e32af3008800db1f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22300294"
---
# <a name="checklist-performing-weekly-performance-checks"></a><span data-ttu-id="b9fe5-102">檢查清單： 執行每週效能檢查</span><span class="sxs-lookup"><span data-stu-id="b9fe5-102">Checklist: Performing Weekly Performance Checks</span></span>
<span data-ttu-id="b9fe5-103">本主題列出與避免效能問題時，所應遵循於每週的最佳作法[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]系統。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-103">This topic lists best practices that you should follow on a weekly basis when to avoid performance issues with a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span>  
  
|<span data-ttu-id="b9fe5-104">步驟</span><span class="sxs-lookup"><span data-stu-id="b9fe5-104">Steps</span></span>|<span data-ttu-id="b9fe5-105">參考</span><span class="sxs-lookup"><span data-stu-id="b9fe5-105">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="b9fe5-106">資料庫自動成長設為固定的號碼</span><span class="sxs-lookup"><span data-stu-id="b9fe5-106">Set database auto-growth to a fixed number</span></span>|<span data-ttu-id="b9fe5-107">資料庫自動成長應該設定為固定數目的 mb，而不是百分比，特別是針對 MessageBox 和 「 追蹤 」 (DTA) 資料庫。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-107">-   Database auto-growth should be set to a fixed number of megabytes instead of a percentage, especially for the MessageBox and Tracking (DTA) databases.</span></span> <span data-ttu-id="b9fe5-108">取決於您[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]應用程式和輸送量、 MessageBox 和追蹤資料庫可以變得很大。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-108">Depending on your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application and throughput, the MessageBox and Tracking databases can get quite large.</span></span> <span data-ttu-id="b9fe5-109">如果自動成長設為百分比，則自動成長也很嚴重。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-109">If auto-growth is set to a percentage, then the auto-growth can be substantial as well.</span></span><br /><span data-ttu-id="b9fe5-110">-如果是新的系統和靜態的大小不已明確建立，然後啟用自動成長選項設定的檔案，並指定檔案成長以 mb 為單位。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-110">-   If the system is new and the static sizes have not been definitively established, then configure files with the Enable Autogrowth option and specify file growth In Megabytes.</span></span> <span data-ttu-id="b9fe5-111">成長遞增值通常是不能大於 100 MB （適用於大型的檔案）、 10 MB （適用於中小型檔案） 或 1 MB （適用於小型檔案）。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-111">The growth increment should generally be no larger than 100 MB (for large files), 10 MB (for medium-sized files), or 1 MB (for small files).</span></span> <span data-ttu-id="b9fe5-112">請參閱**附錄 B-建議使用 BizTalk Server 資料庫組態**區段[BizTalk Server 資料庫最佳化白皮書](http://go.microsoft.com/fwlink/p/?LinkID=153594)(http://go.microsoft.com/fwlink/p/?LinkID = 153594) 的每個建議的檔案大小的資料表[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-112">See the **Appendix B – Recommended BizTalk Server Database Configuration** section of the [BizTalk Server Database Optimization white paper](http://go.microsoft.com/fwlink/p/?LinkID=153594) (http://go.microsoft.com/fwlink/p/?LinkID=153594) for a table with suggested files sizes for each of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>|  
|<span data-ttu-id="b9fe5-113">限制您使用 SQL Server Profiler 監視的事件</span><span class="sxs-lookup"><span data-stu-id="b9fe5-113">Limit the events that you monitor with SQL Server Profiler</span></span>|<span data-ttu-id="b9fe5-114">使用 SQL Server Profiler 來監視只有您感興趣的事件。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-114">Use SQL Server Profiler to monitor only the events in which you are interested.</span></span> <span data-ttu-id="b9fe5-115">如果追蹤變得太大，您可以篩選，收集事件資料的子集，根據您想要的資訊。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-115">If traces become too large, you can filter them based on the information you want, so that only a subset of the event data is collected.</span></span> <span data-ttu-id="b9fe5-116">監視太多事件會增加伺服器與監視處理序的負擔，且會使得追蹤檔案或追蹤資料表增長過大，尤其是需要花費長時間的監視處理序更是如此。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-116">Monitoring too many events adds overhead to the server and the monitoring process, and can cause the trace file or trace table to grow very large, especially when the monitoring process takes place over a long period of time.</span></span>|  
|<span data-ttu-id="b9fe5-117">設定訊息批次處理以增進配接器效能</span><span class="sxs-lookup"><span data-stu-id="b9fe5-117">Configure message batching to increase adapter performance</span></span>|<span data-ttu-id="b9fe5-118">最小化配接器執行，藉由結合到單一批次中的多個作業的交易的數目。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-118">-   Minimize the number of transactions performed by an adapter by combining more than one operation into a single batch.</span></span><br /><span data-ttu-id="b9fe5-119">-限制批次大小為基礎的批次中除了訊息計數的位元組總數。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-119">-   Limit the batch size based on the total number of bytes in the batch, in addition to message count.</span></span> <span data-ttu-id="b9fe5-120">如需限制批次大小的詳細資訊，請參閱[設定批次處理，以改善配接器效能](../technical-guides/configuring-batching-to-improve-adapter-performance.md)。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-120">For more information about limiting the batch size, see [Configuring Batching to Improve Adapter Performance](../technical-guides/configuring-batching-to-improve-adapter-performance.md).</span></span>|  
|<span data-ttu-id="b9fe5-121">調整大型訊息閾值</span><span class="sxs-lookup"><span data-stu-id="b9fe5-121">Adjust the large message threshold</span></span>|<span data-ttu-id="b9fe5-122">若要改善輸送量，增加的大型訊息閾值，這會降低大型緩衝處理的訊息數目在對應的磁碟。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-122">To improve throughput, increase the large message threshold, which lowers the number of large messages that are buffered to disk during mapping.</span></span>|  
|<span data-ttu-id="b9fe5-123">調查記憶體流失 」 或 「 BizTalk Server 程序中的記憶體不足例外狀況</span><span class="sxs-lookup"><span data-stu-id="b9fe5-123">Investigate memory leaks or out-of-memory exceptions in the BizTalk Server process</span></span>|<span data-ttu-id="b9fe5-124">BizTalk 處理程序中的記憶體流失可能會因為各種原因而發生。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-124">Memory leaks in BizTalk processes can occur due to varied reasons.</span></span> <span data-ttu-id="b9fe5-125">請參閱 Microsoft 知識庫文章 918643，[記憶體遺漏或 BizTalk Server 程序中的記憶體不足例外狀況的疑難排解](http://go.microsoft.com/fwlink/p/?LinkId=157212)(http://go.microsoft.com/fwlink/p/?LinkId = 157212) 有關的案例中就可能會發生記憶體流失，和如何加以修正。</span><span class="sxs-lookup"><span data-stu-id="b9fe5-125">See Microsoft Knowledge Base Article 918643, [How to troubleshoot a memory leak or an out-of-memory exception in the BizTalk Server process](http://go.microsoft.com/fwlink/p/?LinkId=157212) (http://go.microsoft.com/fwlink/p/?LinkId=157212) for information about the scenarios in which a memory leak may occur, and how to fix it.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b9fe5-126">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b9fe5-126">See Also</span></span>  
 <span data-ttu-id="b9fe5-127">[例行性效能的檢查清單](../technical-guides/routine-performance-checklists.md) </span><span class="sxs-lookup"><span data-stu-id="b9fe5-127">[Routine Performance Checklists](../technical-guides/routine-performance-checklists.md) </span></span>  
 [<span data-ttu-id="b9fe5-128">檢查清單： 執行每月效能檢查</span><span class="sxs-lookup"><span data-stu-id="b9fe5-128">Checklist: Performing Monthly Performance Checks</span></span>](../technical-guides/checklist-performing-monthly-performance-checks.md)