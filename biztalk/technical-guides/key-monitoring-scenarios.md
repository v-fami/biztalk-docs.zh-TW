---
title: 主要監視案例 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: fee90fd2-fb85-409f-827e-6ee3c8e13b4c
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 99f8f1427f5f5535b6c446dae3057b4d80754a7f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298766"
---
# <a name="key-monitoring-scenarios"></a><span data-ttu-id="7a05e-102">重要監視案例</span><span class="sxs-lookup"><span data-stu-id="7a05e-102">Key Monitoring Scenarios</span></span>
<span data-ttu-id="7a05e-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Manager 2007 R2/2012年管理組件包含下表中所述的重要監視案例數。</span><span class="sxs-lookup"><span data-stu-id="7a05e-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Management Pack for Operations Manager 2007 R2/2012 includes a number of key monitoring scenarios described in the table that follows.</span></span>  
  
### <a name="biztalk-server-monitoring-scenarios"></a><span data-ttu-id="7a05e-104">BizTalk Server 監控實例</span><span class="sxs-lookup"><span data-stu-id="7a05e-104">BizTalk Server Monitoring Scenarios</span></span>  
  
|<span data-ttu-id="7a05e-105">狀況</span><span class="sxs-lookup"><span data-stu-id="7a05e-105">Scenario</span></span>|<span data-ttu-id="7a05e-106">Description</span><span class="sxs-lookup"><span data-stu-id="7a05e-106">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="7a05e-107">擱置的訊息警示</span><span class="sxs-lookup"><span data-stu-id="7a05e-107">Suspended Message Alerts</span></span>|<span data-ttu-id="7a05e-108">監視與解決擱置的訊息相關的問題是 BizTalk Server 環境中常見的操作工作。</span><span class="sxs-lookup"><span data-stu-id="7a05e-108">Monitoring and resolving issues related to suspended messages are common operational tasks in a BizTalk Server environment.</span></span> <span data-ttu-id="7a05e-109">BizTalk Server 管理組件可讓您監視和疑難排解擱置的訊息事件有效率的方式。</span><span class="sxs-lookup"><span data-stu-id="7a05e-109">The BizTalk Server Management Pack enables you to monitor and troubleshoot suspended message events in a streamlined way.</span></span> <span data-ttu-id="7a05e-110">當您處理訊息時 BizTalk Server 中發生訊息擱置的兩種： 輸入訊息擱置和輸出訊息擱置。</span><span class="sxs-lookup"><span data-stu-id="7a05e-110">Two kinds of message suspension occur in BizTalk Server when you process messages: Inbound Message Suspension and Outbound Message Suspension.</span></span><br /><br /> <span data-ttu-id="7a05e-111">對於輸入訊息，處理錯誤或是缺少訂閱的各種可能會導致訊息被擱置。</span><span class="sxs-lookup"><span data-stu-id="7a05e-111">For inbound messages, various kinds of processing failures or lack of subscription may cause a message to be suspended.</span></span> <span data-ttu-id="7a05e-112">有些傳輸可以設定為要擱置訊息或不要擱置訊息。</span><span class="sxs-lookup"><span data-stu-id="7a05e-112">Some transports can be configured to suspend the message or not suspend the message.</span></span> <span data-ttu-id="7a05e-113">對於輸出訊息，所有的處理錯誤都會導致訊息擱置。</span><span class="sxs-lookup"><span data-stu-id="7a05e-113">For outbound messages, all processing failures will always lead to message suspension.</span></span><br /><br /> <span data-ttu-id="7a05e-114">對於輸入訊息，每個配接器寫入暫止的警示規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-114">For inbound messages, alert rules for suspension are written per adapter.</span></span> <span data-ttu-id="7a05e-115">此方法提供更大的彈性來處理內送端的訊息擱置。</span><span class="sxs-lookup"><span data-stu-id="7a05e-115">This approach provides more flexibility in handling message suspensions on the inbound side.</span></span> <span data-ttu-id="7a05e-116">您可以加入不同的回應動作根據配接器，例如通知。</span><span class="sxs-lookup"><span data-stu-id="7a05e-116">You can add different response actions based on the adapter, such as notification.</span></span> <span data-ttu-id="7a05e-117">您可以另外自訂 BizTalk Server 管理組件，藉由建立自訂規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-117">You can additionally customize the BizTalk Server Management Pack by creating custom rules.</span></span> <span data-ttu-id="7a05e-118">對於輸出訊息，所有的訊息永遠擱置任何種類的傳輸時間失敗。</span><span class="sxs-lookup"><span data-stu-id="7a05e-118">For outbound messages, all messages are always suspended on transmission time failure of any kind.</span></span>|  
|<span data-ttu-id="7a05e-119">警示隱藏原則</span><span class="sxs-lookup"><span data-stu-id="7a05e-119">Alert Suppression Policy</span></span>|<span data-ttu-id="7a05e-120">擱置訊息規則會採用不同的隱藏項目原則比通常會套用於其他規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-120">Rules for suspended messages employ a different suppression policy than are generally applied for other rules.</span></span> <span data-ttu-id="7a05e-121">會根據警示名稱、警示來源與電腦及網域來隱藏警示。</span><span class="sxs-lookup"><span data-stu-id="7a05e-121">Alerts are suppressed based the Alert Name, Alert Source, and Computer and Domain.</span></span><br /><br /> <span data-ttu-id="7a05e-122">歸併警示來源為基礎，每個擱置的訊息規則的警示來源也包含從擱置的訊息事件擷取的參數。</span><span class="sxs-lookup"><span data-stu-id="7a05e-122">For suppression based on Alert Source, the alert source for each suspended message rule also contains a parameter extracted from the suspended message event.</span></span> <span data-ttu-id="7a05e-123">此參數便是在其上接收或傳輸訊息的 URI。</span><span class="sxs-lookup"><span data-stu-id="7a05e-123">This parameter is the URI on which the message was received or transmitted.</span></span><br /><br /> <span data-ttu-id="7a05e-124">在相同的 URI 上發生的錯誤通常是因為相同的原因。</span><span class="sxs-lookup"><span data-stu-id="7a05e-124">Errors that occur on the same URI are usually because of the same reason.</span></span> <span data-ttu-id="7a05e-125">因此，我們建議您建立相同的根本原因的單一警示，即使存在多個相關的錯誤事件。</span><span class="sxs-lookup"><span data-stu-id="7a05e-125">Therefore, we recommend that you create a single alert for the same root cause even though multiple associated failure events exist.</span></span> <span data-ttu-id="7a05e-126">這可讓您擁有一個警示，導致一個根，可讓您更輕鬆地修正問題發生時。</span><span class="sxs-lookup"><span data-stu-id="7a05e-126">This enables you to have one alert and one root cause that makes it easier for you to correct problems when they occur.</span></span> <span data-ttu-id="7a05e-127">根據 Uri 精簡的警示減少不必要的警示，並促進有效率的追蹤待處理問題。</span><span class="sxs-lookup"><span data-stu-id="7a05e-127">Streamlined alerts, based on URIs, reduce unnecessary alerts and facilitate efficient tracking of open issues.</span></span> <span data-ttu-id="7a05e-128">如果發生訊息擱置的 URI 中沒有先前的擱置警示存在，便會建立新的警示。</span><span class="sxs-lookup"><span data-stu-id="7a05e-128">A new alert is created for a message suspension at a URI with no previous suspension alerts.</span></span>|  
|<span data-ttu-id="7a05e-129">BAM 技術協助警示</span><span class="sxs-lookup"><span data-stu-id="7a05e-129">BAM Technical Assistance Alerts</span></span>|<span data-ttu-id="7a05e-130">已知與商務使用者的商務活動監控 (BAM) 入口網站使用者通常是了解的商務層級指標 」 和 「 商務活動。</span><span class="sxs-lookup"><span data-stu-id="7a05e-130">Business Activity Monitoring (BAM) Portal users, known as business users, usually understand the business level indicators and business activities.</span></span> <span data-ttu-id="7a05e-131">使用監視彙總指示器、 完整的內含式商務交易，或搜尋具有特定屬性的交易的 BAM 入口網站，若要進一步調查。</span><span class="sxs-lookup"><span data-stu-id="7a05e-131">They use BAM Portal to monitor aggregate indicators, complete in-process business transactions, or search for transactions with particular properties to investigate further.</span></span> <span data-ttu-id="7a05e-132">不過，商務使用者通常不了解 IT 基礎結構層級問題的層面。</span><span class="sxs-lookup"><span data-stu-id="7a05e-132">However, business users often do not understand the aspects of an issue at an IT infrastructure level.</span></span> <span data-ttu-id="7a05e-133">在調查特定交易，BAM 入口網站可讓商務使用者可以從 IT 作業人員調查 IT 基礎結構層級交易要求技術協助。</span><span class="sxs-lookup"><span data-stu-id="7a05e-133">During investigation of a given transaction, the BAM Portal enables business users to request technical assistance from the IT Operations staff to investigate transactions at the IT infrastructure level.</span></span><br /><br /> <span data-ttu-id="7a05e-134">BAM 入口網站可透過技術協助要求，讓商務使用者不需經手這些工作。</span><span class="sxs-lookup"><span data-stu-id="7a05e-134">The BAM Portal enables this hand-off from the business user through a Technical Assistance request.</span></span> <span data-ttu-id="7a05e-135">要求技術協助建立裝載 BAM 入口網站之電腦的事件檢視器中的應用程式記錄檔中的項目。</span><span class="sxs-lookup"><span data-stu-id="7a05e-135">Requesting technical assistance creates an entry in the Application log in Event Viewer of the computer where the BAM Portal is hosted.</span></span> <span data-ttu-id="7a05e-136">這個事件包含的使用者和其他重要資訊，例如訊息執行個體識別項、 服務執行個體識別碼，與 BizTalk Server 群組資訊所要求技術協助活動的相關詳細資料。</span><span class="sxs-lookup"><span data-stu-id="7a05e-136">This event contains details about the activity on which technical assistance is requested by the user and other important information, such as the Message Instance Identifier, Service Instance Identifier, and BizTalk Server group information.</span></span><br /><br /> <span data-ttu-id="7a05e-137">BizTalk Server 管理組件包含可觸發偵測 BAM 技術協助事件警示的規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-137">The BizTalk Server Management Pack contains a rule to trigger an alert on detection of a BAM Technical Assistance event.</span></span> <span data-ttu-id="7a05e-138">建立這個警示的規則是「錯誤：需要 BAM 技術協助。」</span><span class="sxs-lookup"><span data-stu-id="7a05e-138">The rule that creates this alert is “Error: BAM Technical Assistance Required.”</span></span> <span data-ttu-id="7a05e-139">為每個從 BAM 入口網站提交的要求建立新的警示。</span><span class="sxs-lookup"><span data-stu-id="7a05e-139">A new alert is created for each request submitted from the BAM Portal.</span></span>|  
|<span data-ttu-id="7a05e-140">BizTalk Messagebox 和主控件</span><span class="sxs-lookup"><span data-stu-id="7a05e-140">BizTalk Message Boxes and Hosts</span></span>|<span data-ttu-id="7a05e-141">BizTalk Server 管理組件加入了效能閾值規則，提供全面性的健康情況的 BizTalk MessageBox 資料庫和佇列。</span><span class="sxs-lookup"><span data-stu-id="7a05e-141">BizTalk Server Management Pack incorporates performance threshold rules that provide a comprehensive view of the health of the BizTalk MessageBox databases and queues.</span></span> <span data-ttu-id="7a05e-142">提供兩種類型的臨界值規則：</span><span class="sxs-lookup"><span data-stu-id="7a05e-142">Two kinds of threshold rules are provided:</span></span><br /><br /> <span data-ttu-id="7a05e-143">-適用於以一般方式，也就是所有 BizTalk 主控件，所有 BizTalk MessageBox 資料庫的規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-143">-   Rules that apply generically, that is, to all BizTalk Hosts, all BizTalk MessageBox databases.</span></span><br /><span data-ttu-id="7a05e-144">-為特定的 BizTalk 主控件或 MessageBox 專用規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-144">-   Rules that are specific to a particular BizTalk Host or a MessageBox.</span></span><br /><br /> <span data-ttu-id="7a05e-145">一般規則會監控所有 BizTalk Server 主控件或 MessageBox 資料庫根據通用閾值。</span><span class="sxs-lookup"><span data-stu-id="7a05e-145">Generic rules monitor all the BizTalk Server Hosts or MessageBox databases based on a common threshold.</span></span> <span data-ttu-id="7a05e-146">例如，「監控 HostQ 大小」規則會根據通用閾值監控所有 BizTalk Server 主控件的工作佇列。</span><span class="sxs-lookup"><span data-stu-id="7a05e-146">For example, the rule “Monitor HostQ Size,” monitors the work queues of all BizTalk Server Hosts based on a common threshold.</span></span> <span data-ttu-id="7a05e-147">如果三個主控件存在，所有工作佇列都監視由相同的規則，並且任何主控件工作佇列超越通用閾值時，會發生的警示。</span><span class="sxs-lookup"><span data-stu-id="7a05e-147">If three hosts exist, all their work queues are monitored by the same rule and alerts occur when any of the host work queues cross the common threshold.</span></span><br /><br /> <span data-ttu-id="7a05e-148">BizTalk Server 主控件專用規則可讓您將不同的臨界值設定為不同的主控件和 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a05e-148">BizTalk Server host-specific rules enable you to configure different thresholds for different hosts and MessageBox databases.</span></span> <span data-ttu-id="7a05e-149">例如，「監控 HostQ 大小 – BizTalkServerApplication」規則是監控 BizTalkServerApplication 主控件工作佇列的主控件專用規則。</span><span class="sxs-lookup"><span data-stu-id="7a05e-149">For example, the rule "Monitor HostQ Size – BizTalkServerApplication" is a host-specific rule that monitors the work queue of the BizTalkServerApplication host.</span></span> <span data-ttu-id="7a05e-150">您所定義的特定效能計數器執行個體的特定 Operations Manager 提供者和臨界值規則中使用該提供者。</span><span class="sxs-lookup"><span data-stu-id="7a05e-150">You do this by defining a specific Operations Manager provider for the particular performance counter instance and using that provider in the threshold rule.</span></span><br /><br /> <span data-ttu-id="7a05e-151">主控件\MessageBox 專用規則是以範本規則的形式提供，用來做為建立適用於個別環境之規則的指引。</span><span class="sxs-lookup"><span data-stu-id="7a05e-151">Host\MessageBox-specific rules are provided as template rules to be used as a guide for creating rules that are applicable in your environment.</span></span> <span data-ttu-id="7a05e-152">一般規則必須以環境特有的閾值來設定。</span><span class="sxs-lookup"><span data-stu-id="7a05e-152">Generic rules need to be configured with threshold values specific to your environment.</span></span> <span data-ttu-id="7a05e-153">BizTalk 主控件/MessageBox 專用規則必須根據範本規則和適當閾值來建立。</span><span class="sxs-lookup"><span data-stu-id="7a05e-153">BizTalk Host/MessageBox-specific rules need to be created based on the template rules and appropriate thresholds.</span></span><br /><br /> <span data-ttu-id="7a05e-154">BizTalk Server 加入了自我節流功能，可協助防止多載根據各種不同的參數。</span><span class="sxs-lookup"><span data-stu-id="7a05e-154">BizTalk Server incorporates self-throttling, which helps to prevent overloading based on various parameters.</span></span> <span data-ttu-id="7a05e-155">導致節流發生的暫時負載過重並非重大的作業事件。</span><span class="sxs-lookup"><span data-stu-id="7a05e-155">A temporary overload that causes throttling to occur is not an operationally significant event.</span></span> <span data-ttu-id="7a05e-156">但是，在穩定的環境中不應該持續發生節流事件，這可能表示基礎結構層級有根本的問題。</span><span class="sxs-lookup"><span data-stu-id="7a05e-156">Persistent throttling, however, is not expected in a stable environment and could indicate underlying problems at the infrastructure level.</span></span> <span data-ttu-id="7a05e-157">BizTalk Server 管理組件提供主動式監視的這類持續節流狀況與效能閾值監控器根據下列條件：</span><span class="sxs-lookup"><span data-stu-id="7a05e-157">The BizTalk Server Management Pack provides proactive monitoring of such persistent throttling conditions with performance threshold monitors based on the following conditions:</span></span><br /><br /> <span data-ttu-id="7a05e-158">BizTalk Server 服務處理序記憶體</span><span class="sxs-lookup"><span data-stu-id="7a05e-158">-   BizTalk Server service process memory</span></span><br /><span data-ttu-id="7a05e-159">-正在處理的訊息數目</span><span class="sxs-lookup"><span data-stu-id="7a05e-159">-   Number of messages being processed</span></span><br /><span data-ttu-id="7a05e-160">-BizTalk Server 程序中執行緒數目</span><span class="sxs-lookup"><span data-stu-id="7a05e-160">-   Number of threads in a BizTalk Server process</span></span><br /><span data-ttu-id="7a05e-161">-BizTalk 資料庫佇列的大小</span><span class="sxs-lookup"><span data-stu-id="7a05e-161">-   Size of the BizTalk database queues</span></span>|  
|<span data-ttu-id="7a05e-162">協調流程失敗</span><span class="sxs-lookup"><span data-stu-id="7a05e-162">Orchestration Failures</span></span>|<span data-ttu-id="7a05e-163">擱置協調流程的監視是另一個常見案例。</span><span class="sxs-lookup"><span data-stu-id="7a05e-163">Monitoring for suspended orchestrations is another common scenario.</span></span> <span data-ttu-id="7a05e-164">協調流程可能會失敗，因為許多原因而包含協調流程引擎問題、.NET 元件發生問題，以及程式邏輯。</span><span class="sxs-lookup"><span data-stu-id="7a05e-164">Orchestrations can fail for many reasons that include orchestration engine problems, .NET Component failures, and program logic.</span></span> <span data-ttu-id="7a05e-165">請務必啟用快速判斷問題的來源，並繼續擱置的協調流程時固定的運算子。</span><span class="sxs-lookup"><span data-stu-id="7a05e-165">It is important to enable an operator to determine the source of the problem quickly and to resume suspended orchestrations when fixed.</span></span>|  
|<span data-ttu-id="7a05e-166">服務監視</span><span class="sxs-lookup"><span data-stu-id="7a05e-166">Service Monitoring</span></span>|<span data-ttu-id="7a05e-167">BizTalk Server 需要許多服務正在執行才能正確運作。</span><span class="sxs-lookup"><span data-stu-id="7a05e-167">BizTalk Server requires that a number of services are running to operate correctly.</span></span> <span data-ttu-id="7a05e-168">這些服務的狀態將會對應至類別代表不同的 BizTalk 服務監視器。</span><span class="sxs-lookup"><span data-stu-id="7a05e-168">The status of these services will be mapped to monitors for the classes representing the different BizTalk Services.</span></span>|  
|<span data-ttu-id="7a05e-169">應用程式監視</span><span class="sxs-lookup"><span data-stu-id="7a05e-169">Application Monitoring</span></span>|<span data-ttu-id="7a05e-170">BizTalk Server 在引進群組方案成品的應用程式的概念。</span><span class="sxs-lookup"><span data-stu-id="7a05e-170">BizTalk Server introduced the concept of an application for grouping solution artifacts.</span></span> <span data-ttu-id="7a05e-171">應用程式監視會偵測應用程式層級的失敗造成的影響。</span><span class="sxs-lookup"><span data-stu-id="7a05e-171">Application monitoring detects effects of a failure at the application level.</span></span>|