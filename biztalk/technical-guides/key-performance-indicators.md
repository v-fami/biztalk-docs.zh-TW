---
title: 關鍵效能指標 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 298d639a-7adf-4f04-b097-a17f4c77ee50
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8a03bf76c725f22567d5e884ca22e3a862b15ce3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298286"
---
# <a name="key-performance-indicators"></a><span data-ttu-id="70a94-102">關鍵效能指標</span><span class="sxs-lookup"><span data-stu-id="70a94-102">Key Performance Indicators</span></span>
<span data-ttu-id="70a94-103">本主題提供使用下列的擴充方法時，觀察到 BizTalk Server 產品小組的測試結果：</span><span class="sxs-lookup"><span data-stu-id="70a94-103">This topic provides test results that the BizTalk Server product group observed when using the following scale-out methods:</span></span>  
  
-   <span data-ttu-id="70a94-104">關鍵效能指標 (Kpi) 的數目增加時[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]中的電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-104">Key performance indicators (KPIs) when increasing the number of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="70a94-105">這些測試中，只有一個[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]MessageBox 資料庫已設定[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-105">For these tests, only one [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database was configured for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="70a94-106">這些測試僅著重於增加更多的影響[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-106">These tests focused solely on the impact of adding more [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
-   <span data-ttu-id="70a94-107">Kpi 的數目增加時[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]所使用的 MessageBox 資料庫[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-107">KPIs when increasing the number of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="70a94-108">這些測試僅著重於增加更多的影響[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]MessageBox 資料庫至[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-108">These tests focused solely on the impact of adding more [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
-   <span data-ttu-id="70a94-109">Kpi 的兩者數目增加時[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]電腦和[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]所使用的 MessageBox 資料庫[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-109">KPIs when increasing the number of both [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="70a94-110">這些測試以測量的新增影響[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]電腦和[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]MessageBox 資料庫至[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-110">These tests measured the impact of adding both [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
## <a name="analysis-of-key-performance-indicators"></a><span data-ttu-id="70a94-111">分析的關鍵效能指標</span><span class="sxs-lookup"><span data-stu-id="70a94-111">Analysis of key performance indicators</span></span>  
  
### <a name="messaging-scenario-biztalk-server-scale-out--biztalk-and-sql-kpi"></a><span data-ttu-id="70a94-112">傳訊案例中，BizTalk Server 向外延展 – BizTalk 和 SQL KPI</span><span class="sxs-lookup"><span data-stu-id="70a94-112">Messaging scenario, BizTalk Server scale-out – BizTalk and SQL KPI</span></span>  
 <span data-ttu-id="70a94-113">新增第二部電腦，執行 BizTalk Server 不會對整體產能顯示重大的影響。</span><span class="sxs-lookup"><span data-stu-id="70a94-113">Adding a second computer running BizTalk Server does not show a significant impact on the  overall throughput.</span></span>  <span data-ttu-id="70a94-114">在 BizTalk 伺服器的 CPU 上負載降低 25%。</span><span class="sxs-lookup"><span data-stu-id="70a94-114">The load on the BizTalk Server CPU decreases by 25%.</span></span> <span data-ttu-id="70a94-115">適用於 SQL Server CPU 投資可增加從 59%59.8%第二個執行 BizTalk Server 的電腦新增至 BizTalk Server 群組。</span><span class="sxs-lookup"><span data-stu-id="70a94-115">The CPU for SQL Server marginally increases from 59% to 59.8% when the second computer running BizTalk Server is added to the BizTalk Server group.</span></span> <span data-ttu-id="70a94-116">超過這個時間點，沒有進一步的效能優勢已獲得藉由增加 BizTalk 處理伺服器的數目。</span><span class="sxs-lookup"><span data-stu-id="70a94-116">Beyond this point, no further performance benefit was gained by increasing the number of BizTalk processing servers.</span></span>  
  
 <span data-ttu-id="70a94-117">每個 BizTalk 主控件執行個體，定期輪詢 MessageBox 中適當的佇列。</span><span class="sxs-lookup"><span data-stu-id="70a94-117">Each BizTalk host instance regularly polls the appropriate queue in the MessageBox.</span></span> <span data-ttu-id="70a94-118">主控件佇列參考的任何訊息實際上儲存在 MessageBox 中的資料表的共用集內。</span><span class="sxs-lookup"><span data-stu-id="70a94-118">Any message that is referenced on the host queue is actually stored within the shared set of tables in the MessageBox.</span></span> <span data-ttu-id="70a94-119">新增更多的電腦執行 BizTalk Server 時，會卸除輸送量，常見原因，是針對共用 MessageBox 資料庫中資料表的活動太多。</span><span class="sxs-lookup"><span data-stu-id="70a94-119">If throughput drops when adding more computers running BizTalk Server, a common cause is too much activity against the shared tables within the MessageBox database.</span></span> <span data-ttu-id="70a94-120">將這些資料表指派給特定的檔案群組，可以建立專用的 I/O 路徑，SQL Server 的這些資料表。</span><span class="sxs-lookup"><span data-stu-id="70a94-120">A dedicated I/O path for SQL Server to these tables can be created by assigning these tables to a specific filegroup.</span></span>  
  
 <span data-ttu-id="70a94-121">[最佳化檔案群組 Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md)提供如何將資料表指派給特定的檔案群組的指引。</span><span class="sxs-lookup"><span data-stu-id="70a94-121">[Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md) provides guidance on how to assign tables to specific filegroups.</span></span> <span data-ttu-id="70a94-122">包含在指令碼[BizTalk Server MessageBox 資料庫檔案群組 SQL 指令碼](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md)的指南會告訴您如何完成這。</span><span class="sxs-lookup"><span data-stu-id="70a94-122">The script included in [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) of the guide tells how you can accomplish this.</span></span> <span data-ttu-id="70a94-123">之後散發 MessageBox 物件跨多個檔案群組，並套用所有其他 SQL 相關的最佳化之後，才能考慮向外的延展到多個 MessageBox 設定。</span><span class="sxs-lookup"><span data-stu-id="70a94-123">Scaling out to a multiple MessageBox configuration should only be considered after distributing MessageBox objects across multiple filegroups, and after all other SQL-related optimizations have been applied.</span></span>  
  
 <span data-ttu-id="70a94-124">**BizTalk Server 和 SQL Server CPU 使用率百分比**</span><span class="sxs-lookup"><span data-stu-id="70a94-124">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="70a94-125">![&#45;SingleMsgBox](../technical-guides/media/m-singlemsgbox.gif "M SingleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="70a94-125">![M&#45;SingleMsgBox](../technical-guides/media/m-singlemsgbox.gif "M-SingleMsgBox")</span></span>  
  
### <a name="messaging-scenario-biztalk-server-and-sql-server-scale-out--biztalk-and-sql-kpi"></a><span data-ttu-id="70a94-126">傳訊案例中，BizTalk Server 和 SQL Server 向外延展 – BizTalk 和 SQL KPI</span><span class="sxs-lookup"><span data-stu-id="70a94-126">Messaging scenario, BizTalk Server and SQL Server scale-out – BizTalk and SQL KPI</span></span>  
 <span data-ttu-id="70a94-127">執行此測試以判斷的向外擴充 SQL Server 層藉由新增四個 MessageBox 資料庫效能。</span><span class="sxs-lookup"><span data-stu-id="70a94-127">This test was performed to determine the effectiveness of scaling out the SQL Server tier by adding four MessageBox databases.</span></span> <span data-ttu-id="70a94-128">在此案例中，新增兩個執行 BizTalk Server 的電腦啟用 2,790 每秒的訊息的最大持續輸送量。</span><span class="sxs-lookup"><span data-stu-id="70a94-128">In this scenario, adding up to two computers running BizTalk Server enabled a maximum sustainable throughput of 2,790 messages per second.</span></span> <span data-ttu-id="70a94-129">使用單一 MessageBox 時，這是 118%高於才能取得的最大輸送量。</span><span class="sxs-lookup"><span data-stu-id="70a94-129">This was 118% higher than the maximum obtainable throughput when using only a single MessageBox.</span></span> <span data-ttu-id="70a94-130">超過這個時間點，以類似的方式，單一 MessageBox 案例的效能降低將更多的處理能力加入至 BizTalk Server 層。</span><span class="sxs-lookup"><span data-stu-id="70a94-130">Beyond this point, adding more processing power to the BizTalk Server tier degraded performance in a similar fashion to the single MessageBox scenario.</span></span>  
  
 <span data-ttu-id="70a94-131">索引鍵的傳訊案例的測試結果是，向外延展 BizTalk Server 是有效的技術，來提高整體輸送量，如果 SQL Server 上的競爭不是瓶頸。</span><span class="sxs-lookup"><span data-stu-id="70a94-131">The key findings from the Messaging scenario tests are that scaling out BizTalk Server is an effective technique to increase overall throughput if contention on SQL Server is not a bottleneck.</span></span> <span data-ttu-id="70a94-132">如果 MessageBox 資料庫變成的爭用點，請先套用中詳述的最佳化[最佳化資料庫效能](../technical-guides/optimizing-database-performance.md)，特別是在檔案群組最佳化指令碼中所述[BizTalk ServerMessageBox 資料庫檔案群組的 SQL 指令碼](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md)散發 I/O 負載。</span><span class="sxs-lookup"><span data-stu-id="70a94-132">If the MessageBox database becomes a contention point, first apply the optimizations detailed in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md), particularly the filegroup optimization script described in [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) to distribute I/O load.</span></span> <span data-ttu-id="70a94-133">如果您仍然無法達到您所需的輸送量，您應該考慮橫向擴充，新增多個 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="70a94-133">If you are still unable to achieve your desired throughput, you should consider scaling out by adding more MessageBox databases.</span></span>  
  
 <span data-ttu-id="70a94-134">**BizTalk Server 和 SQL Server CPU 使用率百分比**</span><span class="sxs-lookup"><span data-stu-id="70a94-134">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="70a94-135">![&#45;MultipleMsgBox](../technical-guides/media/m-multiplemsgbox.gif "M MultipleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="70a94-135">![M&#45;MultipleMsgBox](../technical-guides/media/m-multiplemsgbox.gif "M-MultipleMsgBox")</span></span>  
  
### <a name="orchestration-scenario-biztalk-server-scale-out--sql-server-and-biztalk-server-kpi"></a><span data-ttu-id="70a94-136">協調流程案例中，BizTalk Server 向外延展 – SQL Server 和 BizTalk Server KPI</span><span class="sxs-lookup"><span data-stu-id="70a94-136">Orchestration scenario, BizTalk Server scale-out – SQL Server and BizTalk Server KPI</span></span>  
 <span data-ttu-id="70a94-137">新增第二部電腦，執行 BizTalk Server 不會對整體產能顯示重大的影響。</span><span class="sxs-lookup"><span data-stu-id="70a94-137">Adding a second computer running BizTalk Server does not show a significant impact on the  overall throughput.</span></span> <span data-ttu-id="70a94-138">在 BizTalk 伺服器的 CPU 上的負載減少 23%。</span><span class="sxs-lookup"><span data-stu-id="70a94-138">The load on the BizTalk Server CPU decreases by 23 percent.</span></span> <span data-ttu-id="70a94-139">適用於 SQL Server CPU 會增加從 66.5%68.5%加入執行 BizTalk Server 的其他電腦時。</span><span class="sxs-lookup"><span data-stu-id="70a94-139">The CPU for SQL Server increases from 66.5 percent to 68.5 percent when an additional computer running BizTalk Server is added.</span></span>  
  
 <span data-ttu-id="70a94-140">**BizTalk Server 和 SQL Server CPU 使用率百分比**</span><span class="sxs-lookup"><span data-stu-id="70a94-140">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="70a94-141">![&#45;SingleMsgBox](../technical-guides/media/o-singlemsgbox.gif "O SingleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="70a94-141">![O&#45;SingleMsgBox](../technical-guides/media/o-singlemsgbox.gif "O-SingleMsgBox")</span></span>  
  
### <a name="orchestration-scenario-biztalk-server-and-sql-server-scale-out--sql-server-and-biztalk-server-kpi"></a><span data-ttu-id="70a94-142">協調流程案例中，BizTalk Server 和 SQL Server 向外延展 – SQL Server 和 BizTalk Server KPI</span><span class="sxs-lookup"><span data-stu-id="70a94-142">Orchestration scenario, BizTalk Server and SQL Server scale-out – SQL Server and BizTalk Server KPI</span></span>  
 <span data-ttu-id="70a94-143">執行此測試以判斷的向外擴充 BizTalk Server 和 SQL Server 層藉由新增更多的電腦執行 BizTalk Server 和協調流程案例的多個 MessageBox 資料庫效能。</span><span class="sxs-lookup"><span data-stu-id="70a94-143">This test was performed to determine the effectiveness of scaling out both the BizTalk Server and SQL Server tier by adding more computers running BizTalk Server and more MessageBox databases for the Orchestration scenario.</span></span> <span data-ttu-id="70a94-144">在此案例中，新增兩個執行 BizTalk Server 的電腦啟用每秒 1,487 協調流程的最大持續的輸送量。</span><span class="sxs-lookup"><span data-stu-id="70a94-144">In this scenario, adding up to two computers running BizTalk Server enabled a maximum sustainable throughput of 1,487 orchestrations per second.</span></span> <span data-ttu-id="70a94-145">這是 116%高於最大的才能取得結果，針對單一 MessageBox。</span><span class="sxs-lookup"><span data-stu-id="70a94-145">This was 116% higher than the maximum obtainable result against a single MessageBox.</span></span> <span data-ttu-id="70a94-146">向外延展至不同的 SQL Server 電腦上的四個 MessageBox 資料庫，可容納增加的輸送量，由於額外的處理能力，並且能夠將資料庫負載分散到多個 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="70a94-146">Scaling out to four MessageBox databases on separate SQL Server computers accommodates increased throughput due to additional processing power and the ability to distribute database load across multiple MessageBox databases.</span></span> <span data-ttu-id="70a94-147">這種做法也減輕爭用共用在資料表上，這是在單一環境中，MessageBox 是效能瓶頸。</span><span class="sxs-lookup"><span data-stu-id="70a94-147">This tactic also relieves contention on shared tables, which was a bottleneck in the single MessageBox environment.</span></span> <span data-ttu-id="70a94-148">與傳訊案例中，增加的 MessageBox 資料庫數目，以及散發這些專用的 SQL 執行個體之間能夠新增至 BizTalk Server 群組的數個 BizTalk Server 電腦。</span><span class="sxs-lookup"><span data-stu-id="70a94-148">As with the Messaging scenario, increasing the number of MessageBox databases and distributing these across dedicated SQL instances enables the addition of several BizTalk Server computers to the BizTalk Server group.</span></span>  
  
 <span data-ttu-id="70a94-149">**BizTalk Server 和 SQL Server CPU 使用率百分比**</span><span class="sxs-lookup"><span data-stu-id="70a94-149">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="70a94-150">![&#45;MultipleMsgBox](../technical-guides/media/o-multiplemsgbox.gif "O MultipleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="70a94-150">![O&#45;MultipleMsgBox](../technical-guides/media/o-multiplemsgbox.gif "O-MultipleMsgBox")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="70a94-151">另請參閱</span><span class="sxs-lookup"><span data-stu-id="70a94-151">See Also</span></span>  
 [<span data-ttu-id="70a94-152">調整實際執行 BizTalk Server 環境</span><span class="sxs-lookup"><span data-stu-id="70a94-152">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)