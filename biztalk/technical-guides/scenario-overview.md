---
title: 案例概觀 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ac14328d-c373-49da-a899-4b3ca7d6dc0a
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f5bbc23f4d6b9d1e2886059cf053a495562c1d01
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37007143"
---
# <a name="scenario-overview"></a><span data-ttu-id="7d24f-102">案例概觀</span><span class="sxs-lookup"><span data-stu-id="7d24f-102">Scenario Overview</span></span>
<span data-ttu-id="7d24f-103">本主題概述的負載測試完成 BizTalk server 在現代企業級硬體上執行時評估的 BizTalk Server 延展性的產品群組。</span><span class="sxs-lookup"><span data-stu-id="7d24f-103">This topic provides an overview of load testing completed by the BizTalk Server product group to assess scalability of BizTalk Server when running on modern enterprise class hardware.</span></span>  

 <span data-ttu-id="7d24f-104">使用專用的硬體的隔離環境中執行所有測試。</span><span class="sxs-lookup"><span data-stu-id="7d24f-104">All testing was performed in an isolated environment using dedicated hardware.</span></span> <span data-ttu-id="7d24f-105">200 個以上的測試回合所執行，並由 BizTalk Server 產品小組已驗證的所有結果。</span><span class="sxs-lookup"><span data-stu-id="7d24f-105">Over 200 test runs were performed and all results were validated by the BizTalk Server product group.</span></span>  

 <span data-ttu-id="7d24f-106">使用傳訊案例，並協調流程實例中，執行測試這兩種案例使用 BizTalk WCF NetTcp 配接器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-106">Tests were performed using a Messaging  scenario and an Orchestration scenario; both scenarios utilized the BizTalk WCF-NetTcp adapter.</span></span>  

 <span data-ttu-id="7d24f-107">若要評估 BizTalk Server 引擎可能的最大效能，使用沒有自訂管線元件;而且只有一個單一且非常簡單的協調流程已用於協調流程案例。</span><span class="sxs-lookup"><span data-stu-id="7d24f-107">To evaluate the maximum possible performance of the BizTalk Server engine, no custom pipeline components were used; and only a single, very simple orchestration was used for the Orchestration scenario.</span></span> <span data-ttu-id="7d24f-108">中所述的效能最佳化[最佳化效能](../technical-guides/optimizing-performance.md)已套用至環境，和完整記錄在[觀察與建議](../technical-guides/observations-and-recommendations.md)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-108">Performance optimizations described in [Optimizing Performance](../technical-guides/optimizing-performance.md) were applied to the environment, and are fully documented in [Observations and Recommendations](../technical-guides/observations-and-recommendations.md).</span></span>  

## <a name="test-goals"></a><span data-ttu-id="7d24f-109">測試目標</span><span class="sxs-lookup"><span data-stu-id="7d24f-109">Test Goals</span></span>  
 <span data-ttu-id="7d24f-110">負載測試執行的目標，其中包括：</span><span class="sxs-lookup"><span data-stu-id="7d24f-110">The goals of the load testing performed included the following:</span></span>  

1.  <span data-ttu-id="7d24f-111">提供一般的調整大小和調整適用於 BizTalk Server 的指引：</span><span class="sxs-lookup"><span data-stu-id="7d24f-111">Provide general sizing and scaling guidance for BizTalk Server:</span></span>  

    1.  <span data-ttu-id="7d24f-112">量化新增至 BizTalk Server 群組的其他電腦的影響。</span><span class="sxs-lookup"><span data-stu-id="7d24f-112">Quantify the impact of adding additional computers to the BizTalk Server group.</span></span> <span data-ttu-id="7d24f-113">這項測試，BizTalk Server 解決方案的效能測量時 BizTalk Server 群組執行，兩個、 三個和第四個執行 BizTalk Server 的電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-113">For this testing, the performance of a BizTalk Server solution was measured when the BizTalk Server group was running one, two, three, and four computers running BizTalk Server.</span></span>  

    2.  <span data-ttu-id="7d24f-114">量化加入 BizTalk Server 群組中的其他 BizTalk MessageBox 資料庫中的影響。</span><span class="sxs-lookup"><span data-stu-id="7d24f-114">Quantify the impact of adding additional BizTalk MessageBox databases to a BizTalk Server group.</span></span> <span data-ttu-id="7d24f-115">這項測試，BizTalk Server 解決方案的效能測量時的群組已設定為使用單一的 MessageBox 資料庫或四個 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="7d24f-115">For this testing, the performance of a BizTalk Server solution was measured when the group was configured to use either a single MessageBox database or four MessageBox databases.</span></span>  

        > [!NOTE]  
        >  <span data-ttu-id="7d24f-116">測試兩個 MessageBox 資料庫不是因為從一到兩個 MessageBox 資料庫在調整時，會有一點，如果有的話，效能優勢。</span><span class="sxs-lookup"><span data-stu-id="7d24f-116">Testing with two MessageBox databases was not done because there is little, if any, performance advantage when scaling from one to two MessageBox databases.</span></span> <span data-ttu-id="7d24f-117">事實上，從一到兩個 MessageBox 資料庫，可能會影響效能。</span><span class="sxs-lookup"><span data-stu-id="7d24f-117">In fact, scaling from one to two MessageBox databases can adversely affect performance.</span></span> <span data-ttu-id="7d24f-118">如需有關向外擴充 MessageBox 的詳細資訊，請參閱[相應放大 SQL Server 層](../core/scaling-up-the-sql-server-tier.md)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-118">For more information about scaling out the MessageBox, see [Scaling Out the SQL Server Tier](../core/scaling-up-the-sql-server-tier.md).</span></span>

2.  <span data-ttu-id="7d24f-119">提供對下列案例的大小和調整指引：</span><span class="sxs-lookup"><span data-stu-id="7d24f-119">Provide sizing and scaling guidance for the following scenarios:</span></span>  

    1.  <span data-ttu-id="7d24f-120">WCF-NetTcp 單向傳訊案例</span><span class="sxs-lookup"><span data-stu-id="7d24f-120">WCF-NetTcp one-way Messaging  scenario</span></span>  

    2.  <span data-ttu-id="7d24f-121">WCF-NetTcp 單向協調流程案例</span><span class="sxs-lookup"><span data-stu-id="7d24f-121">WCF-NetTcp one-way Orchestration scenario</span></span>  

## <a name="test-measurements-used"></a><span data-ttu-id="7d24f-122">測試使用的度量</span><span class="sxs-lookup"><span data-stu-id="7d24f-122">Test Measurements Used</span></span>  
<span data-ttu-id="7d24f-123">BizTalk Server 效能測量使用下列準則：</span><span class="sxs-lookup"><span data-stu-id="7d24f-123">BizTalk Server performance was measured using the following criteria:</span></span>  

1.  <span data-ttu-id="7d24f-124">**整體輸送量**– 使用測量**BizTalk： 傳訊 (*主機名稱*) \Documents received/Sec**並**BizTalk： 傳訊 (*主機名稱*)\Documents processed/Sec**效能計數器，以便讓 BizTalk Server 接收和處理主控件。</span><span class="sxs-lookup"><span data-stu-id="7d24f-124">**Overall throughput** –Measured with the **BizTalk:Messaging(*hostname*)\Documents received/Sec** and **BizTalk:Messaging(*hostname*)\Documents processed/Sec** performance counters for the BizTalk Server receive and processing hosts.</span></span>  

2.  <span data-ttu-id="7d24f-125">**CPU 使用率**– 使用測量**\Processor(_Total)\\%Processor Time** BizTalk 伺服器上的效能計數器] 和 SQL Server 電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-125">**CPU utilization** – measured with the **\Processor(_Total)\\%Processor Time** performance counters on the BizTalk Server] and SQL Server computers.</span></span> <span data-ttu-id="7d24f-126">所有測試結果更全面來都檢閱和中所述的任何效能瓶頸[觀察與建議](../technical-guides/observations-and-recommendations.md)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-126">All test results were comprehensively reviewed and any performance bottlenecks are described in [Observations and Recommendations](../technical-guides/observations-and-recommendations.md).</span></span>  

## <a name="scaling-out-the-processing-tier-and-the-database-tier"></a><span data-ttu-id="7d24f-127">向外延展處理層和資料庫層</span><span class="sxs-lookup"><span data-stu-id="7d24f-127">Scaling out the processing tier and the database tier</span></span>  
<span data-ttu-id="7d24f-128">BizTalk Server 輕鬆地容納增加的處理層功能，藉由將現有的 BizTalk Server 群組中的一或多個 BizTalk Server 電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-128">BizTalk Server easily accommodates increased processing tier capabilities by adding one or more BizTalk Server computers to an existing BizTalk Server group.</span></span> <span data-ttu-id="7d24f-129">BizTalk Server 可容納增加的資料庫層功能，透過 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="7d24f-129">BizTalk Server accommodates increased database tier capabilities through the addition of MessageBox databases.</span></span>  

<span data-ttu-id="7d24f-130">若要提供 BizTalk Server 的擴充計量，測試所執行之一、 二、 三和 fourBizTalk 伺服器電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-130">To provide scale out metrics for BizTalk Server, tests were performed with one, two, three, and fourBizTalk Server computers.</span></span> <span data-ttu-id="7d24f-131">若要示範的向外延展資料庫層影響，針對單一和多個 MessageBox 系統執行這些測試。</span><span class="sxs-lookup"><span data-stu-id="7d24f-131">To demonstrate the impact of scaling out the database tier, these tests were performed against both single and multi-MessageBox systems.</span></span>  

## <a name="testing-scenarios"></a><span data-ttu-id="7d24f-132">測試案例</span><span class="sxs-lookup"><span data-stu-id="7d24f-132">Testing scenarios</span></span>  
 <span data-ttu-id="7d24f-133">以下將詳細說明訊息透過 BizTalk Server 環境，針對這些案例的流量。</span><span class="sxs-lookup"><span data-stu-id="7d24f-133">The flow of messages through the BizTalk Server environment for these scenarios is described in detail below.</span></span>  

### <a name="messaging-test-scenario"></a><span data-ttu-id="7d24f-134">訊息的測試案例</span><span class="sxs-lookup"><span data-stu-id="7d24f-134">Messaging test scenario</span></span>  
 <span data-ttu-id="7d24f-135">![傳訊案例](../technical-guides/media/messagingscenario.gif "MessagingScenario")</span><span class="sxs-lookup"><span data-stu-id="7d24f-135">![Messaging Scenario](../technical-guides/media/messagingscenario.gif "MessagingScenario")</span></span>  

1.  <span data-ttu-id="7d24f-136">Visual Studio 2010 Ultimate edition 負載測試功能會產生 XML 訊息，並將它傳送到執行 BizTalk Server 使用 NetTcp 傳輸的電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-136">The Visual Studio 2010 Ultimate edition load testing functionality generates an XML message and sends it to the computer running BizTalk Server with the NetTcp transport.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="7d24f-137">如需 Visual Studio 2010 Ultimate edition 負載測試的詳細資訊，請參閱 HYPERLINK""[測試應用程式](http://go.microsoft.com/fwlink/?LinkID=208247)(http://go.microsoft.com/fwlink/?LinkID=208247)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-137">For more information about Visual Studio 2010 Ultimate edition load testing, see  HYPERLINK ""  [Testing the Application](http://go.microsoft.com/fwlink/?LinkID=208247) (http://go.microsoft.com/fwlink/?LinkID=208247).</span></span>  
    >   
    >  <span data-ttu-id="7d24f-138">如需我們如何使用 Visual Studio 2010 Ultimate edition 中的負載測試功能我們的測試環境的詳細資訊，請參閱[使用 Visual Studio 促進自動化測試](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-138">For more information about how we used the Visual Studio 2010 Ultimate edition load testing functionality in our test environment, see [Using Visual Studio to Facilitate Automated Testing](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md).</span></span>  

2.  <span data-ttu-id="7d24f-139">BizTalk Server 收到 XML 訊息接收位置使用 Wcf-nettcp 接收配接器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-139">The XML message is received by a BizTalk Server receive location that uses the WCF-NetTcp receive adapter.</span></span> <span data-ttu-id="7d24f-140">接收位置會設定為使用 PassThruReceive 管線，它會執行任何處理訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-140">The receive location is configured to use the PassThruReceive pipeline, which performs no processing of the message.</span></span>  

3.  <span data-ttu-id="7d24f-141">BizTalk Server 的結束點管理員 」 (EPM) 會將訊息發佈到 BizTalk MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="7d24f-141">The BizTalk Server end point manager (EPM) publishes the message to the BizTalk MessageBox database.</span></span>  

4.  <span data-ttu-id="7d24f-142">使用 Wcf-nettcp 傳送配接器的 BizTalk Server 傳送埠會訂閱接收位置所發佈的訊息，並擷取從 BizTalk MessageBox 的訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-142">A BizTalk Server send port that uses the WCF-NetTcp send adapter subscribes to messages published by the receive location and retrieves the message from the BizTalk MessageBox.</span></span> <span data-ttu-id="7d24f-143">傳送埠會使用 PassThruTransmit 管線中，執行未處理的訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-143">The send port uses the PassThruTransmit pipeline, which performs no processing of the message.</span></span>  

5.  <span data-ttu-id="7d24f-144">訊息會傳遞到後端 WCF 服務 Wcf-nettcp 傳送配接器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-144">The message is delivered to the back end WCF service by the WCF-NetTcp send adapter.</span></span>  

### <a name="orchestration-test-scenario"></a><span data-ttu-id="7d24f-145">協調流程的測試案例</span><span class="sxs-lookup"><span data-stu-id="7d24f-145">Orchestration test scenario</span></span>  
 <span data-ttu-id="7d24f-146">![協調流程案例的流程](../technical-guides/media/orchestrationscenarioflow.gif "OrchestrationScenarioFlow")</span><span class="sxs-lookup"><span data-stu-id="7d24f-146">![Orchestration Scenario Flow](../technical-guides/media/orchestrationscenarioflow.gif "OrchestrationScenarioFlow")</span></span>  

1.  <span data-ttu-id="7d24f-147">Visual Studio 2010 Ultimate edition 負載測試功能會產生 XML 訊息，並將它傳送到執行 BizTalk Server 使用 NetTcp 傳輸的電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-147">The Visual Studio 2010 Ultimate edition load testing functionality generates an XML message and sends it to the computer running BizTalk Server using the NetTcp transport.</span></span>  

2.  <span data-ttu-id="7d24f-148">BizTalk Server 收到 XML 訊息接收埠會使用 Wcf-nettcp 接收配接器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-148">The XML message is received by a BizTalk Server receive port that uses the WCF-NetTcp receive adapter.</span></span> <span data-ttu-id="7d24f-149">接收埠會設定為使用 PassThruReceive，管線會執行任何處理訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-149">The receive port is configured to use the PassThruReceive, pipeline which performs no processing of the message.</span></span>  

3.  <span data-ttu-id="7d24f-150">訊息會傳遞到簡單的協調流程，其中僅包含接收埠 （繫結至 WCF 接收埠從步驟 2） 和傳送埠 （繫結至 WCF 傳送埠從步驟 4）。</span><span class="sxs-lookup"><span data-stu-id="7d24f-150">The message is delivered to a simple Orchestration, which consists only of a receive port (bound to the WCF receive port from step 2) and a send port (bound to the WCF send port from step 4).</span></span> <span data-ttu-id="7d24f-151">訊息的變數是 「 不具類型 」，也就是說，它們會使用 「 訊息類型 」 「 System.XML.XmlDocument"。</span><span class="sxs-lookup"><span data-stu-id="7d24f-151">Message variables are “un-typed”, meaning that they use a “Message Type” of “System.XML.XmlDocument”.</span></span> <span data-ttu-id="7d24f-152">協調流程只會收到訊息通過其接收埠，並透過它的傳送埠傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-152">The orchestration just receives the message through its receive port and sends the message through its send port.</span></span> <span data-ttu-id="7d24f-153">會不執行任何訊息處理。</span><span class="sxs-lookup"><span data-stu-id="7d24f-153">No message processing is performed.</span></span>  

4.  <span data-ttu-id="7d24f-154">使用 Wcf-nettcp 傳送配接器的單向 BizTalk Server 傳送埠訂閱協調流程發佈訊息，並擷取從 BizTalk MessageBox 的訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-154">A one-way BizTalk Server send port that uses the WCF-NetTcp send adapter subscribes to messages published by the orchestration and retrieves the message from the BizTalk MessageBox.</span></span> <span data-ttu-id="7d24f-155">傳送埠會使用 PassThruTransmit 管線中，執行未處理的訊息。</span><span class="sxs-lookup"><span data-stu-id="7d24f-155">The send port uses the PassThruTransmit pipeline, which performs no processing of the message.</span></span>  

5.  <span data-ttu-id="7d24f-156">訊息會傳遞到後端 WCF 服務 Wcf-nettcp 傳送配接器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-156">The message is delivered to the back end WCF service by the WCF-NetTcp send adapter.</span></span>  

## <a name="hardware-configuration"></a><span data-ttu-id="7d24f-157">硬體組態</span><span class="sxs-lookup"><span data-stu-id="7d24f-157">Hardware configuration</span></span>  

### <a name="lab-hardware-diagram-and-specifications"></a><span data-ttu-id="7d24f-158">實驗室硬體圖形和規格</span><span class="sxs-lookup"><span data-stu-id="7d24f-158">Lab hardware diagram and specifications</span></span>  
 <span data-ttu-id="7d24f-159">使用實驗室的硬體組態如下所示。</span><span class="sxs-lookup"><span data-stu-id="7d24f-159">The hardware configuration used for the lab is illustrated below.</span></span> <span data-ttu-id="7d24f-160">若要輕鬆地因應從 「 處理 」 和 「 資料庫層的規模，實驗室使用下列硬體：</span><span class="sxs-lookup"><span data-stu-id="7d24f-160">To easily accommodate scale out of the processing and database tiers, the following lab hardware was used:</span></span>  

- <span data-ttu-id="7d24f-161">兩個的企業級 Hewlett Packard DL 380 電腦和兩部 BizTalk Server 處理層的企業類別 Dell R710 電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-161">Two Enterprise class Hewlett Packard DL-380 computers and two Enterprise class Dell R710 computers for the BizTalk Server processing tier.</span></span>  

- <span data-ttu-id="7d24f-162">四部地提供多個 MessageBox 資料庫的資料庫層的企業類別 Dell R900 電腦。</span><span class="sxs-lookup"><span data-stu-id="7d24f-162">Four Enterprise class Dell R900 computers for the database tier, to provide multi-MessageBox capability.</span></span>  

  <span data-ttu-id="7d24f-163">在實驗室中用到的硬體圖如下所示：</span><span class="sxs-lookup"><span data-stu-id="7d24f-163">A diagram of the hardware used in the lab is provided below:</span></span>  

  <span data-ttu-id="7d24f-164">![效能指南的基礎結構](../technical-guides/media/performanceguideinfrastructure.gif "PerformanceGuideInfrastructure")</span><span class="sxs-lookup"><span data-stu-id="7d24f-164">![Performance Guide Infrastructure](../technical-guides/media/performanceguideinfrastructure.gif "PerformanceGuideInfrastructure")</span></span>  

  <span data-ttu-id="7d24f-165">下表提供有關在實驗室中所使用的硬體更具體資訊。</span><span class="sxs-lookup"><span data-stu-id="7d24f-165">The following table provides more specific information about the hardware used in the lab.</span></span>  

|<span data-ttu-id="7d24f-166">[屬性]</span><span class="sxs-lookup"><span data-stu-id="7d24f-166">Name</span></span>|<span data-ttu-id="7d24f-167">[模型]</span><span class="sxs-lookup"><span data-stu-id="7d24f-167">Model</span></span>|<span data-ttu-id="7d24f-168">CPU 類型</span><span class="sxs-lookup"><span data-stu-id="7d24f-168">CPU type</span></span>|<span data-ttu-id="7d24f-169">CPU 數</span><span class="sxs-lookup"><span data-stu-id="7d24f-169">Number of CPUs</span></span>|<span data-ttu-id="7d24f-170">核心/CPU 數目</span><span class="sxs-lookup"><span data-stu-id="7d24f-170">Number of cores/CPU</span></span>|<span data-ttu-id="7d24f-171">CPU 架構</span><span class="sxs-lookup"><span data-stu-id="7d24f-171">CPU architecture</span></span>|<span data-ttu-id="7d24f-172">記憶體</span><span class="sxs-lookup"><span data-stu-id="7d24f-172">Memory</span></span>|<span data-ttu-id="7d24f-173">作業系統</span><span class="sxs-lookup"><span data-stu-id="7d24f-173">Operating System</span></span>|<span data-ttu-id="7d24f-174">軟體</span><span class="sxs-lookup"><span data-stu-id="7d24f-174">Software</span></span>|  
|----------|-----------|--------------|--------------------|--------------------------|----------------------|------------|----------------------|--------------|  
|<span data-ttu-id="7d24f-175">R710-01</span><span class="sxs-lookup"><span data-stu-id="7d24f-175">R710-01</span></span>|<span data-ttu-id="7d24f-176">Dell PowerEdge R710</span><span class="sxs-lookup"><span data-stu-id="7d24f-176">Dell PowerEdge R710</span></span>|<span data-ttu-id="7d24f-177">Intel Xeon X5570</span><span class="sxs-lookup"><span data-stu-id="7d24f-177">Intel Xeon X5570</span></span>|<span data-ttu-id="7d24f-178">2 x 2.93 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-178">2 x 2.93 GHz</span></span>|<span data-ttu-id="7d24f-179">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-179">4</span></span>|<span data-ttu-id="7d24f-180">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-180">x64</span></span>|<span data-ttu-id="7d24f-181">72 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-181">72 GB</span></span>|<span data-ttu-id="7d24f-182">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-182">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-183">BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="7d24f-183">BizTalk Server</span></span>|  
|<span data-ttu-id="7d24f-184">R710-02</span><span class="sxs-lookup"><span data-stu-id="7d24f-184">R710-02</span></span>|<span data-ttu-id="7d24f-185">Dell PowerEdge R710</span><span class="sxs-lookup"><span data-stu-id="7d24f-185">Dell PowerEdge R710</span></span>|<span data-ttu-id="7d24f-186">Intel Xeon X5570</span><span class="sxs-lookup"><span data-stu-id="7d24f-186">Intel Xeon X5570</span></span>|<span data-ttu-id="7d24f-187">2 x 2.93 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-187">2 x 2.93 GHz</span></span>|<span data-ttu-id="7d24f-188">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-188">4</span></span>|<span data-ttu-id="7d24f-189">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-189">x64</span></span>|<span data-ttu-id="7d24f-190">72 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-190">72 GB</span></span>|<span data-ttu-id="7d24f-191">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-191">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-192">BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="7d24f-192">BizTalk Server</span></span>|  
|<span data-ttu-id="7d24f-193">DL380G7-01</span><span class="sxs-lookup"><span data-stu-id="7d24f-193">DL380G7-01</span></span>|<span data-ttu-id="7d24f-194">Hewlett Packard DL380 G7</span><span class="sxs-lookup"><span data-stu-id="7d24f-194">Hewlett Packard DL380 G7</span></span>|<span data-ttu-id="7d24f-195">Intel Xeon X5670</span><span class="sxs-lookup"><span data-stu-id="7d24f-195">Intel Xeon X5670</span></span>|<span data-ttu-id="7d24f-196">2 x 2.93 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-196">2 x 2.93 GHz</span></span>|<span data-ttu-id="7d24f-197">6</span><span class="sxs-lookup"><span data-stu-id="7d24f-197">6</span></span>|<span data-ttu-id="7d24f-198">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-198">x64</span></span>|<span data-ttu-id="7d24f-199">192 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-199">192 GB</span></span>|<span data-ttu-id="7d24f-200">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-200">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-201">BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="7d24f-201">BizTalk Server</span></span>|  
|<span data-ttu-id="7d24f-202">DL380G7-02</span><span class="sxs-lookup"><span data-stu-id="7d24f-202">DL380G7-02</span></span>|<span data-ttu-id="7d24f-203">Hewlett Packard DL380 G7</span><span class="sxs-lookup"><span data-stu-id="7d24f-203">Hewlett Packard DL380 G7</span></span>|<span data-ttu-id="7d24f-204">Intel Xeon X5670</span><span class="sxs-lookup"><span data-stu-id="7d24f-204">Intel Xeon X5670</span></span>|<span data-ttu-id="7d24f-205">2 x 2.93 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-205">2 x 2.93 GHz</span></span>|<span data-ttu-id="7d24f-206">6</span><span class="sxs-lookup"><span data-stu-id="7d24f-206">6</span></span>|<span data-ttu-id="7d24f-207">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-207">x64</span></span>|<span data-ttu-id="7d24f-208">192 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-208">192 GB</span></span>|<span data-ttu-id="7d24f-209">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-209">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-210">BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="7d24f-210">BizTalk Server</span></span>|  
|<span data-ttu-id="7d24f-211">DL380-01</span><span class="sxs-lookup"><span data-stu-id="7d24f-211">DL380-01</span></span>|<span data-ttu-id="7d24f-212">Hewlett Packard DL380</span><span class="sxs-lookup"><span data-stu-id="7d24f-212">Hewlett Packard DL380</span></span>|<span data-ttu-id="7d24f-213">Intel Xeon 5150</span><span class="sxs-lookup"><span data-stu-id="7d24f-213">Intel Xeon 5150</span></span>|<span data-ttu-id="7d24f-214">2 x 2.66 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-214">2 x 2.66 GHz</span></span>|<span data-ttu-id="7d24f-215">2</span><span class="sxs-lookup"><span data-stu-id="7d24f-215">2</span></span>|<span data-ttu-id="7d24f-216">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-216">x64</span></span>|<span data-ttu-id="7d24f-217">8 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-217">8 GB</span></span>|<span data-ttu-id="7d24f-218">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-218">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-219">SQL Server 2008 R2 的負載測試資料庫</span><span class="sxs-lookup"><span data-stu-id="7d24f-219">SQL Server 2008 R2 Load Test DB</span></span><br /><br /> <span data-ttu-id="7d24f-220">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="7d24f-220">Visual Studio 2010</span></span><br /><br /> <span data-ttu-id="7d24f-221">WCF 後端服務</span><span class="sxs-lookup"><span data-stu-id="7d24f-221">WCF back-end service</span></span>|  
|<span data-ttu-id="7d24f-222">DL380-02</span><span class="sxs-lookup"><span data-stu-id="7d24f-222">DL380-02</span></span>|<span data-ttu-id="7d24f-223">Hewlett Packard DL380</span><span class="sxs-lookup"><span data-stu-id="7d24f-223">Hewlett Packard DL380</span></span>|<span data-ttu-id="7d24f-224">Intel Xeon E5335</span><span class="sxs-lookup"><span data-stu-id="7d24f-224">Intel Xeon E5335</span></span>|<span data-ttu-id="7d24f-225">2 x 2.00 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-225">2 x 2.00 GHz</span></span>|<span data-ttu-id="7d24f-226">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-226">4</span></span>|<span data-ttu-id="7d24f-227">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-227">x64</span></span>|<span data-ttu-id="7d24f-228">8 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-228">8 GB</span></span>|<span data-ttu-id="7d24f-229">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-229">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-230">Visual Studio 2010 負載測試控制器</span><span class="sxs-lookup"><span data-stu-id="7d24f-230">Visual Studio 2010 Load Test Controller</span></span>|  
|<span data-ttu-id="7d24f-231">DL380-03</span><span class="sxs-lookup"><span data-stu-id="7d24f-231">DL380-03</span></span>|<span data-ttu-id="7d24f-232">Hewlett Packard DL380</span><span class="sxs-lookup"><span data-stu-id="7d24f-232">Hewlett Packard DL380</span></span>|<span data-ttu-id="7d24f-233">Intel Xeon E5335</span><span class="sxs-lookup"><span data-stu-id="7d24f-233">Intel Xeon E5335</span></span>|<span data-ttu-id="7d24f-234">2 x 2.00 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-234">2 x 2.00 GHz</span></span>|<span data-ttu-id="7d24f-235">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-235">4</span></span>|<span data-ttu-id="7d24f-236">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-236">x64</span></span>|<span data-ttu-id="7d24f-237">8 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-237">8 GB</span></span>|<span data-ttu-id="7d24f-238">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-238">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-239">Visual Studio 2010 負載測試代理程式</span><span class="sxs-lookup"><span data-stu-id="7d24f-239">Visual Studio 2010 Load Test Agent</span></span>|  
|<span data-ttu-id="7d24f-240">DL380-04</span><span class="sxs-lookup"><span data-stu-id="7d24f-240">DL380-04</span></span>|<span data-ttu-id="7d24f-241">Hewlett Packard DL380</span><span class="sxs-lookup"><span data-stu-id="7d24f-241">Hewlett Packard DL380</span></span>|<span data-ttu-id="7d24f-242">Intel Xeon E5335</span><span class="sxs-lookup"><span data-stu-id="7d24f-242">Intel Xeon E5335</span></span>|<span data-ttu-id="7d24f-243">2 x 2.00 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-243">2 x 2.00 GHz</span></span>|<span data-ttu-id="7d24f-244">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-244">4</span></span>|<span data-ttu-id="7d24f-245">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-245">x64</span></span>|<span data-ttu-id="7d24f-246">8 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-246">8 GB</span></span>|<span data-ttu-id="7d24f-247">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-247">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-248">Visual Studio 2010 負載測試代理程式。</span><span class="sxs-lookup"><span data-stu-id="7d24f-248">Visual Studio 2010 Load Test Agent.</span></span><br /><br /> <span data-ttu-id="7d24f-249">Perfmon 命令列</span><span class="sxs-lookup"><span data-stu-id="7d24f-249">Perfmon Command-line</span></span>|  
|<span data-ttu-id="7d24f-250">R805-06</span><span class="sxs-lookup"><span data-stu-id="7d24f-250">R805-06</span></span>|<span data-ttu-id="7d24f-251">Dell PowerEdge R805</span><span class="sxs-lookup"><span data-stu-id="7d24f-251">Dell PowerEdge R805</span></span>|<span data-ttu-id="7d24f-252">AMD 四核心 Opteron 2354</span><span class="sxs-lookup"><span data-stu-id="7d24f-252">AMD Quad-Core Opteron 2354</span></span>|<span data-ttu-id="7d24f-253">2 x 2.2 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-253">2 x 2.2 GHz</span></span>|<span data-ttu-id="7d24f-254">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-254">4</span></span>|<span data-ttu-id="7d24f-255">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-255">x64</span></span>|<span data-ttu-id="7d24f-256">32 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-256">32 GB</span></span>|<span data-ttu-id="7d24f-257">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-257">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-258">Visual Studio 2010 負載測試代理程式</span><span class="sxs-lookup"><span data-stu-id="7d24f-258">Visual Studio 2010 Load Test Agent</span></span>|  
|<span data-ttu-id="7d24f-259">R805-07</span><span class="sxs-lookup"><span data-stu-id="7d24f-259">R805-07</span></span>|<span data-ttu-id="7d24f-260">Dell PowerEdge R805</span><span class="sxs-lookup"><span data-stu-id="7d24f-260">Dell PowerEdge R805</span></span>|<span data-ttu-id="7d24f-261">AMD 四核心 Opteron 2354</span><span class="sxs-lookup"><span data-stu-id="7d24f-261">AMD Quad-Core Opteron 2354</span></span>|<span data-ttu-id="7d24f-262">2 x 2.2 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-262">2 x 2.2 GHz</span></span>|<span data-ttu-id="7d24f-263">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-263">4</span></span>|<span data-ttu-id="7d24f-264">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-264">x64</span></span>|<span data-ttu-id="7d24f-265">32 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-265">32 GB</span></span>|<span data-ttu-id="7d24f-266">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-266">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-267">Visual Studio 2010 負載測試代理程式</span><span class="sxs-lookup"><span data-stu-id="7d24f-267">Visual Studio 2010 Load Test Agent</span></span>|  
|<span data-ttu-id="7d24f-268">R900-03</span><span class="sxs-lookup"><span data-stu-id="7d24f-268">R900-03</span></span>|<span data-ttu-id="7d24f-269">Dell PowerEdge R900</span><span class="sxs-lookup"><span data-stu-id="7d24f-269">Dell PowerEdge R900</span></span>|<span data-ttu-id="7d24f-270">Intel Xeon E7330</span><span class="sxs-lookup"><span data-stu-id="7d24f-270">Intel Xeon E7330</span></span>|<span data-ttu-id="7d24f-271">4 x 2.4 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-271">4 x 2.4 GHz</span></span>|<span data-ttu-id="7d24f-272">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-272">4</span></span>|<span data-ttu-id="7d24f-273">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-273">x64</span></span>|<span data-ttu-id="7d24f-274">64 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-274">64 GB</span></span>|<span data-ttu-id="7d24f-275">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-275">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-276">SQL Server 2008 R2 含累計更新 4</span><span class="sxs-lookup"><span data-stu-id="7d24f-276">SQL Server 2008 R2 with Cumulative Update 4</span></span>|  
|<span data-ttu-id="7d24f-277">R900-04</span><span class="sxs-lookup"><span data-stu-id="7d24f-277">R900-04</span></span>|<span data-ttu-id="7d24f-278">Dell PowerEdge R900</span><span class="sxs-lookup"><span data-stu-id="7d24f-278">Dell PowerEdge R900</span></span>|<span data-ttu-id="7d24f-279">Intel Xeon E7330</span><span class="sxs-lookup"><span data-stu-id="7d24f-279">Intel Xeon E7330</span></span>|<span data-ttu-id="7d24f-280">4 x 2.4 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-280">4 x 2.4 GHz</span></span>|<span data-ttu-id="7d24f-281">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-281">4</span></span>|<span data-ttu-id="7d24f-282">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-282">x64</span></span>|<span data-ttu-id="7d24f-283">64 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-283">64 GB</span></span>|<span data-ttu-id="7d24f-284">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-284">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-285">SQL Server 2008 R2 含累計更新 4</span><span class="sxs-lookup"><span data-stu-id="7d24f-285">SQL Server 2008 R2 with Cumulative Update 4</span></span>|  
|<span data-ttu-id="7d24f-286">R900-05</span><span class="sxs-lookup"><span data-stu-id="7d24f-286">R900-05</span></span>|<span data-ttu-id="7d24f-287">Dell PowerEdge R900</span><span class="sxs-lookup"><span data-stu-id="7d24f-287">Dell PowerEdge R900</span></span>|<span data-ttu-id="7d24f-288">Intel Xeon E7330</span><span class="sxs-lookup"><span data-stu-id="7d24f-288">Intel Xeon E7330</span></span>|<span data-ttu-id="7d24f-289">4 x 2.4 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-289">4 x 2.4 GHz</span></span>|<span data-ttu-id="7d24f-290">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-290">4</span></span>|<span data-ttu-id="7d24f-291">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-291">x64</span></span>|<span data-ttu-id="7d24f-292">64 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-292">64 GB</span></span>|<span data-ttu-id="7d24f-293">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-293">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-294">SQL Server 2008 R2 含累計更新 4</span><span class="sxs-lookup"><span data-stu-id="7d24f-294">SQL Server 2008 R2 with Cumulative Update 4</span></span>|  
|<span data-ttu-id="7d24f-295">R900-06</span><span class="sxs-lookup"><span data-stu-id="7d24f-295">R900-06</span></span>|<span data-ttu-id="7d24f-296">Dell PowerEdge R900</span><span class="sxs-lookup"><span data-stu-id="7d24f-296">Dell PowerEdge R900</span></span>|<span data-ttu-id="7d24f-297">Intel Xeon E7330</span><span class="sxs-lookup"><span data-stu-id="7d24f-297">Intel Xeon E7330</span></span>|<span data-ttu-id="7d24f-298">4 x 2.4 GHz</span><span class="sxs-lookup"><span data-stu-id="7d24f-298">4 x 2.4 GHz</span></span>|<span data-ttu-id="7d24f-299">4</span><span class="sxs-lookup"><span data-stu-id="7d24f-299">4</span></span>|<span data-ttu-id="7d24f-300">x64</span><span class="sxs-lookup"><span data-stu-id="7d24f-300">x64</span></span>|<span data-ttu-id="7d24f-301">64 GB</span><span class="sxs-lookup"><span data-stu-id="7d24f-301">64 GB</span></span>|<span data-ttu-id="7d24f-302">Windows Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="7d24f-302">Windows Server 2008 R2 Enterprise Edition</span></span>|<span data-ttu-id="7d24f-303">SQL Server 2008 R2 含累計更新 4</span><span class="sxs-lookup"><span data-stu-id="7d24f-303">SQL Server 2008 R2 with Cumulative Update 4</span></span>|  

### <a name="storage-area-network-configuration"></a><span data-ttu-id="7d24f-304">存放區域網路設定</span><span class="sxs-lookup"><span data-stu-id="7d24f-304">Storage area network configuration</span></span>  
 <span data-ttu-id="7d24f-305">下圖說明在實驗室環境所使用的存放區域網路 (SAN) 組態。</span><span class="sxs-lookup"><span data-stu-id="7d24f-305">The following diagram depicts the storage area network (SAN) configuration used for the lab environment.</span></span>  

 <span data-ttu-id="7d24f-306">![SAN 的資訊](../technical-guides/media/saninformation.gif "SANinformation")</span><span class="sxs-lookup"><span data-stu-id="7d24f-306">![SAN information](../technical-guides/media/saninformation.gif "SANinformation")</span></span>  

### <a name="emc-clariion-cx4-960-san-configuration"></a><span data-ttu-id="7d24f-307">EMC CLARiiON CX4 960 SAN 組態</span><span class="sxs-lookup"><span data-stu-id="7d24f-307">EMC CLARiiON CX4-960 SAN configuration</span></span>  

|<span data-ttu-id="7d24f-308">服務處理器和快取資訊</span><span class="sxs-lookup"><span data-stu-id="7d24f-308">Service processor and Cache information</span></span>|<span data-ttu-id="7d24f-309">LUN 組態</span><span class="sxs-lookup"><span data-stu-id="7d24f-309">LUN configuration</span></span>|  
|---------------------------------------------|-----------------------|  
|<span data-ttu-id="7d24f-310">兩個服務處理器，每個都有：</span><span class="sxs-lookup"><span data-stu-id="7d24f-310">Two Service Processors, each with:</span></span><br /><br /> <span data-ttu-id="7d24f-311">-讀取快取大小： 2000 MB。</span><span class="sxs-lookup"><span data-stu-id="7d24f-311">-   Read cache size: 2000 MB.</span></span><br /><span data-ttu-id="7d24f-312">-寫入快取大小： 8000 MB。</span><span class="sxs-lookup"><span data-stu-id="7d24f-312">-   Write cache size: 8000 MB.</span></span><br /><span data-ttu-id="7d24f-313">-兩個前端連接埠連接到光纖交換器。</span><span class="sxs-lookup"><span data-stu-id="7d24f-313">-   Two front-end ports attached to the fiber switch.</span></span> <span data-ttu-id="7d24f-314">每個連接埠的 4 個 Gbps。</span><span class="sxs-lookup"><span data-stu-id="7d24f-314">4 Gbps per port.</span></span>|<span data-ttu-id="7d24f-315">-64 個磁碟 (268 GB，15 k RPM，光纖通道 Seagate。</span><span class="sxs-lookup"><span data-stu-id="7d24f-315">-   64 disks (268 GB, 15k RPM, Fiber Channel, Seagate.</span></span><br /><span data-ttu-id="7d24f-316">-八個 8 磁碟 RAID 1 + 0 群組從中切割從這些 64 個磁碟。</span><span class="sxs-lookup"><span data-stu-id="7d24f-316">-   Eight 8-disk RAID 1+0 Groups carved from these 64 disks.</span></span><br /><span data-ttu-id="7d24f-317">-每個 DB 伺服器指派給 5 MetaLUNs 設定從這些 RAID 群組的平均。</span><span class="sxs-lookup"><span data-stu-id="7d24f-317">-   Each DB server was assigned 5 MetaLUNs configured evenly from these RAID Groups.</span></span>|  

 <span data-ttu-id="7d24f-318">請務必判斷 SAN 如今的最大輸送量，並比較此值，以針對 SAN 在生產環境中預期的負載。</span><span class="sxs-lookup"><span data-stu-id="7d24f-318">It is important to determine the maximum attainable throughput of a SAN and compare this value to the expected load against the SAN in production.</span></span> <span data-ttu-id="7d24f-319">這將有助於避免非預期的 SAN 相關的軟硬體的支出，將您的應用程式從測試/品質保證 (QA) 環境移到生產環境時。</span><span class="sxs-lookup"><span data-stu-id="7d24f-319">This will help prevent unanticipated expenditures for SAN-related hardware when moving your application from a test/quality assurance (QA) environment into a production environment.</span></span> <span data-ttu-id="7d24f-320">比方說，可用的最大輸送量，為 san 可能超過足夠用於您的沙箱化的測試環境中的應用程式。</span><span class="sxs-lookup"><span data-stu-id="7d24f-320">For example, the maximum available throughput for the SAN may be more than sufficient for your application in a sandboxed test environment.</span></span> <span data-ttu-id="7d24f-321">不過，如果其他伺服器應用程式將在生產環境中使用 SAN，可用的 SAN 輸送量可能不足，而且可能成為瓶頸。</span><span class="sxs-lookup"><span data-stu-id="7d24f-321">However, if other server applications will use the SAN in production, available SAN throughput may be insufficient and could become a bottleneck.</span></span>  

 <span data-ttu-id="7d24f-322">當評估 SAN 的效能，請考慮下列各項：</span><span class="sxs-lookup"><span data-stu-id="7d24f-322">When evaluating performance of your SAN, consider the following:</span></span>  

1. <span data-ttu-id="7d24f-323">**什麼是 SAN 的最大如今輸送量？**</span><span class="sxs-lookup"><span data-stu-id="7d24f-323">**What is the maximum attainable throughput of the SAN?**</span></span> <span data-ttu-id="7d24f-324">– 這是使用最小公分母，在伺服器、 交換器 SAN 輸送量和速度的 SAN 控制卡的主機匯流排介面卡 (HBA) 的輸送量方面所測量的。</span><span class="sxs-lookup"><span data-stu-id="7d24f-324">– This is measured using the lowest common denominator, in terms of throughput, of the host bus adapter (HBA) in the server, the Switch-SAN throughput, and the speed of the SAN controller cards.</span></span>  

2. <span data-ttu-id="7d24f-325">**哪些應用程式會使用 SAN 在生產環境中？**</span><span class="sxs-lookup"><span data-stu-id="7d24f-325">**What other applications will use the SAN in production?**</span></span> <span data-ttu-id="7d24f-326">– 請考慮什麼其他應用程式將使用 SAN 在生產環境中。</span><span class="sxs-lookup"><span data-stu-id="7d24f-326">– Consider what other applications will make use of the SAN in the production environment.</span></span> <span data-ttu-id="7d24f-327">如果其他資料庫或其他方式的 I/O 密集型應用程式，例如 Exchange Server 會使用 SAN 在生產環境中，SAN 輸送量可供您執行 BizTalk Server 的電腦數量會跟著降低。</span><span class="sxs-lookup"><span data-stu-id="7d24f-327">If other database or otherwise I/O intensive applications such as Exchange Server will use the SAN in production, the amount of SAN throughput available for your computer running BizTalk Server will be reduced accordingly.</span></span>  

   <span data-ttu-id="7d24f-328">針對實驗室環境中，使用專用的 SAN。</span><span class="sxs-lookup"><span data-stu-id="7d24f-328">For the lab environment, a dedicated SAN was used.</span></span> <span data-ttu-id="7d24f-329">每四個 SQL Server 電腦已連線到 SAN 提供可能的總輸送量，8-Gbps 每一部伺服器的兩個 4 Gbps 主機匯流排介面卡 (Hba)，使用參數。</span><span class="sxs-lookup"><span data-stu-id="7d24f-329">Each of the four SQL Server computers was connected to the SAN switch with two 4-Gbps host bus adapters (HBAs), providing a total potential throughput of 8-Gbps per server.</span></span> <span data-ttu-id="7d24f-330">SAN 有兩個服務處理器，和每個服務處理器已連接至光纖交換器，提供可能的總輸送量，為 16-Gbps 之間的 SAN 和交換器的兩個前端連接埠。</span><span class="sxs-lookup"><span data-stu-id="7d24f-330">The SAN had two service processors, and each service processor had two front-end ports attached to the fiber switch, providing a total potential throughput of 16-Gbps between the SAN and the switch.</span></span>  

   <span data-ttu-id="7d24f-331">每個測試環境中執行 SQL Server 的四部電腦使用下列的 LUN 設定。</span><span class="sxs-lookup"><span data-stu-id="7d24f-331">The following LUN configuration was used for each of the four computers running SQL Server in the test environment.</span></span>  

|<span data-ttu-id="7d24f-332">磁碟機代號</span><span class="sxs-lookup"><span data-stu-id="7d24f-332">Drive letter</span></span>|<span data-ttu-id="7d24f-333">磁碟區名稱</span><span class="sxs-lookup"><span data-stu-id="7d24f-333">Volume name</span></span>|<span data-ttu-id="7d24f-334">檔案</span><span class="sxs-lookup"><span data-stu-id="7d24f-334">Files</span></span>|<span data-ttu-id="7d24f-335">LUN 大小 (GB)</span><span class="sxs-lookup"><span data-stu-id="7d24f-335">LUN size (GB)</span></span>|  
|------------------|-----------------|-----------|---------------------|  
|<span data-ttu-id="7d24f-336">c</span><span class="sxs-lookup"><span data-stu-id="7d24f-336">C</span></span>|<span data-ttu-id="7d24f-337">本機 C 磁碟機</span><span class="sxs-lookup"><span data-stu-id="7d24f-337">Local C drive</span></span>|<span data-ttu-id="7d24f-338">MASTER、 MSDB 和模型</span><span class="sxs-lookup"><span data-stu-id="7d24f-338">MASTER,MSDB, and MODEL</span></span>|<span data-ttu-id="7d24f-339">136</span><span class="sxs-lookup"><span data-stu-id="7d24f-339">136</span></span>|  
|<span data-ttu-id="7d24f-340">H</span><span class="sxs-lookup"><span data-stu-id="7d24f-340">H</span></span>|<span data-ttu-id="7d24f-341">Data_Tempdb</span><span class="sxs-lookup"><span data-stu-id="7d24f-341">Data_Tempdb</span></span>|<span data-ttu-id="7d24f-342">TempDB 資料檔案</span><span class="sxs-lookup"><span data-stu-id="7d24f-342">TempDB data files</span></span>|<span data-ttu-id="7d24f-343">50</span><span class="sxs-lookup"><span data-stu-id="7d24f-343">50</span></span>|  
|<span data-ttu-id="7d24f-344">I</span><span class="sxs-lookup"><span data-stu-id="7d24f-344">I</span></span>|<span data-ttu-id="7d24f-345">Logs_Tempdb</span><span class="sxs-lookup"><span data-stu-id="7d24f-345">Logs_Tempdb</span></span>|<span data-ttu-id="7d24f-346">TempDB 記錄檔</span><span class="sxs-lookup"><span data-stu-id="7d24f-346">TempDB log files</span></span>|<span data-ttu-id="7d24f-347">50</span><span class="sxs-lookup"><span data-stu-id="7d24f-347">50</span></span>|  
|<span data-ttu-id="7d24f-348">J</span><span class="sxs-lookup"><span data-stu-id="7d24f-348">J</span></span>|<span data-ttu-id="7d24f-349">Data_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="7d24f-349">Data_BtsMsgBox</span></span>|<span data-ttu-id="7d24f-350">BizTalk MsgBoxDB 資料檔案 + （位於 Master MsgBox) 管理資料庫，SSO DB DTA 資料庫資料檔案</span><span class="sxs-lookup"><span data-stu-id="7d24f-350">BizTalk MsgBoxDB data files + (on the Master MsgBox) Mgmt DB, SSO DB, DTA DB data files</span></span>|<span data-ttu-id="7d24f-351">120</span><span class="sxs-lookup"><span data-stu-id="7d24f-351">120</span></span>|  
|<span data-ttu-id="7d24f-352">K</span><span class="sxs-lookup"><span data-stu-id="7d24f-352">K</span></span>|<span data-ttu-id="7d24f-353">Logs_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="7d24f-353">Logs_BtsMsgBox</span></span>|<span data-ttu-id="7d24f-354">BizTalk MsgBoxDB 記錄檔 + （位於 Master MsgBox) 管理資料庫、 SSO 資料庫、 DTA DB 記錄檔</span><span class="sxs-lookup"><span data-stu-id="7d24f-354">BizTalk MsgBoxDB log files + (on the Master MsgBox) Mgmt DB, SSO DB, DTA DB log files</span></span>|<span data-ttu-id="7d24f-355">120</span><span class="sxs-lookup"><span data-stu-id="7d24f-355">120</span></span>|  
|<span data-ttu-id="7d24f-356">O</span><span class="sxs-lookup"><span data-stu-id="7d24f-356">O</span></span>|<span data-ttu-id="7d24f-357">Logs_Spare</span><span class="sxs-lookup"><span data-stu-id="7d24f-357">Logs_Spare</span></span>|<span data-ttu-id="7d24f-358">未使用的 SQL 檔案。</span><span class="sxs-lookup"><span data-stu-id="7d24f-358">Not used for SQL files.</span></span> <span data-ttu-id="7d24f-359">用來儲存 DTCLog 檔案，做為 MSDTC 會導致頻繁的磁碟 I/O，尤其是在多個 MessageBox 的環境中。</span><span class="sxs-lookup"><span data-stu-id="7d24f-359">Used to store DTCLog file, as MSDTC cause frequent disk I/O, especially in a multi-MessageBox environment.</span></span>|<span data-ttu-id="7d24f-360">20</span><span class="sxs-lookup"><span data-stu-id="7d24f-360">20</span></span>|  

### <a name="sqlio-test-results"></a><span data-ttu-id="7d24f-361">SQLIO 測試結果</span><span class="sxs-lookup"><span data-stu-id="7d24f-361">SQLIO test results</span></span>  
 <span data-ttu-id="7d24f-362">我們可以用 SQLIO 工具來測量在我們的實驗室環境中使用的儲存區域網路 (SAN) 設定的輸入/輸出容量和效能評定。</span><span class="sxs-lookup"><span data-stu-id="7d24f-362">We used the SQLIO tool to benchmark and measure the Input/Output capacity of the storage area network (SAN) configuration used in our lab environment.</span></span> <span data-ttu-id="7d24f-363">正如其名的工具，SQLIO 是衡量檔案系統 I/O 上的 SQL Server 效能的影響非常有用的工具。</span><span class="sxs-lookup"><span data-stu-id="7d24f-363">As the name of the tool implies, SQLIO is a valuable tool for measuring the impact of file system I/O on SQL Server performance.</span></span> 

<span data-ttu-id="7d24f-364">若要測量的 SQL Server 資料庫應用程式的存放區域網路 (SAN) 組態的輸入/輸出容量，請參閱[分析 I/O 特性和 SQL Server 資料庫應用程式的大小調整儲存體系統](https://msdn.microsoft.com/library/ee410782(SQL.100).aspx)。</span><span class="sxs-lookup"><span data-stu-id="7d24f-364">To measure Input/Output capacity of the storage area network (SAN) configuration for SQL Server database applications, see [Analyzing I/O Characteristics and Sizing Storage Systems for SQL Server Database Applications](https://msdn.microsoft.com/library/ee410782(SQL.100).aspx).</span></span>  

 <span data-ttu-id="7d24f-365">SQLIO 測試中，sqlio.exe 公用程式問題 8k 讀取 8 個執行緒中的要求，並維持 8 個 I/O 佇列深度。</span><span class="sxs-lookup"><span data-stu-id="7d24f-365">For our SQLIO test, the sqlio.exe utility issues 8K read requests from 8 threads and maintain an I/O queue depth of 8.</span></span> <span data-ttu-id="7d24f-366">我們使用下列參數：</span><span class="sxs-lookup"><span data-stu-id="7d24f-366">We used the following parameters:</span></span>  

- <span data-ttu-id="7d24f-367">所有測試都使用 8 個處理執行緒，每一次執行 60 秒。</span><span class="sxs-lookup"><span data-stu-id="7d24f-367">All tests used 8 processing threads, each running for 60 seconds.</span></span>  

- <span data-ttu-id="7d24f-368">8 kb 的隨機寫入的資料檔案。</span><span class="sxs-lookup"><span data-stu-id="7d24f-368">8kb random writes to the data files.</span></span>  

- <span data-ttu-id="7d24f-369">8 kb 的隨機讀取資料檔案。</span><span class="sxs-lookup"><span data-stu-id="7d24f-369">8kb random reads to the data files.</span></span>  

- <span data-ttu-id="7d24f-370">所有檔案的都大小為 25 GB。</span><span class="sxs-lookup"><span data-stu-id="7d24f-370">All files are sized at 25 GB.</span></span>  

- <span data-ttu-id="7d24f-371">磁碟機基準測試結果是以 H、 i:、 j:、 和 K 硬碟。</span><span class="sxs-lookup"><span data-stu-id="7d24f-371">The disk drives to be benchmarked are H:, I:, J:, and  K drive.</span></span>  

  <span data-ttu-id="7d24f-372">使用的 SQLIO 命令列會如下所示：</span><span class="sxs-lookup"><span data-stu-id="7d24f-372">The SQLIO command lines used are follows:</span></span>  

- <span data-ttu-id="7d24f-373">**讀取**: sqlio 韓國-s60 frandom-o8-t8-b8 LS-FParam.txt</span><span class="sxs-lookup"><span data-stu-id="7d24f-373">**For reads**: sqlio -kR -s60 -frandom -o8 -t8 -b8 -LS -FParam.txt</span></span>  

- <span data-ttu-id="7d24f-374">**寫入**: sqlio-千瓦-s60 frandom-o8-t8-b8 LS-FParam.txt</span><span class="sxs-lookup"><span data-stu-id="7d24f-374">**For writes**: sqlio -kW -s60 -frandom -o8 -t8 -b8 -LS -FParam.txt</span></span>  

  <span data-ttu-id="7d24f-375">Param.txt 檔案包含下列內容：</span><span class="sxs-lookup"><span data-stu-id="7d24f-375">The Param.txt file contains the following:</span></span>  

- <span data-ttu-id="7d24f-376">**磁碟機數目：** H、 i:、 j:、 和 K</span><span class="sxs-lookup"><span data-stu-id="7d24f-376">**Number of drives:** H:,I:,J:, and K</span></span>  

- <span data-ttu-id="7d24f-377">**測試檔案的實體位置**:</span><span class="sxs-lookup"><span data-stu-id="7d24f-377">**Physical location of the testing files**:</span></span>  

  -   <span data-ttu-id="7d24f-378">H:\testfile.dat 2 0x0 25000</span><span class="sxs-lookup"><span data-stu-id="7d24f-378">H:\testfile.dat 2 0x0 25000</span></span>  

  -   <span data-ttu-id="7d24f-379">I:\testfile.dat 2 0x0 25000</span><span class="sxs-lookup"><span data-stu-id="7d24f-379">I:\testfile.dat 2 0x0 25000</span></span>  

  -   <span data-ttu-id="7d24f-380">J:\testfile.dat 2 0x0 25000</span><span class="sxs-lookup"><span data-stu-id="7d24f-380">J:\testfile.dat 2 0x0 25000</span></span>  

  -   <span data-ttu-id="7d24f-381">K:\testfile.dat 2 0x0 25000</span><span class="sxs-lookup"><span data-stu-id="7d24f-381">K:\testfile.dat 2 0x0 25000</span></span>  

  <span data-ttu-id="7d24f-382">下表列出的測試結果：</span><span class="sxs-lookup"><span data-stu-id="7d24f-382">The following table lists the test results:</span></span>  

- <span data-ttu-id="7d24f-383">從 25 GB 測試檔案，同時在 Lun H，i:，j:，k: (用於所有資料庫檔案的 Lun) 上的 8 KB 的隨機讀取</span><span class="sxs-lookup"><span data-stu-id="7d24f-383">8 KB random reads from 25 GB test files simultaneously on LUNs H:, I:, J:, K: (the LUNs used for all of our database files)</span></span>  

  ###  

  | <span data-ttu-id="7d24f-384">每秒 (IOs/sec) 的輸入/輸出作業</span><span class="sxs-lookup"><span data-stu-id="7d24f-384">Input/Output operations per second (IOs/sec)</span></span> | <span data-ttu-id="7d24f-385">Mb / 秒 （Mb/秒）</span><span class="sxs-lookup"><span data-stu-id="7d24f-385">Megabytes per second (MBs/Sec)</span></span> | <span data-ttu-id="7d24f-386">平均延遲</span><span class="sxs-lookup"><span data-stu-id="7d24f-386">Average Latency</span></span> |
  |----------------------------------------------|--------------------------------|-----------------|
  |                   <span data-ttu-id="7d24f-387">10662.67</span><span class="sxs-lookup"><span data-stu-id="7d24f-387">10662.67</span></span>                   |             <span data-ttu-id="7d24f-388">83.30</span><span class="sxs-lookup"><span data-stu-id="7d24f-388">83.30</span></span>              |      <span data-ttu-id="7d24f-389">5 毫秒</span><span class="sxs-lookup"><span data-stu-id="7d24f-389">5 ms</span></span>       |


- <span data-ttu-id="7d24f-390">8 KB 的隨機寫入 25 GB 測試檔案，同時在 Lun H，i:，j:，k: (用於所有資料庫檔案的 Lun) 上</span><span class="sxs-lookup"><span data-stu-id="7d24f-390">8 KB random writes to 25 GB test files simultaneously on LUNs H:, I:, J:, K: (the LUNs used for all of our database files)</span></span>  

  ###  

  |<span data-ttu-id="7d24f-391">每秒 (IOs/sec) 的輸入/輸出作業</span><span class="sxs-lookup"><span data-stu-id="7d24f-391">Input/Output operations per second (IOs/sec)</span></span>|<span data-ttu-id="7d24f-392">Mb / 秒 （Mb/秒）</span><span class="sxs-lookup"><span data-stu-id="7d24f-392">Megabytes per second (MBs/Sec)</span></span>|<span data-ttu-id="7d24f-393">平均延遲</span><span class="sxs-lookup"><span data-stu-id="7d24f-393">Average Latency</span></span>|  
  |------------------------------------------------------|---------------------------------------|---------------------|  
  |<span data-ttu-id="7d24f-394">31527.95</span><span class="sxs-lookup"><span data-stu-id="7d24f-394">31527.95</span></span>|<span data-ttu-id="7d24f-395">246.31</span><span class="sxs-lookup"><span data-stu-id="7d24f-395">246.31</span></span>|<span data-ttu-id="7d24f-396">1 ms</span><span class="sxs-lookup"><span data-stu-id="7d24f-396">1 ms</span></span>|  

## <a name="see-also"></a><span data-ttu-id="7d24f-397">另請參閱</span><span class="sxs-lookup"><span data-stu-id="7d24f-397">See Also</span></span>  
 [<span data-ttu-id="7d24f-398">調整生產 BizTalk Server 環境</span><span class="sxs-lookup"><span data-stu-id="7d24f-398">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)