---
title: 請務必測試的原因 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ce91aca5-56d3-4fb8-abe2-af0039804706
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a74f22813f9752f82985d2e984f5effeb3208e6e
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37009167"
---
# <a name="why-it-is-important-to-test"></a><span data-ttu-id="dd4e2-102">要測試的重要性</span><span class="sxs-lookup"><span data-stu-id="dd4e2-102">Why It Is Important to Test</span></span>
<span data-ttu-id="dd4e2-103">本主題提供概略說明心態上沒有足夠的測試，說明無法測試 BizTalk 解決方案的相關風險，以及比對的手動測試的自動化測試優點陷阱。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-103">This topic provides an overview of the mindset that leads to insufficient testing, describes the risks associated with failing to test BizTalk solutions, and contrasts the pitfalls of manual testing with the benefits of automated testing.</span></span>  
  
## <a name="testing-as-overhead"></a><span data-ttu-id="dd4e2-104">測試 「 負擔 」</span><span class="sxs-lookup"><span data-stu-id="dd4e2-104">Testing as “overhead”</span></span>  
 <span data-ttu-id="dd4e2-105">不幸的是，與不斷增加的投資回報率 (ROI) 需求，專案的測試階段是經常會看到第一個部分可以是專案計劃的隨相應的上一步。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-105">Unfortunately, with ever increasing demands for return on investment (ROI), the testing phase of a project is often seen as one of the first aspects of a project plan that can be scaled back.</span></span>  
  
 <span data-ttu-id="dd4e2-106">針對測試 BizTalk 解決方案的一個引數是 「 我們不需要測試我們的解決方案，因為 Microsoft 已經徹底測試 BizTalk Server。 」</span><span class="sxs-lookup"><span data-stu-id="dd4e2-106">One argument against testing BizTalk solutions is that “We don’t need to test our solution because Microsoft already thoroughly tests BizTalk Server.”</span></span> <span data-ttu-id="dd4e2-107">不同的使用案例，則為 true，Microsoft 徹底測試 BizTalk Server 時，輸送量、 高可用性、 配接器使用狀況、 延遲、 追蹤需求，需要其中一個幾乎無數的商務需求的排列數目協調流程使用方式，以及自訂程式碼。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-107">While it is true that Microsoft does thoroughly test BizTalk Server, different usage scenarios require one of an almost countless number of permutations of business requirements for throughput, high availability, adapter usage, latency, tracking requirements, orchestration usage, and custom code.</span></span> <span data-ttu-id="dd4e2-108">BizTalk Server 極具彈性，而且可以容納許多不同的使用案例，因為它不只能夠預測，並測試所有人都。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-108">Because BizTalk Server is extremely flexible and can accommodate so many different usage scenarios, it is simply not possible to anticipate and test all of them.</span></span> <span data-ttu-id="dd4e2-109">此外，BizTalk Server 環境中套用的預設設定應該最佳化，可容納每個使用案例。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-109">Furthermore, the default settings that are applied in a BizTalk Server environment should be optimized to accommodate each usage scenario.</span></span> <span data-ttu-id="dd4e2-110">判斷特定使用案例的最佳設定的唯一方式是測試方案、 測量各種不同的參數，調整環境，並重新測試。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-110">The only way to determine the optimal settings for a particular usage scenario is to test the solution, measure various parameters, tune the environment, and retest.</span></span> <span data-ttu-id="dd4e2-111">請考慮下列圖表描述 BizTalk Server 解決方案的範例實體架構。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-111">Consider the following diagram, which depicts a sample physical architecture for a BizTalk Server solution.</span></span>  
  
 <span data-ttu-id="dd4e2-112">![BizTalk Server 部署架構](../technical-guides/media/5359cf00-e285-4168-a988-8d3b677eb6ba.gif "5359cf00-e285-4168-a988-8d3b677eb6ba")</span><span class="sxs-lookup"><span data-stu-id="dd4e2-112">![Architecture of a BizTalk Server deployment](../technical-guides/media/5359cf00-e285-4168-a988-8d3b677eb6ba.gif "5359cf00-e285-4168-a988-8d3b677eb6ba")</span></span>  
<span data-ttu-id="dd4e2-113">實體 BizTalk 架構範例</span><span class="sxs-lookup"><span data-stu-id="dd4e2-113">Sample Physical BizTalk Architecture</span></span>  
  
 <span data-ttu-id="dd4e2-114">您可以看到在其上方圖表中的 BizTalk Server 解決方案包含許多移動組件，包括多部電腦執行 BizTalk Server 中，執行 SQL Server、 伺服器叢集節點，以及 Active Directory 網域的電腦。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-114">You can see in the diagram above that the BizTalk Server solution contains many moving parts, including multiple computers running BizTalk Server, computers running SQL Server, server cluster nodes, and Active Directory domains.</span></span> <span data-ttu-id="dd4e2-115">系統已啟動並執行之後，將會套用至最佳化每個商務需求，對於整體解決方案的 ROI 最大化應用程式的許多設定調整。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-115">After the system is up and running, there will be many configuration tweaks applied to optimize the application per the business requirements,  as to maximize the overall ROI of the solution.</span></span> <span data-ttu-id="dd4e2-116">此單一案例會示範在 play 中有許多變數。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-116">This single scenario shows that there are many variables in play.</span></span> <span data-ttu-id="dd4e2-117">除了實體環境的架構，請考慮下列圖表說明透過 BizTalk Server 訊息的流程。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-117">In addition to the physical architecture of the environment, consider the following diagram, which depicts the flow of a message through BizTalk Server.</span></span>  
  
 <span data-ttu-id="dd4e2-118">![透過 BizTalk Server 訊息的流程](../technical-guides/media/dea79a42-5f60-49a1-abdb-870988784ffe.gif "dea79a42-5f60-49a1-abdb-870988784ffe")</span><span class="sxs-lookup"><span data-stu-id="dd4e2-118">![Flow of a message through BizTalk Server](../technical-guides/media/dea79a42-5f60-49a1-abdb-870988784ffe.gif "dea79a42-5f60-49a1-abdb-870988784ffe")</span></span>  
<span data-ttu-id="dd4e2-119">範例 BizTalk 的邏輯訊息流程</span><span class="sxs-lookup"><span data-stu-id="dd4e2-119">Sample Logical BizTalk Message Flow</span></span>  
  
 <span data-ttu-id="dd4e2-120">當我們查看的訊息通過 BizTalk Server 的邏輯圖時，我們會看到其他需要測試每個專案，包括自訂傳送和接收管線元件，您可以從 BizTalk 協調流程呼叫的自訂類別的變數。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-120">When we look at the logical diagram of a message flowing through BizTalk Server, we see other variables that necessitate per-project testing, including custom send and receive pipeline components and custom classes that can be called from BizTalk orchestrations.</span></span> <span data-ttu-id="dd4e2-121">假設的型別複雜性和使用自訂的元件和 BizTalk 元件各有不同的專案對專案，會變得更加明顯極為重要來執行測試，每個特定使用實例的原因。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-121">Given that the type complexity and use of custom components and BizTalk components varies from project to project, it becomes more evident why it is important to perform testing for each specific usage scenario.</span></span>  
  
## <a name="testing-methodology-and-timelines"></a><span data-ttu-id="dd4e2-122">測試方法與時間軸</span><span class="sxs-lookup"><span data-stu-id="dd4e2-122">Testing methodology and timelines</span></span>  
 <span data-ttu-id="dd4e2-123">若要確保有效率而有效地測試執行，測試控管應該能完全自動化，並且讓它輕鬆地重現的人為疏失的機會降到最低。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-123">To ensure testing is performed effectively and efficiently, the test harness should be fully automated so it is easily reproducible and minimizes the chance for human error.</span></span> <span data-ttu-id="dd4e2-124">此外，應配置足夠的時間，測試計劃專案時。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-124">Additionally, adequate time should be allotted for testing when planning the project.</span></span> <span data-ttu-id="dd4e2-125">若要測試最簡單的方法，但是構成如下所示的手動步驟：</span><span class="sxs-lookup"><span data-stu-id="dd4e2-125">A minimalist approach to testing would comprise manual steps similar to the following:</span></span>  
  
1. <span data-ttu-id="dd4e2-126">手動載入接收結束點，例如檔案的卸除，或使用 SOAP 用戶端來呼叫 Web 服務的一個或多個訊息。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-126">Manually load one or more messages into a receive end point, such as a file drop or by using a SOAP client to call a Web service.</span></span>  
  
2. <span data-ttu-id="dd4e2-127">手動驗證正確的內容和訊息的結構。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-127">Manually validate the correct content and structure of a message.</span></span> <span data-ttu-id="dd4e2-128">多個結構描述通常會出現在專案中的因為訊息可能會混用一般檔案和 XML，而且可能也會包含欄位交互相依性。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-128">Because multiple schemas are often present in a project, the messages may be a mixture of flat file and XML and may also contain cross field dependencies.</span></span>  
  
   > [!NOTE]  
   >  <span data-ttu-id="dd4e2-129">這個範例會涉及 SWIFT 訊息的任何專案。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-129">An example of this would be any project involving SWIFT messages.</span></span> <span data-ttu-id="dd4e2-130">這些是具有欄位交互相依性的一般檔案訊息。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-130">These are flat file messages that have cross field dependencies.</span></span> <span data-ttu-id="dd4e2-131">也就是一個欄位的值取決於另一個-簡單的 XSD 驗證將不會做因此 SWIFT 加速器會使用 BizTalk 規則引擎以進行驗證的訊息。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-131">That is, one field’s value depends on another – simple XSD validation will not do here; hence the SWIFT Accelerator makes use of the BizTalk Rules Engine for validation of the messages.</span></span> <span data-ttu-id="dd4e2-132">如需詳細資訊[SWIFT 加速器](http://go.microsoft.com/fwlink/?LinkID=79657)，請參閱[SWIFT 加速器](http://go.microsoft.com/fwlink/?LinkID=79657)(http://go.microsoft.com/fwlink/?LinkID=79657)。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-132">For more information about the [SWIFT Accelerator](http://go.microsoft.com/fwlink/?LinkID=79657), see [SWIFT Accelerator](http://go.microsoft.com/fwlink/?LinkID=79657) (http://go.microsoft.com/fwlink/?LinkID=79657).</span></span>  
  
3. <span data-ttu-id="dd4e2-133">手動檢查有錯誤的 BizTalk Server 電腦上的事件日誌。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-133">Manually check the event logs on the BizTalk Server computers for errors.</span></span>  
  
4. <span data-ttu-id="dd4e2-134">手動檢查 BAM 資料庫 （如果使用） 以驗證活動的資訊正確的記錄。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-134">Manually check the BAM databases (if used) to validate that activity information is recorded correctly.</span></span>  
  
   <span data-ttu-id="dd4e2-135">使用手動程序，如上面所述，測試是主觀又容易出錯。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-135">Using a manual process as described above for testing is subjective and error prone.</span></span> <span data-ttu-id="dd4e2-136">請考慮需要檢查幾百行 SWIFT 訊息與跨欄位的 10 個不同的測試案例的相依性。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-136">Consider having to examine a hundred line SWIFT message with cross field dependencies for 10 different test cases.</span></span> <span data-ttu-id="dd4e2-137">大部分的專案不能以開發人員，或即使它們，就不比較傾向於穩定且更精確地參與這類工作。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-137">Most project developers would not be able to or even if they were able, would not be inclined to engage in such a task reliably and accurately.</span></span> <span data-ttu-id="dd4e2-138">主觀、 手動錯誤容易發生測試程序的實作新增至專案的風險，並增加的失敗機率。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-138">Implementation of a subjective, manual, error prone testing process adds risk to a project and increases the chance of failure.</span></span>  
  
   <span data-ttu-id="dd4e2-139">專案計劃不包含足夠的時間進行測試的時間軸通常是而擴大失敗的風險。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-139">The risk of failure is often amplified by project planning timelines that do not incorporate sufficient time for testing.</span></span> <span data-ttu-id="dd4e2-140">常常策略鉸鏈上即是單一的手動測試通過的測試專案會排定一週推出的日期之前。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-140">All too often, a project testing strategy hinges on a single manual test pass which is scheduled a week or so before the go-live date.</span></span> <span data-ttu-id="dd4e2-141">這種有限的測試會有風險的專案。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-141">Such limited testing places the project at risk.</span></span> <span data-ttu-id="dd4e2-142">如果偵測到任何問題，請進行測試，提供這種有限的時間軸，然後專案可能會延遲因為已經沒有時間分配以修正問題。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-142">Given such a limited timeline for testing, if any problems are detected, then the project may be delayed because no time has been allotted to fix problems.</span></span> <span data-ttu-id="dd4e2-143">此外，如果問題是發現並修正，有可能不足，無法在系統上線之前，請執行後續的測試進行剩餘的時間。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-143">Furthermore, if a problem is discovered and fixed, there may be insufficient time left to perform subsequent test passes before the system goes live.</span></span>  
  
   <span data-ttu-id="dd4e2-144">"單一的最終建置，單一測試通過，take 專案 live"的測試時，它通常會導致延遲的專案、 預算或更糟，將專案、 專案完全失敗 ！</span><span class="sxs-lookup"><span data-stu-id="dd4e2-144">The reality of “single final build, single test pass, take the project live” testing is that it often results in the project being delayed, the project going over budget, or even worse, the project failing completely!</span></span> <span data-ttu-id="dd4e2-145">對於關鍵任務系統，這種測試方法會是注定發生災難。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-145">For mission critical systems, this sort of testing methodology is a disaster waiting to happen.</span></span>  
  
## <a name="testing-effectively-and-efficiently"></a><span data-ttu-id="dd4e2-146">測試有效的方式</span><span class="sxs-lookup"><span data-stu-id="dd4e2-146">Testing effectively and efficiently</span></span>  
 <span data-ttu-id="dd4e2-147">適當測試通常視為昂貴的 luxury，而不是整數類資料的需求，因為它會常常附加在專案結尾結束。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-147">Because appropriate testing is often viewed as an expensive luxury rather than a integral requirement, it is all too often tacked on at the tail end of a project.</span></span> <span data-ttu-id="dd4e2-148">指定用於異質性企業環境中的軟體和硬體堆疊的複雜性，這個方法會變得不切實際。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-148">Given the complexity of the software and hardware stack used within heterogeneous enterprise environments, this approach is unrealistic.</span></span> <span data-ttu-id="dd4e2-149">可以依需求重新執行自動化的測試方法的實作是測試有效且有效率的最佳方式，也是最終的商業提供絕佳的投資報酬率的成功完成專案不可或缺的元件。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-149">Implementation of an automated test approach that can be re-run on demand is the best way to test effectively and efficiently and is an integral component of successful projects that ultimately deliver an excellent ROI to the business.</span></span> <span data-ttu-id="dd4e2-150">藉由投資在整個系統的每個程式碼路徑的完整端對端功能測試中的專案開始，您會產生測試資產。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-150">By investing at the beginning of the project in full end-to-end functional tests for each code path through the system you are generating test assets.</span></span> <span data-ttu-id="dd4e2-151">這些資產需要投資 （也就是開發時間），以便稍後獲得增加測試的成效與效率的優勢。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-151">These assets require investment (i.e. development time) in order to reap the benefits of increased testing effectiveness and efficiency later.</span></span> <span data-ttu-id="dd4e2-152">若要從專案才能衍生這類架構的投資降到最低，我們建議您利用 Visual Studio 2010 負載測試架構。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-152">To minimize the investment that is needed from the project to derive such a framework we recommend that you utilize the Visual Studio 2010 load test framework.</span></span> <span data-ttu-id="dd4e2-153">Visual Studio 2010 包含大部分的測試成功所需的通用測試步驟，是在本指南中稍後提供的測試案例中使用的架構。</span><span class="sxs-lookup"><span data-stu-id="dd4e2-153">Visual Studio 2010 includes the majority of the common testing steps required for successful testing and is the framework used in the test scenarios presented later in this guide.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd4e2-154">另請參閱</span><span class="sxs-lookup"><span data-stu-id="dd4e2-154">See Also</span></span>  
 [<span data-ttu-id="dd4e2-155">實作自動化的測試</span><span class="sxs-lookup"><span data-stu-id="dd4e2-155">Implementing Automated Testing</span></span>](../technical-guides/implementing-automated-testing.md)