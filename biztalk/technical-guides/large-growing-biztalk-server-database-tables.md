---
title: 大型成長的資料庫資料表 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f30372f7-ab90-4ebb-9022-ac3ae3309459
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e2feec96967e385272145a2c41ecff320c4c9851
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37023012"
---
# <a name="large-growing-biztalk-server-database-tables"></a><span data-ttu-id="18bd0-102">日益成長的 BizTalk Server 資料庫資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-102">Large-growing BizTalk Server Database Tables</span></span>
<span data-ttu-id="18bd0-103">下表列出[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]通常成長的最大的資料表。</span><span class="sxs-lookup"><span data-stu-id="18bd0-103">The following table lists the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tables that typically grow the largest.</span></span> <span data-ttu-id="18bd0-104">您可以使用這項資料來判斷潛在的問題可能存在的位置。</span><span class="sxs-lookup"><span data-stu-id="18bd0-104">You can use this data to determine where a potential problem may exist.</span></span>  

## <a name="tables-list"></a><span data-ttu-id="18bd0-105">資料表清單</span><span class="sxs-lookup"><span data-stu-id="18bd0-105">Tables list</span></span>

|                               <span data-ttu-id="18bd0-106">Table</span><span class="sxs-lookup"><span data-stu-id="18bd0-106">Table</span></span>                                |                                                                                     <span data-ttu-id="18bd0-107">描述</span><span class="sxs-lookup"><span data-stu-id="18bd0-107">Description</span></span>                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="18bd0-108">註解</span><span class="sxs-lookup"><span data-stu-id="18bd0-108">Comments</span></span>                                                                                                                                                                                                                                                                                                                                                                                  |
|--------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    <span data-ttu-id="18bd0-109">*HostNameQ*_Suspended 資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-109">*HostNameQ*_Suspended table</span></span>                     | <span data-ttu-id="18bd0-110">此資料表包含多工緩衝處理資料表中特定的主控件擱置的執行個體相關聯的訊息的參考。</span><span class="sxs-lookup"><span data-stu-id="18bd0-110">This table contains a reference to messages in the Spool table that are associated with suspended instances for the particular host.</span></span> <span data-ttu-id="18bd0-111">此資料表是 BizTalkMsgBoxDb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-111">This table is in the BizTalkMsgBoxDb database.</span></span> |                                                                                                                                                <span data-ttu-id="18bd0-112">如果*HostNameQ*_Suspended 資料表有多筆記錄，資料表無法包含有效擱置的執行個體中出現**群組中樞**頁面。</span><span class="sxs-lookup"><span data-stu-id="18bd0-112">If the *HostNameQ*_Suspended tables have many records, the tables could be containing valid suspended instances that appear in the **Group Hub** page.</span></span> <span data-ttu-id="18bd0-113">您可以終止這些執行個體。</span><span class="sxs-lookup"><span data-stu-id="18bd0-113">You can terminate these instances.</span></span> <span data-ttu-id="18bd0-114">如果中看不到這些執行個體會**群組中樞**，執行個體可能會快取執行個體或孤立的路由失敗報告。</span><span class="sxs-lookup"><span data-stu-id="18bd0-114">If these instances do not appear in the **Group Hub**, the instances are probably caching instances or orphaned routing failure reports.</span></span> <span data-ttu-id="18bd0-115">當您終止擱置的執行個體時，您清除這個資料表中的項目和其相關聯的資料列中的多工緩衝處理和執行個體資料表。</span><span class="sxs-lookup"><span data-stu-id="18bd0-115">When you terminate suspended instances, you clean up the items in this table and their associated rows in the Spool and Instances tables.</span></span>                                                                                                                                                |
|                         <span data-ttu-id="18bd0-116">*HostNameQ*資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-116">*HostNameQ* table</span></span>                          |  <span data-ttu-id="18bd0-117">此資料表包含多工緩衝處理資料表中特定的主控件相關聯，就不會擱置訊息的參考。</span><span class="sxs-lookup"><span data-stu-id="18bd0-117">This table contains a reference to messages in the Spool table that are associated with the particular host and are not suspended.</span></span> <span data-ttu-id="18bd0-118">此資料表是 BizTalkMsgBoxDb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-118">This table is in the BizTalkMsgBoxDb database.</span></span>  |                                                                                                                  <span data-ttu-id="18bd0-119">如果*HostNameQ*資料表有多筆記錄，可能存在下列類型的執行個體：</span><span class="sxs-lookup"><span data-stu-id="18bd0-119">If the *HostNameQ* tables have many records, the following kinds of instances may exist:</span></span><br /><br /> <span data-ttu-id="18bd0-120">已準備好-隨選執行個體</span><span class="sxs-lookup"><span data-stu-id="18bd0-120">-   Ready-to-run instances</span></span><br /><span data-ttu-id="18bd0-121">-Active 執行個體</span><span class="sxs-lookup"><span data-stu-id="18bd0-121">-   Active instances</span></span><br /><span data-ttu-id="18bd0-122">-已凍結的執行個體</span><span class="sxs-lookup"><span data-stu-id="18bd0-122">-   Dehydrated instances</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="18bd0-123"> 需要 「 趕上 」，並處理執行個體的時間。</span><span class="sxs-lookup"><span data-stu-id="18bd0-123"> needs time to "catch up" and process the instances.</span></span> <span data-ttu-id="18bd0-124">此表格可成長時處理內送速率 outpaces 處理外寄速率。</span><span class="sxs-lookup"><span data-stu-id="18bd0-124">This table can grow when the incoming rate of processing outpaces the outgoing rate of processing.</span></span> <span data-ttu-id="18bd0-125">這種情況下也可能是因為大型 BizTalkDTADb 資料庫或 SQL Server 磁碟延遲。</span><span class="sxs-lookup"><span data-stu-id="18bd0-125">This scenario can also occur due to large BizTalkDTADb database or SQL Server disk delays.</span></span>                                                                                                                  |
|                 <span data-ttu-id="18bd0-126">多工緩衝處理、 組件和片段的資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-126">Spool, Parts, and Fragments tables</span></span>                 |                                                       <span data-ttu-id="18bd0-127">這些資料表會儲存在 BizTalkMsgBoxDb 資料庫中實際訊息資料。</span><span class="sxs-lookup"><span data-stu-id="18bd0-127">These tables store actual message data in the BizTalkMsgBoxDb database.</span></span>                                                       |                                                                                                                                                                                      <span data-ttu-id="18bd0-128">凍結，或已暫止，則需要表示大量訊息的多筆記錄的多工緩衝處理、 組件和片段資料表會是目前使用中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-128">The Spool, Parts, and Fragments tables having many records imply that there are a large number of messages are currently active, dehydrated, or suspended.</span></span> <span data-ttu-id="18bd0-129">根據大小、 組件的數目和這些資料表中的分散程度設定，單一訊息可能會產生所有這些資料表。</span><span class="sxs-lookup"><span data-stu-id="18bd0-129">Depending on the size, the number of parts, and the fragmentation settings in these tables, a single message may spawn all these tables.</span></span> <span data-ttu-id="18bd0-130">每個訊息會有多工緩衝處理資料表中的一個資料列以及在 Parts 資料表至少一個資料列。</span><span class="sxs-lookup"><span data-stu-id="18bd0-130">Each message has exactly one row in the Spool table and at least one row in the Parts table.</span></span>                                                                                                                                                                                      |
|                          <span data-ttu-id="18bd0-131">執行個體資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-131">Instances table</span></span>                           |                                              <span data-ttu-id="18bd0-132">此資料表會儲存在 BizTalkMsgBoxDb 資料庫中所有執行個體和其目前的狀態。</span><span class="sxs-lookup"><span data-stu-id="18bd0-132">This table stores all instances and their current status in the BizTalkMsgBoxDb database.</span></span>                                              |                                                                                                                                                                                         <span data-ttu-id="18bd0-133">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]系統管理員不應該允許保留的執行個體資料表在許多暫停的執行個體。</span><span class="sxs-lookup"><span data-stu-id="18bd0-133">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrator should not allow for many suspended instances to remain in the Instances table.</span></span> <span data-ttu-id="18bd0-134">如果商務邏輯需要長時間執行的協調流程，應只會保留許多凍結的執行個體。</span><span class="sxs-lookup"><span data-stu-id="18bd0-134">Many dehydrated instances should only remain if the business logic requires long-running orchestrations.</span></span> <span data-ttu-id="18bd0-135">請記住，有一個服務執行個體可以與多工緩衝處理資料表中的許多訊息相關聯。</span><span class="sxs-lookup"><span data-stu-id="18bd0-135">Remember that one service instance can be associated with many messages in the Spool table.</span></span>                                                                                                                                                                                          |
|                  <span data-ttu-id="18bd0-136">TrackingData<em>_x_x</em>資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-136">TrackingData<em>_x_x</em> table</span></span>                   |            <span data-ttu-id="18bd0-137">此資料表會追蹤的事件儲存在 BizTalkMsgBoxDb 資料庫的追蹤資料解碼 Service (TDDS) 將事件移到 BizTalkDTADb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-137">This table stores the tracked events in the BizTalkMsgBoxDb database for Tracking Data Decode Service (TDDS) to move the events to the BizTalkDTADb database.</span></span>            |                                                                                                                                                                                                                                                             <span data-ttu-id="18bd0-138">如果 TrackingData_*x_x*資料表很大，可能是 TDDS 未執行，或未成功執行。</span><span class="sxs-lookup"><span data-stu-id="18bd0-138">If the TrackingData_*x_x* tables are large, either the TDDS is not running or is not running successfully.</span></span> <span data-ttu-id="18bd0-139">如果 TDDS 正在執行，請檢閱事件記錄檔和 TDDS_FailedTrackingData 資料表取得的錯誤資訊，BizTalkDTADb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-139">If the TDDS is running, review the event logs and the TDDS_FailedTrackingData table in the BizTalkDTADb database for error information.</span></span>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="18bd0-140">Tracking_Fragments*x*，Tracking_Parts*x*，Tracking_Spool*x*資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-140">Tracking_Fragments*x*, Tracking_Parts*x*, Tracking_Spool*x* tables</span></span> |                             <span data-ttu-id="18bd0-141">每一個資料表的兩個是 BizTalkMsgBoxDb 和 BizTalkDTADb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-141">Two of each of these tables is in the BizTalkMsgBoxDb and BizTalkDTADb databases.</span></span> <span data-ttu-id="18bd0-142">其中一個已上線，而且另一個則是離線。</span><span class="sxs-lookup"><span data-stu-id="18bd0-142">One is online, and the other is offline.</span></span>                              |                                                                                                                                                                                                                                                                                                           <span data-ttu-id="18bd0-143">**TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server Agent 作業的追蹤的訊息內文會直接移至 BizTalkDTADb 資料庫中的這些資料表。</span><span class="sxs-lookup"><span data-stu-id="18bd0-143">The **TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server Agent job moves tracked message bodies directly to these tables in the BizTalkDTADb database.</span></span>                                                                                                                                                                                                                                                                                                            |
|                     <span data-ttu-id="18bd0-144">dta_ServiceInstances 資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-144">dta_ServiceInstances table</span></span>                     |                                                <span data-ttu-id="18bd0-145">此資料表會儲存在 BizTalkDTADb 資料庫中的服務執行個體的追蹤的事件。</span><span class="sxs-lookup"><span data-stu-id="18bd0-145">This table stores tracked events for service instances in the BizTalkDTADb database.</span></span>                                                 |                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="18bd0-146">此資料表很大，BizTalkDTADb 資料庫使用時間可能大。</span><span class="sxs-lookup"><span data-stu-id="18bd0-146">If this table is large, the BizTalkDTADb database is probably large.</span></span>                                                                                                                                                                                                                                                                                                                                                    |
|                        <span data-ttu-id="18bd0-147">dta_DebugTrace 資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-147">dta_DebugTrace table</span></span>                        |                                                  <span data-ttu-id="18bd0-148">此資料表會儲存在 BizTalkDTADb 資料庫中的協調流程偵錯工具事件。</span><span class="sxs-lookup"><span data-stu-id="18bd0-148">This table stores the Orchestration debugger events in the BizTalkDTADb database.</span></span>                                                  | <span data-ttu-id="18bd0-149">如果 dta_DebugTrace 資料表有多筆記錄，追蹤的協調流程圖形正在使用，或所使用。</span><span class="sxs-lookup"><span data-stu-id="18bd0-149">If the dta_DebugTrace table has many records, orchestration shape tracking is being used or was being used.</span></span> <span data-ttu-id="18bd0-150">如果協調流程偵錯並不需要正常運作，停用追蹤所有的協調流程的協調流程圖形。</span><span class="sxs-lookup"><span data-stu-id="18bd0-150">If orchestration debugging is not required for regular operations, disable orchestration shape tracking for all orchestrations.</span></span> <span data-ttu-id="18bd0-151">如果已停用追蹤的協調流程圖形 BizTalkMsgBoxDb 資料庫中的待處理項目存在，dta_DebugTrace 資料表可能繼續成長，因為 TDDS 會繼續將此資料移至 dta_DebugTrace 資料表。</span><span class="sxs-lookup"><span data-stu-id="18bd0-151">If orchestration shape tracking is already disabled and a backlog exists in the BizTalkMsgBoxDb database, the dta_DebugTrace table may continue to grow because TDDS continues to move this data into the dta_DebugTrace table.</span></span><br /><br /> <span data-ttu-id="18bd0-152">若要控制 BizTalkDTADb 追蹤資料庫的大小，您可以選擇停用全域追蹤。</span><span class="sxs-lookup"><span data-stu-id="18bd0-152">To control the size of the BizTalkDTADb tracking database, you may choose to disable global tracking.</span></span> <span data-ttu-id="18bd0-153">請參閱[如何關閉全域追蹤](../core/how-to-turn-off-global-tracking.md)並[追蹤資料庫大小的指導方針](../core/tracking-database-sizing-guidelines.md)。</span><span class="sxs-lookup"><span data-stu-id="18bd0-153">See [How to Turn Off Global Tracking](../core/how-to-turn-off-global-tracking.md) and [Tracking Database Sizing Guidelines](../core/tracking-database-sizing-guidelines.md).</span></span> |
|                    <span data-ttu-id="18bd0-154">dta_MessageInOutEvents 資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-154">dta_MessageInOutEvents table</span></span>                    |                      <span data-ttu-id="18bd0-155">此資料表會追蹤的事件訊息儲存在 BizTalkDTADb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-155">This table stores tracked event messages in the BizTalkDTADb database.</span></span> <span data-ttu-id="18bd0-156">這些追蹤的事件訊息包含訊息內容資訊。</span><span class="sxs-lookup"><span data-stu-id="18bd0-156">These tracked event messages include message context information.</span></span>                       |                                                                                                                                                      <span data-ttu-id="18bd0-157">如果太大 dta_DebugTrace dta_MessageInOutEvents 資料表及 BizTalkTrackingDb 資料庫中，您可以截斷資料表手動之後停止追蹤主控件。</span><span class="sxs-lookup"><span data-stu-id="18bd0-157">If the dta_DebugTrace table and the dta_MessageInOutEvents table in the BizTalkTrackingDb database are too large, you can truncate the tables manually after you stop the tracking host.</span></span> <span data-ttu-id="18bd0-158">如需有關如何截斷資料表時，指示，請參閱中的 「 dta_DebugTrace 資料表 」 詳細資料[KB 952555： 如何維護和疑難排解 BizTalk Server 資料庫](https://support.microsoft.com/help/952555/how-to-maintain-and-troubleshoot-biztalk-server-databases)。</span><span class="sxs-lookup"><span data-stu-id="18bd0-158">For instructions on how to truncate the tables, see the "dta_DebugTrace table" details in [KB 952555: How to maintain and troubleshoot BizTalk Server databases](https://support.microsoft.com/help/952555/how-to-maintain-and-troubleshoot-biztalk-server-databases).</span></span>                                                                                                                                                       |
|                <span data-ttu-id="18bd0-159">dta_ServiceInstanceExceptions 資料表</span><span class="sxs-lookup"><span data-stu-id="18bd0-159">dta_ServiceInstanceExceptions table</span></span>                 |                                        <span data-ttu-id="18bd0-160">此資料表會儲存任何已擱置的服務執行個體的錯誤資訊，BizTalkDTADb 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="18bd0-160">This table stores error information for any suspended service instance in the BizTalkDTADb database.</span></span>                                         |                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="18bd0-161">通常，dta_ServiceInstanceExceptions 資料表變得太定期已暫止執行個體的環境狀態。</span><span class="sxs-lookup"><span data-stu-id="18bd0-161">The dta_ServiceInstanceExceptions table typically becomes large in an environment that regularly has suspended instances.</span></span>                                                                                                                                                                                                                                                                                                                          |

