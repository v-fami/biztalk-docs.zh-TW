---
title: "訊息考量 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 5ca466fa-426c-46f6-a400-747ff51ff8f4
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5499c9535ff822dfec8097185ef17d8d7999e1f5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="message-considerations"></a><span data-ttu-id="d88c3-102">訊息的考量</span><span class="sxs-lookup"><span data-stu-id="d88c3-102">Message Considerations</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="d88c3-103">提供傳送、 接收、 轉換和處理訊息的一組廣泛的功能。</span><span class="sxs-lookup"><span data-stu-id="d88c3-103"> provides an extensive set of capabilities for sending, receiving, transforming, and processing messages.</span></span> <span data-ttu-id="d88c3-104">這些功能包括：</span><span class="sxs-lookup"><span data-stu-id="d88c3-104">Some of these capabilities include:</span></span>  
  
-   <span data-ttu-id="d88c3-105">傳送和接收訊息使用的多個產業標準傳輸例如 HTTP、 SMTP、 FTP/FTPS 和 WCF 的功能。</span><span class="sxs-lookup"><span data-stu-id="d88c3-105">Ability to send and receive messages using multiple industry standard transports such as HTTP, SMTP, FTP/FTPS  and WCF.</span></span> <span data-ttu-id="d88c3-106">使用完成的傳送和接收訊息的傳輸層級支援[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]配接器。</span><span class="sxs-lookup"><span data-stu-id="d88c3-106">Transport level support for sending and receiving messages is accomplished using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] adapters.</span></span> <span data-ttu-id="d88c3-107">整合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]訊息處理的各種 「 商務營運 」 (LOB) 應用程式使用其中許多可用來完成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]作用的快速鍵或配接器，例如 BizTalk Accelerator for HIPAA，BizTalk Accelerator for SWIFT或 SAP BizTalk 配接器。</span><span class="sxs-lookup"><span data-stu-id="d88c3-107">Integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message processing with various “line of business” (LOB) applications is accomplished using one of many available [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] accelerators or adapters, such as the BizTalk Accelerator for HIPAA, BizTalk Accelerator for SWIFT, or the BizTalk SAP adapter.</span></span> <span data-ttu-id="d88c3-108">這些快速鍵和配接器符合業界標準依次適用於直接整合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，以符合特定的業界標準的系統。</span><span class="sxs-lookup"><span data-stu-id="d88c3-108">These accelerators and adapters conform to industry standards which in turn accommodates straightforward integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with systems that conform to particular industry standard.</span></span>  
  
-   <span data-ttu-id="d88c3-109">處理多個訊息格式，例如純文字、 XML、 二進位和其他人的能力。</span><span class="sxs-lookup"><span data-stu-id="d88c3-109">Ability to process multiple message formats, such as plain text, XML, binary, and others.</span></span> <span data-ttu-id="d88c3-110">這項功能非常重要提供的整合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]相當廣泛的交易夥伴使用。</span><span class="sxs-lookup"><span data-stu-id="d88c3-110">This functionality is crucial to providing integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a broad spectrum of trading partners.</span></span>  
  
-   <span data-ttu-id="d88c3-111">訊息轉換或文件對應的支援。</span><span class="sxs-lookup"><span data-stu-id="d88c3-111">Support for message transformation or document mapping.</span></span> <span data-ttu-id="d88c3-112">對應可容納資料不同的結構描述之間的轉換。</span><span class="sxs-lookup"><span data-stu-id="d88c3-112">Mapping accommodates the transformation of data between different schemas.</span></span> <span data-ttu-id="d88c3-113">例如，對應可用於將收到的客戶訂單的內容轉換成接收具有已傳送的通知送回給客戶。</span><span class="sxs-lookup"><span data-stu-id="d88c3-113">For example, mapping could be used to transform the contents of a received customer purchase order into a receipt with shipping notification to be sent back to the customer.</span></span>  
  
-   <span data-ttu-id="d88c3-114">BizTalk Server 協調流程會提供建立跨越時間、 組織、 應用程式與人員的商務程序的功能。</span><span class="sxs-lookup"><span data-stu-id="d88c3-114">BizTalk Server orchestrations provide functionality for creating business processes that span time, organizations, applications, and people.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="d88c3-115">提供的協調流程設計師 」 圖形化介面來開發商務程序包含交易 （傳統 「 不可部分完成 」 的 MSDTC 型別和長時間執行），支援例外狀況處理、 偵錯、 追蹤，以及用於呼叫擴充性外部程式碼。</span><span class="sxs-lookup"><span data-stu-id="d88c3-115"> provides the Orchestration Designer graphical interface to develop business processes that include support for transactions (both traditional “atomic” MSDTC type and long running), exception handling, debugging, tracking, and extensibility for calling external code.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d88c3-116">請參閱[最佳化協調流程效能](../technical-guides/optimizing-orchestration-performance.md)如需有關使用中的協調流程時要遵循的最佳作法指導[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d88c3-116">See [Optimizing Orchestration Performance](../technical-guides/optimizing-orchestration-performance.md) for guidance about best practices to follow when using orchestrations in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="d88c3-117">請參閱主題[協調流程使用協調流程設計師建立](http://go.microsoft.com/fwlink/?LinkId=158997)(http://go.microsoft.com/fwlink/?LinkId=158997) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文件，如需使用協調流程設計師 」 的深入資訊。</span><span class="sxs-lookup"><span data-stu-id="d88c3-117">See the topic [Creating Orchestrations Using Orchestration Designer](http://go.microsoft.com/fwlink/?LinkId=158997) (http://go.microsoft.com/fwlink/?LinkId=158997) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation for in-depth information about using Orchestration Designer.</span></span>  
  
 <span data-ttu-id="d88c3-118">本主題的其餘部分說明與中處理訊息的大小、 複雜度和發佈設定檔相關的效能考量[!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="d88c3-118">The remainder of this topic describes performance considerations related to the size, complexity, and distribution profile of messages that are processed in a [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] environment.</span></span>  
  
## <a name="message-size-considerations"></a><span data-ttu-id="d88c3-119">訊息大小的考量</span><span class="sxs-lookup"><span data-stu-id="d88c3-119">Message size considerations</span></span>  
 <span data-ttu-id="d88c3-120">BizTalk Server 不會限制訊息大小，而實際限制與相依性可能會要求您的訊息大小降到最低，因為大型訊息需要較多處理資源。</span><span class="sxs-lookup"><span data-stu-id="d88c3-120">While BizTalk Server imposes no restriction on message size, practical limits and dependencies might require you to minimize the size of your messages because large messages require more processing resources.</span></span> <span data-ttu-id="d88c3-121">做為訊息大小增加，整體輸送量 （每秒處理的訊息） 則會減少。</span><span class="sxs-lookup"><span data-stu-id="d88c3-121">As message size increases, overall throughput (messages processed per second) decreases.</span></span> <span data-ttu-id="d88c3-122">當設計您的案例及規劃容量，請考慮平均訊息大小、 訊息類型以及 BizTalk Server 處理的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="d88c3-122">When designing your scenario and planning for capacity, consider the average message size, message type, and number of messages BizTalk Server processes.</span></span> <span data-ttu-id="d88c3-123">請勿使用不必要地過長的屬性和標記名稱。可能的話，請保留在 50 個字元長度。</span><span class="sxs-lookup"><span data-stu-id="d88c3-123">Do not use unnecessarily long attribute and tag names; if possible, keep the length under 50 characters.</span></span> <span data-ttu-id="d88c3-124">例如，請勿選取 只有 1 個位元組的訊息大小的 200 個字元的標記名稱。</span><span class="sxs-lookup"><span data-stu-id="d88c3-124">For example, do not use a 200-character tag name for a message size of only 1 byte.</span></span>  
  
 <span data-ttu-id="d88c3-125">如果接收訊息的記憶體中大小超過指定的大型訊息分割大小 （可在 BizTalk Server 管理主控台中的 BizTalk 群組的群組屬性 頁面上設定） 的位元組數目，訊息會分割成片段指定的大小。</span><span class="sxs-lookup"><span data-stu-id="d88c3-125">If the in-memory size of a received message exceeds the number of bytes specified for the Large message fragment size (configurable on the Group Properties page for the BizTalk Group in the BizTalk Server Administration console), the message is split into fragments of the specified size.</span></span> <span data-ttu-id="d88c3-126">此外，片段會寫入至 Messagebox 的 Microsoft Distributed Transaction Coordinator (MSDTC) 交易內容下，如下所示：</span><span class="sxs-lookup"><span data-stu-id="d88c3-126">Additionally, the fragments are written into the Messagebox under the context of a Microsoft Distributed Transaction Coordinator (MSDTC) transaction as follows:</span></span>  
  
1.  <span data-ttu-id="d88c3-127">如果內送訊息正在現有 MSDTC 交易的內容中發行，寫入 BizTalk MessageBox 資料庫中的訊息片段時使用此交易。</span><span class="sxs-lookup"><span data-stu-id="d88c3-127">If the incoming message is being published in the context of an existing MSDTC transaction, this transaction is used when writing the message fragments to the BizTalk MessageBox database.</span></span> <span data-ttu-id="d88c3-128">例如，如果內送訊息由設定為必要交易的交易配接器發佈，在現有的交易時，會使用訊息分割寫入 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="d88c3-128">For example, if the incoming message is being published by a transactional adapter configured to require transactions, the existing transaction would be used when writing the message fragments to the MessageBox database.</span></span>  
  
2.  <span data-ttu-id="d88c3-129">如果不在現有 MSDTC 交易的內容中發佈內送訊息，將訊息分割寫入 MessageBox 資料庫建立新的 MSDTC 交易。</span><span class="sxs-lookup"><span data-stu-id="d88c3-129">If the incoming message is not being published in the context of an existing MSDTC transaction, a new MSDTC transaction is created to write the message fragments to the MessageBox database.</span></span> <span data-ttu-id="d88c3-130">在此案例中，適用下列考量：</span><span class="sxs-lookup"><span data-stu-id="d88c3-130">In this scenario, the following considerations apply:</span></span>  
  
    -   <span data-ttu-id="d88c3-131">增加的值**大型訊息分割大小**減少頻率與大型訊息片段化並減少建立關聯的 MSDTC 交易的發生率。</span><span class="sxs-lookup"><span data-stu-id="d88c3-131">Increase the value for **Large message fragment size** to reduce the frequency with which large messages are fragmented and reduce the incidence of creating the associated MSDTC transactions.</span></span> <span data-ttu-id="d88c3-132">您應該執行此動作，因為從效能觀點來看，過度使用 MSDTC 交易的代價很高。</span><span class="sxs-lookup"><span data-stu-id="d88c3-132">This should be done because excessive use of MSDTC transactions is expensive from a performance standpoint.</span></span> <span data-ttu-id="d88c3-133">請注意，增加此值也可能增加使用的可用記憶體量。</span><span class="sxs-lookup"><span data-stu-id="d88c3-133">Note that increasing this value may also increase the amount of available memory that is used.</span></span>  
  
    -   <span data-ttu-id="d88c3-134">如果花費超過最大可允許 MSDTC 交易逾時的 60 分鐘的時間才能將訊息寫入 MessageBox，異動會逾時，發生錯誤，而且嘗試將訊息寫入失敗，而是回復。</span><span class="sxs-lookup"><span data-stu-id="d88c3-134">If it takes longer than the maximum allowable MSDTC transaction timeout of 60 minutes to write a message to the MessageBox, the transaction times out, an error occurs, and the attempt to write the message fails and is rolled back.</span></span> <span data-ttu-id="d88c3-135">**大型訊息分割大小**值應該增加足夠處理非常大型的訊息時，避免發生這個問題。</span><span class="sxs-lookup"><span data-stu-id="d88c3-135">The **Large message fragment size** value should be increased enough to avoid this problem when processing very large messages.</span></span> <span data-ttu-id="d88c3-136">視可用的記憶體而定，此值最多可增加到 1000000 個位元組的值。</span><span class="sxs-lookup"><span data-stu-id="d88c3-136">Depending on available memory, this value should be increased up to a maximum value of 1000000 bytes.</span></span>  
  
    -   <span data-ttu-id="d88c3-137">訊息中的每個訊息分割都會對 MessageBox 資料庫建立一或多個 SQL Server 資料庫鎖定。</span><span class="sxs-lookup"><span data-stu-id="d88c3-137">Each message fragment in a message creates one or more SQL Server database locks against the MessageBox database.</span></span> <span data-ttu-id="d88c3-138">當鎖定數目超過數十萬時，很可能在 SQL Server 將會產生 「 鎖定不足 」 錯誤。</span><span class="sxs-lookup"><span data-stu-id="d88c3-138">When the number of locks exceeds several hundred thousand, it is possible that SQL Server will generate “out of lock” errors.</span></span> <span data-ttu-id="d88c3-139">如果發生這個問題，增加的值**大型訊息分割大小**来減少片段的數目 （這會降低對 MessageBox 資料庫的 SQL Server 資料庫鎖定數目），或考慮外罩您在 64 位元版本的 SQL Server 上的 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="d88c3-139">If this problem occurs, increase the value for **Large message fragment size** to reduce the number of fragments (which decreases the number of SQL Server database locks made against the MessageBox database) or consider housing your MessageBox database on a 64-bit version of SQL Server.</span></span> <span data-ttu-id="d88c3-140">可用鎖定數目是明顯較嚴重的 32 位元版本的 SQL Server 上比 SQL Server 的 64 位元版本上。</span><span class="sxs-lookup"><span data-stu-id="d88c3-140">The number of available locks is significantly higher on the 64-bit version of SQL Server than on a 32-bit version of SQL Server.</span></span> <span data-ttu-id="d88c3-141">下列公式可用來估計每個交換的訊息數目上限，MessageBox 資料庫就會放在 32 位元版本的 SQL Server 上時：</span><span class="sxs-lookup"><span data-stu-id="d88c3-141">The following formula can be used to estimate the maximum number of messages per interchange when the MessageBox database is housed on a 32-bit version of SQL Server:</span></span>  
  
        ```  
        200,000 / (Number of CPUs * BatchSize * MessagingThreadPoolSize)  
        ```  
  
 <span data-ttu-id="d88c3-142">如需有關 BizTalk Server 如何處理大型訊息，包括下列方針： 處理大型訊息，請參閱[如何 BizTalk Server 處理大型訊息](http://go.microsoft.com/fwlink/?LinkID=154680)(http://go.microsoft.com/fwlink/?LinkID=154680)。</span><span class="sxs-lookup"><span data-stu-id="d88c3-142">For more information about how BizTalk Server processes large messages, including guidelines for processing large messages, see [How BizTalk Server Processes Large Messages](http://go.microsoft.com/fwlink/?LinkID=154680) (http://go.microsoft.com/fwlink/?LinkID=154680).</span></span>  
  
## <a name="message-type-considerations"></a><span data-ttu-id="d88c3-143">訊息類型考量</span><span class="sxs-lookup"><span data-stu-id="d88c3-143">Message type considerations</span></span>  
 <span data-ttu-id="d88c3-144">訊息接收至 BizTalk Server 中有兩種主要格式： XML 檔或一般檔案。</span><span class="sxs-lookup"><span data-stu-id="d88c3-144">Messages are received into BizTalk Server in one of two primary formats: XML files or flat files.</span></span> <span data-ttu-id="d88c3-145">訊息類型應該一律納入訊息發佈設定檔因為不同的資源需求的 XML 和一般檔案訊息。</span><span class="sxs-lookup"><span data-stu-id="d88c3-145">Message type should always be factored into the message distribution profile because of the varying resource requirements of XML and flat file messages.</span></span>  
  
-   <span data-ttu-id="d88c3-146">**XML 檔案**為了讓 BizTalk Server 可以執行任何處理以外傳遞路由訊息，訊息必須是 XML 檔案格式。</span><span class="sxs-lookup"><span data-stu-id="d88c3-146">**XML files** In order for BizTalk Server to perform any processing on a message other than pass-through routing, the message must be in the XML file format.</span></span>  
  
-   <span data-ttu-id="d88c3-147">**一般檔案**一般檔案必須剖析成 XML 格式，BizTalk Server 才能執行任何處理，而不傳遞路由。</span><span class="sxs-lookup"><span data-stu-id="d88c3-147">**Flat files** Flat files must be parsed into an XML format before BizTalk Server can perform any processing other than pass-through routing.</span></span> <span data-ttu-id="d88c3-148">將一般檔案剖析為 XML 檔案會大幅增加檔案大小。</span><span class="sxs-lookup"><span data-stu-id="d88c3-148">Parsing a flat file into an XML file can greatly increase the size of the file.</span></span> <span data-ttu-id="d88c3-149">一般檔案不包含 XML 標記及其資料的描述性資訊。</span><span class="sxs-lookup"><span data-stu-id="d88c3-149">Flat files do not contain XML tags with descriptive information about their data.</span></span> <span data-ttu-id="d88c3-150">XML 檔案，相反地，包裝其所有資料中描述的 XML 標記。</span><span class="sxs-lookup"><span data-stu-id="d88c3-150">XML files, on the other hand, wrap all of their data in descriptive XML tags.</span></span> <span data-ttu-id="d88c3-151">在某些情況下，剖析可以增加的大小一般檔案中之檔案的 XML 標記包含 10 個或以上，取決於描述性資料多寡倍。</span><span class="sxs-lookup"><span data-stu-id="d88c3-151">In some scenarios, parsing can increase the size of a flat file by a factor of 10 or more, depending on how much descriptive data is contained in the XML tags for the file.</span></span>  
  
-   <span data-ttu-id="d88c3-152">**一般檔案文件包裝在 XML 文件中單一 CDATA 區段節點**這種類型的文件是 XML 和一般檔案的組合，通常是需要大量記憶體，因為 BizTalk Server 必須載入整個包裝成一般檔案文件處理它之前的記憶體。</span><span class="sxs-lookup"><span data-stu-id="d88c3-152">**Flat file documents wrapped in a single CDATA section node in an XML document** This type of document is a combination of both XML and flat file, and is often memory-intensive, since BizTalk Server must load the entire wrapped flat file document into memory before processing it.</span></span>  
  
## <a name="overload-considerations"></a><span data-ttu-id="d88c3-153">多載考量</span><span class="sxs-lookup"><span data-stu-id="d88c3-153">Overload considerations</span></span>  
 <span data-ttu-id="d88c3-154">大部分的 BizTalk Server 應用程式不會收到訊息特定的固定的速率。</span><span class="sxs-lookup"><span data-stu-id="d88c3-154">Most BizTalk Server applications do not receive messages at a specific, constant rate.</span></span> <span data-ttu-id="d88c3-155">一般而言，訊息處理受限於尖峰和低峰期。</span><span class="sxs-lookup"><span data-stu-id="d88c3-155">Typically, message processing is subject to peaks and valleys.</span></span> <span data-ttu-id="d88c3-156">例如線上銀行應用程式可能會處理更大量的郵件首先在早上，然後在中間天，並在一天結束時。</span><span class="sxs-lookup"><span data-stu-id="d88c3-156">, For example, an online banking application may process a higher volume of messages first thing in the morning, then during the middle of the day, and at the end of the day.</span></span> <span data-ttu-id="d88c3-157">BizTalk Server 解決方案應該經過測試，以確保它們能能夠處理這些多載案例。</span><span class="sxs-lookup"><span data-stu-id="d88c3-157">BizTalk Server solutions should be tested to ensure that they will be able to handle these overload scenarios.</span></span> <span data-ttu-id="d88c3-158">若要判斷 BizTalk Server 方案可以處理多載案例程度，您應該決定 BizTalk Server 解決方案的最大持續輸送量 (MST)。</span><span class="sxs-lookup"><span data-stu-id="d88c3-158">To determine how well a BizTalk Server solution can handle overload scenarios, the maximum sustainable throughput (MST) of the BizTalk Server solution should be determined.</span></span> <span data-ttu-id="d88c3-159">MST 是在生產環境中的系統可無限處理的訊息流量的最高負載。</span><span class="sxs-lookup"><span data-stu-id="d88c3-159">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="d88c3-160">如需 MST 的詳細資訊，請參閱[規劃維持效能](http://go.microsoft.com/fwlink/?LinkID=158065)(http://go.microsoft.com/fwlink/?LinkID=158065) 和[何謂持續性效能？](http://go.microsoft.com/fwlink/?LinkID=132304)</span><span class="sxs-lookup"><span data-stu-id="d88c3-160">For more information about MST, see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkID=158065) (http://go.microsoft.com/fwlink/?LinkID=158065) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkID=132304)</span></span> <span data-ttu-id="d88c3-161">(http://go.microsoft.com/fwlink/?LinkID=132304) 中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文件。</span><span class="sxs-lookup"><span data-stu-id="d88c3-161">(http://go.microsoft.com/fwlink/?LinkID=132304) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>  
  
## <a name="schema-complexity"></a><span data-ttu-id="d88c3-162">結構描述複雜度</span><span class="sxs-lookup"><span data-stu-id="d88c3-162">Schema complexity</span></span>  
 <span data-ttu-id="d88c3-163">結構描述複雜度會影響訊息剖析 （特別是一般檔案剖析） 的輸送量。</span><span class="sxs-lookup"><span data-stu-id="d88c3-163">The throughput for message parsing (especially flat-file parsing) is affected by the complexity of the schemas.</span></span> <span data-ttu-id="d88c3-164">當結構描述複雜度增加，則會減少整體效能。</span><span class="sxs-lookup"><span data-stu-id="d88c3-164">As schema complexity increases, overall performance decreases.</span></span> <span data-ttu-id="d88c3-165">在設計結構描述時，減少節點名稱的長度，然後移至結構描述頂端的 升級的屬性。</span><span class="sxs-lookup"><span data-stu-id="d88c3-165">When designing schemas, reduce the length of node names, and move promoted properties to the top of the schema.</span></span> <span data-ttu-id="d88c3-166">這可減少擷取時間，並藉此提升效能。</span><span class="sxs-lookup"><span data-stu-id="d88c3-166">This reduces retrieval time and thereby increases performance.</span></span>  
  
## <a name="map-complexity"></a><span data-ttu-id="d88c3-167">對應複雜度</span><span class="sxs-lookup"><span data-stu-id="d88c3-167">Map complexity</span></span>  
 <span data-ttu-id="d88c3-168">根據對應的複雜度，對應 」 轉換可以是需要大量資源。</span><span class="sxs-lookup"><span data-stu-id="d88c3-168">Depending on the complexity of the maps, map transformation can be resource-intensive.</span></span> <span data-ttu-id="d88c3-169">為對應的複雜度增加，整體效能會降低。</span><span class="sxs-lookup"><span data-stu-id="d88c3-169">As map complexity increases, overall performance decreases.</span></span> <span data-ttu-id="d88c3-170">若要改善整體效能，最小化連結與運算質用於您的對應，特別是呼叫外部資源，例如 「 資料庫尋查 」 運算質的運算質的數目。</span><span class="sxs-lookup"><span data-stu-id="d88c3-170">To improve overall performance, minimize the number of links and functoids used in your maps, especially functoids that call external resources such as the DB Lookup functoid.</span></span>  
  
## <a name="flat-file-parsing-considerations"></a><span data-ttu-id="d88c3-171">一般檔案剖析的考量</span><span class="sxs-lookup"><span data-stu-id="d88c3-171">Flat-file parsing considerations</span></span>  
 <span data-ttu-id="d88c3-172">一般檔案剖析的效能造成最高的影響力的兩個因素是檔案大小和結構描述複雜度。</span><span class="sxs-lookup"><span data-stu-id="d88c3-172">The two factors that have the highest impact on the performance of flat-file parsing are file size and schema complexity.</span></span> <span data-ttu-id="d88c3-173">模稜兩可的結構描述是結構描述，其中包含許多選擇性欄位。</span><span class="sxs-lookup"><span data-stu-id="d88c3-173">An ambiguous schema is a schema that contains many optional fields.</span></span> <span data-ttu-id="d88c3-174">大型檔案的大小使用時，具有許多選擇性欄位的結構描述會降低效能，因為較大的檔案可能符合的結構描述的不同分支。</span><span class="sxs-lookup"><span data-stu-id="d88c3-174">When large file sizes are used, a schema with many optional fields can degrade performance because larger files may match different branches of the schema.</span></span> <span data-ttu-id="d88c3-175">結構描述複雜度會將較不會影響對比在更大的檔案較小的檔案。</span><span class="sxs-lookup"><span data-stu-id="d88c3-175">Schema complexity has less impact on smaller files than on larger files.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d88c3-176">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d88c3-176">See Also</span></span>  
 [<span data-ttu-id="d88c3-177">最佳化 BizTalk Server 應用程式</span><span class="sxs-lookup"><span data-stu-id="d88c3-177">Optimizing BizTalk Server Applications</span></span>](../technical-guides/optimizing-biztalk-server-applications.md)