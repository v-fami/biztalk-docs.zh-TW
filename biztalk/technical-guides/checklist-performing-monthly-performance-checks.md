---
title: 檢查清單： 執行每月效能檢查 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: fa103777-af4d-480d-abc7-3c4718f493c1
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3e580b95288ec7ac23be93d99c56c3cfc781374c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36992527"
---
# <a name="checklist-performing-monthly-performance-checks"></a><span data-ttu-id="d8965-102">檢查清單： 執行每月效能檢查</span><span class="sxs-lookup"><span data-stu-id="d8965-102">Checklist: Performing Monthly Performance Checks</span></span>
<span data-ttu-id="d8965-103">本主題列出您應該遵循以避免發生效能問題的每月為基礎的最佳作法[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]系統。</span><span class="sxs-lookup"><span data-stu-id="d8965-103">This topic lists best practices that you should follow on a monthly basis to avoid performance issues with a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span>  


|                                     <span data-ttu-id="d8965-104">步驟</span><span class="sxs-lookup"><span data-stu-id="d8965-104">Steps</span></span>                                     |                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="d8965-105">參考</span><span class="sxs-lookup"><span data-stu-id="d8965-105">Reference</span></span>                                                                                                                                                                                                                                                                                                                              |
|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          <span data-ttu-id="d8965-106">判斷您要追蹤計劃期間所需的資訊</span><span class="sxs-lookup"><span data-stu-id="d8965-106">Determine the information you need to track during planning</span></span>          |       <span data-ttu-id="d8965-107">您應該在規劃階段決定需要追蹤哪些資訊，如此在您部署專案之後便可設定追蹤選項，並限制追蹤資料量，僅取得您所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="d8965-107">You should decide during the planning stages which information you need to track, so that after you deploy the project you can set the tracking options and limit the amount of tracked data to give you only the information you need.</span></span> <span data-ttu-id="d8965-108">**附註：** 如需與追蹤相關的最佳作法的詳細資訊，請參閱[規劃追蹤](../technical-guides/planning-for-tracking.md)本指南中並[健全狀況與活動追蹤](http://go.microsoft.com/fwlink/?LinkId=154187)(<http://go.microsoft.com/fwlink/?LinkId=154187>) 在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]文件。</span><span class="sxs-lookup"><span data-stu-id="d8965-108">**Note:**  For more information about best practices related to tracking, see [Planning for Tracking](../technical-guides/planning-for-tracking.md) in this guide and [Health and Activity Tracking](http://go.microsoft.com/fwlink/?LinkId=154187) (<http://go.microsoft.com/fwlink/?LinkId=154187>) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>        |
|                           <span data-ttu-id="d8965-109">不會追蹤所有訊息</span><span class="sxs-lookup"><span data-stu-id="d8965-109">Do not track all messages</span></span>                           |                                                                                                                                                    <span data-ttu-id="d8965-110">我們建議您，您不會追蹤所有訊息，因為每次觸及訊息時，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]會建立另一個複本。</span><span class="sxs-lookup"><span data-stu-id="d8965-110">We recommend that you not track all messages, because each time a message is touched, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] makes another copy.</span></span> <span data-ttu-id="d8965-111">您可以改為縮小範圍，藉由追蹤特定連接埠。</span><span class="sxs-lookup"><span data-stu-id="d8965-111">You can instead narrow the scope by tracking only a specific port.</span></span> <span data-ttu-id="d8965-112">這有助於您系統的效能最大化，並保持資料庫的整齊。</span><span class="sxs-lookup"><span data-stu-id="d8965-112">This helps to maximize the performance of your system and to keep the databases uncluttered.</span></span>                                                                                                                                                     |
|                  <span data-ttu-id="d8965-113">不要追蹤 」 的協調流程的所有事件</span><span class="sxs-lookup"><span data-stu-id="d8965-113">Do not track all events for orchestrations</span></span>                   |                                                                                                                                                                          <span data-ttu-id="d8965-114">追蹤之協調流程的所有事件，可能會增加 dta_DebugTrace 和 dta_MessageInoutEvents 資料表的大小。</span><span class="sxs-lookup"><span data-stu-id="d8965-114">Tracking all events for an orchestration might increase the size of dta_DebugTrace and dta_MessageInoutEvents tables.</span></span> <span data-ttu-id="d8965-115">如需有關如何停用協調流程的追蹤的相關指示，請參閱[若要停用協調流程的追蹤](../technical-guides/how-to-disable-tracking.md#BKMK_DisableOrchTracking)。</span><span class="sxs-lookup"><span data-stu-id="d8965-115">For instructions on how to disable tracking for an orchestration, see [To disable tracking for an orchestration](../technical-guides/how-to-disable-tracking.md#BKMK_DisableOrchTracking).</span></span>                                                                                                                                                                           |
|     <span data-ttu-id="d8965-116">設定追蹤傳送埠和接收埠而不是在管線</span><span class="sxs-lookup"><span data-stu-id="d8965-116">Set tracking on send ports and receive ports instead of on a pipeline</span></span>     |                                                                                                                                                                         <span data-ttu-id="d8965-117">如果您設定在管線的追蹤選項時，您也會設定每個管線所使用的連接埠的全域追蹤選項。</span><span class="sxs-lookup"><span data-stu-id="d8965-117">If you set tracking options on pipelines, you will also set the tracking options globally for every port that uses the pipeline.</span></span> <span data-ttu-id="d8965-118">這接著可能會導致更多正在追蹤資料比您想，這將會變慢系統效能。</span><span class="sxs-lookup"><span data-stu-id="d8965-118">This in turn may result in far more data being tracked than you intend, which will slow system performance.</span></span> <span data-ttu-id="d8965-119">相反地，您可以設定追蹤選項，傳送連接埠和接收埠。</span><span class="sxs-lookup"><span data-stu-id="d8965-119">Instead, you can set tracking options on send ports and receive ports.</span></span>                                                                                                                                                                         |
|                <span data-ttu-id="d8965-120">調整節流根據資源使用量</span><span class="sxs-lookup"><span data-stu-id="d8965-120">Adjust throttling based on resource utilization</span></span>                |     <span data-ttu-id="d8965-121">中的節流[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]提供完善的保護系統的預設設定。</span><span class="sxs-lookup"><span data-stu-id="d8965-121">Throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is configured by default to provide good protection for the system.</span></span> <span data-ttu-id="d8965-122">監視效能計數器，瞭解節流狀態，請參閱是否正在進行節流，然後自行測量節流的資源為基礎 （例如，資料庫大小或記憶體使用量） 低於或使用量過高，然後再調整節流臨界值增加，或隨之減少。</span><span class="sxs-lookup"><span data-stu-id="d8965-122">Monitor the performance counters for throttling states to see if throttling is taking place, then gauge for yourself if the resource on which throttling is based (for example, database size or memory usage) is under or overutilized, and then adjust the throttling thresholds up or down accordingly.</span></span> <span data-ttu-id="d8965-123">如需詳細資訊，請參閱 <<c0> [ 調整節流閾值： 何時和為何](http://go.microsoft.com/fwlink/?LinkId=154188)(<http://go.microsoft.com/fwlink/?LinkId=154188>)。</span><span class="sxs-lookup"><span data-stu-id="d8965-123">For more information, see [Adjusting Throttling Thresholds: When and Why](http://go.microsoft.com/fwlink/?LinkId=154188) (<http://go.microsoft.com/fwlink/?LinkId=154188>).</span></span>     |
|                 <span data-ttu-id="d8965-124">如果可能，請使用 PassThruTransmit 管線</span><span class="sxs-lookup"><span data-stu-id="d8965-124">Use the PassThruTransmit pipeline if possible</span></span>                 |                                                                                                                                                                                                                                                       <span data-ttu-id="d8965-125">如果任何文件處理不需要傳送訊息至其目的地之前，請使用 PassThruTransmit 管線，而不是 XML 傳送管線。</span><span class="sxs-lookup"><span data-stu-id="d8965-125">If no document processing is required before sending a message to its destination, use the PassThruTransmit pipeline instead of the XML send pipeline.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="d8965-126">請考慮各種因素，當您調整 BizTalk 追蹤資料庫的大小</span><span class="sxs-lookup"><span data-stu-id="d8965-126">Take into account various factors when you size the BizTalk Tracking database</span></span> | <span data-ttu-id="d8965-127">-當調整 BizTalk 追蹤資料庫的大小，請藉由將計算的緊急應變乘數考量 SQL Server 的因素，例如索引大小。</span><span class="sxs-lookup"><span data-stu-id="d8965-127">-   When sizing the BizTalk Tracking database, account for SQL Server factors, such as index size, by adding a contingency multiplier to your calculations.</span></span><br /><span data-ttu-id="d8965-128">-在決定 BizTalk 追蹤資料庫中的訊息大小，請加入訊息內容的平均大小的訊息大小很重要，如果相較於訊息大小。</span><span class="sxs-lookup"><span data-stu-id="d8965-128">-   When determining the size of messages in the BizTalk Tracking database, add the average size of the message context to the message size if it is significant compared to the message size.</span></span><br /><span data-ttu-id="d8965-129">-若要限制 BizTalk 追蹤資料庫中的訊息大小，限制您將升級的屬性數目。</span><span class="sxs-lookup"><span data-stu-id="d8965-129">-   To limit the size of messages in the BizTalk Tracking database, limit the number of properties that you promote.</span></span><br /><span data-ttu-id="d8965-130">-如果啟用協調流程偵錯工具選項時，考慮到協調流程中的每個圖形的狀態儲存在 「 BizTalk 追蹤資料庫中。</span><span class="sxs-lookup"><span data-stu-id="d8965-130">-   If the orchestration debugger option is enabled, take into account that the status of each shape in the orchestration is saved in the BizTalk Tracking database.</span></span> |
|               <span data-ttu-id="d8965-131">套用硬體解決方案，以避免磁碟爭用</span><span class="sxs-lookup"><span data-stu-id="d8965-131">Apply hardware solutions to avoid disk contention</span></span>               |           <span data-ttu-id="d8965-132">若要避免磁碟爭用情況，MessageBox 資料庫中的，執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="d8965-132">To avoid disk contention in the MessageBox database, do the following:</span></span><br /><br /> <span data-ttu-id="d8965-133">-使用高速的磁碟</span><span class="sxs-lookup"><span data-stu-id="d8965-133">-   Use high-speed disks</span></span><br /><span data-ttu-id="d8965-134">部署在高速 SAN 上的資料庫</span><span class="sxs-lookup"><span data-stu-id="d8965-134">-   Deploy the databases on a high-speed SAN</span></span><br /><span data-ttu-id="d8965-135">-區隔到追蹤資料庫不同的專用伺服器上的 MessageBox 資料庫</span><span class="sxs-lookup"><span data-stu-id="d8965-135">-   Separate the MessageBox database onto a dedicated server that is separate from the tracking databases</span></span><br /><span data-ttu-id="d8965-136">-相應增加的 Cpu，並將更多的 Cpu 加入至專用的 MessageBox 資料庫伺服器</span><span class="sxs-lookup"><span data-stu-id="d8965-136">-   Scale up the CPUs and add more CPUs to the dedicated MessageBox database server</span></span><br /><span data-ttu-id="d8965-137">-將分頁檔和/或 MSDTC 記錄移至另一個磁碟機</span><span class="sxs-lookup"><span data-stu-id="d8965-137">-   Move the PageFile and/or MSDTC log to a separate drive</span></span><br /><br /> <span data-ttu-id="d8965-138">如需有關如何避免資料庫爭用的詳細資訊，請參閱[如何避免磁碟爭用](http://go.microsoft.com/fwlink/?LinkId=158809)(<http://go.microsoft.com/fwlink/?LinkId=158809>)。</span><span class="sxs-lookup"><span data-stu-id="d8965-138">For more information about avoiding database contention, see [How to Avoid Disk Contention](http://go.microsoft.com/fwlink/?LinkId=158809) (<http://go.microsoft.com/fwlink/?LinkId=158809>).</span></span>           |

## <a name="see-also"></a><span data-ttu-id="d8965-139">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d8965-139">See Also</span></span>  
 <span data-ttu-id="d8965-140">[例行性效能檢查清單](../technical-guides/routine-performance-checklists.md) </span><span class="sxs-lookup"><span data-stu-id="d8965-140">[Routine Performance Checklists](../technical-guides/routine-performance-checklists.md) </span></span>  
 [<span data-ttu-id="d8965-141">檢查清單：執行每週效能檢查</span><span class="sxs-lookup"><span data-stu-id="d8965-141">Checklist: Performing Weekly Performance Checks</span></span>](../technical-guides/checklist-performing-weekly-performance-checks.md)