---
title: 規劃高可用性和災害復原 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a7efba36-6d9c-4ae0-a4f5-893eb5d62a05
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 817840971deeb05aa4dd916a27e4e04e4322e750
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36967575"
---
# <a name="planning-for-high-availability-and-disaster-recovery"></a><span data-ttu-id="7760a-102">規劃高可用性和災害復原</span><span class="sxs-lookup"><span data-stu-id="7760a-102">Planning for High Availability and Disaster Recovery</span></span>
<span data-ttu-id="7760a-103">解決方案開發[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]通常會需要最大可用性的任務關鍵性企業級應用程式。</span><span class="sxs-lookup"><span data-stu-id="7760a-103">Solutions developed with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are often mission-critical enterprise-level applications that require maximum availability.</span></span> <span data-ttu-id="7760a-104">當這些解決方案會放入生產環境中時，停機時間與相關聯的成本可能被以每秒的千美元。</span><span class="sxs-lookup"><span data-stu-id="7760a-104">When these solutions are placed into production, costs associated with downtime can be measured in thousands of dollars per second.</span></span> <span data-ttu-id="7760a-105">基於這個理由，您應該採用特定的策略，以充分發揮高可用性和災害復原功能，可用於[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]相依性的軟體和硬體才能支援[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]解決方案。</span><span class="sxs-lookup"><span data-stu-id="7760a-105">For this reason, you should employ specific strategies to maximize the high availability and disaster recovery capabilities that are available with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and the dependency software and hardware required to support a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>  
  
## <a name="hardware-considerations"></a><span data-ttu-id="7760a-106">硬體考量</span><span class="sxs-lookup"><span data-stu-id="7760a-106">Hardware Considerations</span></span>  
 <span data-ttu-id="7760a-107">若要確保高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境、 規劃的硬體時，請考慮下列：</span><span class="sxs-lookup"><span data-stu-id="7760a-107">To ensure high availability for a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment, consider the following when planning for hardware:</span></span>  
  
- <span data-ttu-id="7760a-108">計劃中的 BizTalk 群組，以便容納所有 BizTalk 伺服器群組中執行多個 BizTalk 主控件執行個體中執行多個 （至少兩個） 的 BizTalk server。</span><span class="sxs-lookup"><span data-stu-id="7760a-108">Plan on running multiple (at least two) BizTalk servers in a BizTalk group to accommodate running multiple instances of BizTalk Hosts across the BizTalk servers in the group.</span></span> <span data-ttu-id="7760a-109">這可以容納在主控件執行個體中執行處理序的負載平衡和容錯的功能。</span><span class="sxs-lookup"><span data-stu-id="7760a-109">This will accommodate load balancing and fault tolerance of processes running in the host instances.</span></span>  
  
- <span data-ttu-id="7760a-110">請考慮實作用於裝載存放區域網路 (SAN)[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="7760a-110">Consider implementing a storage area network (SAN) to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="7760a-111">SAN 磁碟應設定使用 RAID 1 + 0 （等量磁碟區鏡像組） 拓樸盡可能以最大效能和高可用性。</span><span class="sxs-lookup"><span data-stu-id="7760a-111">The SAN disks should be configured using RAID 1+0 (a stripe of mirror sets) topology if possible for maximum performance and high availability.</span></span> <span data-ttu-id="7760a-112">如需有關使用 SAN 來存放[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫，請參閱[BizTalk Server 資料庫最佳化白皮書](http://go.microsoft.com/fwlink/?LinkID=101578)(<http://go.microsoft.com/fwlink/?LinkID=101578>)。</span><span class="sxs-lookup"><span data-stu-id="7760a-112">For more information about using a SAN to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, see the [BizTalk Server Database Optimization white paper](http://go.microsoft.com/fwlink/?LinkID=101578) (<http://go.microsoft.com/fwlink/?LinkID=101578>).</span></span>  
  
- <span data-ttu-id="7760a-113">打算安裝多部 SQL server，以容納[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="7760a-113">Plan on installing multiple SQL servers to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="7760a-114">多部 SQL server 所需[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]叢集 （建議選項） 和/或裝載特定[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]個別的實體上的資料庫[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]（也建議使用） 的執行個體。</span><span class="sxs-lookup"><span data-stu-id="7760a-114">Multiple SQL servers are required for [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] clustering (recommended) and/or housing certain [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases on separate physical [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instances (also recommended).</span></span>  
  
- <span data-ttu-id="7760a-115">請考慮使用虛擬環境控制的硬體成本。</span><span class="sxs-lookup"><span data-stu-id="7760a-115">Consider using a virtual environment to control the hardware costs.</span></span> <span data-ttu-id="7760a-116">Microsoft 提供廣泛的虛擬化產品，例如 Microsoft Virtual Server 2005 R2、 Windows Server 2008 HYPER-V，以及 Microsoft HYPER-V Server 2008。</span><span class="sxs-lookup"><span data-stu-id="7760a-116">Microsoft offers a range of virtualization products such as Microsoft Virtual Server 2005 R2, Windows Server 2008 Hyper-V, and Microsoft Hyper-V Server 2008.</span></span> <span data-ttu-id="7760a-117">如需有關使用建議[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]在虛擬環境中，請參閱[BizTalk Server 2009 HYPER-V 指南](http://go.microsoft.com/fwlink/?LinkId=151834)(<http://go.microsoft.com/fwlink/?LinkId=151834>)。</span><span class="sxs-lookup"><span data-stu-id="7760a-117">For recommendations on using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a virtual environment, see [BizTalk Server 2009 Hyper-V Guide](http://go.microsoft.com/fwlink/?LinkId=151834) (<http://go.microsoft.com/fwlink/?LinkId=151834>).</span></span>  
  
- <span data-ttu-id="7760a-118">計劃來提供網際網路相關的服務，為您的組織的周邊網路網域中安裝一或多個 Windows 伺服器。</span><span class="sxs-lookup"><span data-stu-id="7760a-118">Plan on installing one or more Windows servers in a perimeter network domain to provide Internet-related services for your organization.</span></span> <span data-ttu-id="7760a-119">設定多部 Windows 伺服器網域中的周邊網路使用網路負載平衡 (NLB) 解決方案。</span><span class="sxs-lookup"><span data-stu-id="7760a-119">Configure multiple Windows servers in the perimeter network domain using a network load balancing (NLB) solution.</span></span> <span data-ttu-id="7760a-120">如需詳細資訊，請參閱 <<c0> [ 網路負載平衡部署指南](http://go.microsoft.com/fwlink/?LinkId=153139)(http://go.microsoft.com/fwlink/?LinkId=153139)。</span><span class="sxs-lookup"><span data-stu-id="7760a-120">For more information, see [Network Load Balancing Deployment Guide](http://go.microsoft.com/fwlink/?LinkId=153139) (http://go.microsoft.com/fwlink/?LinkId=153139).</span></span>  
  
   <span data-ttu-id="7760a-121">如需有關如何在周邊網路中安裝伺服器的詳細資訊，請參閱 <<c0> [ 設定您網域時公開傳輸到網際網路](../technical-guides/planning-for-sending-and-receiving.md#BKMK_InternetTrans)。</span><span class="sxs-lookup"><span data-stu-id="7760a-121">For more information about installing servers in a perimeter network, see [Configuring Your Domain When Exposing Transports to the Internet](../technical-guides/planning-for-sending-and-receiving.md#BKMK_InternetTrans).</span></span>  
  
  > [!NOTE]  
  >  <span data-ttu-id="7760a-122">周邊網路。 也稱為 DMZ 和遮蔽式子網路</span><span class="sxs-lookup"><span data-stu-id="7760a-122">A perimeter network is also known as a DMZ, demilitarized zone, and screened subnet.</span></span>  
  
## <a name="software-considerations"></a><span data-ttu-id="7760a-123">軟體考量</span><span class="sxs-lookup"><span data-stu-id="7760a-123">Software Considerations</span></span>  
 <span data-ttu-id="7760a-124">若要確保高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境、 規劃的軟體時，請考慮下列：</span><span class="sxs-lookup"><span data-stu-id="7760a-124">To ensure high availability for a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment, consider the following when planning for software:</span></span>  
  
- <span data-ttu-id="7760a-125">請考慮在 Enterprise 版本中的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，受益於叢集的 BizTalk 主控件或可受益於執行多個 MessageBox 資料庫的案例。</span><span class="sxs-lookup"><span data-stu-id="7760a-125">Consider investing in the Enterprise Edition of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to accommodate scenarios that would benefit from clustering of BizTalk Hosts or that would benefit from running multiple MessageBox databases.</span></span> <span data-ttu-id="7760a-126">一般而言，您應該叢集化 BizTalk 主控件的唯一理由是針對特定的 BizTalk 配接器提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="7760a-126">Typically, the only reason that you should cluster a BizTalk Host would be to provide high availability for certain BizTalk adapters.</span></span> <span data-ttu-id="7760a-127">如需有關如何為使用主機叢集的 BizTalk 配接器提供高可用性的詳細資訊，請參閱 <<c0> [ 在叢集主控件執行配接器處理常式的考量](http://go.microsoft.com/fwlink/?LinkID=151284)(<http://go.microsoft.com/fwlink/?LinkID=151284>)。</span><span class="sxs-lookup"><span data-stu-id="7760a-127">For more information about providing high availability for BizTalk adapters using host clustering, see [Considerations for Running Adapter Handlers within a Clustered Host](http://go.microsoft.com/fwlink/?LinkID=151284) (<http://go.microsoft.com/fwlink/?LinkID=151284>).</span></span>  
  
- <span data-ttu-id="7760a-128">實作 Windows Server 叢集用於裝載計劃[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫 」 和 「 企業單一登入主要密碼伺服器。</span><span class="sxs-lookup"><span data-stu-id="7760a-128">Plan on implementing a Windows Server cluster to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and the Enterprise Single Sign-On master secret server.</span></span> <span data-ttu-id="7760a-129">如需有關使用 Windows Server 叢集可提供高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫和企業單一登入主要密碼伺服器，請參閱[資料庫的高可用性](../technical-guides/high-availability-for-databases.md)並[高可用性的主要密碼伺服器](../technical-guides/high-availability-for-the-master-secret-server.md)。</span><span class="sxs-lookup"><span data-stu-id="7760a-129">For more information about using Windows Server cluster to provide high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and the Enterprise Single Sign-On master secret server, see [High Availability for Databases](../technical-guides/high-availability-for-databases.md) and [High Availability for the Master Secret Server](../technical-guides/high-availability-for-the-master-secret-server.md).</span></span>  
  
## <a name="high-availability-vs-disaster-recovery"></a><span data-ttu-id="7760a-130">高可用性與災害復原</span><span class="sxs-lookup"><span data-stu-id="7760a-130">High Availability vs. Disaster Recovery</span></span>  
 <span data-ttu-id="7760a-131">有兩個指定的方法，來增加可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境： 提供使用容錯移轉和/或負載平衡，或提供使用災害復原的更高的可用性的高可用性。</span><span class="sxs-lookup"><span data-stu-id="7760a-131">There are two prescribed methods for increasing availability for a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment: providing high availability using fault tolerance and/or load balancing, or providing increased availability using disaster recovery.</span></span> <span data-ttu-id="7760a-132">由於每個方法會增加可用性，它們之間的主要差異是該容錯移轉及/或負載平衡通常會提供更快速的復原時間，比災害復原。</span><span class="sxs-lookup"><span data-stu-id="7760a-132">While each method increases availability, a key difference between them is that fault tolerance and/or load balancing typically provide much faster recovery time than disaster recovery.</span></span> <span data-ttu-id="7760a-133">容錯移轉和/或負載平衡提供**高可用性**而提供嚴重損壞修復**提高可用性**。</span><span class="sxs-lookup"><span data-stu-id="7760a-133">Fault tolerance and/or load balancing provide **high availability** whereas disaster recovery provides **increased availability**.</span></span> <span data-ttu-id="7760a-134">如需有關如何實作災害復原的詳細資訊，請參閱[檢查清單： 增加的可用性與災害復原](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md)並[嚴重損壞修復](../technical-guides/disaster-recovery.md)。</span><span class="sxs-lookup"><span data-stu-id="7760a-134">For more information about implementing disaster recovery, see [Checklist: Increasing Availability with Disaster Recovery](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md) and [Disaster Recovery](../technical-guides/disaster-recovery.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7760a-135">另請參閱</span><span class="sxs-lookup"><span data-stu-id="7760a-135">See Also</span></span>  
 <span data-ttu-id="7760a-136">[增加 BizTalk Server 的可用性](../technical-guides/increasing-availability-for-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="7760a-136">[Increasing Availability for BizTalk Server](../technical-guides/increasing-availability-for-biztalk-server.md) </span></span>  
 [<span data-ttu-id="7760a-137">檢查清單：提供高可用性與容錯或負載平衡</span><span class="sxs-lookup"><span data-stu-id="7760a-137">Checklist: Providing High Availability with Fault Tolerance or Load Balancing</span></span>](../technical-guides/checklist-providing-high-availability-with-fault-tolerance-or-load-balancing.md)