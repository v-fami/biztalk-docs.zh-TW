---
title: 資料庫可用性規劃 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6aa74257-4159-46f6-b538-f7e9083d74ad
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d77ce6572ace3617308a046a422a3422b2dd8df5
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/01/2017
ms.locfileid: "26008439"
---
# <a name="planning-for-database-availability"></a><span data-ttu-id="09dd7-102">資料庫可用性規劃</span><span class="sxs-lookup"><span data-stu-id="09dd7-102">Planning for Database Availability</span></span>
<span data-ttu-id="09dd7-103">BizTalk Server 傳訊引擎可確保商務程序的可靠性，方法是保存的永久性狀態和商務資料處理至稱為 BizTalk Messagebox 資料庫的 SQL Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="09dd7-103">The BizTalk Server Messaging engine ensures that business processes are reliable and durable by persisting process state and business data to a SQL Server database known as the BizTalk Messagebox database.</span></span> <span data-ttu-id="09dd7-104">可靠性和保存資料持續性只會顯示為基礎的資料存放區，因為 BizTalk Server 資料庫的高可用性規劃是非常重要。</span><span class="sxs-lookup"><span data-stu-id="09dd7-104">Because the reliability and durability of the persisted data is only as good as the underlying data store, planning for high availability of the BizTalk Server databases is critically important.</span></span>  
  
## <a name="hardware-considerations"></a><span data-ttu-id="09dd7-105">硬體考量</span><span class="sxs-lookup"><span data-stu-id="09dd7-105">Hardware Considerations</span></span>  
 <span data-ttu-id="09dd7-106">若要確保 BizTalk Server 資料庫的高可用性，請考慮下列規劃硬體時：</span><span class="sxs-lookup"><span data-stu-id="09dd7-106">To ensure high availability for the BizTalk Server databases, consider the following when planning for hardware:</span></span>  
  
1.  <span data-ttu-id="09dd7-107">請考慮實作存放區域網路 (SAN) 裝載 BizTalk Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="09dd7-107">Consider implementing a storage area network (SAN) to house the BizTalk Server databases.</span></span> <span data-ttu-id="09dd7-108">SAN 的磁碟應設定使用 RAID 1 + 0 （等量磁碟區鏡像組） 拓撲盡可能以最大效能和高可用性。</span><span class="sxs-lookup"><span data-stu-id="09dd7-108">The SAN disks should be configured using RAID 1+0 (a stripe of mirror sets) topology if possible for maximum performance and high availability.</span></span> 
  
2.  <span data-ttu-id="09dd7-109">計劃安裝多部執行 SQL Server 以裝載 BizTalk Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="09dd7-109">Plan on installing multiple computers running SQL Server to house the BizTalk Server databases.</span></span> <span data-ttu-id="09dd7-110">執行 SQL Server 的多部電腦將會需要適用於 SQL Server 叢集 （建議使用） 和 （或) 罩個別實體 SQL Server 執行個體上 （建議） 特定 BizTalk Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="09dd7-110">Multiple computers running SQL Server will be required for SQL Server clustering (recommended) and/or housing certain BizTalk Server databases on separate physical SQL Server instances (also recommended).</span></span>  
  
3.  <span data-ttu-id="09dd7-111">計劃安裝一或多部執行 SQL Server 實作的 SQL Server 記錄傳送災害復原用途。</span><span class="sxs-lookup"><span data-stu-id="09dd7-111">Plan on installing one or more computers running SQL Server to implement SQL Server log shipping for purposes of disaster recovery.</span></span> <span data-ttu-id="09dd7-112">BizTalk Server 實作資料庫待命功能，透過使用 SQL Server 記錄傳送。</span><span class="sxs-lookup"><span data-stu-id="09dd7-112">BizTalk Server implements database standby capabilities through the use of SQL Server log shipping.</span></span> <span data-ttu-id="09dd7-113">SQL Server 記錄傳送會自動備份和還原的資料庫和交易記錄檔，允許繼續處理的實際執行伺服器失敗，資料庫的待命伺服器。</span><span class="sxs-lookup"><span data-stu-id="09dd7-113">SQL Server log shipping automates the backup and restore of database and transaction log files, allowing a standby server to resume database processing in the event that the production server fails.</span></span> <span data-ttu-id="09dd7-114">如需實作的 SQL Server 記錄傳送災害復原用途的詳細資訊，請參閱[什麼是 BizTalk Server 記錄傳送嗎？](../technical-guides/what-is-biztalk-server-log-shipping.md)</span><span class="sxs-lookup"><span data-stu-id="09dd7-114">For more information about implementing SQL Server log shipping for purposes of disaster recovery, see [What Is BizTalk Server Log Shipping?](../technical-guides/what-is-biztalk-server-log-shipping.md)</span></span>  
  
## <a name="software-considerations"></a><span data-ttu-id="09dd7-115">軟體考量</span><span class="sxs-lookup"><span data-stu-id="09dd7-115">Software Considerations</span></span>  
 <span data-ttu-id="09dd7-116">若要確保 BizTalk Server 資料庫的高可用性，請考慮下列規劃軟體時： 計劃安裝版本與版本的 SQL Server 可支援容錯移轉叢集支援，及/或 BizTalk 記錄傳送支援。</span><span class="sxs-lookup"><span data-stu-id="09dd7-116">To ensure high availability for the BizTalk Server databases, consider the following when planning for software: Plan to install a version and edition of SQL Server that supports failover clustering support and/or BizTalk log shipping support.</span></span> <span data-ttu-id="09dd7-117">如需完整的 SQL Server 版本所支援的功能清單，請參閱[版本和支援的功能](https://docs.microsoft.com/sql/sql-server/editions-and-components-of-sql-server-2016)。</span><span class="sxs-lookup"><span data-stu-id="09dd7-117">For a complete list of the features supported by the SQL Server editions, see [Editions and supported features](https://docs.microsoft.com/sql/sql-server/editions-and-components-of-sql-server-2016).</span></span>
  
## <a name="high-availability-vs-disaster-recovery"></a><span data-ttu-id="09dd7-118">高可用性與災害復原</span><span class="sxs-lookup"><span data-stu-id="09dd7-118">High Availability vs. Disaster Recovery</span></span>  
 <span data-ttu-id="09dd7-119">有兩個不同的方法，來增加 BizTalk Server 環境的可用性： 提供容錯和/或負載平衡，或提供可用性使用災害復原使用的高可用性。</span><span class="sxs-lookup"><span data-stu-id="09dd7-119">There are two distinct methods for increasing availability for a BizTalk Server environment: providing high availability using fault tolerance and/or load balancing, or providing availability using disaster recovery.</span></span> <span data-ttu-id="09dd7-120">由於每個方法會增加可用性，它們之間的主要差異是該容錯和/或負載平衡通常會提供更快速的復原時間比災害復原。</span><span class="sxs-lookup"><span data-stu-id="09dd7-120">While each method increases availability, a key difference between them is that fault tolerance and/or load balancing typically provide much faster recovery time than disaster recovery does.</span></span> <span data-ttu-id="09dd7-121">因此，容錯上建置方案或負載平衡會更常被認為是提供高可用性而非只提供可用性。</span><span class="sxs-lookup"><span data-stu-id="09dd7-121">Therefore, a solution built on fault tolerance or load balancing is more commonly thought of as providing high availability as opposed to merely providing availability.</span></span> <span data-ttu-id="09dd7-122">在生產環境 BizTalk Server 環境中，因此可以用這兩種方法。</span><span class="sxs-lookup"><span data-stu-id="09dd7-122">Both methods should be employed in a production BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="09dd7-123">使用 Windows 叢集的容錯能力的 BizTalk Server 資料庫提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="09dd7-123">Provide high availability for the BizTalk Server databases using fault tolerance with Windows Clustering.</span></span> <span data-ttu-id="09dd7-124">如需有關如何為 BizTalk Server 資料庫提供高可用性的詳細資訊，請參閱[資料庫的高可用性](../technical-guides/high-availability-for-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="09dd7-124">For more information about providing high availability for the BizTalk Server databases, see [High Availability for Databases](../technical-guides/high-availability-for-databases.md).</span></span>  
  
 <span data-ttu-id="09dd7-125">提高可用性與災害復原使用 BizTalk Server 記錄傳送。</span><span class="sxs-lookup"><span data-stu-id="09dd7-125">Increase availability with disaster recovery using BizTalk Server log shipping.</span></span> <span data-ttu-id="09dd7-126">若要增加可用性與災害復原 BizTalk Server 資料庫，請依照下列主題中的步驟[檢查清單： 提高可用性與災害復原](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md)。</span><span class="sxs-lookup"><span data-stu-id="09dd7-126">To increase availability of the BizTalk Server databases with disaster recovery, follow the steps in the topic [Checklist: Increasing Availability with Disaster Recovery](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md).</span></span>