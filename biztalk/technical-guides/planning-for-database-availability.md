---
title: "資料庫可用性規劃 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6aa74257-4159-46f6-b538-f7e9083d74ad
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ea5aa21ad9db78236d7b1e5335053b7c9ce28770
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="planning-for-database-availability"></a><span data-ttu-id="0364d-102">資料庫可用性規劃</span><span class="sxs-lookup"><span data-stu-id="0364d-102">Planning for Database Availability</span></span>
<span data-ttu-id="0364d-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]傳訊引擎可確保商務程序的可靠性，方法是保存的永久性狀態和商務資料處理至[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]稱為 BizTalk Messagebox 資料庫的資料庫。</span><span class="sxs-lookup"><span data-stu-id="0364d-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messaging engine ensures that business processes are reliable and durable by persisting process state and business data to a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] database known as the BizTalk Messagebox database.</span></span> <span data-ttu-id="0364d-104">規劃高可用性的可靠性和保存資料持續性只會顯示為基礎的資料存放區，因為[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]是很重要的資料庫。</span><span class="sxs-lookup"><span data-stu-id="0364d-104">Because the reliability and durability of the persisted data is only as good as the underlying data store, planning for high availability of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases is critically important.</span></span>  
  
## <a name="hardware-considerations"></a><span data-ttu-id="0364d-105">硬體考量</span><span class="sxs-lookup"><span data-stu-id="0364d-105">Hardware Considerations</span></span>  
 <span data-ttu-id="0364d-106">若要確保高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫，請考慮下列規劃硬體時：</span><span class="sxs-lookup"><span data-stu-id="0364d-106">To ensure high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, consider the following when planning for hardware:</span></span>  
  
1.  <span data-ttu-id="0364d-107">請考慮實作存放區域網路 (SAN) 來保存[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="0364d-107">Consider implementing a storage area network (SAN) to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="0364d-108">SAN 的磁碟應設定使用 RAID 1 + 0 （等量磁碟區鏡像組） 拓撲盡可能以最大效能和高可用性。</span><span class="sxs-lookup"><span data-stu-id="0364d-108">The SAN disks should be configured using RAID 1+0 (a stripe of mirror sets) topology if possible for maximum performance and high availability.</span></span> <span data-ttu-id="0364d-109">如需有關使用 SAN 來保存[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫看到[BizTalk Server 資料庫最佳化](http://go.microsoft.com/fwlink/?LinkID=101578)白皮書 ([http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578))。</span><span class="sxs-lookup"><span data-stu-id="0364d-109">For more information about using a SAN to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases see the [BizTalk Server Database Optimization](http://go.microsoft.com/fwlink/?LinkID=101578) white paper ([http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578)).</span></span>  
  
2.  <span data-ttu-id="0364d-110">安裝多部電腦執行計劃[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]來保存[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="0364d-110">Plan on installing multiple computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] to house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="0364d-111">多部電腦執行[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]就會需要[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]叢集 （建議選項） 和/或某些罩[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]個別的實體上的資料庫[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]（也建議使用） 的執行個體。</span><span class="sxs-lookup"><span data-stu-id="0364d-111">Multiple computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] will be required for [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] clustering (recommended) and/or housing certain [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases on separate physical [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instances (also recommended).</span></span>  
  
3.  <span data-ttu-id="0364d-112">在上安裝一或多部執行的計劃[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]實作[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]記錄傳送，以利災害復原。</span><span class="sxs-lookup"><span data-stu-id="0364d-112">Plan on installing one or more computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] to implement [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] log shipping for purposes of disaster recovery.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0364d-113">實作資料庫使用的待命功能[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]記錄傳送。</span><span class="sxs-lookup"><span data-stu-id="0364d-113"> implements database standby capabilities through the use of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] log shipping.</span></span> [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="0364d-114">記錄傳送會自動備份和還原的資料庫和交易記錄檔，允許繼續處理的實際執行伺服器失敗，資料庫的待命伺服器。</span><span class="sxs-lookup"><span data-stu-id="0364d-114"> log shipping automates the backup and restore of database and transaction log files, allowing a standby server to resume database processing in the event that the production server fails.</span></span> <span data-ttu-id="0364d-115">如需有關實作[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]記錄傳送的災害復原目的，請參閱[什麼是 BizTalk Server 記錄傳送嗎？](../technical-guides/what-is-biztalk-server-log-shipping.md)</span><span class="sxs-lookup"><span data-stu-id="0364d-115">For more information about implementing [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] log shipping for purposes of disaster recovery, see [What Is BizTalk Server Log Shipping?](../technical-guides/what-is-biztalk-server-log-shipping.md)</span></span>  
  
## <a name="software-considerations"></a><span data-ttu-id="0364d-116">軟體考量</span><span class="sxs-lookup"><span data-stu-id="0364d-116">Software Considerations</span></span>  
 <span data-ttu-id="0364d-117">若要確保高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫，請考慮下列規劃軟體時： 計劃要安裝的版本和版別[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]支援容錯移轉叢集支援，及/或 BizTalk 記錄傳送支援。</span><span class="sxs-lookup"><span data-stu-id="0364d-117">To ensure high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, consider the following when planning for software: Plan to install a version and edition of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that supports failover clustering support and/or BizTalk log shipping support.</span></span> <span data-ttu-id="0364d-118">如需完整的版本所支援的功能清單[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]，請參閱[支援的 SQL Server 2008 的版本功能](http://go.microsoft.com/fwlink/?LinkId=151940)([http://go.microsoft.com/fwlink/?LinkId = 151940](http://go.microsoft.com/fwlink/?LinkId=151940)) 中[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]文件。</span><span class="sxs-lookup"><span data-stu-id="0364d-118">For a complete list of the features supported by the editions of [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)], see [Features Supported by the Editions of SQL Server 2008](http://go.microsoft.com/fwlink/?LinkId=151940) ([http://go.microsoft.com/fwlink/?LinkId=151940](http://go.microsoft.com/fwlink/?LinkId=151940)) in the [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] documentation.</span></span>  
  
## <a name="high-availability-vs-disaster-recovery"></a><span data-ttu-id="0364d-119">高可用性與災害復原</span><span class="sxs-lookup"><span data-stu-id="0364d-119">High Availability vs. Disaster Recovery</span></span>  
 <span data-ttu-id="0364d-120">有兩個不同的方法，來增加可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境： 提供容錯和/或負載平衡，或提供可用性使用災害復原使用的高可用性。</span><span class="sxs-lookup"><span data-stu-id="0364d-120">There are two distinct methods for increasing availability for a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment: providing high availability using fault tolerance and/or load balancing, or providing availability using disaster recovery.</span></span> <span data-ttu-id="0364d-121">由於每個方法會增加可用性，它們之間的主要差異是該容錯和/或負載平衡通常會提供更快速的復原時間比災害復原。</span><span class="sxs-lookup"><span data-stu-id="0364d-121">While each method increases availability, a key difference between them is that fault tolerance and/or load balancing typically provide much faster recovery time than disaster recovery does.</span></span> <span data-ttu-id="0364d-122">因此，容錯上建置方案或負載平衡會更常被認為是提供高可用性而非只提供可用性。</span><span class="sxs-lookup"><span data-stu-id="0364d-122">Therefore, a solution built on fault tolerance or load balancing is more commonly thought of as providing high availability as opposed to merely providing availability.</span></span> <span data-ttu-id="0364d-123">這兩種方法應該可以用在生產[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="0364d-123">Both methods should be employed in a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>  
  
 <span data-ttu-id="0364d-124">提供的高可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]配合 Windows Clustering 使用容錯的資料庫。</span><span class="sxs-lookup"><span data-stu-id="0364d-124">Provide high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases using fault tolerance with Windows Clustering.</span></span> <span data-ttu-id="0364d-125">如需有關提供高可用性的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫，請參閱[資料庫的高可用性](../technical-guides/high-availability-for-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="0364d-125">For more information about providing high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, see [High Availability for Databases](../technical-guides/high-availability-for-databases.md).</span></span>  
  
 <span data-ttu-id="0364d-126">提高可用性與災害復原使用[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]記錄傳送。</span><span class="sxs-lookup"><span data-stu-id="0364d-126">Increase availability with disaster recovery using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] log shipping.</span></span> <span data-ttu-id="0364d-127">若要增加可用性[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]災害復原的資料庫，請依照下列主題中的步驟[檢查清單： 提高可用性與災害復原](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md)。</span><span class="sxs-lookup"><span data-stu-id="0364d-127">To increase availability of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases with disaster recovery, follow the steps in the topic [Checklist: Increasing Availability with Disaster Recovery](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md).</span></span>