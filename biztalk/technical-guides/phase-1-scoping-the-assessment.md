---
title: 第 1 階段： 設定評量的範圍 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 377abbb4ae14e3c3e1c13f7caf45ac998e9f5e9b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36986975"
---
# <a name="phase-1-scoping-the-assessment"></a><span data-ttu-id="47718-102">第 1 階段： 設定評量的範圍</span><span class="sxs-lookup"><span data-stu-id="47718-102">Phase 1: Scoping the Assessment</span></span>
<span data-ttu-id="47718-103">本主題說明 BizTalk Server 效能評定的 「 範圍 」 階段的層面。</span><span class="sxs-lookup"><span data-stu-id="47718-103">This topic describes the aspects of the scope phase of a BizTalk Server performance assessment.</span></span>  
  
 <span data-ttu-id="47718-104">常見的錯誤時更吸引人的效能評定中於低估效能評估的範圍。</span><span class="sxs-lookup"><span data-stu-id="47718-104">A common mistake when engaging in a performance assessment is to underestimate the scope of the performance assessment.</span></span> <span data-ttu-id="47718-105">如果未事先配置足夠的資源和時間，然後負責效能評定的小組將無法完成所有建置和測試複雜的類似生產的環境所需的工作。</span><span class="sxs-lookup"><span data-stu-id="47718-105">If sufficient resources and time are not allocated beforehand, then the team responsible for the performance assessment will be unable to complete all of the tasks required to build out and test a complex production-like environment.</span></span> <span data-ttu-id="47718-106">使用效能評定小組應該仔細選擇其重點。</span><span class="sxs-lookup"><span data-stu-id="47718-106">The team working on the performance assessment should choose their battles carefully.</span></span> <span data-ttu-id="47718-107">大部分的效能評定會執行非常有限的時間範圍內，且因此小組應該識別，並專注在最多的關鍵效能目標的一或兩個，或許是三個。</span><span class="sxs-lookup"><span data-stu-id="47718-107">Most performance assessments are performed within a very limited timeframe and so the team should identify and focus on one or two, maybe three at most, key performance objectives.</span></span> <span data-ttu-id="47718-108">要測試應用程式應該特別開發來專注於所識別之的效能目標，並應該排除所有其他技術變數盡量。</span><span class="sxs-lookup"><span data-stu-id="47718-108">The application to be tested should be specifically developed to focus on the identified performance objectives and should factor out all other technology variables as much as possible.</span></span> <span data-ttu-id="47718-109">本主題說明 BizTalk Server 效能評定的 「 範圍 」 階段的層面。</span><span class="sxs-lookup"><span data-stu-id="47718-109">This topic describes the aspects of the scope phase of a BizTalk Server performance assessment.</span></span>  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a><span data-ttu-id="47718-110">開始效能評定之前的考量</span><span class="sxs-lookup"><span data-stu-id="47718-110">Considerations before beginning the performance assessment</span></span>  
 <span data-ttu-id="47718-111">任何其他工作為了效能評定之前，應該考慮下列因素。</span><span class="sxs-lookup"><span data-stu-id="47718-111">The following factors should be considered before any other work is done for a performance assessment.</span></span> <span data-ttu-id="47718-112">這些因素有助於決定 「 範圍 」 階段的一般方向，並會很好的效能評定的起點。</span><span class="sxs-lookup"><span data-stu-id="47718-112">These factors will help decide the general direction of the scope phase and are a good starting point for a performance assessment.</span></span>  
  
### <a name="message-load"></a><span data-ttu-id="47718-113">訊息負載</span><span class="sxs-lookup"><span data-stu-id="47718-113">Message load</span></span>  
 <span data-ttu-id="47718-114">請務必考慮直接從一開始要如何複寫實際上經過生產系統的訊息負載。</span><span class="sxs-lookup"><span data-stu-id="47718-114">It’s important to consider right from the outset how you are going to replicate the message load that will actually be going through the production system.</span></span> <span data-ttu-id="47718-115">比方說，如果在生產環境中有 20%的訊息將會 < 20 KB 的大小會是百分之 50 < 100 KB 的大小和剩餘的 30%可能最多 1 MB 的大小，很重要，這會複寫在實驗室中。</span><span class="sxs-lookup"><span data-stu-id="47718-115">For instance, if in production 20 percent of the messages will be <20KB in size, 50 percent will be <100KB in size and the remaining 30 percent could be up to 1 MB in size, it is important that this be replicated in the lab.</span></span>  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a><span data-ttu-id="47718-116">開發簡短的詳細資料，要測試的案例</span><span class="sxs-lookup"><span data-stu-id="47718-116">Develop a brief detail of the scenarios to be tested</span></span>  
 <span data-ttu-id="47718-117">識別將會測試的測試案例之後，務必找出有關它們的主要元件。</span><span class="sxs-lookup"><span data-stu-id="47718-117">After you have identified the test cases that will be tested, it is important to identify the major components that are involved in them.</span></span> <span data-ttu-id="47718-118">這包括 BizTalk Server 元件 （例如傳訊與協調流程） 和其他元件，包括協力廠商技術，例如 MQSeries 或 SAP。</span><span class="sxs-lookup"><span data-stu-id="47718-118">This includes both BizTalk Server components (such as messaging and orchestrations) and other components, including third-party technologies such as MQSeries or SAP.</span></span> <span data-ttu-id="47718-119">它是非常重要的是您要注意的所有這些一開始就因為這將協助您量測計的實驗室複雜度，而且可讓您規劃在 engagement 期間所需的技術技能。</span><span class="sxs-lookup"><span data-stu-id="47718-119">It is very important that you be aware of all of these from the outset as it will help you gauge the complexity of the lab and will enable you to plan for the technical skills required during the engagement.</span></span>  
  
### <a name="identify-which-adapters-will-be-used"></a><span data-ttu-id="47718-120">識別哪些介面卡將用於</span><span class="sxs-lookup"><span data-stu-id="47718-120">Identify which adapters will be used</span></span>  
 <span data-ttu-id="47718-121">它是重要性的重要的效能評定實驗室使用實際的配接器將用於生產環境中。</span><span class="sxs-lookup"><span data-stu-id="47718-121">It is of vital importance the performance assessment lab use the actual adapters that will be used in the production environment.</span></span> <span data-ttu-id="47718-122">使用實際的介面卡用於生產環境中的失敗會造成問題，因為不同的配接器的效能大幅變化。</span><span class="sxs-lookup"><span data-stu-id="47718-122">Failure to use the actual adapters used in production causes problems because the performance of different adapters varies significantly.</span></span> <span data-ttu-id="47718-123">比方說，File 配接器是其中一個最快的 BizTalk Server 配接器，但是它缺乏一些的某些系統; 所需的功能特別是在 File 配接器不提供交易支援。</span><span class="sxs-lookup"><span data-stu-id="47718-123">For instance, the File adapter is one of the fastest BizTalk Server adapters but it lacks some of the features required of some systems; in particular the File adapter does not provide support for transactions.</span></span> <span data-ttu-id="47718-124">交易支援可讀取訊息，並將它們寫入至 MessageBox 資料庫，全部都在 MSDTC 交易的環境內。</span><span class="sxs-lookup"><span data-stu-id="47718-124">Transaction support provides the ability to read messages and write them to the MessageBox database, all within the context of an MSDTC transaction.</span></span> <span data-ttu-id="47718-125">交易支援會產生額外負荷。</span><span class="sxs-lookup"><span data-stu-id="47718-125">Transaction support incurs overhead.</span></span> <span data-ttu-id="47718-126">因此，以模擬實際執行案例需要的交易支援使用 File 配接器不會是可行的比較。</span><span class="sxs-lookup"><span data-stu-id="47718-126">Therefore, using the File adapter to simulate a production scenario that requires transaction support would not be a viable comparison.</span></span> <span data-ttu-id="47718-127">在此案例中，效能結果是本質上無效，因為它們是很難反映生產系統的實際效能。</span><span class="sxs-lookup"><span data-stu-id="47718-127">In this scenario, the performance results are essentially invalid because they are very unlikely to reflect the actual performance of the production system.</span></span>  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a><span data-ttu-id="47718-128">效能評定所需的預估時間</span><span class="sxs-lookup"><span data-stu-id="47718-128">Estimate time required for the performance assessment</span></span>  
 <span data-ttu-id="47718-129">您可以使用下列指導方針來估計效能評定所需的時間：</span><span class="sxs-lookup"><span data-stu-id="47718-129">Use the following guidelines to estimate the time required for the performance assessment:</span></span>  
  
- <span data-ttu-id="47718-130">設定測試環境中配置兩週的準備時間。</span><span class="sxs-lookup"><span data-stu-id="47718-130">Allocate two weeks of preparation time for setting up the testing environment.</span></span> <span data-ttu-id="47718-131">一週會用來建置所需的基礎結構軟體元件，並套用軟體更新。</span><span class="sxs-lookup"><span data-stu-id="47718-131">One week will be used to build out the required infrastructure, software components, and apply software updates.</span></span> <span data-ttu-id="47718-132">第二週專用於設定 複製 BizTalk Server 生產環境的特定環境。</span><span class="sxs-lookup"><span data-stu-id="47718-132">The second week will be dedicated to setting up the specific environment that duplicates the BizTalk Server production environment.</span></span>  
  
- <span data-ttu-id="47718-133">每個測試案例，就會分析效能評定期間配置其他的週。</span><span class="sxs-lookup"><span data-stu-id="47718-133">Allocate an additional week for each test case that will be analyzed during the performance assessment.</span></span>  
  
- <span data-ttu-id="47718-134">配置的實際效能評定結果的效能評定的文件結尾的一週。</span><span class="sxs-lookup"><span data-stu-id="47718-134">Allocate a week at the end of the actual performance assessment to document the findings of the performance assessment.</span></span>  
  
  <span data-ttu-id="47718-135">因此的兩個測試案例一般效能評定，預估完成評估的時間會是：</span><span class="sxs-lookup"><span data-stu-id="47718-135">So for a typical performance assessment with two test cases, the estimated time to complete the assessment would be:</span></span>  
  
  <span data-ttu-id="47718-136">（兩週的準備時間） + （兩週，實際的效能評定） + （1 週到文件所發現的錯誤） = 總計五週。</span><span class="sxs-lookup"><span data-stu-id="47718-136">(two weeks of preparation time) + (two weeks for the actual performance assessment) + (one week to document findings) = five weeks total.</span></span>  
  
## <a name="documenting-the-performance-assessment"></a><span data-ttu-id="47718-137">記錄效能評定</span><span class="sxs-lookup"><span data-stu-id="47718-137">Documenting the performance assessment</span></span>  
 <span data-ttu-id="47718-138">範圍效能評定的一部分，應該在 engagement 摘要中記錄評量的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="47718-138">As part of scoping the performance assessment, the details of the assessment should be documented in an engagement summary.</span></span> <span data-ttu-id="47718-139">目的與目標，專案關係人和效能評定的里程碑，應該清楚地定義這份文件。</span><span class="sxs-lookup"><span data-stu-id="47718-139">This document should clearly define goals and objectives, stakeholders, and milestones for the performance assessment.</span></span> <span data-ttu-id="47718-140">本文件將做為效能評定的藍圖，協助確保所有共同工作人員同意 engagement 詳細資料，並提供以確保效能評定持續追蹤。這份文件更新整個效能評定，以及包含在結束時的效能評定結果的摘要。</span><span class="sxs-lookup"><span data-stu-id="47718-140">This document will serve as a roadmap for the performance assessment, help ensure all stakeholders agree on the engagement details and serve to ensure the performance assessment stays on track. This document should be updated throughout the performance assessment and include a summary of results upon the conclusion of the performance assessment.</span></span>  
  
### <a name="goals-and-objectives"></a><span data-ttu-id="47718-141">長期與短期目標</span><span class="sxs-lookup"><span data-stu-id="47718-141">Goals and objectives</span></span>  
 <span data-ttu-id="47718-142">**請小心地定義的輸送量和延遲目標**-效能準則為何您想要最大化嗎？</span><span class="sxs-lookup"><span data-stu-id="47718-142">**Carefully define throughput and latency goals** - What performance criteria are you trying to maximize?</span></span> <span data-ttu-id="47718-143">一或多個下列的效能量值通常 BizTalk Server 效能評定的焦點。</span><span class="sxs-lookup"><span data-stu-id="47718-143">Typically one or more of the following performance measures are the focus of a BizTalk Server performance assessment.</span></span>  
  
- <span data-ttu-id="47718-144">**輸送量**– 通常是測量每個可以處理一段指定的時間間隔的時間單位的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="47718-144">**Throughput** – Typically measured as the number of messages per time unit that can be processed over a specified time interval.</span></span> <span data-ttu-id="47718-145">比方說，輸送量目標可能會定義為能夠處理的一段 3 小時內每秒 100 個訊息。</span><span class="sxs-lookup"><span data-stu-id="47718-145">For example, a throughput goal might be defined as the ability to process 100 messages per second for a period of 3 hours.</span></span>  
  
- <span data-ttu-id="47718-146">**延遲**– 通常是已定義的所有訊息，可以是百分比處理端對端在指定的時間間隔內，例如：</span><span class="sxs-lookup"><span data-stu-id="47718-146">**Latency** – Usually defined as percentage of all messages that can be processed end-to-end within a given time interval, for example:</span></span>  
  
  -   <span data-ttu-id="47718-147">95%的所有訊息 2 秒鐘內應該處理的端對端。</span><span class="sxs-lookup"><span data-stu-id="47718-147">95 percent of all messages should be processed end-to-end within two seconds.</span></span>  
  
  -   <span data-ttu-id="47718-148">100%的所有訊息應該處理的端對端四秒。</span><span class="sxs-lookup"><span data-stu-id="47718-148">100 percent of all messages should be processed end-to-end within four seconds.</span></span>  
  
- <span data-ttu-id="47718-149">**尖峰負載**</span><span class="sxs-lookup"><span data-stu-id="47718-149">**Peak loads**</span></span>  
  
- <span data-ttu-id="47718-150">**若要完成的批次的時間***X* </span><span class="sxs-lookup"><span data-stu-id="47718-150">**Time to complete a batch of**  *X*</span></span>  
  
- <span data-ttu-id="47718-151">**大量復原案例**</span><span class="sxs-lookup"><span data-stu-id="47718-151">**Floodgate recovery scenarios**</span></span>  
  
- <span data-ttu-id="47718-152">**包括硬體和軟體的高階架構**</span><span class="sxs-lookup"><span data-stu-id="47718-152">**High-level architecture including hardware and software**</span></span>  
  
  <span data-ttu-id="47718-153">效能目標應該要測量的"達到最高可能*X*硬體和軟體的條件約束。 」</span><span class="sxs-lookup"><span data-stu-id="47718-153">Performance goals should be measured in terms of “achieve highest possible *X* given hardware and software constraints.”</span></span> <span data-ttu-id="47718-154">決定如何目標事先來測量。</span><span class="sxs-lookup"><span data-stu-id="47718-154">Determine how the goal will be measured in advance.</span></span> <span data-ttu-id="47718-155">比方說，「 最大持續性輸送量*X*端對端所測量計數器 'XLang/s\orchestrations 完成 / 秒' 」。</span><span class="sxs-lookup"><span data-stu-id="47718-155">For example, “Maximum Sustainable Throughput of *X* end-to-end as measured by the counter ’XLang/s\orchestrations completed / second’”.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="47718-156">在上述範例*X*是預留位置的焦點所在的效能評定的單位。</span><span class="sxs-lookup"><span data-stu-id="47718-156">In the examples above, *X* is placeholder for the unit that is the focus of the performance assessment.</span></span> <span data-ttu-id="47718-157">*X*可能代表協調流程、 訊息或其他相關的 BizTalk 方案的效能計量。</span><span class="sxs-lookup"><span data-stu-id="47718-157">*X* could represent orchestrations, messages, or other performance metrics that are relevant to the BizTalk solution.</span></span>  
  
### <a name="is-the-desired-performance-attainable"></a><span data-ttu-id="47718-158">是所需的效能如今？</span><span class="sxs-lookup"><span data-stu-id="47718-158">Is the desired performance attainable?</span></span>  
 <span data-ttu-id="47718-159">評估時的效能考量，您應該先判斷是否可用硬體資源足以符合您的效能目標。</span><span class="sxs-lookup"><span data-stu-id="47718-159">When evaluating performance considerations, you should first determine if the available hardware resources will be sufficient for meeting your performance goals.</span></span> <span data-ttu-id="47718-160">在某些情況下，所需的效能不只是一定要有額外的硬體投資。</span><span class="sxs-lookup"><span data-stu-id="47718-160">In some cases, the desired performance is simply not possible without additional investment in hardware.</span></span> <span data-ttu-id="47718-161">沒有任何可用來判斷何種效能或不能指定特定硬體組態，因為許多因素會影響效能的解決方案，包括複雜的協調流程，可使用時，自訂程式碼的魔術公式訊息的次數會保存到 MessageBox 資料庫和外部系統的限制。</span><span class="sxs-lookup"><span data-stu-id="47718-161">There is no magic formula that can be used to determine what performance is or is not possible given a specific hardware configuration as many factors influence the performance of the solution, including the complexity of orchestrations, custom code that is used, number of times that messages are persisted to the MessageBox database, and limitations of external systems.</span></span> <span data-ttu-id="47718-162">下表提供用來達成特定的效能目標，適用於特定案例的硬體摘要。</span><span class="sxs-lookup"><span data-stu-id="47718-162">The table below provides a summary of hardware used to achieve specific performance goals for certain scenarios.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="47718-163">下列資訊是僅提供作為指引。</span><span class="sxs-lookup"><span data-stu-id="47718-163">The information below is provided for guidance only.</span></span> <span data-ttu-id="47718-164">不同的 BizTalk Server 解決方案之需求的差異很大，所以此資料表中的值應該當作 」 的經驗法則 」 大致估計所需的硬體資源時。</span><span class="sxs-lookup"><span data-stu-id="47718-164">The requirements of different BizTalk Server solution vary greatly so the values in this table should be used as a rough “rule of thumb” when estimating required hardware resources.</span></span>  
  
### <a name="sample-hardware-scenarios"></a><span data-ttu-id="47718-165">範例硬體案例</span><span class="sxs-lookup"><span data-stu-id="47718-165">Sample hardware scenarios</span></span>  
  
|<span data-ttu-id="47718-166">處理類型</span><span class="sxs-lookup"><span data-stu-id="47718-166">Type of Processing</span></span>|<span data-ttu-id="47718-167">BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-167">BizTalk Server computers</span></span>|<span data-ttu-id="47718-168">SQL Server 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-168">SQL Server computers</span></span>|<span data-ttu-id="47718-169">取得的輸送量</span><span class="sxs-lookup"><span data-stu-id="47718-169">Throughput attained</span></span>|<span data-ttu-id="47718-170">注意</span><span class="sxs-lookup"><span data-stu-id="47718-170">Notes</span></span>|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|<span data-ttu-id="47718-171">協調流程公開為 Web 服務，MQSeries 配接器</span><span class="sxs-lookup"><span data-stu-id="47718-171">Orchestration exposed as a Web service, MQSeries adapter</span></span>|<span data-ttu-id="47718-172">-6 BizTalk Server 2010 的電腦</span><span class="sxs-lookup"><span data-stu-id="47718-172">-   6 BizTalk Server 2010 computers</span></span><br /><span data-ttu-id="47718-173">-每個執行兩個 3 GHZ 雙核心處理器的伺服器</span><span class="sxs-lookup"><span data-stu-id="47718-173">-   Each server running two 3-GHZ dual core processors</span></span><br /><span data-ttu-id="47718-174">Windows Server 2008 r2、windows 8 GB 記憶體</span><span class="sxs-lookup"><span data-stu-id="47718-174">-   Windows Server 2008 R2, 8GB memory</span></span>|<span data-ttu-id="47718-175">-3 的 SQL Server 2008 R2 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-175">-   3 SQL Server 2008 R2 computers</span></span><br /><span data-ttu-id="47718-176">-每一部執行四個 3 GHZ 雙核心處理器</span><span class="sxs-lookup"><span data-stu-id="47718-176">-   Each server running four 3-GHZ dual core processors</span></span><br /><span data-ttu-id="47718-177">-64 位元，16 GB 記憶體</span><span class="sxs-lookup"><span data-stu-id="47718-177">-   64-bit, 16 GB memory</span></span><br /><span data-ttu-id="47718-178">-單一 MessageBox 資料庫</span><span class="sxs-lookup"><span data-stu-id="47718-178">-   Single MessageBox database</span></span>|<span data-ttu-id="47718-179">每秒的 95 協調流程</span><span class="sxs-lookup"><span data-stu-id="47718-179">95 orchestrations per second</span></span>|<span data-ttu-id="47718-180">-平均延遲 1.11s</span><span class="sxs-lookup"><span data-stu-id="47718-180">-   Average latency 1.11s</span></span><br /><span data-ttu-id="47718-181">-99%的訊息處理 < 2 秒的延遲</span><span class="sxs-lookup"><span data-stu-id="47718-181">-   99% messages processed with <2 seconds latency</span></span>|  
|<span data-ttu-id="47718-182">Messaging (傳訊)</span><span class="sxs-lookup"><span data-stu-id="47718-182">Messaging</span></span>|<span data-ttu-id="47718-183">6 個 BizTalk Server 2010 的電腦</span><span class="sxs-lookup"><span data-stu-id="47718-183">6 BizTalk Server 2010 computers</span></span>|<span data-ttu-id="47718-184">3 個 SQL Server 2008 R2 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-184">3 SQL Server 2008 R2 computers</span></span>|<span data-ttu-id="47718-185">達到 2 小時期間內產生的尖峰輸送量為 277 的訊息，每秒</span><span class="sxs-lookup"><span data-stu-id="47718-185">Peak throughput attained over a 2 hour period was 277 messages per second</span></span>|<span data-ttu-id="47718-186">之前最佳化解決方案，尖峰輸送量為每秒 125 訊息</span><span class="sxs-lookup"><span data-stu-id="47718-186">Before optimizing solution, peak throughput was 125 messages per second</span></span>|  
|<span data-ttu-id="47718-187">使用協調流程和 Web 服務的低延遲案例</span><span class="sxs-lookup"><span data-stu-id="47718-187">Low-latency scenario using orchestrations and Web services</span></span>|<span data-ttu-id="47718-188">一部 BizTalk Server 2010 的雙處理器的電腦</span><span class="sxs-lookup"><span data-stu-id="47718-188">One dual processor BizTalk Server 2010 computer</span></span>|<span data-ttu-id="47718-189">一個四處理器的 SQL Server 2008 R2 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-189">One quad processor SQL Server 2008 R2 computer</span></span>|<span data-ttu-id="47718-190">每秒 60 的協調流程</span><span class="sxs-lookup"><span data-stu-id="47718-190">60 orchestrations per second</span></span>|<span data-ttu-id="47718-191">達成 < 350 毫秒延遲</span><span class="sxs-lookup"><span data-stu-id="47718-191">< 350 millisecond latency achieved</span></span>|  
|<span data-ttu-id="47718-192">使用協調流程的低延遲案例</span><span class="sxs-lookup"><span data-stu-id="47718-192">Low-latency scenario using orchestrations</span></span>|<span data-ttu-id="47718-193">23 四處理器 BizTalk Server 2010 的電腦</span><span class="sxs-lookup"><span data-stu-id="47718-193">23 Quad processor BizTalk Server 2010 computers</span></span>|<span data-ttu-id="47718-194">-3 的 SQL Server 2008 R2 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-194">-   3 SQL Server 2008 R2 computers</span></span><br /><span data-ttu-id="47718-195">-一個 16 個 CPU 的主要 MessageBox 資料庫</span><span class="sxs-lookup"><span data-stu-id="47718-195">-   One 16-CPU master MessageBox database</span></span><br /><span data-ttu-id="47718-196">-兩通 8-CPU 次要 MessageBox 資料庫電腦</span><span class="sxs-lookup"><span data-stu-id="47718-196">-   Two 8-CPU secondary MessageBox database computers</span></span>|<span data-ttu-id="47718-197">每秒的 1156年協調流程</span><span class="sxs-lookup"><span data-stu-id="47718-197">1156 orchestrations per second</span></span>|<span data-ttu-id="47718-198">自 2010 年 1 月起已執行記錄的協調流程的 BizTalk Server 的最高的持續性效能</span><span class="sxs-lookup"><span data-stu-id="47718-198">As of January 2010 was the highest sustainable performance of BizTalk Server running orchestrations recorded</span></span>|  
  
 <span data-ttu-id="47718-199">可用的硬體基礎結構會被視為足以達到所需的效能之後，請考量下列範圍的 BizTalk Server 效能評估：</span><span class="sxs-lookup"><span data-stu-id="47718-199">After the available hardware infrastructure is deemed sufficient to achieve the desired performance, consider the following when scoping a BizTalk Server performance assessment:</span></span>  
  
-   <span data-ttu-id="47718-200">哪些配接器和/或加速器需要？</span><span class="sxs-lookup"><span data-stu-id="47718-200">Which adapters and/or accelerators are required?</span></span>  
  
-   <span data-ttu-id="47718-201">在方案中實作協調流程的需求有哪些？</span><span class="sxs-lookup"><span data-stu-id="47718-201">What are the requirements for implementing orchestrations in the solution?</span></span>  
  
-   <span data-ttu-id="47718-202">文件的輸送量需求： 解決方案的最大持續輸送量需求為何？</span><span class="sxs-lookup"><span data-stu-id="47718-202">Document throughput requirements: What are the maximum sustainable throughput requirements for the solution?</span></span>  
  
-   <span data-ttu-id="47718-203">延遲需求： 如何回應方案必須請求-回應 」 和 「 要求回應的案例？</span><span class="sxs-lookup"><span data-stu-id="47718-203">Latency requirements: How responsive does the solution need to be for solicit-response and request-response scenarios?</span></span>  
  
-   <span data-ttu-id="47718-204">解決方案程度的尖峰文件載入期間從復原？</span><span class="sxs-lookup"><span data-stu-id="47718-204">How well does the solution recover from periods of peak document load?</span></span>  
  
-   <span data-ttu-id="47718-205">方案的高可用性需求有哪些？</span><span class="sxs-lookup"><span data-stu-id="47718-205">What are the high availability requirements of the solution?</span></span>  
  
-   <span data-ttu-id="47718-206">文件追蹤需求的解決方案有哪些？</span><span class="sxs-lookup"><span data-stu-id="47718-206">What are the document tracking requirements of the solution?</span></span>  
  
-   <span data-ttu-id="47718-207">任何相依的應用程式，例如遠端 Web 服務或其他系統的效能特性有哪些？</span><span class="sxs-lookup"><span data-stu-id="47718-207">What are the performance characteristics of any dependent applications such as a remote Web service or other system?</span></span> <span data-ttu-id="47718-208">如果相依的應用程式執行無法跟上必要的負載，會隨之降低整體系統效能。</span><span class="sxs-lookup"><span data-stu-id="47718-208">If dependent applications do not keep up with the required load, the overall system performance will be degraded accordingly.</span></span>  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a><span data-ttu-id="47718-209">範圍階段納入考量的硬體資訊</span><span class="sxs-lookup"><span data-stu-id="47718-209">Hardware information to consider during scope phase</span></span>  
 <span data-ttu-id="47718-210">範圍的解決方案時，建立包含下列的高階硬體圖表：</span><span class="sxs-lookup"><span data-stu-id="47718-210">When scoping the solution, create a high-level hardware diagram that includes the following:</span></span>  
  
-   <span data-ttu-id="47718-211">電腦架構 （例如 x86、 x64 和 IA64）</span><span class="sxs-lookup"><span data-stu-id="47718-211">Computer architecture (such as x86, x64, and IA64)</span></span>  
  
-   <span data-ttu-id="47718-212">CPU 需求 （例如類型、 速度、 數目、 核心，以及使用超執行緒）</span><span class="sxs-lookup"><span data-stu-id="47718-212">CPU requirements (such as type, speed, number, cores, and use of hyperthreading)</span></span>  
  
-   <span data-ttu-id="47718-213">每一部電腦的 RAM 需求</span><span class="sxs-lookup"><span data-stu-id="47718-213">RAM requirements for each computer</span></span>  
  
-   <span data-ttu-id="47718-214">本機磁碟儲存體 （類型、 大小、 速度）</span><span class="sxs-lookup"><span data-stu-id="47718-214">Local disk storage (type, size, speed)</span></span>  
  
-   <span data-ttu-id="47718-215">SAN (存放裝置需求： 數字的 LUN。SAN 卡片類型）</span><span class="sxs-lookup"><span data-stu-id="47718-215">SAN (storage requirements: number of LUNS; SAN card type)</span></span>  
  
-   <span data-ttu-id="47718-216">網路卡 （在每一部電腦，100 mb / 秒 (Mbps) （1 gigabit / 秒 (1 Gbps) 與數字。）</span><span class="sxs-lookup"><span data-stu-id="47718-216">Network cards (number in each computer, 100 megabits per second (Mbps) versus 1 gigabit per second (1 Gbps).)</span></span>  
  
-   <span data-ttu-id="47718-217">防火牆會部署方案中的方式？</span><span class="sxs-lookup"><span data-stu-id="47718-217">How will firewalls be deployed in the solution?</span></span>  
  
-   <span data-ttu-id="47718-218">會使用網路負載平衡硬體嗎？</span><span class="sxs-lookup"><span data-stu-id="47718-218">Will Network Load Balancing hardware be used?</span></span>  
  
-   <span data-ttu-id="47718-219">要叢集化是特定的電腦？</span><span class="sxs-lookup"><span data-stu-id="47718-219">Are specific computers to be clustered?</span></span>  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a><span data-ttu-id="47718-220">軟體資訊給 「 範圍 」 階段，考慮</span><span class="sxs-lookup"><span data-stu-id="47718-220">Software information to consider during the scope phase</span></span>  
 <span data-ttu-id="47718-221">同樣的硬體資訊和重要是軟體堆疊，將會用於效能評定。</span><span class="sxs-lookup"><span data-stu-id="47718-221">Equally important as the hardware information is the software stack that will be used during the performance assessment.</span></span>  <span data-ttu-id="47718-222">您應該確定文件的下列資訊：</span><span class="sxs-lookup"><span data-stu-id="47718-222">You should ensure you document the following information:</span></span>  
  
-   <span data-ttu-id="47718-223">每一部電腦 （32 或 64 位元，叢集或非叢集） 的作業系統。</span><span class="sxs-lookup"><span data-stu-id="47718-223">Operating system for each computer ( 32 or 64 bit, clustered or not).</span></span>  
  
-   <span data-ttu-id="47718-224">在每一部電腦上安裝伺服器軟體。</span><span class="sxs-lookup"><span data-stu-id="47718-224">Server software to be installed on each computer.</span></span>  
  
-   <span data-ttu-id="47718-225">使用虛擬化軟體。</span><span class="sxs-lookup"><span data-stu-id="47718-225">Virtualization software used.</span></span>  
  
-   <span data-ttu-id="47718-226">通常不會安裝 COM + 彙總套件修正或 SQL Server 主機外修正程式，例如特定的軟體功能所需。</span><span class="sxs-lookup"><span data-stu-id="47718-226">Specific software features not typically installed such as COM+ rollup fixes or SQL Server host fixes that are required.</span></span>  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a><span data-ttu-id="47718-227">決定是否效能評定的範圍內的程式碼變更</span><span class="sxs-lookup"><span data-stu-id="47718-227">Determine if code changes are within the scope of the performance assessment</span></span>  
 <span data-ttu-id="47718-228">這是其中一個最重要的工作，來判斷範圍的程序期間。</span><span class="sxs-lookup"><span data-stu-id="47718-228">This is one of the most important things to determine during the scoping process.</span></span>  <span data-ttu-id="47718-229">最佳化 BizTalk Server，以及它會使用 （SQL Server、 Windows、 IIS 和更多） 的基礎元件，可以使用本指南所述的設定變更與微調技術。</span><span class="sxs-lookup"><span data-stu-id="47718-229">BizTalk Server and the underlying components it uses (SQL Server, Windows, IIS and many more) can be optimized using the tuning techniques and configuration changes discussed in this guide.</span></span> <span data-ttu-id="47718-230">不過，如果應用程式尚未開發以獲得最佳效能，它可能會拖累這些效能提升。</span><span class="sxs-lookup"><span data-stu-id="47718-230">However, if an application has not been developed for optimal performance, it can hamper these performance gains.</span></span> <span data-ttu-id="47718-231">因此，變更程式碼應該只會從範圍有完整的程式碼檢閱已完成，應用程式進入實驗室之前的信心。</span><span class="sxs-lookup"><span data-stu-id="47718-231">Therefore, code changes should only be removed from the scope if you have confidence a thorough code review has been completed before the application enters the lab.</span></span> <span data-ttu-id="47718-232">如有必要，您可能會同意，只有特定變更被允許，比方說，在協調流程中的持續點移除。</span><span class="sxs-lookup"><span data-stu-id="47718-232">If necessary, you may agree that only certain changes be allowed, for example, the removal of persistence points within orchestrations.</span></span>  
  
## <a name="roles-and-responsibilities"></a><span data-ttu-id="47718-233">角色和責任</span><span class="sxs-lookup"><span data-stu-id="47718-233">Roles and responsibilities</span></span>  
 <span data-ttu-id="47718-234">其中一個最重要的部分的執行效能評定是為了確保角色和責任清楚地指派。</span><span class="sxs-lookup"><span data-stu-id="47718-234">One of the most important areas of running a performance assessment is to ensure the roles and responsibilities are clearly assigned.</span></span> <span data-ttu-id="47718-235">下列重要的角色應指派的效能評定開始：</span><span class="sxs-lookup"><span data-stu-id="47718-235">The following key roles should be assigned at the onset of the performance assessment:</span></span>  
  
- <span data-ttu-id="47718-236">**Engagement 潛在客戶**-engagement 潛在客戶會負責主控整體 engagement 端對端。</span><span class="sxs-lookup"><span data-stu-id="47718-236">**Engagement lead** - The engagement lead is responsible for owning the overall engagement end-to-end.</span></span>  <span data-ttu-id="47718-237">這個角色通常會執行由資深的顧問或架構設計師。</span><span class="sxs-lookup"><span data-stu-id="47718-237">This role will typically be performed by a Senior Consultant or Architect.</span></span>  <span data-ttu-id="47718-238">在理想情況下這位人員應具有微調架構的 BizTalk Server 系統的經驗。</span><span class="sxs-lookup"><span data-stu-id="47718-238">Ideally this person should have experience in tuning BizTalk Server based systems.</span></span>  <span data-ttu-id="47718-239">SQL Server 和任何其他技術，包括協力廠商的知識是合理的。</span><span class="sxs-lookup"><span data-stu-id="47718-239">Knowledge of SQL Server and any other technologies including third party ones is desirable.</span></span>  <span data-ttu-id="47718-240">請注意，並非潛在客戶是所有方面的專家，但是它們必須具有至少有技術的實用知識，他們可以與這些領域專家一起合作，並了解它們所套用的最佳化。</span><span class="sxs-lookup"><span data-stu-id="47718-240">Please note it is not necessary that the lead is an expert in all areas, but they need to have at least a working knowledge of the technology in order that they can work with the specialists in those areas and understand the optimizations that they are applying.</span></span>  
  
- <span data-ttu-id="47718-241">**測試設計工具**-就必須有專門用來設計和實作將在實驗室中執行測試的任何人。</span><span class="sxs-lookup"><span data-stu-id="47718-241">**Test designer** - It is necessary to have someone who is dedicated to designing and implementing the tests that will be executed during the lab.</span></span>  <span data-ttu-id="47718-242">這會牽涉到決定將用於建立測試，測試每個測試，以確保它會滿足需求的實驗室，並確保那些負責執行測試已了解如何使用用戶端的測試架構。</span><span class="sxs-lookup"><span data-stu-id="47718-242">This will involve deciding on the test framework that will be used to create tests, testing each of the tests to ensure that it will fulfill the requirements of the lab and ensuring that those responsible for running the tests are aware of how to use the client.</span></span>  
  
- <span data-ttu-id="47718-243">**環境擁有者**-具代表性的環境內精確地反映實際執行 BizTalk Server 的實驗室環境非常重要。</span><span class="sxs-lookup"><span data-stu-id="47718-243">**Environment owner** - Having a representative environment within the lab that accurately reflects the production BizTalk Server environment is critical.</span></span>  <span data-ttu-id="47718-244">執行此角色的人員會負責檢查使用的軟體和硬體堆疊的每個項目，因此驗證有沒有顯著的差異。</span><span class="sxs-lookup"><span data-stu-id="47718-244">The person performing this role will be responsible for checking each item of the software and hardware stack used and validating that there are no significant differences.</span></span> <span data-ttu-id="47718-245">例如 SQL Server 2008 R2 32 位元平台上執行時只可以處理 4 GB 的實體記憶體而不需使用實體位址擴充 (PAE) 或 Address Windowing Extensions (AWE)。</span><span class="sxs-lookup"><span data-stu-id="47718-245">For example SQL Server 2008 R2 when running on the 32-bit platform can only address 4GB of physical memory without using either Physical Address Extensions (PAE) or Address Windowing Extensions (AWE).</span></span> <span data-ttu-id="47718-246">SQL Server 2008 r2 的 64 位元到 1 tb 的記憶體可以解決 （這是目前的最大實體記憶體支援的 Windows Server 2008 R2）。</span><span class="sxs-lookup"><span data-stu-id="47718-246">In SQL Server 2008 R2, 64-bit up to 1 terabyte of memory can be addressed (this is the current maximum physical memory supported by Windows Server 2008 R2).</span></span> <span data-ttu-id="47718-247">因此重大的差異客戶和實驗室環境會是 BizTalk Server 和 SQL Server 所使用的 CPU 架構。</span><span class="sxs-lookup"><span data-stu-id="47718-247">Therefore a significant difference between the customer and the lab environment would be the architecture of CPU used by BizTalk Server and SQL Server.</span></span> <span data-ttu-id="47718-248">除了這些明顯的因素，其他較不明顯的因素，例如 service pack 層級和 hotfix 安裝，可能會影響環境的效能。</span><span class="sxs-lookup"><span data-stu-id="47718-248">In addition to these obvious factors, other less obvious factors, such as service pack levels and hotfixes installed, can impact performance of the environment.</span></span>  
  
- <span data-ttu-id="47718-249">**建置環境的潛在客戶**-已繪製詳細的規格後進行效能評定中，有人應指派的建置環境的責任。</span><span class="sxs-lookup"><span data-stu-id="47718-249">**Build environment lead** - After a detailed specification has been drawn up for the performance assessment, someone should be assigned the responsibility of building the environment.</span></span> <span data-ttu-id="47718-250">這包括硬體和軟體堆疊。</span><span class="sxs-lookup"><span data-stu-id="47718-250">This will include the hardware and software stack.</span></span> <span data-ttu-id="47718-251">在許多情況下一個人會負責此 （通常是環境擁有者）。</span><span class="sxs-lookup"><span data-stu-id="47718-251">In many cases one individual will be responsible for this (this is often the environment owner).</span></span> <span data-ttu-id="47718-252">不過在大型企業環境擁有者可能需要為不同的團隊，他們可能負責解決方案的各種元件之間的連絡窗口。</span><span class="sxs-lookup"><span data-stu-id="47718-252">However in a large enterprise the environment owner may need to be the liaison between different teams, who may each be responsible for various components of the solution.</span></span> <span data-ttu-id="47718-253">例如，一個小組可能會負責 Windows 組建，另一個用於 SQL Server，和另一個小組以取得 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="47718-253">For example, one team may be responsible for the Windows build, another for SQL Server, and yet another team for BizTalk Server.</span></span>  
  
- <span data-ttu-id="47718-254">**部署的潛在客戶**-就必須讓其他人負責確保應用程式已正確部署至 BizTalk Server、 設定的正確的繫結，會套用任何自訂設定。</span><span class="sxs-lookup"><span data-stu-id="47718-254">**Deployment lead** - It is necessary to have someone responsible for ensuring that the application is deployed correctly to BizTalk Server, that the correct bindings are configured and that any custom configuration is applied.</span></span> <span data-ttu-id="47718-255">此角色會需要解決方案的全面的瞭解和會需要了解將應用程式封裝及部署應用程式並驗證它是在實驗室環境內正常運作的狀態。</span><span class="sxs-lookup"><span data-stu-id="47718-255">This role will require a thorough knowledge of the solution and will require the knowledge to package an application and deploy an application and then validate that it is in a functioning state within the lab environment.</span></span>  
  
- <span data-ttu-id="47718-256">**產品專家**– 請務必識別哪些產品專家所需的效能評定。</span><span class="sxs-lookup"><span data-stu-id="47718-256">**Product specialists** – It is important to identify what product specialists are required for the performance assessment.</span></span> <span data-ttu-id="47718-257">所需的確切技能，取決於設計和 BizTalk Server 應用程式的目的。</span><span class="sxs-lookup"><span data-stu-id="47718-257">The exact skills required depend upon the design and purpose of the BizTalk Server application.</span></span>  
  
   <span data-ttu-id="47718-258">其中一個所需的最常見產品專家技能是效能微調 SQL Server 的廣泛知識。</span><span class="sxs-lookup"><span data-stu-id="47718-258">One of the most common product specialist skills required is extensive knowledge of performance tuning SQL Server.</span></span> <span data-ttu-id="47718-259">這些技術所需的兩個目的： 首先，它通常是執行 SQL Server 最佳化，以最佳化效能的第二個與 BizTalk 資料庫所需，許多 BizTalk 解決方案讓使用自訂的資料庫。</span><span class="sxs-lookup"><span data-stu-id="47718-259">These skills are required for two purposes: first, it is often necessary to perform SQL Server optimizations to optimize performance of the BizTalk databases and second, many BizTalk solutions make use of custom databases.</span></span> <span data-ttu-id="47718-260">使用自訂的資料庫可能成為瓶頸，以在方案中的，如果正確的最佳化不會套用至 SQL Server 環境。</span><span class="sxs-lookup"><span data-stu-id="47718-260">The use of custom databases can become a bottleneck in the solution if the correct optimizations are not applied to the SQL Server environment.</span></span> <span data-ttu-id="47718-261">若要識別並套用適當的資料庫最佳化，下列的 SQL Server 技能則通常需要：</span><span class="sxs-lookup"><span data-stu-id="47718-261">In order to identify and apply the appropriate database optimizations, the following SQL Server skills are typically required:</span></span>  
  
  - <span data-ttu-id="47718-262">徹底了解 SQL Server 預存程序程式碼，包括能夠最佳化現有的預存程序。</span><span class="sxs-lookup"><span data-stu-id="47718-262">Thorough understanding of SQL Server stored procedure code, including the ability to optimize existing stored procedures.</span></span>  
  
  - <span data-ttu-id="47718-263">找出並建立資料庫的遺漏索引的能力。</span><span class="sxs-lookup"><span data-stu-id="47718-263">Ability to identify and build missing database indexes.</span></span>  
  
  - <span data-ttu-id="47718-264">撰寫指令碼來將資料庫分割成多個檔案的能力。</span><span class="sxs-lookup"><span data-stu-id="47718-264">Ability to write scripts to split databases into multiple files.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="47718-265">如需有關如何套用此最佳化的詳細資訊，請參閱[最佳化檔案群組的資料庫 2](../technical-guides/optimizing-filegroups-for-the-databases2.md)。</span><span class="sxs-lookup"><span data-stu-id="47718-265">For more information on applying this optimization, see [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md).</span></span>  
  
  - <span data-ttu-id="47718-266">若要找出使用 SQL Server 2008 R2 績效儀表板報告的效能問題的能力。</span><span class="sxs-lookup"><span data-stu-id="47718-266">Ability to identify performance problems using SQL Server 2008 R2 Performance Dashboard Reports.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="47718-267">SQL Server 2008 R2 績效儀表板報告可供下載： [ http://go.microsoft.com/fwlink/?LinkId=118673 ](http://go.microsoft.com/fwlink/?LinkId=118673)。</span><span class="sxs-lookup"><span data-stu-id="47718-267">SQL Server 2008 R2 Performance Dashboard Reports is available for download at [http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673).</span></span>  
  
    <span data-ttu-id="47718-268">每個效能評定所涉及的專家技術，如同上述 SQL Server 應定義一份需求。</span><span class="sxs-lookup"><span data-stu-id="47718-268">For each specialist technology involved in the performance assessment, a list of requirements should be defined as is done above for SQL Server.</span></span> <span data-ttu-id="47718-269">這可確保取得的資源有清楚的期望的功能將會需要它們。</span><span class="sxs-lookup"><span data-stu-id="47718-269">This ensures the resource obtained has clear expectations of what will be required of them.</span></span> <span data-ttu-id="47718-270">經常效能評定期間需要特殊的知識的另一個技術是 IBM Websphere MQ。</span><span class="sxs-lookup"><span data-stu-id="47718-270">Another technology that frequently requires specialized knowledge during the performance assessment is IBM Websphere MQ.</span></span> <span data-ttu-id="47718-271">下列清單說明 IBM WebSphere MQ 產品專家的需求規格：</span><span class="sxs-lookup"><span data-stu-id="47718-271">The list below illustrates the requirements specification for an IBM WebSphere MQ product specialist:</span></span>  
  
  - <span data-ttu-id="47718-272">監視、 維護和 MQSeries 的自訂體驗。</span><span class="sxs-lookup"><span data-stu-id="47718-272">Experience in the monitoring, maintenance, and customization of MQSeries.</span></span>  
  
  - <span data-ttu-id="47718-273">安裝和移轉的新版本的 MQSeries 的體驗。</span><span class="sxs-lookup"><span data-stu-id="47718-273">Experience with installation and migration of new versions of MQSeries.</span></span>  
  
  - <span data-ttu-id="47718-274">分析及調整 MQSeries 效能的能力。</span><span class="sxs-lookup"><span data-stu-id="47718-274">Ability to analyze and tune MQSeries performance.</span></span>  
  
  - <span data-ttu-id="47718-275">執行 MQSeries 問題分析。</span><span class="sxs-lookup"><span data-stu-id="47718-275">Perform MQSeries problem analysis.</span></span>  
  
  - <span data-ttu-id="47718-276">處理序和 MQSeries 安全性、 管理、 復原和自動化的相關程序的知識。</span><span class="sxs-lookup"><span data-stu-id="47718-276">Knowledge of the processes and procedures related to MQSeries security, administration, recovery and automation.</span></span>  
  
- <span data-ttu-id="47718-277">**文件的潛在客戶**-持續更新實驗室文件端對端整個效能評定是非常重要。</span><span class="sxs-lookup"><span data-stu-id="47718-277">**Documentation lead** - Continuously updating the lab documentation end-to-end throughout the performance assessment is vitally important.</span></span> <span data-ttu-id="47718-278">最佳化已成功套用在生產環境中，並取得所需的層級的效能，但系統之前，應該不判斷 lab engagement 整體 successfulness。</span><span class="sxs-lookup"><span data-stu-id="47718-278">The overall successfulness of a lab engagement should not be judged until the optimizations have successfully been applied in the production environment and the system has obtained the desired level of performance.</span></span> <span data-ttu-id="47718-279">若要這樣做，請務必詳細的記錄下列資訊會保留：</span><span class="sxs-lookup"><span data-stu-id="47718-279">In order to do this, it is essential that a detailed record of the following information is kept:</span></span>  
  
  -   <span data-ttu-id="47718-280">實驗室的高層級的結果摘要</span><span class="sxs-lookup"><span data-stu-id="47718-280">High-level results summary of the lab</span></span>  
  
  -   <span data-ttu-id="47718-281">未解決的問題</span><span class="sxs-lookup"><span data-stu-id="47718-281">Unresolved issues</span></span>  
  
  -   <span data-ttu-id="47718-282">已解決的問題</span><span class="sxs-lookup"><span data-stu-id="47718-282">Resolved issues</span></span>  
  
  -   <span data-ttu-id="47718-283">實驗室的時間軸</span><span class="sxs-lookup"><span data-stu-id="47718-283">Timeline for the lab</span></span>  
  
  -   <span data-ttu-id="47718-284">實驗室進度</span><span class="sxs-lookup"><span data-stu-id="47718-284">Lab progress</span></span>  
  
  -   <span data-ttu-id="47718-285">依類別的實作的最佳化</span><span class="sxs-lookup"><span data-stu-id="47718-285">Implemented optimizations by category</span></span>  
  
  -   <span data-ttu-id="47718-286">依時間先後順序 （以確保它們可以套用相同的順序在生產系統中） 的實作的最佳化</span><span class="sxs-lookup"><span data-stu-id="47718-286">Implemented optimizations in chronological order (to ensure that they can be applied in the same order in the production system)</span></span>  
  
  -   <span data-ttu-id="47718-287">高階架構圖</span><span class="sxs-lookup"><span data-stu-id="47718-287">High-level architectural diagram</span></span>  
  
  -   <span data-ttu-id="47718-288">要測試案例的詳細資料</span><span class="sxs-lookup"><span data-stu-id="47718-288">Detail of the scenarios to be tested</span></span>  
  
  -   <span data-ttu-id="47718-289">其中涉及的協力廠商技術</span><span class="sxs-lookup"><span data-stu-id="47718-289">Third party technologies involved</span></span>  
  
  -   <span data-ttu-id="47718-290">實驗室硬體圖形</span><span class="sxs-lookup"><span data-stu-id="47718-290">Lab hardware diagram</span></span>  
  
  -   <span data-ttu-id="47718-291">連絡人清單</span><span class="sxs-lookup"><span data-stu-id="47718-291">Contact list</span></span>  
  
  -   <span data-ttu-id="47718-292">詳細的硬體清查</span><span class="sxs-lookup"><span data-stu-id="47718-292">Detailed hardware inventory</span></span>  
  
  -   <span data-ttu-id="47718-293">使用完整的詳細結果的附錄</span><span class="sxs-lookup"><span data-stu-id="47718-293">Appendix with full detailed results</span></span>  
  
- <span data-ttu-id="47718-294">**開發人員**-開發人員是否需要大部分取決於 engagement 的範圍。</span><span class="sxs-lookup"><span data-stu-id="47718-294">**Developer** - Whether a developer is required depends very much on the scope of the engagement.</span></span> <span data-ttu-id="47718-295">如果程式碼基底已經鎖定，而且實驗室的目的是要測試基礎結構與平台最佳化則只是開發人員的服務不應該需要。</span><span class="sxs-lookup"><span data-stu-id="47718-295">If the code base has been locked down and the lab is there to test infrastructure and platform optimizations only then the services of a developer should not be required.</span></span> <span data-ttu-id="47718-296">當執行效能測試實際執行伺服器的"go live"日期之前，會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="47718-296">This type of scenario can occur when performance testing is performed just before the “go-live” date of the production server.</span></span> <span data-ttu-id="47718-297">此時，程式碼應該已遭鎖定，而且完整的迴歸測試應該是完整的或進行中。</span><span class="sxs-lookup"><span data-stu-id="47718-297">By this time, the code should have been locked down and full regression testing should be complete or in progress.</span></span> <span data-ttu-id="47718-298">在實驗室中導入的程式碼的任何變更，可以導入迴歸，因此，在生產系統中產生的風險。</span><span class="sxs-lookup"><span data-stu-id="47718-298">Any changes to the code introduced in the lab could introduce a regression and, therefore, introduce risk to the production system.</span></span> <span data-ttu-id="47718-299">如果允許程式碼變更，則開發人員通常會需要。</span><span class="sxs-lookup"><span data-stu-id="47718-299">If code changes are permitted, then typically a developer will be required.</span></span> <span data-ttu-id="47718-300">下列清單代表通常由開發人員參與 BizTalk Server 效能評定所需的技能：</span><span class="sxs-lookup"><span data-stu-id="47718-300">The list below represents the skills typically required by a developer that is engaged in a BizTalk Server performance assessment:</span></span>  
  
  -   <span data-ttu-id="47718-301">若要找出並修正效能問題與協調流程的能力</span><span class="sxs-lookup"><span data-stu-id="47718-301">Ability to identify and fix performance issues with orchestrations</span></span>  
  
  -   <span data-ttu-id="47718-302">找出並修正效能問題與管線的能力</span><span class="sxs-lookup"><span data-stu-id="47718-302">Ability to identify and fix performance issues with pipelines</span></span>  
  
  -   <span data-ttu-id="47718-303">熟悉.NET 包括：</span><span class="sxs-lookup"><span data-stu-id="47718-303">Familiarity with .NET including:</span></span>  
  
      -   <span data-ttu-id="47718-304">企業程式庫</span><span class="sxs-lookup"><span data-stu-id="47718-304">Enterprise library</span></span>  
  
      -   <span data-ttu-id="47718-305">Visual Studio 的 F1 profiler 專業知識</span><span class="sxs-lookup"><span data-stu-id="47718-305">Visual Studio F1 profiler expertise</span></span>  
  
      -   <span data-ttu-id="47718-306">Microsoft Visual Studio 2010 Ultimate 或 Visual Studio 測試 Professional 2010</span><span class="sxs-lookup"><span data-stu-id="47718-306">Microsoft Visual Studio 2010 Ultimate or Visual Studio Test Professional 2010</span></span>  
  
- <span data-ttu-id="47718-307">**測試組長**-確保取得精確、 完整且透徹一組結果，是很重要。</span><span class="sxs-lookup"><span data-stu-id="47718-307">**Test lead** - Ensuring an accurate, complete and thorough set of results is obtained is critical.</span></span> <span data-ttu-id="47718-308">測試潛在客戶會負責確保擷取、 適當地分析和適當地散發之後每個測試回合, 所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="47718-308">The test lead is responsible for ensuring the required information is captured, analyzed appropriately, and distributed appropriately after every test run.</span></span> <span data-ttu-id="47718-309">請務必考慮如何將資料擷取、 測試資料通常是適用於 Excel 試算表的簡報。</span><span class="sxs-lookup"><span data-stu-id="47718-309">It is important to consider how to capture the data, typically the test data is suitable for presentation using an Excel spreadsheet.</span></span> <span data-ttu-id="47718-310">下列清單說明應該針對每個實驗室期間執行的測試中擷取的資料：</span><span class="sxs-lookup"><span data-stu-id="47718-310">The following list illustrates the data that should be captured for each test that is run during the lab:</span></span>  
  
  - <span data-ttu-id="47718-311">測試回合的數目</span><span class="sxs-lookup"><span data-stu-id="47718-311">Test run number</span></span>  
  
  - <span data-ttu-id="47718-312">date</span><span class="sxs-lookup"><span data-stu-id="47718-312">Date</span></span>  
  
  - <span data-ttu-id="47718-313">處理的訊息總數</span><span class="sxs-lookup"><span data-stu-id="47718-313">Total messages processed</span></span>  
  
  - <span data-ttu-id="47718-314">每秒處理的訊息</span><span class="sxs-lookup"><span data-stu-id="47718-314">Messages processed per second</span></span>  
  
  - <span data-ttu-id="47718-315">開始時間</span><span class="sxs-lookup"><span data-stu-id="47718-315">Time started</span></span>  
  
  - <span data-ttu-id="47718-316">已停止的時間</span><span class="sxs-lookup"><span data-stu-id="47718-316">Time stopped</span></span>  
  
  - <span data-ttu-id="47718-317">測試持續時間，以分鐘為單位</span><span class="sxs-lookup"><span data-stu-id="47718-317">Test duration in minutes</span></span>  
  
  - <span data-ttu-id="47718-318">擱置的訊息已處理的訊息總數 / 這可以擷取從 BizTalk 管理主控台，或是藉由測量使用效能監視器的 BizTalk Server 效能計數器。</span><span class="sxs-lookup"><span data-stu-id="47718-318">Suspended messages / Total messages processed – This can be captured either from the BizTalk Administration console or by measuring the BizTalk Server performance counters using Performance Monitor.</span></span>  
  
  - <span data-ttu-id="47718-319">\# 無法處理訊息的</span><span class="sxs-lookup"><span data-stu-id="47718-319">\# of messages that have failed processing</span></span>  
  
  - <span data-ttu-id="47718-320">\# 或已成功處理的訊息</span><span class="sxs-lookup"><span data-stu-id="47718-320">\# or message that have been successfully processed</span></span>  
  
  - <span data-ttu-id="47718-321">測試用戶端回應</span><span class="sxs-lookup"><span data-stu-id="47718-321">Test client responses</span></span>  
  
  - <span data-ttu-id="47718-322">用戶端處理序持續時間的平均值，以秒為單位通常實作同步的訊息方案，與 BizTalk Server 時，這個值會測量，在此情況下就一定要知道值的平均用戶端持續時間，因為這通常是代表多久畷樾簅正在等候回應從解決方案。</span><span class="sxs-lookup"><span data-stu-id="47718-322">Client process duration average, measured in seconds - Typically this value is measured when implementing a synchronous messaging solution with BizTalk Server, in this case it is important to know the value for average client duration as this is typically representative of how long an end user is waiting for a response from the solution.</span></span>  
  
  - <span data-ttu-id="47718-323">用戶端處理序持續時間上限值，以秒為單位</span><span class="sxs-lookup"><span data-stu-id="47718-323">Client process duration maximum value, measured in seconds</span></span>  
  
  - <span data-ttu-id="47718-324">用戶端處理序持續時間最小值，以秒為單位</span><span class="sxs-lookup"><span data-stu-id="47718-324">Client process duration minimum value, measured in seconds</span></span>  
  
  - <span data-ttu-id="47718-325">BizTalk Server 的要求/回應延遲，以秒為單位</span><span class="sxs-lookup"><span data-stu-id="47718-325">BizTalk Server request/response latency, measured in seconds</span></span>  
  
  - <span data-ttu-id="47718-326">每秒完成的協調流程</span><span class="sxs-lookup"><span data-stu-id="47718-326">Orchestrations completed per second</span></span>  
  
  - <span data-ttu-id="47718-327">%的時間處理的訊息</span><span class="sxs-lookup"><span data-stu-id="47718-327">% of messages processed on time</span></span>  
  
  - <span data-ttu-id="47718-328">值**TestResultsLocation** Visual Studio Team System 測試工具所使用的變數。</span><span class="sxs-lookup"><span data-stu-id="47718-328">Value of **TestResultsLocation** variable used by Visual Studio Team System testing tools.</span></span>  
  
  - <span data-ttu-id="47718-329">值**TestResultsLocation** BizUnit 所使用的變數。</span><span class="sxs-lookup"><span data-stu-id="47718-329">Value of **TestResultsLocation** variable used by BizUnit.</span></span>  
  
  - <span data-ttu-id="47718-330">任何意見或建議</span><span class="sxs-lookup"><span data-stu-id="47718-330">Any comments or recommendations</span></span>  
  
    <span data-ttu-id="47718-331">收集結果，以及測試潛在客戶應該確保他們會監視每個測試回合來查看是否有任何的趨勢。</span><span class="sxs-lookup"><span data-stu-id="47718-331">As well as collecting the results, the test lead should ensure that they monitor each test run to see if there are any trends.</span></span> <span data-ttu-id="47718-332">提升的效能應該傳送到小組的其餘部分，以及應該會指出多少效能已改善，以及哪一個最佳化已套用到改善。</span><span class="sxs-lookup"><span data-stu-id="47718-332">Performance improvements should be communicated to the rest of the team and should indicate how much performance was improved and which optimization was applied to achieve the improvement.</span></span> <span data-ttu-id="47718-333">在一天結束務必測試負責人提供已在實驗室中執行的測試摘要。</span><span class="sxs-lookup"><span data-stu-id="47718-333">At the end of day it is important that the test lead provides a summary of the tests that have been performed in the lab.</span></span> <span data-ttu-id="47718-334">這可讓專案關係人保持持續實驗室的進度通知。</span><span class="sxs-lookup"><span data-stu-id="47718-334">This allows the stakeholders to be kept informed of the continued progress of the lab.</span></span> <span data-ttu-id="47718-335">下表說明如何這項資訊可能會放在一起範例更新電子郵件中：</span><span class="sxs-lookup"><span data-stu-id="47718-335">The table below illustrates how this information might be put together in a sample update e-mail:</span></span>  
  
  ### <a name="test-results-summary"></a><span data-ttu-id="47718-336">測試結果摘要</span><span class="sxs-lookup"><span data-stu-id="47718-336">Test results summary</span></span>  
  
  |<span data-ttu-id="47718-337">[狀態]</span><span class="sxs-lookup"><span data-stu-id="47718-337">Status</span></span>|<span data-ttu-id="47718-338">輸送量</span><span class="sxs-lookup"><span data-stu-id="47718-338">Throughput</span></span>|<span data-ttu-id="47718-339">平均延遲</span><span class="sxs-lookup"><span data-stu-id="47718-339">Average Latency</span></span>|<span data-ttu-id="47718-340">%< 2 秒</span><span class="sxs-lookup"><span data-stu-id="47718-340">%< 2 seconds</span></span>|<span data-ttu-id="47718-341">測試回合的數目</span><span class="sxs-lookup"><span data-stu-id="47718-341"># of Test runs</span></span>|<span data-ttu-id="47718-342"># 個 BizTalk Server 電腦</span><span class="sxs-lookup"><span data-stu-id="47718-342"># of BizTalk Server Computers</span></span>|<span data-ttu-id="47718-343"># 個訊息</span><span class="sxs-lookup"><span data-stu-id="47718-343"># of Messages</span></span>|<span data-ttu-id="47718-344">平均訊息大小</span><span class="sxs-lookup"><span data-stu-id="47718-344">Average Message Size</span></span>|<span data-ttu-id="47718-345">Duration</span><span class="sxs-lookup"><span data-stu-id="47718-345">Duration</span></span>|  
  |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
  |<span data-ttu-id="47718-346">相應放大</span><span class="sxs-lookup"><span data-stu-id="47718-346">Scale out</span></span>|<span data-ttu-id="47718-347">140 訊息/秒</span><span class="sxs-lookup"><span data-stu-id="47718-347">140 messages/second</span></span>|<span data-ttu-id="47718-348">0.777 秒</span><span class="sxs-lookup"><span data-stu-id="47718-348">0.777 seconds</span></span>|<span data-ttu-id="47718-349">99.3%</span><span class="sxs-lookup"><span data-stu-id="47718-349">99.3%</span></span>|<span data-ttu-id="47718-350">2</span><span class="sxs-lookup"><span data-stu-id="47718-350">2</span></span>|<span data-ttu-id="47718-351">6</span><span class="sxs-lookup"><span data-stu-id="47718-351">6</span></span>|<span data-ttu-id="47718-352">270,000</span><span class="sxs-lookup"><span data-stu-id="47718-352">270,000</span></span>|<span data-ttu-id="47718-353">609 位元組</span><span class="sxs-lookup"><span data-stu-id="47718-353">609 bytes</span></span>|<span data-ttu-id="47718-354">30 分鐘</span><span class="sxs-lookup"><span data-stu-id="47718-354">30 minutes</span></span>|  
  |<span data-ttu-id="47718-355">最佳</span><span class="sxs-lookup"><span data-stu-id="47718-355">Best</span></span>|<span data-ttu-id="47718-356">50 的訊息/秒</span><span class="sxs-lookup"><span data-stu-id="47718-356">50 messages/second</span></span>|<span data-ttu-id="47718-357">1.12 秒</span><span class="sxs-lookup"><span data-stu-id="47718-357">1.12 seconds</span></span>|<span data-ttu-id="47718-358">99.12%</span><span class="sxs-lookup"><span data-stu-id="47718-358">99.12%</span></span>|<span data-ttu-id="47718-359">17</span><span class="sxs-lookup"><span data-stu-id="47718-359">17</span></span>|<span data-ttu-id="47718-360">2</span><span class="sxs-lookup"><span data-stu-id="47718-360">2</span></span>|<span data-ttu-id="47718-361">360,000</span><span class="sxs-lookup"><span data-stu-id="47718-361">360,000</span></span>|<span data-ttu-id="47718-362">609 位元組</span><span class="sxs-lookup"><span data-stu-id="47718-362">609 bytes</span></span>|<span data-ttu-id="47718-363">2 小時</span><span class="sxs-lookup"><span data-stu-id="47718-363">2 hours</span></span>|  
  |<span data-ttu-id="47718-364">基準</span><span class="sxs-lookup"><span data-stu-id="47718-364">Baseline</span></span>|<span data-ttu-id="47718-365">30 訊息/秒</span><span class="sxs-lookup"><span data-stu-id="47718-365">30 messages/second</span></span>|<span data-ttu-id="47718-366">1.52 秒</span><span class="sxs-lookup"><span data-stu-id="47718-366">1.52 seconds</span></span>|<span data-ttu-id="47718-367">92.9 %</span><span class="sxs-lookup"><span data-stu-id="47718-367">92.9 %</span></span>|<span data-ttu-id="47718-368">4</span><span class="sxs-lookup"><span data-stu-id="47718-368">4</span></span>|<span data-ttu-id="47718-369">2</span><span class="sxs-lookup"><span data-stu-id="47718-369">2</span></span>|<span data-ttu-id="47718-370">36,000</span><span class="sxs-lookup"><span data-stu-id="47718-370">36,000</span></span>|<span data-ttu-id="47718-371">609 位元組</span><span class="sxs-lookup"><span data-stu-id="47718-371">609 bytes</span></span>|<span data-ttu-id="47718-372">20 分鐘</span><span class="sxs-lookup"><span data-stu-id="47718-372">20 minutes</span></span>|  
  |<span data-ttu-id="47718-373">目標</span><span class="sxs-lookup"><span data-stu-id="47718-373">Goals</span></span>|<span data-ttu-id="47718-374">5 訊息/秒</span><span class="sxs-lookup"><span data-stu-id="47718-374">5 messages/second</span></span>|<span data-ttu-id="47718-375">< 2 秒</span><span class="sxs-lookup"><span data-stu-id="47718-375">< 2 seconds</span></span>|<span data-ttu-id="47718-376">90%</span><span class="sxs-lookup"><span data-stu-id="47718-376">90%</span></span>|-|<span data-ttu-id="47718-377">2</span><span class="sxs-lookup"><span data-stu-id="47718-377">2</span></span>|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a><span data-ttu-id="47718-378">定義所有交付項目所需的效能評定開始</span><span class="sxs-lookup"><span data-stu-id="47718-378">Define all deliverables that are required at the onset of the performance assessment</span></span>  
 <span data-ttu-id="47718-379">請務必同意必須要備妥，再開始 BizTalk Server 效能評定的交付項目。</span><span class="sxs-lookup"><span data-stu-id="47718-379">It is important to agree upon deliverables that must be in place before embarking on a BizTalk Server performance assessment.</span></span> <span data-ttu-id="47718-380">下一節描述應該位於效能評估的開始位置的交付項目。</span><span class="sxs-lookup"><span data-stu-id="47718-380">The section below describes the deliverables that should be in place at the onset of the performance assessment.</span></span>  
  
- <span data-ttu-id="47718-381">**要測試的應用程式**– 效能評定期間，會使用完整的應用程式必須可用。</span><span class="sxs-lookup"><span data-stu-id="47718-381">**Application to be tested** – The complete application that will be used during the performance assessment must be available.</span></span> <span data-ttu-id="47718-382">很重要，在應用程式開始效能評定之前進行完整的狀態，否則沒有遺失重要的實驗室測試時的風險。</span><span class="sxs-lookup"><span data-stu-id="47718-382">It is important that the application is in a fully functioning state before beginning the performance assessment, otherwise there is risk of losing valuable lab testing time.</span></span>  
  
- <span data-ttu-id="47718-383">**自動化的建置與部署規劃**-再進行效能評定中，自動化的組建和部署程序應該開發 BizTalk Server 解決方案的測試。</span><span class="sxs-lookup"><span data-stu-id="47718-383">**Planning for automated build and deployment** - Before engaging in the performance assessment, an automated build and deployment process should be developed for the BizTalk Server solution to be tested.</span></span> <span data-ttu-id="47718-384">自動化應用程式的建置程序，可讓您執行連續每日組建流程，然後伴隨著一組可用來測試整個系統的功能性流程的組建驗證測試 (Bvt)。</span><span class="sxs-lookup"><span data-stu-id="47718-384">Automating the build process for an application enables you to do a continuous daily build process, which can then be accompanied by a set of build validation tests (BVTs) which test the functional flows through the system.</span></span> <span data-ttu-id="47718-385">這可讓您偵測編譯與運作的問題，更快速且輕鬆在整個開發生命週期。</span><span class="sxs-lookup"><span data-stu-id="47718-385">This enables you to detect compilation and functional problems quicker and easier throughout the development lifecycle.</span></span> <span data-ttu-id="47718-386">在實驗室中，這表示如果需要變更任何程式碼可以快速確認更新的方案就不會出現問題。</span><span class="sxs-lookup"><span data-stu-id="47718-386">Within the lab, this means that if any code changes are required you can quickly verify that the updated solution works without problems.</span></span> <span data-ttu-id="47718-387">以手動方式建置、 部署和設定應用程式的效能實驗室可以是既繁瑣又錯誤很容易出錯的工作。</span><span class="sxs-lookup"><span data-stu-id="47718-387">Manually building, deploying and configuring an application for a performance lab can be a tedious and error prone task.</span></span> <span data-ttu-id="47718-388">因此建議您使用自動化技術，用來完成下列建置和部署活動：</span><span class="sxs-lookup"><span data-stu-id="47718-388">Therefore it is recommended that an automation technique be used to accomplish the following build and deployment activities:</span></span>  
  
  -   <span data-ttu-id="47718-389">從原始檔控制中取得最新的程式碼。</span><span class="sxs-lookup"><span data-stu-id="47718-389">Get latest code from source control.</span></span>  
  
  -   <span data-ttu-id="47718-390">建置完整的解決方案。</span><span class="sxs-lookup"><span data-stu-id="47718-390">Build the complete solution.</span></span>  
  
  -   <span data-ttu-id="47718-391">將方案部署到環境。</span><span class="sxs-lookup"><span data-stu-id="47718-391">Deploy the solution to the environment.</span></span>  
  
  -   <span data-ttu-id="47718-392">建立 BizTalk 應用程式。</span><span class="sxs-lookup"><span data-stu-id="47718-392">Create BizTalk applications.</span></span>  
  
  -   <span data-ttu-id="47718-393">將 BizTalk Server 資源，例如.dll 檔案和繫結新增至 BizTalk 應用程式中。</span><span class="sxs-lookup"><span data-stu-id="47718-393">Add BizTalk Server resources such as .dll files and bindings to BizTalk applications.</span></span>  
  
  -   <span data-ttu-id="47718-394">若要建立的連接埠和繫結至協調流程的繫結檔案匯入。</span><span class="sxs-lookup"><span data-stu-id="47718-394">Import binding file to create ports and bind to orchestrations.</span></span>  
  
  -   <span data-ttu-id="47718-395">匯出 BizTalk 應用程式為 Microsoft® Windows® Installer 套件，以便它可以在測試或生產環境中部署。</span><span class="sxs-lookup"><span data-stu-id="47718-395">Export BizTalk applications as a Microsoft® Windows® Installer package so that it can be deployed in the testing or production environment.</span></span>  
  
  > [!NOTE]  
  >  <span data-ttu-id="47718-396">如需有關如何實作自動化的建置程序的詳細資訊，請參閱[自動化建置程序](../technical-guides/automating-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="47718-396">For more information about implementing an automated build process, see[Automating the Build Process](../technical-guides/automating-the-build-process.md)</span></span>  
  
   <span data-ttu-id="47718-397">.NET framework 2.0 可讓開發人員自動化工作，例如前文所述稍早被引進 MSBuild。</span><span class="sxs-lookup"><span data-stu-id="47718-397">MSBuild was introduced with the .NET framework 2.0 to enable developers to automate tasks such as those described earlier.</span></span> <span data-ttu-id="47718-398">數個 BizTalk Server 特有的 MSBuild 工作所含的 SDC 工作程式庫，也就是可從下載[ http://go.microsoft.com/fwlink/?LinkId=119288 ](http://go.microsoft.com/fwlink/?LinkId=119288)。</span><span class="sxs-lookup"><span data-stu-id="47718-398">Several BizTalk Server–specific MSBuild tasks are included with the SDC Tasks library, which is available for download from  [http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288).</span></span>  
  
- <span data-ttu-id="47718-399">**測試資料用於效能評定期間**– 使用測試資料具有相當大的影響，整體的效率和效能評定的成功。</span><span class="sxs-lookup"><span data-stu-id="47718-399">**Test data to be used during the performance assessment** – The test data that is used has a considerable influence on the overall effectiveness and success of a performance assessment.</span></span>  <span data-ttu-id="47718-400">假設訊息、 協調流程和規則引擎的 BizTalk Server 應用程式會利用。</span><span class="sxs-lookup"><span data-stu-id="47718-400">Consider the scenario where a BizTalk Server application utilizes messaging, orchestration and the Rules Engine.</span></span> <span data-ttu-id="47718-401">規則引擎會從內呼叫管線元件在接收端，以判斷哪一個協調流程將會用來處理訊息，而它也會從呼叫來判斷流程的各個點上的協調流程中。</span><span class="sxs-lookup"><span data-stu-id="47718-401">The Rules Engine is called from within a pipeline component on the receive side to determine which orchestration will be used to process the message; and it is also called from within the orchestration at various points to determine flow.</span></span> <span data-ttu-id="47718-402">規則引擎會實作快取，以便最佳化執行規則原則。</span><span class="sxs-lookup"><span data-stu-id="47718-402">The Rules Engine implements caching so that rules policy execution is optimized.</span></span> <span data-ttu-id="47718-403">因此，如果單一訊息當做測試資料中，效能評定期間，測試結果可能會扭曲 （因為快取），而且可能會取得無法在生產環境中複寫的結果。</span><span class="sxs-lookup"><span data-stu-id="47718-403">Therefore, if a single message is used as test data during the performance assessment, test results may be skewed (due to caching) and you may obtain results that can’t be replicated in production.</span></span>  
  
   <span data-ttu-id="47718-404">在理想情況下效能評估期間所使用的測試資料應該實際生產資料或實際執行資料的子集。</span><span class="sxs-lookup"><span data-stu-id="47718-404">Ideally the test data used during the performance assessment should be actual production data or a subset of production data.</span></span> <span data-ttu-id="47718-405">負載和流量會流經生產系統的模式，也應該模擬的測試資料。</span><span class="sxs-lookup"><span data-stu-id="47718-405">The test data should also simulate the load and pattern of traffic that will be flowing through the production system.</span></span> <span data-ttu-id="47718-406">當定義需求的測試資料，請考慮下列因素：</span><span class="sxs-lookup"><span data-stu-id="47718-406">Consider the following factors when defining requirements for test data:</span></span>  
  
  - <span data-ttu-id="47718-407">**在指定時間將會流經整個系統的訊息數目**-這通常表示為每秒的訊息或每小時的訊息。</span><span class="sxs-lookup"><span data-stu-id="47718-407">**Number of messages that will be flowing through the system in a given period** - This is normally expressed as messages per second or messages per hour.</span></span>  
  
  - <span data-ttu-id="47718-408">**類型的訊息**– 是訊息的一般檔案、 XML 或二進位檔？</span><span class="sxs-lookup"><span data-stu-id="47718-408">**Types of messages** – Are the messages flat file, XML, or binary?</span></span>  
  
  - <span data-ttu-id="47718-409">**訊息散佈**– 百分比會將使用多少百分比的每個 XML 訊息類型的一般檔案？</span><span class="sxs-lookup"><span data-stu-id="47718-409">**Distribution of messages** – What percentage will be flat file, what percentage of each XML message type will be used?</span></span>  
  
  - <span data-ttu-id="47718-410">**處理需求的尖峰負載**-在許多情況下，大型的交換可能會處理在非尖峰時段。</span><span class="sxs-lookup"><span data-stu-id="47718-410">**Peak load processing requirements** - In many scenarios a large interchange may be processed during non-peak hours.</span></span> <span data-ttu-id="47718-411">例如付款的大型批次可能會在午夜張貼到銀行的系統。</span><span class="sxs-lookup"><span data-stu-id="47718-411">For example a large batch of payments may be posted to a bank’s systems at midnight.</span></span> <span data-ttu-id="47718-412">如果發生這種情況，確保您能夠複寫這在測試期間。</span><span class="sxs-lookup"><span data-stu-id="47718-412">If this is the case, ensure you are able to replicate this during testing.</span></span>  
  
  - <span data-ttu-id="47718-413">**用來接收/傳送訊息的端點**-在許多環境的個別接收位置會設定為接收不同類型的訊息。</span><span class="sxs-lookup"><span data-stu-id="47718-413">**Endpoints used to receive/send messages** - In many environments separate receive locations are configured to receive different types of messages.</span></span> <span data-ttu-id="47718-414">比方說可能使用 File 配接器接收一般檔案訊息或 MQSeries 配接器可能會用來接收 XML 訊息。</span><span class="sxs-lookup"><span data-stu-id="47718-414">For example flat file messages may be received using the File adapter or the MQSeries adapter may be used to receive XML messages.</span></span> <span data-ttu-id="47718-415">雖然訊息可能所有由處理相同的協調流程就可以進入系統的不同進入點。</span><span class="sxs-lookup"><span data-stu-id="47718-415">While messages may all be processed by the same orchestration(s) they will have different entry points into the system.</span></span> <span data-ttu-id="47718-416">每個這些不同的接收位置可以裝載於個別的主控件;事實上執行此動作通常會改善系統的整體效能。</span><span class="sxs-lookup"><span data-stu-id="47718-416">Each of these different receive locations can be hosted in a separate host; in fact doing this will often improve the overall performance of the system.</span></span>  
  
    <span data-ttu-id="47718-417">下表提供應該決定測試資料的規格時擷取之資訊的範例：</span><span class="sxs-lookup"><span data-stu-id="47718-417">The table below provides an example of the information that should be captured when determining test data specifications:</span></span>  
  
  ### <a name="sample-test-data-specification"></a><span data-ttu-id="47718-418">範例測試資料的規格</span><span class="sxs-lookup"><span data-stu-id="47718-418">Sample test data specification</span></span>  
  
  |                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
  |---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  |           <span data-ttu-id="47718-419">**每秒的訊息**</span><span class="sxs-lookup"><span data-stu-id="47718-419">**Messages per second**</span></span>           |                                                                                                                                                                                                                                                                                   <span data-ttu-id="47718-420">-最大輸送量是在此案例中的索引鍵</span><span class="sxs-lookup"><span data-stu-id="47718-420">-   Maximum throughput is key in this scenario</span></span><br /><span data-ttu-id="47718-421">-目標為每秒 50 則訊息</span><span class="sxs-lookup"><span data-stu-id="47718-421">-   Goal of 50 messages per second</span></span><br /><span data-ttu-id="47718-422">-低度延遲並不是目標</span><span class="sxs-lookup"><span data-stu-id="47718-422">-   Low-latency is not a goal</span></span>                                                                                                                                                                                                                                                                                    |
  |            <span data-ttu-id="47718-423">**訊息類型**</span><span class="sxs-lookup"><span data-stu-id="47718-423">**Type of messages**</span></span>             |                                                                                                                                                                                                                                                                  <span data-ttu-id="47718-424">-小型的 XML 訊息，符合 XML 結構描述大約 25 的 KB *X*</span><span class="sxs-lookup"><span data-stu-id="47718-424">-   Small XML messages, approximately 25 KB that conform to XML schema *X*</span></span><br /><span data-ttu-id="47718-425">-中度的 XML 訊息，大約 512KB 符合 XML 結構描述*Y*</span><span class="sxs-lookup"><span data-stu-id="47718-425">-   Medium XML messages, approximately 512 KB that conform to XML schema *Y*</span></span>                                                                                                                                                                                                                                                                  |
  |        <span data-ttu-id="47718-426">**訊息散佈**</span><span class="sxs-lookup"><span data-stu-id="47718-426">**Distribution of messages**</span></span>         |                                                                                                                                                                                                          <span data-ttu-id="47718-427">-58 %25 KB （小型的 XML 訊息）</span><span class="sxs-lookup"><span data-stu-id="47718-427">-   58% 25 KB (small XML messages)</span></span><br /><span data-ttu-id="47718-428">-25 %512 KB （中型 XML 訊息）</span><span class="sxs-lookup"><span data-stu-id="47718-428">-   25% 512 KB (medium XML messages)</span></span><br /><span data-ttu-id="47718-429">-11 %3 MB （中型二進位資料 – PDF）-非可壓縮</span><span class="sxs-lookup"><span data-stu-id="47718-429">-   11% 3 MB (medium binary data – PDF) – non compressible</span></span><br /><span data-ttu-id="47718-430">-4 %7.5 MB （大型二進位資料 – PDF）-非可壓縮)</span><span class="sxs-lookup"><span data-stu-id="47718-430">-   4% 7.5 MB (large binary data – PDF) – non compressible)</span></span><br /><span data-ttu-id="47718-431">-2 %20 MB （大型二進位資料 – PDF）-非可壓縮</span><span class="sxs-lookup"><span data-stu-id="47718-431">-   2% 20 MB (large binary data – PDF) – non compressible</span></span>                                                                                                                                                                                                          |
  |    <span data-ttu-id="47718-432">**尖峰負載的處理需求**</span><span class="sxs-lookup"><span data-stu-id="47718-432">**Peak load processing requirements**</span></span>    |                                                                                                                                                                                                                                  <span data-ttu-id="47718-433">大型二進位資料 (20 MB) 會代表大約 2%的資料 （如上述所指定） 的這處理的時間為非可預測。</span><span class="sxs-lookup"><span data-stu-id="47718-433">Large binary data (20MB) will represent approximately 2% of data (as specified above) the time at which this is processed is non-predictable.</span></span> <span data-ttu-id="47718-434">系統必須能夠容納這些大型訊息在任何指定時間。</span><span class="sxs-lookup"><span data-stu-id="47718-434">The system must be able to accommodate these large messages at any given time.</span></span>                                                                                                                                                                                                                                  |
  | <span data-ttu-id="47718-435">**用來接收/傳送訊息的端點**</span><span class="sxs-lookup"><span data-stu-id="47718-435">**Endpoints used to receive/send messages**</span></span> | <span data-ttu-id="47718-436">**小型的 XML 訊息 (25 KB)**</span><span class="sxs-lookup"><span data-stu-id="47718-436">**Small XML messages (25 KB)**</span></span><br /><br /> <span data-ttu-id="47718-437">-接收位置： PaymentXMLDocIn</span><span class="sxs-lookup"><span data-stu-id="47718-437">-   Receive location: PaymentXMLDocIn</span></span><br /><span data-ttu-id="47718-438">-裝載： ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="47718-438">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="47718-439">-使用的管線： XMLReceive</span><span class="sxs-lookup"><span data-stu-id="47718-439">-   Pipeline used: XMLReceive</span></span><br /><br /> <span data-ttu-id="47718-440">**中的 XML 訊息 (512 KB)**</span><span class="sxs-lookup"><span data-stu-id="47718-440">**Medium XML messages (512 KB)**</span></span><br /><br /> <span data-ttu-id="47718-441">-接收位置： PaymentXMLDocIn</span><span class="sxs-lookup"><span data-stu-id="47718-441">-   Receive location: PaymentXMLDocIn</span></span><br /><span data-ttu-id="47718-442">-裝載： ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="47718-442">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="47718-443">-使用的管線： XMLReceive</span><span class="sxs-lookup"><span data-stu-id="47718-443">-   Pipeline used: XMLReceive</span></span><br /><br /> <span data-ttu-id="47718-444">**中度的二進位資料 (3 MB) 的 – PDF – 非可壓縮**</span><span class="sxs-lookup"><span data-stu-id="47718-444">**Medium binary data (3 MB) – PDF – non compressible**</span></span><br /><br /> <span data-ttu-id="47718-445">-接收位置： BinaryDataIn</span><span class="sxs-lookup"><span data-stu-id="47718-445">-   Receive location: BinaryDataIn</span></span><br /><span data-ttu-id="47718-446">-裝載： ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="47718-446">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="47718-447">-使用的管線： PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="47718-447">-   Pipeline used: PassThruReceive</span></span><br /><br /> <span data-ttu-id="47718-448">**大型二進位資料 (7.5 MB – 20 MB) – PDF – 非可壓縮**</span><span class="sxs-lookup"><span data-stu-id="47718-448">**Large binary data (7.5 MB – 20 MB) – PDF – non compressible**</span></span><br /><br /> <span data-ttu-id="47718-449">-接收位置： BinaryDataIn</span><span class="sxs-lookup"><span data-stu-id="47718-449">-   Receive location: BinaryDataIn</span></span><br /><span data-ttu-id="47718-450">-裝載： ReceiveHost</span><span class="sxs-lookup"><span data-stu-id="47718-450">-   Host: ReceiveHost</span></span><br /><span data-ttu-id="47718-451">-使用的管線： PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="47718-451">-   Pipeline used: PassThruReceive</span></span> |
  |          <span data-ttu-id="47718-452">**測試資料的位置**</span><span class="sxs-lookup"><span data-stu-id="47718-452">**Location of test data**</span></span>          |                                                                                                                                                                                                                                                                                                    <span data-ttu-id="47718-453">在本機存取的測試資料檔案共用，例如： \\\PerformanceLabs\July\Test Data\\</span><span class="sxs-lookup"><span data-stu-id="47718-453">Locally accessible test data file share, for example: \\\PerformanceLabs\July\Test Data\\</span></span>                                                                                                                                                                                                                                                                                                    |
  
   <span data-ttu-id="47718-454">將資訊放入資料表時，會完成幾件事。</span><span class="sxs-lookup"><span data-stu-id="47718-454">Putting the information into a table accomplishes several things.</span></span> <span data-ttu-id="47718-455">第一次，讓它更為容易專案關係人同意做測試資料的相關假設。</span><span class="sxs-lookup"><span data-stu-id="47718-455">First off, it makes it easier for stakeholders to agree on assumptions made about the test data.</span></span> <span data-ttu-id="47718-456">第二，它提供您可用來決定可能的最佳化，效能評定的資訊。</span><span class="sxs-lookup"><span data-stu-id="47718-456">Second, it provides you with information that can be used to decide on potential optimizations for the performance assessment.</span></span> <span data-ttu-id="47718-457">比方說在您的資料表可以看到用來處理所有的不同資料類型的所有接收位置都都裝載在 ReceiveHost BizTalk 主控件。</span><span class="sxs-lookup"><span data-stu-id="47718-457">For example in the table above you can see that all the receive locations used to process all different data types are hosted within the ReceiveHost BizTalk host.</span></span> <span data-ttu-id="47718-458">這表示此主控件的每個執行個體將會負責處理不同類型和大小的資料 （例如 XML 和二進位的非可壓縮 PDF 資料）。</span><span class="sxs-lookup"><span data-stu-id="47718-458">This means that each instance of this host will be responsible for processing different types and sizes of data (e.g. XML and binary non-compressible PDF data).</span></span> <span data-ttu-id="47718-459">假設每個主控件執行個體是單一執行個體的 BizTalk Server 程序 (BTSNTSVC。EXE)，這可能會變成處理瓶頸。</span><span class="sxs-lookup"><span data-stu-id="47718-459">Given that each host instance is a single instance of the BizTalk Server process (BTSNTSVC.EXE), this could become a processing bottleneck.</span></span> <span data-ttu-id="47718-460">因此在此案例中顯而易見的最佳化，環境就是測試改進後的效能各自分隔的其中一個會接收到它自己個別的主控件的位置。</span><span class="sxs-lookup"><span data-stu-id="47718-460">Therefore in this scenario one immediately obvious optimization for the environment would be to test the performance improvement of separating each receive location into its own individual host.</span></span> <span data-ttu-id="47718-461">具有摘要的表格式格式 」 的測試資料的資訊的存取權，讓這類簡單的最佳化量測計的工作變得更容易。</span><span class="sxs-lookup"><span data-stu-id="47718-461">Having access to the test data information in a summary tabular format makes it easier to gauge simple optimizations such as this.</span></span>  
  
- <span data-ttu-id="47718-462">**規劃進行自動化負載測試，並且載入產生**-建立效能評定測試資料設定檔之後，務必考慮如何執行負載測試的環境中。</span><span class="sxs-lookup"><span data-stu-id="47718-462">**Planning for automated load tests and load generation** - After the test data profile for the performance assessment is established, it is important to consider how to perform load testing within the environment.</span></span> <span data-ttu-id="47718-463">BizTalk Server 2010 負載測試，我們會使用 Visual Studio 2010 負載測試。</span><span class="sxs-lookup"><span data-stu-id="47718-463">For BizTalk Server 2010 load test, we used Visual Studio 2010 load test.</span></span> <span data-ttu-id="47718-464">如需如何加速負載測試使用 Visual Studio 2010 的詳細資訊，請參閱[使用 Visual Studio 促進自動化測試](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。</span><span class="sxs-lookup"><span data-stu-id="47718-464">For more information about how to facilitate load testing using Visual Studio 2010, see [Using Visual Studio to Facilitate Automated Testing](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="47718-465">另請參閱</span><span class="sxs-lookup"><span data-stu-id="47718-465">See Also</span></span>  
 [<span data-ttu-id="47718-466">效能評定的階段</span><span class="sxs-lookup"><span data-stu-id="47718-466">Phases of a Performance Assessment</span></span>](../technical-guides/phases-of-a-performance-assessment.md)