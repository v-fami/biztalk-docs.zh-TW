---
title: "階段 1： 設定評估的範圍 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 16ab4286ba70a8bb14ae5ec726d17b3bde81d7fd
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="phase-1-scoping-the-assessment"></a>階段 1： 設定評估的範圍
本主題描述 BizTalk Server 效能評定的 「 範圍 」 階段的層面。  
  
 常見的錯誤時從事效能評定低估效能評估的範圍。 如果未事先配置足夠的資源和時間，然後負責效能評估小組將無法完成所有建置和測試複雜的類似實際執行環境所需的工作。 處理效能評估，團隊應該小心選擇其戰鬥。 大部分效能評定非常有限的時間範圍內執行，因此小組應該識別，並著重在大部分，關鍵效能目標的一或兩個，或許是三個。 要測試應用程式應該特別將重點放在已識別的效能目標來開發，應該分離出來的所有其他技術變數盡量。 本主題描述 BizTalk Server 效能評定的 「 範圍 」 階段的層面。  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a>開始效能評定之前的考量  
 效能評定完成任何其他工作之前，應該考量下列因素。 這些因素可協助您決定一般方向的 「 範圍 」 階段，而且會針對效能評估很好的起點。  
  
### <a name="message-load"></a>訊息負載  
 請務必考慮直接從一開始要如何複寫實際上會經過生產系統的訊息負載。 比方說，如果在生產環境中 20%的訊息將會 < 20 KB 的大小，將會是百分之 50 \<100 KB 的大小和剩餘的 30%，可能是最多 1 MB 的大小，是很重要，這會複寫在實驗室中。  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a>開發簡短的測試案例詳細資料  
 識別要測試之測試案例之後，務必先識別主要元件所涉及的。 這包括 BizTalk Server 元件 （例如傳訊和協調流程） 和其他元件，包括協力廠商技術，例如 MQSeries 或 SAP。 您一定要知道的所有這些一開始就能協助您的實驗室複雜性量測計，而且可讓您規劃在參與時所需的技術。  
  
### <a name="identify-which-adapters-will-be-used"></a>識別將使用哪一個配接器  
 它是重要性的重要效能評定實驗室會使用實際的介面卡將用於實際執行環境中。 使用實際的介面卡用於生產環境中的失敗會造成問題，因為不同的配接器的效能大幅變化。 例如，File 配接器是最快的 BizTalk Server 配接器的其中一個，但是缺少部分的某些系統; 所需的功能特別是在 File 配接器不支援交易。 交易支援可讀取的訊息，並將它們寫入至 MessageBox 資料庫，所有在 MSDTC 交易的內容。 交易支援會產生額外負荷。 因此，以模擬實際執行的案例且需要交易支援使用 File 配接器不會是可行的比較。 在此案例中，效能結果的本質上無效，因為它們是幾乎不太可能以反映實際系統的實際效能。  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a>評估效能評估所需的時間  
 您可以使用下列指導方針，估計效能評估所需的時間：  
  
-   設定測試環境中配置的準備時間的兩週。 一週會用來建立必要的基礎結構軟體元件，並套用軟體更新。 第二週會專用於設定複製 BizTalk Server 實際執行環境的特定環境。  
  
-   針對每個測試案例，就會分析效能評定期間配置額外的週。  
  
-   配置結尾的實際效能評估記錄的效能評定發現一週。  
  
 因此兩個測試案例的一般效能評估，預估完成評估的時間會是：  
  
 （兩週的準備時間） + （實際的效能評定的兩週） + （至文件發現一週） = 五週的總計。  
  
## <a name="documenting-the-performance-assessment"></a>記錄效能評定  
 範圍設定效能評定的一部分，應該摘要交涉中記錄的評估詳細資料。 這份文件應該明確定義目標和目標、 專案關係人和效能評定的里程碑。 本文件將做為效能評定的藍圖，可協助確保所有專案關係人同意 engagement 詳細資料，並會用來確保播放軌上維持效能評估。這份文件應該整個效能評估更新，並包含在效能評定的結論時結果的摘要。  
  
### <a name="goals-and-objectives"></a>目標  
 **請小心地定義輸送量和延遲目標**-效能準則為何您想要最大化嗎？ 通常有一或多個下列效能量值的 BizTalk Server 效能評估焦點。  
  
-   **輸送量**– 通常測量為每個時間單位可以處理指定的時間間隔內的訊息數目。 例如，輸送量目標可能會定義為能夠處理的一段過去 3 小時內每秒 100 個訊息。  
  
-   **延遲**– 通常定義的所有訊息，可以是百分比處理端對端在指定的時間間隔內，例如：  
  
    -   95%的所有訊息應該在兩秒內已處理的端對端。  
  
    -   100%的所有訊息應該在 4 秒內已處理的端對端。  
  
-   **尖峰負載**  
  
-   **若要完成的批次的時間***X*   
  
-   **大量復原案例**  
  
-   **包括硬體和軟體的高階架構**  
  
 應該以效能目標的"達到最高的可能*X*硬體和軟體的條件約束。 」 決定如何目標事先來測量。 例如，「 最大持續性輸送量*X*端對端 'XLang/s\orchestrations 數 / 秒已完成' 計數器所測量"。  
  
> [!NOTE]  
>  在前面的範例， *X*是預留位置效能評定單元焦點所在的單位。 *X*可能代表協調流程、 訊息或其他相關的 BizTalk 方案的效能標準。  
  
### <a name="is-the-desired-performance-attainable"></a>是未偏離正軌所需的效能？  
 評估時效能考量，您應該先判斷是否可用的硬體資源將足以說明符合效能目標。 在某些情況下，所需的效能就不一定要有額外的硬體投資。 沒有任何可用來判斷何種效能或不可能因為許多因素會影響效能的解決方案，包括複雜的協調流程，可使用時，自訂程式碼，提供特定的硬體組態的 magic 公式訊息的次數會保存到 MessageBox 資料庫中，與外部系統的限制。 下表提供用來達成特定的效能目標，某些案例的硬體摘要。  
  
> [!NOTE]  
>  以下資訊供只指引。 不同的 BizTalk Server 解決方案的需求差異很大，所以此資料表中的值應該當作水管"的經驗法則"估計必要的硬體資源時。  
  
### <a name="sample-hardware-scenarios"></a>硬體案例範例  
  
|處理類型|BizTalk Server 電腦|SQL Server 電腦|輸送量達到產生|注意|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|協調流程公開為 Web 服務，MQSeries 配接器|-6 BizTalk Server 2010 的電腦<br />-每一部執行兩個 3 GHZ 雙核心處理器<br />Windows Server 2008 R2，8 GB 的記憶體|-3 的 SQL Server 2008 R2 電腦<br />-每一部執行四個 3 GHZ 雙核心處理器<br />-64 位元，16 GB 的記憶體<br />-單一 MessageBox 資料庫|每秒的 95 協調流程|-平均延遲 1.11s<br />-使用 99%的訊息處理 < 2 秒延遲|  
|Messaging (傳訊)|6 BizTalk Server 2010 的電腦|3 的 SQL Server 2008 R2 電腦|尖峰輸送量達到 2 小時期間內會產生已 277 每秒的訊息|在之前最佳化解決方案，尖峰輸送量是 125 秒的訊息|  
|低延遲案例中使用協調流程和 Web 服務|一部 BizTalk Server 2010 的雙處理器的電腦|一個四處理器的 SQL Server 2008 R2 電腦|每秒 60 協調流程|達成 < 350 毫秒的延遲|  
|低延遲案例中使用協調流程|23 個四處理器 BizTalk Server 2010 的電腦|-3 的 SQL Server 2008 R2 電腦<br />-一個 16 個 CPU 的主要 MessageBox 資料庫<br />-兩部 8-CPU 次要 MessageBox 資料庫電腦|每秒 1156年協調流程|為準，2010 年 1 月已執行記錄的協調流程的 BizTalk Server 的最高的持續性效能|  
  
 可用的硬體基礎結構會被視為足以達到所需的效能之後，請考慮下列範圍設定 BizTalk Server 效能評估時：  
  
-   哪些配接器和/或加速器需要？  
  
-   在方案中實作協調流程的需求是什麼？  
  
-   文件輸送量需求： 方案的最大持續輸送量需求是什麼？  
  
-   延遲需求： 回應速度方案必須為請求-回應和要求-回應的案例？  
  
-   方案程度的文件的尖峰負載期間復原？  
  
-   方案的高可用性需求有哪些？  
  
-   解決方案的文件追蹤需求有哪些？  
  
-   任何相依的應用程式，例如遠端的 Web 服務或其他系統的效能特性有哪些？ 如果相依的應用程式執行無法跟上必要的負載，會隨之降低整體系統效能。  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a>範圍階段来考慮的硬體資訊  
 設定方案的範圍，當建立高階硬體圖表，包括下列各項：  
  
-   電腦架構 （例如 x86、 x64 和 IA64）  
  
-   （例如類型、 速度、 數字、 核心，以及使用超執行緒） 的 CPU 需求  
  
-   每一部電腦的 RAM 需求  
  
-   本機磁碟儲存體 （類型、 大小、 速度）  
  
-   SAN (存放裝置需求： 數字的 LUN。SAN 卡片類型）  
  
-   網路卡 （數字在每台電腦，100 mb / 秒 (Mbps) 與 1 gigabit / 秒 （1 gbps） 為單位）。  
  
-   防火牆會部署方案中的方式？  
  
-   會使用網路負載平衡硬體嗎？  
  
-   要叢集化是特定的電腦？  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a>軟體資訊給 「 範圍 」 階段納入考量  
 同樣重要的硬體資訊一樣重要的是效能評估期間將會使用為軟體堆疊。  您應該確定您的文件的下列資訊：  
  
-   每一部電腦 （32 或 64 位元，叢集化） 的作業系統。  
  
-   在每一部電腦上安裝伺服器軟體。  
  
-   使用虛擬化軟體。  
  
-   所需的特定軟體功能通常不安裝 COM + 彙總套件修正或 SQL Server 主機修正，例如。  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a>決定是否效能評估的範圍內的程式碼變更  
 這是其中最重要的項目範圍的程序期間決定。  最佳化 BizTalk Server，以及它會使用 （SQL Server、 Windows、 IIS 和更多） 的基礎元件，可以使用本指南所討論的設定變更與微調技術。 不過，如果應用程式不是為了達到最佳效能，它可能會妨礙這些效能提升。 因此，程式碼變更應該只會從範圍有信心應用程式進入實驗室之前已完成完整的程式碼檢閱。 如有必要，您可能會同意，只允許特定變更是，比方說，協調流程中的持續點移除。  
  
## <a name="roles-and-responsibilities"></a>角色和責任  
 其中一個最重要區域的執行效能評估可確保角色和責任清楚地指派。 下列索引鍵的角色應指派的效能評定開始：  
  
-   **Engagement 負責人**-engagement 負責人負責主控整體 engagement 端對端。  此角色通常會資深顧問或架構設計人員所執行。  在理想情況下這位人員應有調整 BizTalk Server 架構系統的經驗。  SQL Server 和任何其他技術，包含第三方的知識是合理的。  請注意您不需要的開頭是所有方面的專家，但是它們必須具有至少有科技的實用知識，他們可以與那些區域的專業人員，並了解它們所套用的最佳化。  
  
-   **測試設計工具**-需要有專門用來設計和實作將在本實驗室期間執行測試的人。  這會牽涉到將用來建立測試，測試每個測試，以確保它都滿足實驗室的需求，以及確保負責執行測試並知道如何使用用戶端的測試架構決定。  
  
-   **環境擁有者**-具有代表性的環境中正確反映實際執行 BizTalk Server 在實驗室環境很重要。  執行這個角色的人員將負責檢查使用的軟體和硬體堆疊的每個項目，而驗證有沒有顯著的差異。 例如 SQL Server 2008 R2 32 位元平台上執行時只可以解決 4 GB 的實體記憶體而不使用實體位址延伸 (PAE) 或 Address Windowing Extensions (AWE)。 在 SQL Server 2008 R2 64 位元到 1 tb 的記憶體可以定址 （這是支援的 Windows Server 2008 R2 的目前最大實體記憶體）。 因此客戶和實驗室環境之間有重大差異是 BizTalk Server 和 SQL Server 所使用的 CPU 架構。 除了這些明顯因素，其他較不明顯的因素，如 service pack 層級及 hotfix 安裝，可能會影響環境的效能。  
  
-   **建置環境負責人**-之後在拉入詳細的規格進行效能評定，其他人應該被指派建置環境的責任。 這包括硬體和軟體堆疊。 在許多情況下一個人會負責這 （這通常是環境擁有者）。 不過在大型企業中的環境擁有者可能會需要不同小組，每個可能負責解決方案的各種元件之間連絡人。 例如，一個小組可能會負責 Windows 組建，另一個用於 SQL Server，和另一個小組，以供 BizTalk Server。  
  
-   **部署負責人**-它需要有其他人負責確保應用程式是否正確部署至 BizTalk Server，正確的繫結會設定並套用任何自訂設定。 這個角色需要全面的解決方案，將需要知道來封裝應用程式及部署應用程式，然後驗證其在實驗室環境內正常運作狀態。  
  
-   **產品的專家**– 請務必識別哪些產品的專家所需的效能評估。 所需的確切技術設計與 BizTalk Server 應用程式的用途而定。  
  
     效能微調 SQL Server 的廣泛知識其中一個所需的最常見產品專家技術。 這些技術都需要有兩種用途： 首先，通常是執行 SQL Server 最佳化，以最佳化效能的 BizTalk 資料庫第二個必要、 進行許多 BizTalk 解決方案會使用自訂資料庫。 使用自訂的資料庫會形成瓶頸方案中的，如果正確最佳化不會套用至 SQL Server 環境。 若要識別並套用適當的資料庫最佳化，下列的 SQL Server 技術則通常需要：  
  
    -   徹底了解的 SQL Server 預存程序程式碼，包括最佳化現有的預存程序的能力。  
  
    -   找出並建立資料庫的遺漏索引功能。  
  
    -   撰寫指令碼來將資料庫分割成多個檔案的能力。  
  
        > [!NOTE]  
        >  如需有關如何套用此最佳化的詳細資訊，請參閱[Databases2 最佳化檔案群組](../technical-guides/optimizing-filegroups-for-the-databases2.md)。  
  
    -   識別使用 SQL Server 2008 R2 績效儀表板報告的效能問題的能力。  
  
        > [!NOTE]  
        >  SQL Server 2008 R2 績效儀表板報告是下載[http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673)。  
  
     每個參與效能評定的專業技術，是上面為 SQL Server 應定義需求的清單。 這可確保資源取得已清除預期會需要它們。 通常需要效能評估期間的專業的知識的另一種技術是 IBM Websphere MQ。 下列清單說明 IBM WebSphere MQ 產品的專家的需求規格：  
  
    -   監視、 維護及自訂 MQSeries 的經驗。  
  
    -   安裝和移轉的新版本的 MQSeries 體驗。  
  
    -   分析，以及調整 MQSeries 效能的功能。  
  
    -   執行 MQSeries 問題分析。  
  
    -   處理序和相關 MQSeries 安全性、 管理、 復原和自動化程序的知識。  
  
-   **文件負責人**-持續更新實驗室文件集端對端效能評估整個是非常重要。 最佳化已順利套用實際執行環境中並取得所需的層級的效能系統之前，應該不會認定為實驗室 engagement 整體 successfulness。 若要這樣做，請務必詳細的記錄下列資訊會保留：  
  
    -   實驗室的高層級的結果摘要  
  
    -   未解決的問題  
  
    -   已解決的問題  
  
    -   在實驗室中時間軸  
  
    -   實驗室進度  
  
    -   依類別實作的最佳化  
  
    -   實作的最佳化順序 （以確保，它們可以套用相同的順序在生產系統中）  
  
    -   高層級架構圖表  
  
    -   要測試案例的詳細資料  
  
    -   其中涉及的協力廠商技術  
  
    -   實驗室硬體圖形  
  
    -   連絡人清單  
  
    -   詳細的硬體清查  
  
    -   完整的詳細結果的附錄  
  
-   **開發人員**-開發人員是否需要太大的範圍而定的參與。 如果已經鎖定程式碼基底和實驗室測試基礎結構和平最佳化有唯有如此，開發人員的服務應該不需要。 在實際執行伺服器的 「 移至即時 」 日期之前執行效能測試，就會發生這種情況。 此時，該程式碼應該具有已鎖定而且完整的迴歸測試應該完成或進行中。 在實驗室中導入的程式碼的任何變更無法導入迴歸，因此，會將風險導入生產系統。 如果允許程式碼變更，則開發人員通常會需要。 下列清單列出通常需要由開發人員參與 BizTalk Server 效能評估技術：  
  
    -   找出並修正效能問題與協調流程的能力  
  
    -   找出並修正效能問題搭配管線的能力  
  
    -   熟悉.NET 包括：  
  
        -   企業程式庫  
  
        -   Visual Studio 的 F1 profiler 專門技術  
  
        -   Microsoft Visual Studio 2010 Ultimate 或 Visual Studio 測試 Professional 2010  
  
-   **測試負責人**-確保取得精確、 完整及徹底組結果相當重要。 測試組長會負責確保擷取、 適當地分析和適當地散發之後每個測試回合, 所需的資訊。 請務必考慮如何將資料擷取，通常是測試資料適合使用的 Excel 試算表的簡報。 下列清單說明應該針對每個測試執行期間在實驗室中擷取的資料：  
  
    -   測試回合的數目  
  
    -   日期  
  
    -   處理的訊息總數  
  
    -   每秒處理的訊息  
  
    -   開始時間  
  
    -   停止時間  
  
    -   以分鐘為單位的測試持續期間  
  
    -   擱置的訊息已處理的訊息總數 / 這可以擷取從 BizTalk 管理主控台或藉由測量使用效能監視器的 BizTalk Server 效能計數器。  
  
    -   \#無法處理的訊息  
  
    -   \#已成功處理的訊息或  
  
    -   測試用戶端的回應  
  
    -   用戶端處理序持續時間的平均值，以秒為單位通常這個值會以實作與 BizTalk Server 的同步訊息方案時，就一定要知道的平均用戶端持續時間值，這通常是在此情況下代表多久畷樾簅正在等候回應的方案。  
  
    -   用戶端處理序持續時間上限值，以秒為單位  
  
    -   用戶端處理序持續時間最小值，以秒為單位  
  
    -   BizTalk Server 要求/回應延遲，以秒為單位  
  
    -   每秒完成的協調流程  
  
    -   %的時間處理的訊息  
  
    -   值**TestResultsLocation** Visual Studio Team System 測試工具所使用的變數。  
  
    -   值**TestResultsLocation** BizUnit 所使用的變數。  
  
    -   任何註解或建議  
  
     收集結果，以及測試負責人應確保他們會監視每個測試回合，以查看是否有任何趨勢。 效能改進應該傳送到小組的其餘部分，並應指示多少效能已提升，而且套用哪一個最佳化來改善。 當天結束時重要測試負責人提供在實驗室中已執行之測試的摘要。 這可讓專案關係人保持明智的實驗室一直持續不斷地進行。 下表將說明如何這項資訊可能會放在一起以範例更新電子郵件：  
  
    ### <a name="test-results-summary"></a>測試結果摘要  
  
    |狀態|輸送量|平均延遲|%< 2 秒|# 個測試回合|BizTalk Server 的電腦數目|# 個訊息|平均訊息大小|有效期間|  
    |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
    |向外延展|140 訊息/秒|0.777 秒|99.3%|2|6|270,000|609 位元組|30 分鐘|  
    |最佳|50 訊息/秒|1.12 秒|99.12%|17|2|360,000|609 位元組|2 小時|  
    |基準|30 訊息/秒|1.52 秒|92.9 %|4|2|36,000|609 位元組|20 分鐘|  
    |目標|5 訊息/秒|\<2 秒|90%|-|2|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a>定義所有交付項目所需的效能評定開始  
 請務必同意採用 BizTalk Server 效能評估之前必須先準備就緒的交付項目。 下一節會描述應該有的效能評定開始交付項目。  
  
-   **要測試的應用程式**– 將會用於效能評定的完整應用程式必須可用。 請務必在應用程式開始效能評定之前處於正常運作狀態，否則便會遺失重要的實驗室測試時間的風險。  
  
-   **自動化的建置和部署規劃**-之前參與效能評定，自動化的組建和部署程序應該開發 BizTalk Server 解決方案的測試。 自動化應用程式的建置程序，可讓您執行的連續每日建置處理序，然後伴隨著一組會測試整個系統的功能流程的組建驗證測試 (Bvt)。 這可讓您偵測編譯與運作問題更快速且輕鬆在開發週期。 在實驗室中，這表示，如果需要變更任何程式碼，則您可以快速驗證正常運作，更新的方案。 手動建置、 部署及設定應用程式效能實驗室可以是繁瑣且容易出錯的工作。 因此建議自動化技術可用來完成下列組建和部署活動：  
  
    -   從原始檔控制取得最新的程式碼。  
  
    -   建置完整的解決方案。  
  
    -   將方案部署到環境。  
  
    -   建立 BizTalk 應用程式。  
  
    -   將 BizTalk Server 資源，例如.dll 檔案和繫結加入至 BizTalk 應用程式。  
  
    -   建立連接埠和協調流程繫結的繫結檔案匯入。  
  
    -   匯出 BizTalk 應用程式為 Microsoft® Windows® Installer 封裝，使它可以在測試或實際執行環境中部署。  
  
    > [!NOTE]  
    >  如需實作自動化的建置程序的詳細資訊，請參閱[自動化建置程序](../technical-guides/automating-the-build-process.md)  
  
     MSBuild 已引進.NET framework 2.0，可讓開發人員稍早自動化工作，例如說明。 數個 BizTalk Server 特有的 MSBuild 工作所含 SDC 工作文件庫，可供下載從[http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288)。  
  
-   **測試資料，會用於效能評定**– 的測試資料，會使用有相當大的影響力的整體效能及成功與否效能評估。  假設訊息、 協調流程和規則引擎的 BizTalk Server 應用程式會利用。 規則引擎中呼叫管線元件在接收端，以判斷哪一個協調流程會用來處理訊息。而它也會從呼叫以判斷流程的各個點上協調流程內。 規則引擎會實作快取，以最佳化執行規則原則。 因此，如果單一訊息當做測試資料，效能評估期間，可能會扭曲測試結果，（因為快取），而且可能會取得不會複寫在生產環境中的結果。  
  
     在理想情況下效能評估期間使用的測試資料應實際執行資料或實際執行資料的子集。 負載和流量將通過生產系統的模式，也應該模擬的測試資料。 定義需求的測試資料時，請考慮下列因素：  
  
    -   **將會通過系統在指定時間的訊息數目**-這以每秒的訊息或每小時的訊息。  
  
    -   **類型的訊息**– 是訊息的一般檔案、 XML 或二進位檔？  
  
    -   **訊息的發佈**– 百分比將一般檔案，將使用的每個 XML 訊息類型佔多少百分比？  
  
    -   **處理需求的尖峰負載**-在許多情況下，可能會在非尖峰時間來處理大的交換。 比方說付款的大型批次可能會在午夜公佈到銀行的系統。 如果這種情況，請確定您能夠複寫這在測試期間。  
  
    -   **用來接收/傳送訊息的端點**-您的環境中另一個接收位置會設定為接收不同類型的訊息。 如需範例一般檔案訊息可能會收到使用 File 配接器或 MQSeries 配接器可能會用來接收 XML 訊息。 訊息可能所有由處理相同的協調流程時這些使用者必須在系統內的不同進入點。 每個這些不同的接收位置可以裝載於不同的主機。事實上執行此動作通常會改善系統的整體效能。  
  
     下表提供應該決定測試資料的規格時擷取之資訊的範例：  
  
    ### <a name="sample-test-data-specification"></a>範例測試資料的規格  
  
    |||  
    |-|-|  
    |**每秒的訊息**|-最大輸送量是在此案例中的索引鍵<br />-50 秒的訊息的目標<br />-低度延遲不是目標|  
    |**訊息類型**|-小型的 XML 訊息，大約 25 KB 符合 XML 結構描述*X*<br />-中的 XML 訊息，大約 512KB 符合 XML 結構描述*Y*|  
    |**訊息的發佈**|-58 %25 KB （小型 XML 訊息）<br />-25 %512 KB （中型 XML 訊息）<br />-11 %3 MB （中型二進位資料 – PDF）-非可壓縮<br />-4 的 %7.5 MB （大型二進位資料 – PDF）-非可壓縮)<br />-2 的 %20 MB （大型二進位資料 – PDF）-非可壓縮|  
    |**尖峰負載的處理需求**|大型二進位資料 (20 MB) 將代表大約 2%的資料 （如上所述），這處理的時間為非可預測。 系統必須能夠容納這些大型訊息在任何指定時間。|  
    |**用來接收/傳送訊息的端點**|**較小的 XML 訊息 (25 KB)**<br /><br /> 接收位置： PaymentXMLDocIn<br />-主控： ReceiveHost<br />-使用管線: [xmlreceive]<br /><br /> **中的 XML 訊息 (512 KB)**<br /><br /> 接收位置： PaymentXMLDocIn<br />-主控： ReceiveHost<br />-使用管線: [xmlreceive]<br /><br /> **中度的二進位資料 (3 MB) 的 – PDF-非可壓縮**<br /><br /> 接收位置： BinaryDataIn<br />-主控： ReceiveHost<br />-使用管線： PassThruReceive<br /><br /> **大型二進位資料 (7.5 MB-20 MB) – PDF-非可壓縮**<br /><br /> 接收位置： BinaryDataIn<br />-主控： ReceiveHost<br />-使用管線： PassThruReceive|  
    |**測試資料的位置**|在本機上存取的測試資料檔案共用，例如： \\\PerformanceLabs\July\Test Data\|  
  
     將資訊放入資料表時，會完成幾件事。 第一次，關閉它輕鬆專案關係人同意的做測試資料的相關假設。 第二，它提供您可用來決定可能的最佳化效能評定的資訊。 例如您上方資料表中可以看到用來處理所有的不同資料類型的所有接收位置會都裝載於 ReceiveHost BizTalk 主控件。 這表示此主控件的每個執行個體將會負責處理不同類型及大小的資料 （例如 XML 和二進位的非可壓縮 PDF 資料）。 假設每個主控件執行個體是 BizTalk Server 程序 (BTSNTSVC 單一執行個體。EXE)，這可能會發生了處理瓶頸。 因此在此案例中馬上看得出來的環境最佳化，可測試的區隔每個效能改善的其中一個會接收到它自己的個別主控件的位置。 在摘要表格格式中具有測試資料資訊的存取權，可以更輕鬆地簡單的最佳化，這類量測計。  
  
-   **計劃的自動化負載測試和負載**-建立效能評定的測試資料設定檔之後，務必考慮如何執行負載測試環境中。 BizTalk Server 2010 負載測試，我們會使用 Visual Studio 2010 負載測試。 如需如何簡化使用 Visual Studio 2010 負載測試的詳細資訊，請參閱[有助於自動化測試使用 Visual Studio](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)。  
  
## <a name="see-also"></a>另請參閱  
 [效能評定階段](../technical-guides/phases-of-a-performance-assessment.md)