---
title: BizTalk Server 層中的瓶頸 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3ad36897-4e4a-43b9-9cb7-0bf22bd954fb
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8f8c7b4366390c040d7a4a34b473bdf4c3cfd352
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37004943"
---
# <a name="bottlenecks-in-the-biztalk-server-tier"></a><span data-ttu-id="ecd29-102">BizTalk Server 層中的瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-102">Bottlenecks in the BizTalk Server Tier</span></span>
<span data-ttu-id="ecd29-103">BizTalk 層可以區分為下列功能區域：</span><span class="sxs-lookup"><span data-stu-id="ecd29-103">The BizTalk tier can be divided into the following functional areas:</span></span>  
  
- <span data-ttu-id="ecd29-104">接收</span><span class="sxs-lookup"><span data-stu-id="ecd29-104">Receiving</span></span>  
  
- <span data-ttu-id="ecd29-105">Processing</span><span class="sxs-lookup"><span data-stu-id="ecd29-105">Processing</span></span>  
  
- <span data-ttu-id="ecd29-106">傳輸</span><span class="sxs-lookup"><span data-stu-id="ecd29-106">Transmitting</span></span>  
  
- <span data-ttu-id="ecd29-107">追蹤</span><span class="sxs-lookup"><span data-stu-id="ecd29-107">Tracking</span></span>  
  
- <span data-ttu-id="ecd29-108">其他</span><span class="sxs-lookup"><span data-stu-id="ecd29-108">Other</span></span>  
  
  <span data-ttu-id="ecd29-109">對於這些區域，如果系統資源 （CPU、 記憶體和磁碟） 似乎已經飽和，升級伺服器平台相應增加或縮小根據您的應用程式的特性。</span><span class="sxs-lookup"><span data-stu-id="ecd29-109">For these areas, if the system resources (CPU, memory, and disk) appear to be saturated, upgrade the server by scaling the platform up or out based on the characteristics of your application.</span></span> <span data-ttu-id="ecd29-110">如果系統資源尚未飽和，請執行在此節中描述的步驟。</span><span class="sxs-lookup"><span data-stu-id="ecd29-110">If the system resources are not saturated, perform the steps described in this section.</span></span>  
  
## <a name="bottlenecks-in-the-receive-location"></a><span data-ttu-id="ecd29-111">接收位置中的瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-111">Bottlenecks in the receive location</span></span>  
 <span data-ttu-id="ecd29-112">如果訊息累積在接收位置 （例如，檔案接收資料夾變得龐大），這表示系統無法跟上的連入負載的速度不夠快吸收資料。</span><span class="sxs-lookup"><span data-stu-id="ecd29-112">If messages build up at the receive location (for example, file receive folder grows large), this indicates that the system is unable to absorb data fast enough to keep up with the incoming load.</span></span> <span data-ttu-id="ecd29-113">這是因為內部的節流。</span><span class="sxs-lookup"><span data-stu-id="ecd29-113">This is due to internal throttling.</span></span> <span data-ttu-id="ecd29-114">也就是 BizTalk Server 可以降低接收速率，如果 「 訂閱者 」 無法處理的資料快速足夠而造成的積存增加資料庫資料表中。</span><span class="sxs-lookup"><span data-stu-id="ecd29-114">That is, BizTalk Server reduces the receiving rate if the subscribers are unable to process data fast enough causing backlog buildup in the database tables.</span></span> <span data-ttu-id="ecd29-115">如果瓶頸因為硬體限制，請嘗試相應增加。</span><span class="sxs-lookup"><span data-stu-id="ecd29-115">If the bottleneck is caused by hardware limitations, try scaling up.</span></span> <span data-ttu-id="ecd29-116">如需有關相應增加的詳細資訊，請參閱 BizTalk Server 2010 文件中的下列主題：</span><span class="sxs-lookup"><span data-stu-id="ecd29-116">For more information about scaling up, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
- <span data-ttu-id="ecd29-117">[向上擴充 BizTalk Server 層](http://go.microsoft.com/fwlink/?LinkId=158073)(http://go.microsoft.com/fwlink/?LinkId=158073)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-117">[Scaling Up the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158073) (http://go.microsoft.com/fwlink/?LinkId=158073).</span></span>  
  
- <span data-ttu-id="ecd29-118">[向上擴充 SQL Server 層](http://go.microsoft.com/fwlink/?LinkId=158077)(http://go.microsoft.com/fwlink/?LinkId=158077)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-118">[Scaling Up the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158077) (http://go.microsoft.com/fwlink/?LinkId=158077).</span></span>  
  
  <span data-ttu-id="ecd29-119">它也可向外擴充方法是加入主機對應到接收處理常式的主控件執行個體 （伺服器）。</span><span class="sxs-lookup"><span data-stu-id="ecd29-119">It is also possible to scale out by adding a host instance (server) to the host mapped to the receive handler.</span></span> <span data-ttu-id="ecd29-120">如需有關向外延展的詳細資訊，請參閱 BizTalk Server 2010 文件中的下列主題：</span><span class="sxs-lookup"><span data-stu-id="ecd29-120">For more information about scaling out, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
- <span data-ttu-id="ecd29-121">[向外擴充 BizTalk Server 層](http://go.microsoft.com/fwlink/?LinkId=158076)(http://go.microsoft.com/fwlink/?LinkId=158076)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-121">[Scaling Out the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158076) (http://go.microsoft.com/fwlink/?LinkId=158076).</span></span>  
  
- <span data-ttu-id="ecd29-122">[向外擴充 SQL Server 層](http://go.microsoft.com/fwlink/?LinkId=158075)(http://go.microsoft.com/fwlink/?LinkId=158075)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-122">[Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158075) (http://go.microsoft.com/fwlink/?LinkId=158075).</span></span>  
  
  <span data-ttu-id="ecd29-123">使用 Perfmon 來監視系統上的資源使用。</span><span class="sxs-lookup"><span data-stu-id="ecd29-123">Use Perfmon to monitor the resource use on the system.</span></span> <span data-ttu-id="ecd29-124">確認外部的接收位置並非瓶頸肇因，這點很重要。</span><span class="sxs-lookup"><span data-stu-id="ecd29-124">It is important to confirm that the external receive location is not the cause of the bottleneck.</span></span> <span data-ttu-id="ecd29-125">例如，確認是否因為較高的磁碟 I/O 已飽和的遠端檔案共用、 裝載遠端外寄佇列的伺服器尚未飽和，或用戶端用來產生 HTTP 負載不會耗盡執行緒上。</span><span class="sxs-lookup"><span data-stu-id="ecd29-125">For example, confirm whether the remote file share is saturated due to high disk I/O, the server hosting the remote outgoing queue is not saturated, or the client used to generate HTTP load is not starved on threads.</span></span>  
  
## <a name="processing-bottlenecks"></a><span data-ttu-id="ecd29-126">處理瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-126">Processing bottlenecks</span></span>  
 <span data-ttu-id="ecd29-127">如果主控件佇列 – 長度 」 效能計數器會持續增加，這表示，協調流程未完成速度不夠快。</span><span class="sxs-lookup"><span data-stu-id="ecd29-127">If the Host Queue – Length performance counter is climbing, it indicates that the orchestrations are not completing fast enough.</span></span> <span data-ttu-id="ecd29-128">如需詳細資訊，請參閱本主題中的 Perfmon 計數器表格。</span><span class="sxs-lookup"><span data-stu-id="ecd29-128">For more information, see the Perfmon counter table in this topic.</span></span> <span data-ttu-id="ecd29-129">這可能是由於記憶體爭用或 CPU 飽和而導致。</span><span class="sxs-lookup"><span data-stu-id="ecd29-129">This could be due to memory contention or CPU saturation.</span></span>  
  
 <span data-ttu-id="ecd29-130">如果協調流程伺服器是瓶頸所在，請使用 Perfmon 以識別來源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-130">If the orchestration servers are the bottleneck, use Perfmon to identify the source.</span></span>  
  
 <span data-ttu-id="ecd29-131">如果伺服器受限於 CPU 處理能力，請考慮下列各項：</span><span class="sxs-lookup"><span data-stu-id="ecd29-131">If the server is CPU bound, consider the following:</span></span>  
  
-   <span data-ttu-id="ecd29-132">如果工作流程很複雜，請考慮分割成多個較小的協調流程的協調流程</span><span class="sxs-lookup"><span data-stu-id="ecd29-132">If the workflow is complex, consider splitting the orchestration into multiple smaller orchestrations</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ecd29-133">將協調流程切割為多個工作流程，可能會導致額外的延遲狀況，並增加複雜度。</span><span class="sxs-lookup"><span data-stu-id="ecd29-133">Splitting an orchestration into multiple workflows can cause additional latency and add complexity.</span></span> <span data-ttu-id="ecd29-134">多個工作流程也可能導致增加訊息來發佈和取用 BizTalkMsgBoxDb，從數種將額外的壓力放在資料庫上。</span><span class="sxs-lookup"><span data-stu-id="ecd29-134">Multiple workflows can also cause an increase in the number of messages published to and consumed from the BizTalkMsgBoxDb, putting additional pressure on the database.</span></span>  
  
-   <span data-ttu-id="ecd29-135">如果您使用複雜的對應，請考慮是否將其移動至接收/傳送埠。</span><span class="sxs-lookup"><span data-stu-id="ecd29-135">If you use complex maps, consider whether they can be moved to the Receive/Send ports.</span></span> <span data-ttu-id="ecd29-136">請務必確認哪一個連接埠有額外的頻寬。</span><span class="sxs-lookup"><span data-stu-id="ecd29-136">Be sure to verify which ports have additional bandwidth.</span></span>  
  
-   <span data-ttu-id="ecd29-137">請考慮向上擴充硬體，或藉由設定額外的處理伺服器向外延展。</span><span class="sxs-lookup"><span data-stu-id="ecd29-137">Consider scaling up the hardware or scaling out by configuring an additional processing server.</span></span>  
  
## <a name="transmitting-bottlenecks"></a><span data-ttu-id="ecd29-138">傳輸瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-138">Transmitting bottlenecks</span></span>  
 <span data-ttu-id="ecd29-139">如果裝載伺服器傳送配接器已飽和的資源 （例如，磁碟、 記憶體或 CPU） 時，請考慮向上擴充伺服器或向外擴充到額外傳送主機伺服器。</span><span class="sxs-lookup"><span data-stu-id="ecd29-139">If the server hosting the send adapters is saturated on resources (for example, disk, memory, or CPU), consider scaling-up the server or scaling-out to additional send host servers.</span></span> <span data-ttu-id="ecd29-140">如果目的地 (在 BizTalk 外部) 無法以夠快的速率接收資料，則傳送層可能會成為瓶頸。</span><span class="sxs-lookup"><span data-stu-id="ecd29-140">The sending tier could become the bottleneck if the destination (external to BizTalk) is unable to receive data fast enough.</span></span> <span data-ttu-id="ecd29-141">這會導致訊息在 MessageBox 資料庫 (Application SendHostQ) 中累積。</span><span class="sxs-lookup"><span data-stu-id="ecd29-141">This will cause messages to buildup in the MessageBox database (Application SendHostQ).</span></span>  
  
 <span data-ttu-id="ecd29-142">如果所有端點在拓撲的範圍內，找出位於目的地的原因。</span><span class="sxs-lookup"><span data-stu-id="ecd29-142">If all the endpoints are within the scope of the topology, isolate the cause at the destination.</span></span> <span data-ttu-id="ecd29-143">例如，決定是否 HTTP 位置會以最佳方式設定為接收負載。</span><span class="sxs-lookup"><span data-stu-id="ecd29-143">For example, determine if the HTTP location is optimally configured to receive load.</span></span> <span data-ttu-id="ecd29-144">如果沒有，請考慮相應放大。也會決定是否目的地不斷增加，由於 BizTalk 傳遞的過多的輸出訊息。</span><span class="sxs-lookup"><span data-stu-id="ecd29-144">If not, consider scaling out. Also determine if the destination is growing due to excessive output messages delivered by BizTalk.</span></span> <span data-ttu-id="ecd29-145">如果是，您可能需要維護計畫來封存和清除目的地訊息。</span><span class="sxs-lookup"><span data-stu-id="ecd29-145">If yes, you might need a maintenance plan to archive and purge the destination messages.</span></span> <span data-ttu-id="ecd29-146">大量的目的地資料夾中的檔案可能嚴重影響 BizTalk 服務的能力，將資料認可到磁碟機。</span><span class="sxs-lookup"><span data-stu-id="ecd29-146">Large numbers of files in a destination folder can severely impact the ability of the BizTalk service to commit data to the disk drive.</span></span>  
  
## <a name="tracking-bottlenecks"></a><span data-ttu-id="ecd29-147">追蹤瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-147">Tracking bottlenecks</span></span>  
 <span data-ttu-id="ecd29-148">追蹤主控件執行個體負責將商務活動監控 (BAM) 和健全狀況與活動追蹤 (HAT) 資料從 MessageBox 資料庫 （TrackingData 資料表） 移到 BizTalk 追蹤 」 和/或 BAM 主要匯入的資料庫資料表。</span><span class="sxs-lookup"><span data-stu-id="ecd29-148">The Tracking host instance is responsible for moving the Business Activity Monitoring (BAM) and Health and Activity Tracking (HAT) data from the MessageBox database (TrackingData table) to the BizTalk Tracking and/or BAM Primary Import database tables.</span></span> <span data-ttu-id="ecd29-149">如果設定多個 MessageBox 資料庫，則追蹤主控件執行個體使用四個執行緒，每個 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="ecd29-149">If multiple MessageBox databases are configured, the tracking host instance uses four threads per MessageBox database.</span></span>  
  
 <span data-ttu-id="ecd29-150">可以追蹤主控件執行個體是受 CPU 限制。</span><span class="sxs-lookup"><span data-stu-id="ecd29-150">It is possible that the Tracking host instance is CPU bound.</span></span> <span data-ttu-id="ecd29-151">如果是，請考慮向上擴充伺服器，或向外延展設定額外的伺服器與主控件追蹤已啟用。</span><span class="sxs-lookup"><span data-stu-id="ecd29-151">If it is, consider scaling-up the server or scale-out by configuring an additional server with Host Tracking enabled.</span></span> <span data-ttu-id="ecd29-152">多個主控件執行個體，會自動載入平衡多個 MessageBox 資料庫設定。</span><span class="sxs-lookup"><span data-stu-id="ecd29-152">The multiple host instances will automatically load balance for the multiple MessageBox databases configured.</span></span> <span data-ttu-id="ecd29-153">如需有關調整的詳細資訊，請參閱主題[調整您的解決方案](http://go.microsoft.com/fwlink/?LinkId=158078)(http://go.microsoft.com/fwlink/?LinkId=158078)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-153">For more information about scaling, see the topic [Scaling Your Solutions](http://go.microsoft.com/fwlink/?LinkId=158078) (http://go.microsoft.com/fwlink/?LinkId=158078).</span></span>  
  
 <span data-ttu-id="ecd29-154">如果 MessageBox 資料庫中的 TrackingData 資料表變得龐大，通常是因為在 BizTalk 追蹤 」 和/或 BAM 主要匯入資料庫上的資料維護工作未執行所設定，導致 BizTalk 追蹤 」 及/或 BAM 主要的成長匯入資料庫。</span><span class="sxs-lookup"><span data-stu-id="ecd29-154">If the TrackingData table in the MessageBox database grows large, it is usually because the data maintenance jobs on the BizTalk Tracking and/or BAM Primary Import database are not running as configured, causing growth of the BizTalk Tracking and/or BAM Primary Import databases.</span></span> <span data-ttu-id="ecd29-155">這些資料庫會變得太大之後它會對追蹤主控件能夠將資料插入 TrackingData 資料表來產生負面影響。</span><span class="sxs-lookup"><span data-stu-id="ecd29-155">After these databases grow too large it can have a negative impact on the ability of the Tracking host to insert data into the TrackingData table.</span></span> <span data-ttu-id="ecd29-156">這會將備份 MessageBox 資料庫資料表中的追蹤的資料。</span><span class="sxs-lookup"><span data-stu-id="ecd29-156">This causes tracked data to back up in the MessageBox database tables.</span></span> <span data-ttu-id="ecd29-157">TrackingData 資料表成長會促使節流開始。</span><span class="sxs-lookup"><span data-stu-id="ecd29-157">The growth of the TrackingData table cause throttling to start.</span></span>  
  
 <span data-ttu-id="ecd29-158">您應該只啟用應用程式，因為這會減少記錄的資料量，並降低其風險追蹤瓶頸所需的最小追蹤。</span><span class="sxs-lookup"><span data-stu-id="ecd29-158">You should only enable the minimum tracking required for your application, as this will reduce the amount of data logged and lower the risk of tracking bottlenecks.</span></span> <span data-ttu-id="ecd29-159">停用個別的項目，例如協調流程和傳送/接收埠的追蹤設定的相關資訊，請參閱[如何停用追蹤](http://go.microsoft.com/fwlink/?LinkId=160064)(http://go.microsoft.com/fwlink/?LinkId=160064)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-159">For information about disabling tracking settings for individual items such as orchestrations and send/receive ports, see [How to Disable Tracking](http://go.microsoft.com/fwlink/?LinkId=160064) (http://go.microsoft.com/fwlink/?LinkId=160064).</span></span>  
  
## <a name="other"></a><span data-ttu-id="ecd29-160">其他</span><span class="sxs-lookup"><span data-stu-id="ecd29-160">Other</span></span>  
 <span data-ttu-id="ecd29-161">設定部署拓撲，使不同的功能可在專用的外掛式主控件執行個體中執行。</span><span class="sxs-lookup"><span data-stu-id="ecd29-161">Configure the deployment topology such that different functionality runs in dedicated isolated host instances.</span></span> <span data-ttu-id="ecd29-162">如此一來每個主控件執行個體取得其自己一組資源 （例如，在 32 位元系統，2 GB 的虛擬記憶體位址空間、 控制代碼、 執行緒）。</span><span class="sxs-lookup"><span data-stu-id="ecd29-162">This way each host instance gets its own set of resources (for example, on a 32-bit system, 2GB virtual memory address space, handles, threads).</span></span> <span data-ttu-id="ecd29-163">伺服器是否有足夠的 CPU 空間和記憶體來裝載多個主控件執行個體，則可以設定為相同的實體電腦上執行。</span><span class="sxs-lookup"><span data-stu-id="ecd29-163">If the server is has sufficient CPU headroom and memory to host multiple host instances, they can be configured to run on the same physical computer.</span></span> <span data-ttu-id="ecd29-164">如果沒有，請考慮相應放大，藉由將功能移至專用的伺服器。</span><span class="sxs-lookup"><span data-stu-id="ecd29-164">If not, consider scaling out by moving the functionality to dedicated servers.</span></span> <span data-ttu-id="ecd29-165">在多個伺服器上執行相同的功能，也可以提供具有高度可用性的組態。</span><span class="sxs-lookup"><span data-stu-id="ecd29-165">Running the same functionality on multiple servers also serves to provide a highly available configuration.</span></span>  
  
## <a name="biztalk-system-performance-counters"></a><span data-ttu-id="ecd29-166">BizTalk 系統效能計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-166">BizTalk system performance counters</span></span>  
  
|<span data-ttu-id="ecd29-167">Object</span><span class="sxs-lookup"><span data-stu-id="ecd29-167">Object</span></span>|<span data-ttu-id="ecd29-168">執行個體</span><span class="sxs-lookup"><span data-stu-id="ecd29-168">Instance</span></span>|<span data-ttu-id="ecd29-169">計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-169">Counter</span></span>|<span data-ttu-id="ecd29-170">監控目的</span><span class="sxs-lookup"><span data-stu-id="ecd29-170">Monitoring Purpose</span></span>|  
|------------|--------------|-------------|------------------------|  
|<span data-ttu-id="ecd29-171">處理器</span><span class="sxs-lookup"><span data-stu-id="ecd29-171">Processor</span></span>|<span data-ttu-id="ecd29-172">_Total</span><span class="sxs-lookup"><span data-stu-id="ecd29-172">_Total</span></span>|<span data-ttu-id="ecd29-173">% 處理器時間</span><span class="sxs-lookup"><span data-stu-id="ecd29-173">% Processor Time</span></span>|<span data-ttu-id="ecd29-174">資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-174">Resource Contention</span></span>|  
|<span data-ttu-id="ecd29-175">處理</span><span class="sxs-lookup"><span data-stu-id="ecd29-175">Process</span></span>|<span data-ttu-id="ecd29-176">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="ecd29-176">BTSNTSvc</span></span>|<span data-ttu-id="ecd29-177">虛擬位元組</span><span class="sxs-lookup"><span data-stu-id="ecd29-177">Virtual Bytes</span></span>|<span data-ttu-id="ecd29-178">記憶體流失/膨脹</span><span class="sxs-lookup"><span data-stu-id="ecd29-178">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="ecd29-179">處理</span><span class="sxs-lookup"><span data-stu-id="ecd29-179">Process</span></span>|<span data-ttu-id="ecd29-180">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="ecd29-180">BTSNTSvc</span></span>|<span data-ttu-id="ecd29-181">私用位元組</span><span class="sxs-lookup"><span data-stu-id="ecd29-181">Private Bytes</span></span>|<span data-ttu-id="ecd29-182">記憶體流失/膨脹</span><span class="sxs-lookup"><span data-stu-id="ecd29-182">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="ecd29-183">處理</span><span class="sxs-lookup"><span data-stu-id="ecd29-183">Process</span></span>|<span data-ttu-id="ecd29-184">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="ecd29-184">BTSNTSvc</span></span>|<span data-ttu-id="ecd29-185">控制碼計數</span><span class="sxs-lookup"><span data-stu-id="ecd29-185">Handle Count</span></span>|<span data-ttu-id="ecd29-186">資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-186">Resource Contention</span></span>|  
|<span data-ttu-id="ecd29-187">處理</span><span class="sxs-lookup"><span data-stu-id="ecd29-187">Process</span></span>|<span data-ttu-id="ecd29-188">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="ecd29-188">BTSNTSvc</span></span>|<span data-ttu-id="ecd29-189">執行緒計數</span><span class="sxs-lookup"><span data-stu-id="ecd29-189">Thread Count</span></span>|<span data-ttu-id="ecd29-190">資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-190">Resource Contention</span></span>|  
|<span data-ttu-id="ecd29-191">實體磁碟</span><span class="sxs-lookup"><span data-stu-id="ecd29-191">Physical Disk</span></span>|<span data-ttu-id="ecd29-192">（_i)</span><span class="sxs-lookup"><span data-stu-id="ecd29-192">_Instance</span></span>|<span data-ttu-id="ecd29-193">% 閒置時間</span><span class="sxs-lookup"><span data-stu-id="ecd29-193">% Idle Time</span></span>|<span data-ttu-id="ecd29-194">資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-194">Resource Contention</span></span>|  
|<span data-ttu-id="ecd29-195">實體磁碟</span><span class="sxs-lookup"><span data-stu-id="ecd29-195">Physical Disk</span></span>|<span data-ttu-id="ecd29-196">（_i)</span><span class="sxs-lookup"><span data-stu-id="ecd29-196">_Instance</span></span>|<span data-ttu-id="ecd29-197">Average Disk Queue Length</span><span class="sxs-lookup"><span data-stu-id="ecd29-197">Average Disk Queue Length</span></span>|<span data-ttu-id="ecd29-198">資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-198">Resource Contention</span></span>|  
  
### <a name="cpu-contention"></a><span data-ttu-id="ecd29-199">當 CPU 出現競爭</span><span class="sxs-lookup"><span data-stu-id="ecd29-199">CPU contention</span></span>  
 <span data-ttu-id="ecd29-200">如果處理器已飽和，您可以片段分隔接收從傳送和協調流程的應用程式。</span><span class="sxs-lookup"><span data-stu-id="ecd29-200">If the processor is saturated, you can fragment the application by separating the receiving from the sending and orchestration.</span></span> <span data-ttu-id="ecd29-201">若要這樣做，建立不同的主控件對應的主機特定功能 （接收/傳送/協調流程/追蹤），將專用的伺服器新增到這些不同的主控件。</span><span class="sxs-lookup"><span data-stu-id="ecd29-201">To do this, create separate hosts, map the hosts to specific functionality (receive/send/orchestrations/tracking) and add dedicated servers to these separate hosts.</span></span> <span data-ttu-id="ecd29-202">協調流程功能通常是需要大量 CPU。</span><span class="sxs-lookup"><span data-stu-id="ecd29-202">Orchestration functionality is often CPU-intensive.</span></span> <span data-ttu-id="ecd29-203">如果您設定系統，因此不同的專用伺服器上執行的協調流程，這有助於改善整體系統輸送量。</span><span class="sxs-lookup"><span data-stu-id="ecd29-203">If you configure the system so the orchestrations execute on a separate dedicated server, this can help improve overall system throughput.</span></span>  
  
 <span data-ttu-id="ecd29-204">如果部署多個協調流程，您可以將它們登錄至不同的專用協調流程的主機。</span><span class="sxs-lookup"><span data-stu-id="ecd29-204">If multiple orchestrations are deployed, you can enlist them to different dedicated orchestration hosts.</span></span> <span data-ttu-id="ecd29-205">將不同的實體伺服器對應至專用的協調流程主控件，可確保不同的協調流程會被隔離，並不會爭用相同實體的位址空間中或在相同伺服器上的共用資源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-205">Mapping different physical servers to the dedicated orchestration hosts ensures that the different orchestrations are isolated and do not contend for shared resources either in the same physical address space or on the same server.</span></span>  
  
 <span data-ttu-id="ecd29-206">停止未使用的主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="ecd29-206">Stop unused host instances.</span></span> <span data-ttu-id="ecd29-207">未使用的主控件執行個體可以定期檢查來處理訊息的 MessageBox 競爭 CPU 和記憶體資源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-207">Unused host instances can compete for CPU and memory resources by regularly checking the MessageBox for messages to process.</span></span> <span data-ttu-id="ecd29-208">此外，停止未使用接收位置、 傳送埠和協調流程。</span><span class="sxs-lookup"><span data-stu-id="ecd29-208">Additionally, stop unused receive locations, send ports, and orchestrations.</span></span>  
  
### <a name="spool-table-growth"></a><span data-ttu-id="ecd29-209">多工緩衝處理資料表成長</span><span class="sxs-lookup"><span data-stu-id="ecd29-209">Spool table growth</span></span>  
 <span data-ttu-id="ecd29-210">下游瓶頸及/或資源爭用情況可能會造成多工緩衝處理以開始過度成長並降低整體效能。</span><span class="sxs-lookup"><span data-stu-id="ecd29-210">Downstream bottlenecks and/or resource contention can cause the spool to start growing excessively and reduce overall performance.</span></span> <span data-ttu-id="ecd29-211">如需詳細資訊，請參閱 「 多工緩衝處理資料表成長 」 中[如何找出瓶頸 MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-211">For more information, see “Spool Table Growth” in [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="memory-starvation"></a><span data-ttu-id="ecd29-212">記憶體耗盡</span><span class="sxs-lookup"><span data-stu-id="ecd29-212">Memory starvation</span></span>  
 <span data-ttu-id="ecd29-213">高輸送量實例可能增加對系統記體體的需求。</span><span class="sxs-lookup"><span data-stu-id="ecd29-213">High throughput scenarios can have increased demand on system memory.</span></span> <span data-ttu-id="ecd29-214">由於 32 位元處理序受限於它可以取用的記憶體數量，建議您使用接收/程序/傳送功能分隔到不同的主控件執行個體，每個主機將會收到它自己的 2GB 位址空間。</span><span class="sxs-lookup"><span data-stu-id="ecd29-214">Since a 32-bit process is limited by the amount of memory it can consume, it is recommended to separate the receive/process/send functionality into separate host instances such that each host receives its own 2GB address space.</span></span> <span data-ttu-id="ecd29-215">此外，如果相同的實體伺服器上執行多個主控件執行個體，您可以升級至 4/8 GB 的記憶體，來避免交換到磁碟的資料，從實際的記憶體。</span><span class="sxs-lookup"><span data-stu-id="ecd29-215">In addition, if multiple host instances are running on the same physical server, you can upgrade to 4/8GB memory to avoid swapping data to disk from real memory.</span></span> <span data-ttu-id="ecd29-216">長時間執行的協調流程可以保留較長的已配置記憶體。</span><span class="sxs-lookup"><span data-stu-id="ecd29-216">Long running orchestrations can hold onto allocated memory longer.</span></span> <span data-ttu-id="ecd29-217">這會導致記憶體膨脹，並啟動節流。</span><span class="sxs-lookup"><span data-stu-id="ecd29-217">This can cause memory bloat and throttling to start.</span></span> <span data-ttu-id="ecd29-218">大型訊息也可能導致高記憶體耗用量。</span><span class="sxs-lookup"><span data-stu-id="ecd29-218">Large messages can also cause high memory consumption.</span></span>  
  
 <span data-ttu-id="ecd29-219">您可以藉由降低處理大型訊息時，就會發生記憶體膨脹問題使更加輕鬆**內部訊息佇列大小**並**每一 CPU 的內含式訊息**特定主控件的值。</span><span class="sxs-lookup"><span data-stu-id="ecd29-219">You can ease the memory bloat problem that occurs when large messages are processed by lowering the **Internal Message Queue Size** and **In-process Messages per CPU** values for the specific host.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ecd29-220">如果延遲是一項考量，會變更為**內部的訊息佇列大小**並**每一 CPU 的內含式訊息**應謹慎使用，這可能會增加系統的端對端延遲。</span><span class="sxs-lookup"><span data-stu-id="ecd29-220">If latency is a concern, changes to **Internal Message Queue Size** and **In-process Messages per CPU** should be made with caution as this may increase end-to-end latency of the system.</span></span>  
  
### <a name="disk-contention"></a><span data-ttu-id="ecd29-221">磁碟爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-221">Disk contention</span></span>  
 <span data-ttu-id="ecd29-222">如果磁碟已飽和 （例如，具有大量的檔案 /MSMQ 傳輸），請考慮升級為多磁針和分割磁碟使用 RAID 10。</span><span class="sxs-lookup"><span data-stu-id="ecd29-222">If the disks are saturated (for example, with a large number of FILE/MSMQ transports), consider upgrading to multiple spindles and striping the disks with RAID 10.</span></span> <span data-ttu-id="ecd29-223">此外，每當使用檔案傳輸，務必確定接收和傳送資料夾不會變得大於 50000 的檔案。</span><span class="sxs-lookup"><span data-stu-id="ecd29-223">In addition, whenever using the FILE transport, it is important to ensure that the receive and send folders do not grow larger than 50,000 files.</span></span>  
  
 <span data-ttu-id="ecd29-224">接收資料夾可以成長大型如果 BizTalk Server 會調整至系統的內送資料。</span><span class="sxs-lookup"><span data-stu-id="ecd29-224">The receive folder can grow large if BizTalk Server throttles incoming data into the system.</span></span> <span data-ttu-id="ecd29-225">請務必從傳送資料夾移動資料，以便在此資料夾中的成長不會影響 BizTalk Server 能夠撰寫額外的資料。</span><span class="sxs-lookup"><span data-stu-id="ecd29-225">It is important to move data from the send folder so that growth in this folder does not impact the ability of BizTalk Server to write additional data.</span></span> <span data-ttu-id="ecd29-226">對於非交易式 MSMQ 佇列，建議從遠端建立接收佇列，以便在 BizTalk Server 將會減少磁碟爭用情況。</span><span class="sxs-lookup"><span data-stu-id="ecd29-226">For non-transactional MSMQ queues, it is recommended to remotely create the receive queues so that disk contention is reduced on the BizTalk Server.</span></span>  
  
 <span data-ttu-id="ecd29-227">遠端非交易式佇列組態也提供高可用性，因為裝載佇列的遠端伺服器可以叢集化。</span><span class="sxs-lookup"><span data-stu-id="ecd29-227">The remote non-transactional queue configuration also provides high availability as the remote server hosting the queue can be clustered.</span></span>  
  
### <a name="other-system-resource-contention"></a><span data-ttu-id="ecd29-228">其他系統資源爭用</span><span class="sxs-lookup"><span data-stu-id="ecd29-228">Other system resource contention</span></span>  
 <span data-ttu-id="ecd29-229">根據傳輸類型，可能必須設定 IIS 的 HTTP （例如，MaxIOThreads、 MaxWorkerThreads） 之類的系統資源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-229">Depending on the type of transport, it may be necessary to configure system resources like IIS for HTTP (for example, MaxIOThreads, MaxWorkerThreads).</span></span>  
  
 <span data-ttu-id="ecd29-230">使用 ASP.NET 2.0 和 ASP.Net 4 中， \<processModel autoConfig ="true"\> machine.config 檔案中的設定會自動設定以獲得最佳效能的下列設定：</span><span class="sxs-lookup"><span data-stu-id="ecd29-230">With ASP.NET 2.0 and ASP.Net 4, the \<processModel autoConfig="true"\> setting in the machine.config file will automatically configure the following settings for optimal performance:</span></span>  
  
- <span data-ttu-id="ecd29-231">最大工作者執行緒</span><span class="sxs-lookup"><span data-stu-id="ecd29-231">Maximum Worker Threads</span></span>  
  
- <span data-ttu-id="ecd29-232">最大的 IO 執行緒</span><span class="sxs-lookup"><span data-stu-id="ecd29-232">Maximum IO Threads</span></span>  
  
- <span data-ttu-id="ecd29-233">httpRuntime 項目的 minFreeThreads 屬性</span><span class="sxs-lookup"><span data-stu-id="ecd29-233">minFreeThreads attribute of the httpRuntime element</span></span>  
  
- <span data-ttu-id="ecd29-234">httpRuntime 項目的 88n,minlocalrequestfreethreads 屬性</span><span class="sxs-lookup"><span data-stu-id="ecd29-234">minLocalRequestFreeThreads attribute of the httpRuntime element</span></span>  
  
- <span data-ttu-id="ecd29-235">maxConnection 屬性\<Connectionmanagement>\>項目 （網路設定） 項目</span><span class="sxs-lookup"><span data-stu-id="ecd29-235">maxConnection attribute of the \<connectionManagement\> Element (Network Settings) element</span></span>  
  
  <span data-ttu-id="ecd29-236">如需有關如何設定會影響配接器效能的參數的詳細資訊，請參閱[ASP.NET 組態設定為 processModel 項目](http://go.microsoft.com/fwlink/?LinkId=158080)(http://go.microsoft.com/fwlink/?LinkId=158080)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-236">For more information about configuring parameters that affect adapter performance, see [ASP.NET Configuration Settings for the processModel Element](http://go.microsoft.com/fwlink/?LinkId=158080) (http://go.microsoft.com/fwlink/?LinkId=158080).</span></span>  
  
  <span data-ttu-id="ecd29-237">如需可能會影響 BizTalk Server 配接器的組態設定的詳細資訊，請參閱[組態參數，會影響配接器效能](http://go.microsoft.com/fwlink/?LinkID=154200)(http://go.microsoft.com/fwlink/?LinkID=154200)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-237">For more information about configuration settings that can affect BizTalk Server adapters, see [Configuration Parameters that Affect Adapter Performance](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200).</span></span>  
  
  <span data-ttu-id="ecd29-238">除了如何最佳化 BizTalk Server 應用程式，其他執行相同的伺服器上的 ASP.NET 應用程式會對影響整體效能。</span><span class="sxs-lookup"><span data-stu-id="ecd29-238">In addition to optimizing your BizTalk Server applications, other ASP.NET applications running on the same server can have an affect on overall performance.</span></span> <span data-ttu-id="ecd29-239">請務必最佳化所有的 ASP.NET 應用程式，以降低系統資源的需求。</span><span class="sxs-lookup"><span data-stu-id="ecd29-239">It is important to optimize all of your ASP.NET applications to reduce demand on system resources.</span></span> <span data-ttu-id="ecd29-240">如需詳細資訊，請參閱 < [ASP.NET 效能](http://go.microsoft.com/fwlink/?LinkId=158081)(http://go.microsoft.com/fwlink/?LinkId=158081)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-240">For more information, see [ASP.NET Performance](http://go.microsoft.com/fwlink/?LinkId=158081) (http://go.microsoft.com/fwlink/?LinkId=158081).</span></span>  
  
  <span data-ttu-id="ecd29-241">當設定最大效能，請考慮最佳化其他外部系統，例如傳訊引擎 （訊息佇列，MQSeries）、 應用程式、 資料庫、 Active Directory 等，是您整體的 BizTalk 解決方案的一部分。</span><span class="sxs-lookup"><span data-stu-id="ecd29-241">When configuring for maximum performance, consider optimizing other external systems such as messaging engines (Message Queuing, MQSeries), applications, databases, Active Directory, etc. that are part of your overall BizTalk solution.</span></span> <span data-ttu-id="ecd29-242">在任何其他外部系統的效能瓶頸可以有負面影響的 BizTalk 方案。</span><span class="sxs-lookup"><span data-stu-id="ecd29-242">Performance bottlenecks in any of these other external systems can have a negative effect on your BizTalk solution.</span></span>  
  
### <a name="downstream-bottlenecks"></a><span data-ttu-id="ecd29-243">下游瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-243">Downstream bottlenecks</span></span>  
 <span data-ttu-id="ecd29-244">如果下游系統無法從 BizTalk 接收資料的速度不夠快，這個輸出資料會備份 BizTalk 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="ecd29-244">If the downstream system is unable to receive data fast enough from BizTalk, this output data will back up in the BizTalk databases.</span></span> <span data-ttu-id="ecd29-245">這會導致膨脹、 導致開始節流、 壓縮接收管道，和會影響 BizTalk 系統的整體輸送量。</span><span class="sxs-lookup"><span data-stu-id="ecd29-245">This results in bloat, causes throttling to start, shrinks the receive pipe, and impacts the overall throughput of the BizTalk system.</span></span> <span data-ttu-id="ecd29-246">直接表示這是多工緩衝處理資料表成長。</span><span class="sxs-lookup"><span data-stu-id="ecd29-246">A direct indication of this is Spool table growth.</span></span> <span data-ttu-id="ecd29-247">如需有關的瓶頸和多工緩衝處理資料表的詳細資訊，請參閱[如何找出瓶頸 MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-247">For more information about bottlenecks and the Spool table, see [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="throttling-impact"></a><span data-ttu-id="ecd29-248">節流衝擊</span><span class="sxs-lookup"><span data-stu-id="ecd29-248">Throttling impact</span></span>  
 <span data-ttu-id="ecd29-249">節流最終將會啟動來保護系統，使其無法到達無法復原的狀態。</span><span class="sxs-lookup"><span data-stu-id="ecd29-249">Throttling will eventually start to protect the system from reaching an unrecoverable state.</span></span> <span data-ttu-id="ecd29-250">因此，您可以使用節流來確認系統是否正常運作，並找出問題的來源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-250">Thus, you can use throttling to verify whether the system is functioning normally and discover the source of the problem.</span></span> <span data-ttu-id="ecd29-251">識別從節流狀態瓶頸的原因之後，分析其他效能計數器，以判斷問題的來源。</span><span class="sxs-lookup"><span data-stu-id="ecd29-251">After you identify the cause of the bottleneck from the throttling state, analyze the other performance counters to determine the source of the problem.</span></span> <span data-ttu-id="ecd29-252">比方說，在 MessageBox 資料庫上的高爭用情況可能是由於高 CPU 用量，因此造成過度分頁至磁碟，因為記憶體不足所造成。</span><span class="sxs-lookup"><span data-stu-id="ecd29-252">For example, high contention on the MessageBox database could be due to high CPU use, caused by excessively paging to disk that is caused by low memory conditions.</span></span> <span data-ttu-id="ecd29-253">在 MessageBox 資料庫上的高爭用情況也可能造成高鎖定爭用，由於磁碟機飽和。</span><span class="sxs-lookup"><span data-stu-id="ecd29-253">High contention on the MessageBox database could also be caused by high lock contention due to saturated disk drives.</span></span> <span data-ttu-id="ecd29-254">雖然偶爾的節流設定不是效能嚴重威脅，持續發生節流事件可能表示更重要的基礎問題。</span><span class="sxs-lookup"><span data-stu-id="ecd29-254">While occasional throttling is not a significant threat to performance, persistent throttling can indicate a more significant underlying problem.</span></span> <span data-ttu-id="ecd29-255">如需有關 BizTalk Server 會使用節流設定這些條件的詳細資訊，請參閱[如何 BizTalk Server 實作主控件節流](http://go.microsoft.com/fwlink/?LinkID=155286)(http://go.microsoft.com/fwlink/?LinkID=155286)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-255">For more information about those conditions where BizTalk Server will use throttling, see [How BizTalk Server Implements Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155286) (http://go.microsoft.com/fwlink/?LinkID=155286).</span></span>  
  
 <span data-ttu-id="ecd29-256">如需有關如何節流 BizTalk Server 可管理可用資源的使用並減少資源爭用的詳細資訊，請參閱[最佳化資源使用狀況透過主控件節流](http://go.microsoft.com/fwlink/?LinkID=155770)(http://go.microsoft.com/fwlink/?LinkID=155770)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-256">For more information about how BizTalk Server throttling can help manage the use of available resources and minimize resource contention, see [Optimizing Resource Usage Through Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155770) (http://go.microsoft.com/fwlink/?LinkID=155770).</span></span>  
  
## <a name="biztalk-application-counters"></a><span data-ttu-id="ecd29-257">BizTalk 應用程式計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-257">BizTalk application counters</span></span>  
  
|<span data-ttu-id="ecd29-258">Object</span><span class="sxs-lookup"><span data-stu-id="ecd29-258">Object</span></span>|<span data-ttu-id="ecd29-259">執行個體</span><span class="sxs-lookup"><span data-stu-id="ecd29-259">Instance</span></span>|<span data-ttu-id="ecd29-260">計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-260">Counter</span></span>|<span data-ttu-id="ecd29-261">描述</span><span class="sxs-lookup"><span data-stu-id="ecd29-261">Description</span></span>|  
|------------|--------------|-------------|-----------------|  
|<span data-ttu-id="ecd29-262">BizTalk 傳訊</span><span class="sxs-lookup"><span data-stu-id="ecd29-262">BizTalk Messaging</span></span>|<span data-ttu-id="ecd29-263">RxHost</span><span class="sxs-lookup"><span data-stu-id="ecd29-263">RxHost</span></span>|<span data-ttu-id="ecd29-264">每秒接收文件數</span><span class="sxs-lookup"><span data-stu-id="ecd29-264">Documents Received/Sec</span></span>|<span data-ttu-id="ecd29-265">內送速率</span><span class="sxs-lookup"><span data-stu-id="ecd29-265">Incoming Rate</span></span>|  
|<span data-ttu-id="ecd29-266">BizTalk 傳訊</span><span class="sxs-lookup"><span data-stu-id="ecd29-266">BizTalk Messaging</span></span>|<span data-ttu-id="ecd29-267">TxHost</span><span class="sxs-lookup"><span data-stu-id="ecd29-267">TxHost</span></span>|<span data-ttu-id="ecd29-268">每秒處理文件數</span><span class="sxs-lookup"><span data-stu-id="ecd29-268">Documents Processed/Sec</span></span>|<span data-ttu-id="ecd29-269">外寄速率</span><span class="sxs-lookup"><span data-stu-id="ecd29-269">Outgoing Rate</span></span>|  
|<span data-ttu-id="ecd29-270">XLANG/s 協調流程</span><span class="sxs-lookup"><span data-stu-id="ecd29-270">XLANG/s Orchestrations</span></span>|<span data-ttu-id="ecd29-271">PxHost</span><span class="sxs-lookup"><span data-stu-id="ecd29-271">PxHost</span></span>|<span data-ttu-id="ecd29-272">每秒完成的協調流程數</span><span class="sxs-lookup"><span data-stu-id="ecd29-272">Orchestrations Completed/Sec.</span></span>|<span data-ttu-id="ecd29-273">處理速率</span><span class="sxs-lookup"><span data-stu-id="ecd29-273">Processing Rate</span></span>|  
|<span data-ttu-id="ecd29-274">BizTalk: MessageBox： 一般計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-274">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="ecd29-275">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="ecd29-275">MsgBoxName</span></span>|<span data-ttu-id="ecd29-276">多工緩衝處理大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-276">Spool Size</span></span>|<span data-ttu-id="ecd29-277">所有主控件佇列總計大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-277">Cumulative size of all Host Queues</span></span>|  
|<span data-ttu-id="ecd29-278">BizTalk: MessageBox： 一般計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-278">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="ecd29-279">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="ecd29-279">MsgBoxName</span></span>|<span data-ttu-id="ecd29-280">追蹤資料大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-280">Tracking Data Size</span></span>|<span data-ttu-id="ecd29-281">MessageBox 上的 TrackingData 資料表大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-281">Size of TrackingData table on the MessageBox</span></span>|  
|<span data-ttu-id="ecd29-282">BizTalk：MessageBox：主控件計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-282">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="ecd29-283">PxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="ecd29-283">PxHost:MsgBoxName</span></span>|<span data-ttu-id="ecd29-284">主控件佇列 - 長度</span><span class="sxs-lookup"><span data-stu-id="ecd29-284">Host Queue - Length</span></span>|<span data-ttu-id="ecd29-285">指定主控件佇列中的訊息數</span><span class="sxs-lookup"><span data-stu-id="ecd29-285">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="ecd29-286">BizTalk：MessageBox：主控件計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-286">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="ecd29-287">TxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="ecd29-287">TxHost:MsgBoxName</span></span>|<span data-ttu-id="ecd29-288">主控件佇列 - 長度</span><span class="sxs-lookup"><span data-stu-id="ecd29-288">Host Queue - Length</span></span>|<span data-ttu-id="ecd29-289">指定主控件佇列中的訊息數</span><span class="sxs-lookup"><span data-stu-id="ecd29-289">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="ecd29-290">BizTalk：訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="ecd29-290">BizTalk:Message Agent</span></span>|<span data-ttu-id="ecd29-291">RxHost</span><span class="sxs-lookup"><span data-stu-id="ecd29-291">RxHost</span></span>|<span data-ttu-id="ecd29-292">資料庫大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-292">Database Size</span></span>|<span data-ttu-id="ecd29-293">發佈 (PxHost) 佇列的大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-293">Size of publishing (PxHost) Queue</span></span>|  
|<span data-ttu-id="ecd29-294">BizTalk：訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="ecd29-294">BizTalk:Message Agent</span></span>|<span data-ttu-id="ecd29-295">PxHost</span><span class="sxs-lookup"><span data-stu-id="ecd29-295">PxHost</span></span>|<span data-ttu-id="ecd29-296">資料庫大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-296">Database Size</span></span>|<span data-ttu-id="ecd29-297">發佈 (TxHost) 佇列的大小</span><span class="sxs-lookup"><span data-stu-id="ecd29-297">Size of publishing (TxHost) Queue</span></span>|  
|<span data-ttu-id="ecd29-298">BizTalk：訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="ecd29-298">BizTalk:Message Agent</span></span>|<span data-ttu-id="ecd29-299">HostName</span><span class="sxs-lookup"><span data-stu-id="ecd29-299">HostName</span></span>|<span data-ttu-id="ecd29-300">訊息傳遞節流狀態</span><span class="sxs-lookup"><span data-stu-id="ecd29-300">Message Delivery Throttling State</span></span>|<span data-ttu-id="ecd29-301">影響 XLANG 和輸出傳輸</span><span class="sxs-lookup"><span data-stu-id="ecd29-301">Affects XLANG and Outbound transports</span></span>|  
|<span data-ttu-id="ecd29-302">BizTalk：訊息代理程式</span><span class="sxs-lookup"><span data-stu-id="ecd29-302">BizTalk:Message Agent</span></span>|<span data-ttu-id="ecd29-303">HostName</span><span class="sxs-lookup"><span data-stu-id="ecd29-303">HostName</span></span>|<span data-ttu-id="ecd29-304">訊息發佈節流狀態</span><span class="sxs-lookup"><span data-stu-id="ecd29-304">Message Publishing Throttling State</span></span>|<span data-ttu-id="ecd29-305">影響 XLANG 和輸入傳輸</span><span class="sxs-lookup"><span data-stu-id="ecd29-305">Affects XLANG and Inbound transports</span></span>|  
  
### <a name="where-do-i-start"></a><span data-ttu-id="ecd29-306">要從何處著手？</span><span class="sxs-lookup"><span data-stu-id="ecd29-306">Where do I start?</span></span>  
 <span data-ttu-id="ecd29-307">監視**訊息傳遞節流狀態**並**訊息發佈節流狀態**每個主控件執行個體是不錯的起點。</span><span class="sxs-lookup"><span data-stu-id="ecd29-307">Monitoring the **Message Delivery Throttling State** and the **Message Publishing Throttling State** for each host instance is a good place to start.</span></span> <span data-ttu-id="ecd29-308">如果這些計數器的值不是零，這表示 BizTalk 系統中的節流，而且您可以進一步分析瓶頸的原因。</span><span class="sxs-lookup"><span data-stu-id="ecd29-308">If the value of these counters is not zero, this indicates throttling in the BizTalk system and you can further analyze the cause of the bottleneck.</span></span> <span data-ttu-id="ecd29-309">如需有關其他效能計數器的描述，請參閱[資料庫層中的瓶頸](../technical-guides/bottlenecks-in-the-database-tier.md)。</span><span class="sxs-lookup"><span data-stu-id="ecd29-309">For descriptions on the other performance counters, see [Bottlenecks in the Database Tier](../technical-guides/bottlenecks-in-the-database-tier.md).</span></span>  
  
## <a name="orchestration-engine-performance-counters"></a><span data-ttu-id="ecd29-310">協調流程引擎效能計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-310">Orchestration engine performance counters</span></span>  
 <span data-ttu-id="ecd29-311">我們強烈建議您微調協調流程執行階段設定，因為持續的協調流程 dehydration\rehydration 和持續性點可以有嚴重影響整體效能。</span><span class="sxs-lookup"><span data-stu-id="ecd29-311">We strongly recommend that you fine tune orchestration runtime settings because continuous orchestration dehydration\rehydration and persistence points can have a severe impact on overall performance.</span></span>  <span data-ttu-id="ecd29-312">測試可能包含多個持續點和交易式範圍的複雜協調流程時，您必須使用下列的計數器。</span><span class="sxs-lookup"><span data-stu-id="ecd29-312">You must use the following counters when testing complex orchestrations that may contain multiple persistence points and transactional scopes.</span></span>  
  
|<span data-ttu-id="ecd29-313">計數器</span><span class="sxs-lookup"><span data-stu-id="ecd29-313">Counter</span></span>|<span data-ttu-id="ecd29-314">註解</span><span class="sxs-lookup"><span data-stu-id="ecd29-314">Comments</span></span>|  
|-------------|--------------|  
|<span data-ttu-id="ecd29-315">凍結的協調流程數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-315">Orchestrations dehydrated/sec</span></span>|<span data-ttu-id="ecd29-316">平均每秒凍結的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-316">Average number dehydrated per second.</span></span>|  
|<span data-ttu-id="ecd29-317">解除凍結的協調流程數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-317">Orchestrations rehydrated/sec</span></span>|<span data-ttu-id="ecd29-318">平均每秒解除凍結的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-318">Average number rehydrated per second.</span></span>|  
|<span data-ttu-id="ecd29-319">持續點數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-319">Persistence points/sec</span></span>|<span data-ttu-id="ecd29-320">平均每秒保存的協調流程執行個體數。</span><span class="sxs-lookup"><span data-stu-id="ecd29-320">Average number of orchestration instances persisted per second.</span></span>|  
|<span data-ttu-id="ecd29-321">記憶體中駐留的協調流程數</span><span class="sxs-lookup"><span data-stu-id="ecd29-321">Orchestrations resident in memory</span></span>|<span data-ttu-id="ecd29-322">目前由主控件執行個體裝載的協調流程執行個體數。</span><span class="sxs-lookup"><span data-stu-id="ecd29-322">Number of orchestration instances currently hosted by the host instance.</span></span>|  
|<span data-ttu-id="ecd29-323">完成的協調流程數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-323">Orchestrations completed/sec</span></span>|<span data-ttu-id="ecd29-324">平均每秒完成的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-324">Average number completed per second.</span></span>|  
|<span data-ttu-id="ecd29-325">擱置的協調流程數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-325">Orchestrations suspended/sec</span></span>|<span data-ttu-id="ecd29-326">平均每秒擱置的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-326">Average number suspended per second.</span></span>|  
|<span data-ttu-id="ecd29-327">認可的交易式範圍數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-327">Transactional scopes committed/sec</span></span>|<span data-ttu-id="ecd29-328">平均每秒認可的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-328">Average number committed per second.</span></span>|  
|<span data-ttu-id="ecd29-329">中止的交易式範圍數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-329">Transactional scopes aborted/sec</span></span>|<span data-ttu-id="ecd29-330">平均每秒中止的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-330">Average number aborted per second.</span></span>|  
|<span data-ttu-id="ecd29-331">補償的交易式範圍數/秒</span><span class="sxs-lookup"><span data-stu-id="ecd29-331">Transactional scopes compensated/sec</span></span>|<span data-ttu-id="ecd29-332">平均每秒補償的數目。</span><span class="sxs-lookup"><span data-stu-id="ecd29-332">Average number compensated per second.</span></span>|  
  
## <a name="backlog-buildup"></a><span data-ttu-id="ecd29-333">待處理項目積存</span><span class="sxs-lookup"><span data-stu-id="ecd29-333">Backlog buildup</span></span>  
 <span data-ttu-id="ecd29-334">1 對 1 的部署案例 1 則訊息，在 1 的訊息中收到結果處理，而且在系統中沒有待處理項目傳送時，如果外寄速率不等於內送速率。</span><span class="sxs-lookup"><span data-stu-id="ecd29-334">For a 1-1 deployment scenario where 1 message received results in 1 message processed and transmitted, if the outgoing rate does not equal the incoming rate, there is a backlog in the system.</span></span> <span data-ttu-id="ecd29-335">在此情況下，您可以監視多工緩衝處理大小。</span><span class="sxs-lookup"><span data-stu-id="ecd29-335">In this situation, you can monitor the Spool Size.</span></span> <span data-ttu-id="ecd29-336">在決定外寄速率的瓶頸的原因，請執行單一使用案例中，一次。</span><span class="sxs-lookup"><span data-stu-id="ecd29-336">When determining the cause of bottlenecks in outgoing rate, run a single use-case scenario at a time.</span></span> <span data-ttu-id="ecd29-337">隔離協調流程、 接收位置，並傳送至不同的主控件的位置。</span><span class="sxs-lookup"><span data-stu-id="ecd29-337">Isolate orchestrations, receive locations, and send locations to separate hosts.</span></span>  
  
 <span data-ttu-id="ecd29-338">新增 biztalk: Message Box： 主控件計數器來監視主應用程式效能監視記錄檔。</span><span class="sxs-lookup"><span data-stu-id="ecd29-338">Add the BizTalk:Message Box:Host Counters to your Performance Monitor log to monitor a host.</span></span> <span data-ttu-id="ecd29-339">主控件佇列-長度： 計數器會追蹤特定主控件佇列中的訊息總數。</span><span class="sxs-lookup"><span data-stu-id="ecd29-339">The Host Queue - Length: counter tracks the total number of messages in a particular host queue.</span></span> <span data-ttu-id="ecd29-340">如果一或多個這些計數器會繼續成長一段時間，讓這些主機所執行的成品特別注意。</span><span class="sxs-lookup"><span data-stu-id="ecd29-340">If one or more of these counters continues grow over time, give particular attention to the artifacts executed by those hosts.</span></span>  
  
 <span data-ttu-id="ecd29-341">如果多工緩衝處理以線性方式成長，判斷應用程式佇列是由負責多工緩衝處理成長。</span><span class="sxs-lookup"><span data-stu-id="ecd29-341">If the Spool is growing linearly, determine which Application Queue is responsible for the Spool growth.</span></span>  
  
 <span data-ttu-id="ecd29-342">如果沒有任何應用程式佇列成長，多工緩衝處理會繼續成長，這可能表示清除工作會無法跟上。</span><span class="sxs-lookup"><span data-stu-id="ecd29-342">If none of the Application Queues are growing and the Spool continues to grow, it could mean that the purge jobs are unable to keep up.</span></span> <span data-ttu-id="ecd29-343">會發生這種情況是如果代理程式未執行，或沒有其他的 SQL Server 上的系統資源爭用。</span><span class="sxs-lookup"><span data-stu-id="ecd29-343">This occurs if the agent is not running or there is other system resource contention on the SQL Server.</span></span>  
  
 <span data-ttu-id="ecd29-344">如果其中一個應用程式佇列成長，診斷這種成長的原因。</span><span class="sxs-lookup"><span data-stu-id="ecd29-344">If one of the Application Queues is growing, diagnose the cause of this growth.</span></span> <span data-ttu-id="ecd29-345">監視無法清空特定應用程式佇列的系統上的系統資源 （例如，因為伺服器上的 CPU 耗盡而成長 Orchestration HOST-Q）。</span><span class="sxs-lookup"><span data-stu-id="ecd29-345">Monitor the system resources on the system that is unable to drain the specific Application Queue (for example, Orchestration Host-Q is growing due to CPU starvation on the server).</span></span> <span data-ttu-id="ecd29-346">此外，請確認節流計數器的特定主控件執行個體的值。</span><span class="sxs-lookup"><span data-stu-id="ecd29-346">In addition, verify the values of the throttling counter for the specific host instance.</span></span>  
  
 <span data-ttu-id="ecd29-347">如果 BizTalk:Messsage 代理訊息傳遞節流的狀態和訊息發佈節流狀態 」 效能計數器不是零，請檢查該值以確認節流的原因 （例如，記憶體超過閾值，執行中的訊息計數太高，依此類推）。</span><span class="sxs-lookup"><span data-stu-id="ecd29-347">If the BizTalk:Messsage Agent Message Delivery Throttling State and Message Publishing Throttling State performance counters are not zero, check the value to confirm the reason for throttling (for example, memory threshold exceeded, in-flight message count too high, and so on).</span></span>  
  
## <a name="stand-alone-profiler"></a><span data-ttu-id="ecd29-348">獨立的 Profiler</span><span class="sxs-lookup"><span data-stu-id="ecd29-348">Stand-Alone Profiler</span></span>  
 <span data-ttu-id="ecd29-349">您可以使用效能計數器偵測到高層級的瓶頸的位置。</span><span class="sxs-lookup"><span data-stu-id="ecd29-349">You can use performance counters to detect the location of the bottleneck at a high level.</span></span> <span data-ttu-id="ecd29-350">不過，一旦縮小，您可能需要檢查更多程式碼緊密為了協助進行問題。</span><span class="sxs-lookup"><span data-stu-id="ecd29-350">However, once narrowed down, you might need to examine the code more closely to help ease the problem.</span></span> <span data-ttu-id="ecd29-351">使用 Visual Studio 2010 附隨獨立 Profiler 可以是非常有用的工具，以協助診斷程式碼花費大部分的循環。</span><span class="sxs-lookup"><span data-stu-id="ecd29-351">The Stand-Alone Profiler that ships with Visual Studio 2010 can be a very helpful tool to help diagnose where the code is spending most of its cycles.</span></span> <span data-ttu-id="ecd29-352">如需相關資訊，請參閱</span><span class="sxs-lookup"><span data-stu-id="ecd29-352">For more information, see</span></span>  
  
## <a name="l2l3-cache"></a><span data-ttu-id="ecd29-353">L2/L3 快取</span><span class="sxs-lookup"><span data-stu-id="ecd29-353">L2/L3 cache</span></span>  
 <span data-ttu-id="ecd29-354">從硬體觀點來看，您可以使用上架的 CPU 快取，以獲得最大的優點。</span><span class="sxs-lookup"><span data-stu-id="ecd29-354">From a hardware perspective, you can gain the biggest benefits by using the onboard CPU cache.</span></span> <span data-ttu-id="ecd29-355">較高的 CPU 快取有助於增加快取命中率，減少系統從記憶體對磁碟進行來回資料分頁的需求。</span><span class="sxs-lookup"><span data-stu-id="ecd29-355">Higher CPU cache helps increase cache hit rate reducing the need for the system to page data in and out of memory to disk.</span></span>  
  
## <a name="64-bit-performance-bottlenecks"></a><span data-ttu-id="ecd29-356">64 位元效能瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-356">64-Bit performance bottlenecks</span></span>  
 <span data-ttu-id="ecd29-357">64 位元系統上的效能可能看來會低於在 32 位元系統上所能達到的效能。</span><span class="sxs-lookup"><span data-stu-id="ecd29-357">Performance on 64-bit systems may appear lower than what can be achieved on 32-bit systems.</span></span> <span data-ttu-id="ecd29-358">這是基於一些理由，最重要的可能是記憶體。</span><span class="sxs-lookup"><span data-stu-id="ecd29-358">This is possible for a few reasons, the most important one being memory.</span></span>  
  
 <span data-ttu-id="ecd29-359">測量 2 GB 的記憶體的 32 位元系統上的效能，並比較結果類似 64 位元系統，具有 2 GB 的記憶體不會比較相同的動作。</span><span class="sxs-lookup"><span data-stu-id="ecd29-359">Measuring performance on a 32-bit system with 2 GB of memory and comparing the results to a similar 64-bit system with 2 GB of memory is not comparing the same thing.</span></span> <span data-ttu-id="ecd29-360">64 位元系統將出現於磁碟 i/o 繫結 (低 %磁碟閒置時間 & 高磁碟佇列長度) 和 CPU 繫結 （最大 CPU 和高內容切換）。</span><span class="sxs-lookup"><span data-stu-id="ecd29-360">The 64-bit system will appear to be disk-I/O bound (low % Disk Idle time & high Disk Queue Length) and CPU bound (max CPU and high context switching).</span></span> <span data-ttu-id="ecd29-361">不過，這是不是因為在 64 位元系統上執行檔案 I/O 是昂貴的時候。</span><span class="sxs-lookup"><span data-stu-id="ecd29-361">However, this is not because performing file I/O on a 64-bit system is more expensive.</span></span>  
  
 <span data-ttu-id="ecd29-362">64 位元系統是多個記憶體高用量 （64 位元定位） 這會導致耗用大部分的 2GB 可用記憶體的作業系統。</span><span class="sxs-lookup"><span data-stu-id="ecd29-362">The 64-bit system is more memory intensive (64-bit addressing) which results in the operating system consuming most of the 2 GB available memory.</span></span> <span data-ttu-id="ecd29-363">當發生這種情況時，其他大部分的作業會導致浮現檔案子系統磁碟中的分頁。</span><span class="sxs-lookup"><span data-stu-id="ecd29-363">When this happens, most other operations cause paging to disk which stresses the file subsystem.</span></span> <span data-ttu-id="ecd29-364">因此，系統花費 CPU 循環分頁記憶體這兩個資料輸入/輸出和程式碼，並會受到高磁碟延遲。</span><span class="sxs-lookup"><span data-stu-id="ecd29-364">Therefore, the system spends CPU cycles paging in/out of memory both data and code and is impacted by the high disk latency cost.</span></span> <span data-ttu-id="ecd29-365">這會造成系統呈現較高磁碟爭用和較高 CPU 耗用的情況。</span><span class="sxs-lookup"><span data-stu-id="ecd29-365">This manifests itself as both higher disk contention and higher CPU consumption.</span></span>  
  
 <span data-ttu-id="ecd29-366">若要減輕此問題的方式是向上延展伺服器升級記憶體。</span><span class="sxs-lookup"><span data-stu-id="ecd29-366">The way to alleviate this problem is to scale-up the server by upgrading the memory.</span></span> <span data-ttu-id="ecd29-367">相應增加為 8 GB 的主意，不過，加入更多記憶體沒有幫助改善輸送量，除非問題的來源是因為記憶體不足情況的 CPU 資源用盡。</span><span class="sxs-lookup"><span data-stu-id="ecd29-367">Scaling-up to 8 GB is idea, however, adding more memory will not help improve throughput unless the source of the problem is CPU starvation due to low memory conditions.</span></span>  
  
## <a name="using-bam-to-identify-bottlenecks-and-high-latency-issues"></a><span data-ttu-id="ecd29-368">使用 BAM 識別瓶頸和高延遲問題</span><span class="sxs-lookup"><span data-stu-id="ecd29-368">Using BAM to identify bottlenecks and high-latency issues</span></span>  
 <span data-ttu-id="ecd29-369">低延遲很重要時，您可以使用 BAM 來測量系統完成 BizTalk Server 系統中的每個階段所花費的時間。</span><span class="sxs-lookup"><span data-stu-id="ecd29-369">When low-latency is important, you can use BAM to measure the time the system takes to complete each stage within the BizTalk Server system.</span></span> <span data-ttu-id="ecd29-370">雖然您可以使用 HAT 偵錯之訊息的狀態並診斷路由訊息中的問題的來源，您可以使用 BAM 來追蹤透過訊息流程的各個端點。</span><span class="sxs-lookup"><span data-stu-id="ecd29-370">Although you can use HAT to debug the state of messages and diagnose the source of problems in routing messages, you can use BAM to track various points through the message flow.</span></span> <span data-ttu-id="ecd29-371">藉由建立 BAM 追蹤設定檔定義與接續活動，您可以測量系統，以協助追蹤在工作流程程序中最昂貴的階段的不同部分之間的延遲。</span><span class="sxs-lookup"><span data-stu-id="ecd29-371">By creating a BAM tracking profile that defines an activity with continuations, you can measure latency between different parts of the system to help track the most expensive stages within the workflow process.</span></span>  
  
 <span data-ttu-id="ecd29-372">您可以使用 HAT 中的協調流程偵錯工具，來查詢擱置的執行個體、 繼續偵錯模式中的執行個體，並加入適當的中斷點使用技術的詳細資料檢視。</span><span class="sxs-lookup"><span data-stu-id="ecd29-372">You can use Orchestration Debugger in HAT to query a suspended instance, resume the instance in debug mode, and add appropriate breakpoints using the Technical Details View.</span></span> <span data-ttu-id="ecd29-373">這會讓您追蹤活動並逐步偵錯訊息。</span><span class="sxs-lookup"><span data-stu-id="ecd29-373">This will enable you to trace the activities and debug messages step by step.</span></span>  
  
 <span data-ttu-id="ecd29-374">您可以設定中斷點追蹤下列事件：</span><span class="sxs-lookup"><span data-stu-id="ecd29-374">You can set breakpoints to track the following events:</span></span>  
  
- <span data-ttu-id="ecd29-375">協調流程的開始和結束</span><span class="sxs-lookup"><span data-stu-id="ecd29-375">The start and finish of an orchestration</span></span>  
  
- <span data-ttu-id="ecd29-376">圖形的開始和結束</span><span class="sxs-lookup"><span data-stu-id="ecd29-376">The start and finish of a shape</span></span>  
  
- <span data-ttu-id="ecd29-377">訊息的傳送或接收</span><span class="sxs-lookup"><span data-stu-id="ecd29-377">The sending or receipt of a message</span></span>  
  
- <span data-ttu-id="ecd29-378">例外狀況</span><span class="sxs-lookup"><span data-stu-id="ecd29-378">Exceptions</span></span>  
  
  <span data-ttu-id="ecd29-379">在每個中斷點，您可以檢查有關區域變數、訊息及其屬性、連接埠和角色連結的資訊。</span><span class="sxs-lookup"><span data-stu-id="ecd29-379">At each breakpoint, you can examine information about local variables, messages and their properties, ports, and role links.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ecd29-380">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ecd29-380">See Also</span></span>  
 [<span data-ttu-id="ecd29-381">尋找並排除瓶頸</span><span class="sxs-lookup"><span data-stu-id="ecd29-381">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)