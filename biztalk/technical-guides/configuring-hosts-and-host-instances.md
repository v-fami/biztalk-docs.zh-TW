---
title: 設定主控件和主控件執行個體 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a36a73a4-cc5f-47d6-b56f-7871684c4489
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 286bdaaff66cf0b85caa3bb169bb506501ff386f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36968999"
---
# <a name="configuring-hosts-and-host-instances"></a><span data-ttu-id="361dd-102">設定主控件和主控件執行個體</span><span class="sxs-lookup"><span data-stu-id="361dd-102">Configuring Hosts and Host Instances</span></span>
<span data-ttu-id="361dd-103">BizTalk 主控件代表零個或多個執行階段程序，在其中您可以部署一組邏輯[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]服務和成品 （例如配接器處理常式，接收位置，以及協調流程）。</span><span class="sxs-lookup"><span data-stu-id="361dd-103">A BizTalk Host represents a logical set of zero or more run-time processes in which you can deploy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services and artifacts (such as adapter handlers, receive locations, and orchestrations).</span></span> <span data-ttu-id="361dd-104">主控件執行個體是實體的執行個體，執行的電腦上主控件[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="361dd-104">A host instance is the physical instance of a host on a computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="361dd-105">如需有關 BizTalk 主控件和主控件執行個體的詳細資訊，請參閱 <<c0> [ 主機](http://go.microsoft.com/fwlink/?LinkId=154189)(<http://go.microsoft.com/fwlink/?LinkId=154189>) 及[主控件執行個體](http://go.microsoft.com/fwlink/?LinkId=154190)(<http://go.microsoft.com/fwlink/?LinkId=154190>)。</span><span class="sxs-lookup"><span data-stu-id="361dd-105">For more information about BizTalk Hosts and host instances, see [Hosts](http://go.microsoft.com/fwlink/?LinkId=154189) (<http://go.microsoft.com/fwlink/?LinkId=154189>) and [Host Instances](http://go.microsoft.com/fwlink/?LinkId=154190) (<http://go.microsoft.com/fwlink/?LinkId=154190>).</span></span>  
  
 <span data-ttu-id="361dd-106">如需管理 BizTalk 主控件和主控件執行個體的詳細資訊，請參閱 <<c0> [ 管理 BizTalk 主控件和主控件執行個體](http://go.microsoft.com/fwlink/?LinkId=154191)(http://go.microsoft.com/fwlink/?LinkId=154191)。</span><span class="sxs-lookup"><span data-stu-id="361dd-106">For more information about managing BizTalk Hosts and host instances, see [Managing BizTalk Hosts and Host Instances](http://go.microsoft.com/fwlink/?LinkId=154191) (http://go.microsoft.com/fwlink/?LinkId=154191).</span></span>  
  
 <span data-ttu-id="361dd-107">如需有關如何設定專用的追蹤主控件的資訊，請參閱[專用的追蹤主控件設定](../technical-guides/configuring-a-dedicated-tracking-host.md)。</span><span class="sxs-lookup"><span data-stu-id="361dd-107">For information about how to configure a dedicated tracking host, see [Configuring a Dedicated Tracking Host](../technical-guides/configuring-a-dedicated-tracking-host.md).</span></span>  
  
## <a name="separating-host-instances-by-functionality"></a><span data-ttu-id="361dd-108">分隔主控件執行個體的功能</span><span class="sxs-lookup"><span data-stu-id="361dd-108">Separating Host Instances by Functionality</span></span>  
 <span data-ttu-id="361dd-109">除了主控件執行個體組態的高可用性方面，您應該分開傳送、 接收、 處理和追蹤功能到多部主機。</span><span class="sxs-lookup"><span data-stu-id="361dd-109">In addition to the high availability aspects of the host instance configuration, you should separate sending, receiving, processing, and tracking functionality into multiple hosts.</span></span> <span data-ttu-id="361dd-110">這會設定您的 BizTalk 群組中的工作負載時，提供彈性，而且是將處理分散到 BizTalk 群組的主要方法。</span><span class="sxs-lookup"><span data-stu-id="361dd-110">This provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across a BizTalk group.</span></span> <span data-ttu-id="361dd-111">這也可讓您停止一部主機，而不會影響其他主機。</span><span class="sxs-lookup"><span data-stu-id="361dd-111">This also allows you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="361dd-112">比方說，您可能要停止傳送訊息，讓他們佇列在 MessageBox 資料庫中，同時仍然允許輸入的接收的訊息進行。</span><span class="sxs-lookup"><span data-stu-id="361dd-112">For example, you may want to stop sending messages to let them queue up in the MessageBox database, while still allowing the inbound receiving of messages to occur.</span></span>  
  
 <span data-ttu-id="361dd-113">主控件執行個體分隔功能時，也會提供下列優點：</span><span class="sxs-lookup"><span data-stu-id="361dd-113">Separating host instances by functionality also provides the following benefits:</span></span>  
  
- <span data-ttu-id="361dd-114">每個主控件執行個體有自己的資源，例如記憶體、 控制代碼，以及執行緒集.NET 執行緒集區中。</span><span class="sxs-lookup"><span data-stu-id="361dd-114">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span>  
  
- <span data-ttu-id="361dd-115">多個 BizTalk 主控件也會減少爭用 MessageBox 資料庫主應用程式佇列資料表，因為每一部主機指派其本身在 MessageBox 資料庫中的工作佇列資料表。</span><span class="sxs-lookup"><span data-stu-id="361dd-115">Multiple BizTalk Hosts will also reduce contention on the MessageBox database host queue tables since each host is assigned its own work queue tables in the MessageBox database.</span></span>  
  
- <span data-ttu-id="361dd-116">節流的實作中[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主機層級。</span><span class="sxs-lookup"><span data-stu-id="361dd-116">Throttling is implemented in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] at the host level.</span></span> <span data-ttu-id="361dd-117">這可讓您設定每個主控件節流特性不同。</span><span class="sxs-lookup"><span data-stu-id="361dd-117">This allows you to set different throttling characteristics for each host.</span></span>  
  
- <span data-ttu-id="361dd-118">安全性被實作主機層級;每個主控件是離散的 Windows 身分識別下執行。</span><span class="sxs-lookup"><span data-stu-id="361dd-118">Security is implemented at the host level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="361dd-119">這可讓您，比方說，讓**Host_A**存取權**FileShare_B**，同時不允許任何其他主機存取檔案共用。</span><span class="sxs-lookup"><span data-stu-id="361dd-119">This would allow you, for example, to give **Host_A** access to **FileShare_B**, while not allowing any of the other hosts to access the file share.</span></span>  
  
  > [!NOTE]  
  >  <span data-ttu-id="361dd-120">權益，以建立其他主控件執行個體時，也有缺點如果建立太多的主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="361dd-120">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="361dd-121">每個主控件執行個體是 Windows 服務 （BTSNTSvc.exe 或 BTSNTSvc64.exe），這會產生額外的負載，對 MessageBox 資料庫，並使用電腦資源 （例如 CPU、 記憶體、 執行緒)。</span><span class="sxs-lookup"><span data-stu-id="361dd-121">Each host instance is a Windows service (BTSNTSvc.exe or BTSNTSvc64.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
  <span data-ttu-id="361dd-122">如需有關修改[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]主機內容，請參閱 <<c2> [ 如何修改主機內容](http://go.microsoft.com/fwlink/?LinkId=154192)(<http://go.microsoft.com/fwlink/?LinkId=154192>)。</span><span class="sxs-lookup"><span data-stu-id="361dd-122">For more information about modifying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Host properties, see [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkId=154192) (<http://go.microsoft.com/fwlink/?LinkId=154192>).</span></span>  
  
##  <a name="BKMK_MemLimit"></a> <span data-ttu-id="361dd-123">32 位元 BizTalk 主控件執行個體的記憶體使用量的最大實際的限制</span><span class="sxs-lookup"><span data-stu-id="361dd-123">Maximum Practical Limits of Memory Usage of a 32-bit BizTalk Host Instance</span></span>  
 <span data-ttu-id="361dd-124">32 位元 Windows 作業系統，使用 3 GB 集上的 32 位元處理序有 3 gb 的可定址的記憶體，如果程序 「 注意大型位址 」 （也就是可執行檔有映像標頭中設定的 IMAGE_FILE_LARGE_ADDRESS_AWARE 旗標）。</span><span class="sxs-lookup"><span data-stu-id="361dd-124">32-bit processes on 32-bit Windows operating system with /3GB set have 3 gigabytes (GB) of addressable memory if the process is "large address aware" (that is, the executable has the IMAGE_FILE_LARGE_ADDRESS_AWARE flag set in the image header).</span></span>  <span data-ttu-id="361dd-125">BizTalk 主控件程序，在 「 大型位址感知 」，可以解決 3 GB 的 3 GB 設定的 Windows 作業系統上的記憶體。</span><span class="sxs-lookup"><span data-stu-id="361dd-125">The BizTalk host process, being "large address aware", can address 3 GB of memory on Windows operating system with /3GB set.</span></span>  <span data-ttu-id="361dd-126">同樣地，在 64 位元 Windows 作業系統 (AMD64) 上的 32 位元處理序都有 4 GB 的可定址的記憶體，如果程序 「 注意大型位址 」。</span><span class="sxs-lookup"><span data-stu-id="361dd-126">Similarly, 32-bit processes on 64-bit Windows operating system (AMD64) have 4 GB of addressable memory, if the process is "large address aware".</span></span>  <span data-ttu-id="361dd-127">同樣地，BizTalk 主控件程序中，在 「 大型位址感知 」，可以解決 4 GB 記憶體的 64 位元 Windows 作業系統上執行 32 位元處理序時。</span><span class="sxs-lookup"><span data-stu-id="361dd-127">Again, the BizTalk host process, being "large address aware", can address 4 GB of memory when running as a 32-bit process on 64-bit Windows operating system.</span></span> <span data-ttu-id="361dd-128">在 64 位元 Windows 作業系統 (AMD64) 上的 64 位元處理序有 8 tb 的可定址的記憶體。</span><span class="sxs-lookup"><span data-stu-id="361dd-128">64-bit processes on 64-bit Windows operating system (AMD64) have 8 terabytes of addressable memory.</span></span>  
  
 <span data-ttu-id="361dd-129">即使處理程序在 32 位元 Windows 作業系統上 （不含 /3GB 參數） 的可定址的最大記憶體為 2 GB，（例如 BizTalk 主控件執行個體） 的.NET 應用程式之前，會收到記憶體不足的錯誤 「 虛擬位元組 」 達到 2 GB。</span><span class="sxs-lookup"><span data-stu-id="361dd-129">Even though the maximum memory addressable by a process on a 32-bit Windows operating system (without the /3GB switch) is 2 GB, a .NET application (such as a BizTalk host instance) will receive out of memory errors before the "virtual bytes" reaches 2 GB.</span></span> <span data-ttu-id="361dd-130">下表摘要說明這，並包含虛擬位元組和私用位元組的實際限制。</span><span class="sxs-lookup"><span data-stu-id="361dd-130">The table below summarizes this and includes the practical limits for virtual bytes and private bytes.</span></span>  
  
|<span data-ttu-id="361dd-131">處理</span><span class="sxs-lookup"><span data-stu-id="361dd-131">Process</span></span>|<span data-ttu-id="361dd-132">Windows 作業系統</span><span class="sxs-lookup"><span data-stu-id="361dd-132">Windows OS</span></span>|<span data-ttu-id="361dd-133">可定址的記憶體 （與這個大型位址感知的程序）</span><span class="sxs-lookup"><span data-stu-id="361dd-133">Addressable Memory (with a Large Address Aware process)</span></span>|<span data-ttu-id="361dd-134">虛擬位元組的實際限制</span><span class="sxs-lookup"><span data-stu-id="361dd-134">Practical Limit for Virtual Bytes</span></span>|<span data-ttu-id="361dd-135">PrivateBytes 的實際限制</span><span class="sxs-lookup"><span data-stu-id="361dd-135">Practical Limit for PrivateBytes</span></span>|  
|-------------|----------------|---------------------------------------------------------------|---------------------------------------|--------------------------------------|  
|<span data-ttu-id="361dd-136">32 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-136">32-bit</span></span>|<span data-ttu-id="361dd-137">32 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-137">32-bit</span></span>|<span data-ttu-id="361dd-138">2 GB</span><span class="sxs-lookup"><span data-stu-id="361dd-138">2 GB</span></span>|<span data-ttu-id="361dd-139">1400 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-139">1400 MB</span></span>|<span data-ttu-id="361dd-140">800 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-140">800 MB</span></span>|  
|<span data-ttu-id="361dd-141">32 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-141">32-bit</span></span>|<span data-ttu-id="361dd-142">32 位元 3 gb</span><span class="sxs-lookup"><span data-stu-id="361dd-142">32-bit with /3GB</span></span>|<span data-ttu-id="361dd-143">3 GB</span><span class="sxs-lookup"><span data-stu-id="361dd-143">3 GB</span></span>|<span data-ttu-id="361dd-144">2400 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-144">2400 MB</span></span>|<span data-ttu-id="361dd-145">1800 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-145">1800 MB</span></span>|  
|<span data-ttu-id="361dd-146">32 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-146">32-bit</span></span>|<span data-ttu-id="361dd-147">64 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-147">64-bit</span></span>|<span data-ttu-id="361dd-148">4 GB</span><span class="sxs-lookup"><span data-stu-id="361dd-148">4 GB</span></span>|<span data-ttu-id="361dd-149">3400 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-149">3400 MB</span></span>|<span data-ttu-id="361dd-150">2800 MB</span><span class="sxs-lookup"><span data-stu-id="361dd-150">2800 MB</span></span>|  
|<span data-ttu-id="361dd-151">64 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-151">64-bit</span></span>|<span data-ttu-id="361dd-152">64 位元</span><span class="sxs-lookup"><span data-stu-id="361dd-152">64-bit</span></span>|<span data-ttu-id="361dd-153">8 tb</span><span class="sxs-lookup"><span data-stu-id="361dd-153">8 terabytes</span></span>|-|-|  
  
 <span data-ttu-id="361dd-154">如需詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="361dd-154">For more information, see:</span></span>  
  
-   <span data-ttu-id="361dd-155">[ASP.NET 效能監視和警示系統管理員的時機](http://go.microsoft.com/fwlink/?LinkId=151856)(http://go.microsoft.com/fwlink/?LinkId=151856)</span><span class="sxs-lookup"><span data-stu-id="361dd-155">[ASP.NET Performance Monitoring, and When to Alert Administrators](http://go.microsoft.com/fwlink/?LinkId=151856) (http://go.microsoft.com/fwlink/?LinkId=151856)</span></span>  
  
-   <span data-ttu-id="361dd-156">[Windows 版本的記憶體限制](http://go.microsoft.com/fwlink/?LinkId=151857)(http://go.microsoft.com/fwlink/?LinkId=151857)</span><span class="sxs-lookup"><span data-stu-id="361dd-156">[Memory Limits for Windows Releases](http://go.microsoft.com/fwlink/?LinkId=151857) (http://go.microsoft.com/fwlink/?LinkId=151857)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="361dd-157">另請參閱</span><span class="sxs-lookup"><span data-stu-id="361dd-157">See Also</span></span>  
 <span data-ttu-id="361dd-158">[檢查清單： 設定 BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="361dd-158">[Checklist: Configuring BizTalk Server](../technical-guides/checklist-configuring-biztalk-server.md) </span></span>  
 [<span data-ttu-id="361dd-159">設定專用的追蹤主控件</span><span class="sxs-lookup"><span data-stu-id="361dd-159">Configuring a Dedicated Tracking Host</span></span>](../technical-guides/configuring-a-dedicated-tracking-host.md)