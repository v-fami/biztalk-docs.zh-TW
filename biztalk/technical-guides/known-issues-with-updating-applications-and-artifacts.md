---
title: 已知問題與更新應用程式和成品 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 220ea03c-d453-40cc-8ddb-18a96f8ddfe5
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 01e445ef19a1d65cc97a3603492a1ad9ba0442e9
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/01/2017
ms.locfileid: "26009927"
---
# <a name="known-issues-with-updating-applications-and-artifacts"></a><span data-ttu-id="78f8d-102">更新的應用程式和成品的已知的問題</span><span class="sxs-lookup"><span data-stu-id="78f8d-102">Known Issues with Updating Applications and Artifacts</span></span>
## <a name="updating-an-application"></a><span data-ttu-id="78f8d-103">更新應用程式</span><span class="sxs-lookup"><span data-stu-id="78f8d-103">Updating an Application</span></span>  
 <span data-ttu-id="78f8d-104">**移除或刪除成品不會移除它所有的位置**</span><span class="sxs-lookup"><span data-stu-id="78f8d-104">**Removing or deleting an artifact does not remove it from all locations**</span></span>  
  
 <span data-ttu-id="78f8d-105">移除或刪除成品後，該成品便會從 BizTalk Server 資料庫刪除，因此不會再出現在管理主控台或 BTSTask ListApp 命令所產生的應用程式成品清單中。</span><span class="sxs-lookup"><span data-stu-id="78f8d-105">Removing or deleting an artifact deletes it from the BizTalk Server databases, so that it no longer appears in the administration console or in the list of artifacts for an application generated by the BTSTask ListApp command.</span></span> <span data-ttu-id="78f8d-106">它不會移除該成品 Windows 登錄、 全域組件快取 (GAC)、 虛擬目錄或檔案系統中，如果它存在於這些位置。</span><span class="sxs-lookup"><span data-stu-id="78f8d-106">It does not remove the artifact from the Windows registry, the global assembly cache (GAC), a virtual directory, or the file system, if it exists in any of these locations.</span></span> <span data-ttu-id="78f8d-107">如果是只存在 BizTalk 管理資料庫的傳送埠、傳送埠群組、接收埠和接收位置，這項作業會將成品完全刪除。</span><span class="sxs-lookup"><span data-stu-id="78f8d-107">In the case of send ports, send port groups, receive ports, and receive locations, which exist only in the BizTalk Management database, this operation deletes the artifact entirely.</span></span>  
  
## <a name="updating-an-artifact"></a><span data-ttu-id="78f8d-108">更新成品</span><span class="sxs-lookup"><span data-stu-id="78f8d-108">Updating an Artifact</span></span>  
 <span data-ttu-id="78f8d-109">**移除或變更成品的狀態可能會導致不能運作的應用程式**</span><span class="sxs-lookup"><span data-stu-id="78f8d-109">**Removing or changing the state of an artifact can cause an application not to work**</span></span>  
  
 <span data-ttu-id="78f8d-110">當您將參考加入至另一個應用程式，並在其另一個應用程式而定，或移除該成品的成品的狀態進行任何變更時，具有相依性的應用程式將無法正常運作。</span><span class="sxs-lookup"><span data-stu-id="78f8d-110">When you add a reference from one application to another and make any changes to the state of an artifact on which another application depends, or you remove the artifact, the application that has the dependency will not function correctly.</span></span> <span data-ttu-id="78f8d-111">如需有關如何變更成品狀態的詳細資訊，請參閱中適當的成品[管理成品](http://go.microsoft.com/fwlink/?LinkID=154725)(http://go.microsoft.com/fwlink/?LinkID=154725)。</span><span class="sxs-lookup"><span data-stu-id="78f8d-111">For more information about changing the state of an artifact, see the section on the appropriate artifact in [Managing Artifacts](http://go.microsoft.com/fwlink/?LinkID=154725) (http://go.microsoft.com/fwlink/?LinkID=154725).</span></span>  
  
 <span data-ttu-id="78f8d-112">**不支援.NET 原則檔**</span><span class="sxs-lookup"><span data-stu-id="78f8d-112">**.NET policy files are not supported**</span></span>  
  
 <span data-ttu-id="78f8d-113">在 BizTalk Server 不支援.NET 原則檔使用。</span><span class="sxs-lookup"><span data-stu-id="78f8d-113">The use of .NET policy files is not supported in BizTalk Server.</span></span> <span data-ttu-id="78f8d-114">這是因為原則檔可能無法依預期狀況執行。</span><span class="sxs-lookup"><span data-stu-id="78f8d-114">This is because a policy file may not work as expected.</span></span> <span data-ttu-id="78f8d-115">原則檔將.NET 重新導向至指定的組件中的版本在 GAC 中，但[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]經常會從快取或 BizTalk 管理資料庫存取組件和成品資料。</span><span class="sxs-lookup"><span data-stu-id="78f8d-115">Policy files redirect .NET to a specified assembly version in the GAC, but [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] often accesses assemblies and artifact data from a cache or the BizTalk Management database.</span></span> <span data-ttu-id="78f8d-116">根據成品類型、快取狀況以及是否重新啟動主控件執行個體等情況，原則檔可能無法執行所要的作業。</span><span class="sxs-lookup"><span data-stu-id="78f8d-116">Depending on the artifact type, caching situation, and whether host instances are restarted, the policy file may not do what is desired.</span></span>  
  
## <a name="updating-an-assembly"></a><span data-ttu-id="78f8d-117">更新組件</span><span class="sxs-lookup"><span data-stu-id="78f8d-117">Updating an Assembly</span></span>  
 <span data-ttu-id="78f8d-118">**如果主機並未停止，組件的變更可能不會生效**</span><span class="sxs-lookup"><span data-stu-id="78f8d-118">**Changes to an assembly may not take effect if the host is not stopped**</span></span>  
  
 <span data-ttu-id="78f8d-119">BizTalk 組件必須遵循.NET 版本管理規則。</span><span class="sxs-lookup"><span data-stu-id="78f8d-119">BizTalk assemblies must follow .NET versioning rules.</span></span> <span data-ttu-id="78f8d-120">其主要含意為，一旦針對另一個 .NET 專案或組件 (包括 BizTalk 專案) 的特定版本建置 BizTalk 專案，該專案會繼續使用此版本，直到再針對較新的版本重新建置它為止。</span><span class="sxs-lookup"><span data-stu-id="78f8d-120">The main implication of this is that a BizTalk project, once built against a particular version of another .NET project or assembly (including BizTalk projects), continues to use that version until it has been rebuilt against a newer version.</span></span>  
  
 <span data-ttu-id="78f8d-121">在開發期間發生的一個與 .NET 版本管理相關之常見問題是，BizTalk 專案上的版本號碼未變更，而且在重新部署組件時，未停止後啟動載入類型的 BizTalk 主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="78f8d-121">A common problem occurs during development related to .NET versioning when the version numbers on a BizTalk project are not changed and the assembly is redeployed without stopping and starting the BizTalk host instance that the types are loaded into.</span></span>  
  
 <span data-ttu-id="78f8d-122">當再次執行程序時，變更不會生效。</span><span class="sxs-lookup"><span data-stu-id="78f8d-122">When the process is run again, the changes do not take effect.</span></span> <span data-ttu-id="78f8d-123">這是由於將 .NET 組件載入記憶體的方式所造成。</span><span class="sxs-lookup"><span data-stu-id="78f8d-123">This is due to the way in which .NET assemblies are loaded into memory.</span></span> <span data-ttu-id="78f8d-124">主應用程式已經有組件的記憶體中複本，因為它不會重新載入組件的新複本放在全域組件快取 (GAC) 時。</span><span class="sxs-lookup"><span data-stu-id="78f8d-124">Because the host already has an in-memory copy of the assembly, it does not reload the assembly when a new copy is put into the global assembly cache (GAC).</span></span> <span data-ttu-id="78f8d-125">例如，若已部署和執行搭配協調流程之 1.0.0.0 版的組件，而協調流程已變更，但是版本號碼未變更，則變更不會生效。</span><span class="sxs-lookup"><span data-stu-id="78f8d-125">For example, if version 1.0.0.0 of an assembly with an orchestration is deployed and running, and changes are made to the orchestration but the version number is not changed, then the changes do not take effect.</span></span> <span data-ttu-id="78f8d-126">在主控件執行個體停止後，會釋放組件的記憶體中複本，當主控件執行個體再次啟動時，它會重新載入組件的新複本並取得變更。</span><span class="sxs-lookup"><span data-stu-id="78f8d-126">After the host instance is stopped, the in-memory copy of the assembly is released and when the host instance starts again it reloads the new copy of the assembly and gets the changes.</span></span> <span data-ttu-id="78f8d-127">如果已部署新的版本，例如 2.0.0.0 版，將它載入，則變更會生效。</span><span class="sxs-lookup"><span data-stu-id="78f8d-127">If a new version was deployed, for example version 2.0.0.0, and it was loaded, then the changes would take effect.</span></span>  
  
 <span data-ttu-id="78f8d-128">**變更組件版本可能會破壞組件參考版本的項目之間的關聯性**</span><span class="sxs-lookup"><span data-stu-id="78f8d-128">**Changing the assembly version may break the relationship between an assembly and items that reference it by version**</span></span>  
  
 <span data-ttu-id="78f8d-129">在.NET Framework 開發是一般建置會在執行時，更新組件版本號碼設為目前的組建編號。</span><span class="sxs-lookup"><span data-stu-id="78f8d-129">In .NET Framework development it is typical to update the assembly version number to the current build number when a build takes place.</span></span> <span data-ttu-id="78f8d-130">然而，在開發 BizTalk 解決方案時，變更組件版本號碼有可能會將組件與透過其組件版本號碼來參考 DLL 的相依項目之間的關係中斷。</span><span class="sxs-lookup"><span data-stu-id="78f8d-130">However, when developing a BizTalk solution, changing the assembly version number can break the relationship between an assembly and the dependent items that reference the DLL by its assembly version number.</span></span> <span data-ttu-id="78f8d-131">下表列出使用其版本號碼和變更的組件版本號碼的效果，請參閱 BizTalk Server 組件的項目。</span><span class="sxs-lookup"><span data-stu-id="78f8d-131">The following table lists items that refer to a BizTalk Server assembly by using its version number and the effect of changing an assembly version number.</span></span>  
  
|<span data-ttu-id="78f8d-132">實體</span><span class="sxs-lookup"><span data-stu-id="78f8d-132">Entity</span></span>|<span data-ttu-id="78f8d-133">變更組件版本號碼所產生的影響</span><span class="sxs-lookup"><span data-stu-id="78f8d-133">Effect of changing assembly version number</span></span>|  
|------------|------------------------------------------------|  
|<span data-ttu-id="78f8d-134">繫結檔案</span><span class="sxs-lookup"><span data-stu-id="78f8d-134">Binding files</span></span>|<span data-ttu-id="78f8d-135">變更組件版本號碼會導致任何參考組件的現有繫結檔案無法執行。</span><span class="sxs-lookup"><span data-stu-id="78f8d-135">Changing the assembly version number causes any existing binding files that reference the assembly to fail.</span></span> <span data-ttu-id="78f8d-136">這是因為繫結檔案會透過包含版本號碼的屬性來參考組件。</span><span class="sxs-lookup"><span data-stu-id="78f8d-136">This is because the binding file references the assembly by attributes including its version number.</span></span><br /><br /> <span data-ttu-id="78f8d-137">您可以使用「記事本」或其他編輯程式來更新繫結檔案中的版本資訊。</span><span class="sxs-lookup"><span data-stu-id="78f8d-137">You can update the version information in the binding file by using Notepad or another editor.</span></span> <span data-ttu-id="78f8d-138">您可以也重新部署方案，並重新產生使用 「 BizTalk Server 管理主控台的 繫結檔案。</span><span class="sxs-lookup"><span data-stu-id="78f8d-138">You can also redeploy the solution and then regenerate the binding file by using the BizTalk Server Administration console.</span></span> <span data-ttu-id="78f8d-139">最後，您可以使用指令碼，自動化部署與版本管理的作業。</span><span class="sxs-lookup"><span data-stu-id="78f8d-139">Finally, you can use scripts to automate deployment and versioning.</span></span> <span data-ttu-id="78f8d-140">如需有關部署的詳細資訊，請參閱[部署和管理 BizTalk 應用程式](http://go.microsoft.com/fwlink/?LinkID=154210)(http://go.microsoft.com/fwlink/?LinkID=154210)。</span><span class="sxs-lookup"><span data-stu-id="78f8d-140">For more information about deployment, see [Deploying and Managing BizTalk Applications](http://go.microsoft.com/fwlink/?LinkID=154210) (http://go.microsoft.com/fwlink/?LinkID=154210).</span></span>|  
|<span data-ttu-id="78f8d-141">BAM 追蹤設定檔定義 (.btt) 檔案</span><span class="sxs-lookup"><span data-stu-id="78f8d-141">BAM tracking profile definition (.btt) files</span></span>|<span data-ttu-id="78f8d-142">變更組件版本號碼會導致任何現有的 BAM 追蹤設定檔定義檔案無法執行。</span><span class="sxs-lookup"><span data-stu-id="78f8d-142">Changing the assembly version number causes any existing BAM tracking profile definition files to fail.</span></span> <span data-ttu-id="78f8d-143">由於 BAM 追蹤檔為二進位檔案格式，您無法加以編輯，只能重新產生新的追蹤檔。</span><span class="sxs-lookup"><span data-stu-id="78f8d-143">The BAM tracking files are in a binary file format so they cannot be edited and instead must be regenerated.</span></span> <span data-ttu-id="78f8d-144">如果需要 BAM 追蹤設定檔，則您可能需要進行下列任一項動作：</span><span class="sxs-lookup"><span data-stu-id="78f8d-144">If BAM tracking profiles are required it may be necessary to do either of the following:</span></span><br /><br /> <span data-ttu-id="78f8d-145">為避免常常更新版本號碼，在建置程序</span><span class="sxs-lookup"><span data-stu-id="78f8d-145">-   Avoid frequently updating version numbers during the build process</span></span><br /><span data-ttu-id="78f8d-146">-延遲組建 BAM 追蹤設定檔之前的版本號碼穩定</span><span class="sxs-lookup"><span data-stu-id="78f8d-146">-   Delay building BAM tracking profiles until version numbers are stable</span></span>|  
|<span data-ttu-id="78f8d-147">使用 Web 服務發佈精靈來發佈 Web 服務</span><span class="sxs-lookup"><span data-stu-id="78f8d-147">Web services published by using the Web Services Publishing Wizard</span></span>|<span data-ttu-id="78f8d-148">當 Web 服務發佈精靈用來產生 ASP.NET Web 介面時，BizTalk Server 組件的組件版本會包含在 ASP.NET 原始程式碼中。</span><span class="sxs-lookup"><span data-stu-id="78f8d-148">When the Web Services Publishing Wizard is used to produce an ASP.NET Web interface, the assembly version of the BizTalk Server assembly is included in the ASP.NET source code.</span></span> <span data-ttu-id="78f8d-149">組件版本號碼是在 ASP.NET 介面的執行階段使用，做為 Web 服務作業的 bodyTypeAssemblyQualifiedName 屬性的一部分。</span><span class="sxs-lookup"><span data-stu-id="78f8d-149">The assembly version number is used at runtime by the ASP.NET interface as part of the bodyTypeAssemblyQualifiedName property of the Web service operation.</span></span> <span data-ttu-id="78f8d-150">如果 BizTalk Server 組件的版本號碼變更而未更新 bodyTypeAssemblyQualifiedName 屬性，將會由 BizTalk Server 拒絕後續的 Web 服務作業。</span><span class="sxs-lookup"><span data-stu-id="78f8d-150">If the version number of the BizTalk Server assembly changes without updating the bodyTypeAssemblyQualifiedName property, then subsequent Web service operations will be rejected by BizTalk Server.</span></span><br /><br /> <span data-ttu-id="78f8d-151">如果接收位置是使用 XmlDefaultPipeline，則訂閱將依賴文件類型。</span><span class="sxs-lookup"><span data-stu-id="78f8d-151">If the receive location uses the XmlDefaultPipeline, the subscription relies on the document type.</span></span> <span data-ttu-id="78f8d-152">訂閱是使用內嵌組件資訊，如果組件不存在的話，訂閱將無法執行。</span><span class="sxs-lookup"><span data-stu-id="78f8d-152">It uses the embedded assembly information and will fail if the assembly does not exist.</span></span> <span data-ttu-id="78f8d-153">如果您是使用 PassThruPipeline (即為當您公開連接埠，並讓精靈建立接收位置時的預設值)，則訂閱會忽略這項內嵌組件資訊。</span><span class="sxs-lookup"><span data-stu-id="78f8d-153">If you use the PassThruPipeline (which is the default if you expose a port and let the wizard create the receive location), the subscription ignores this embedded assembly information.</span></span>|