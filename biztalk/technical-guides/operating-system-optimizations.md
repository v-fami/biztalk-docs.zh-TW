---
title: "作業系統最佳化 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: af2e77d0-d69b-4ae4-b689-96831fc4deed
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2ede5ad9dd3affba3ce132ab4c4415e8dba4f3cb
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="operating-system-optimizations"></a><span data-ttu-id="1d7cc-102">作業系統最佳化</span><span class="sxs-lookup"><span data-stu-id="1d7cc-102">Operating System Optimizations</span></span>
<span data-ttu-id="1d7cc-103">本主題提供最佳化的效能的建議事項[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]用於實際執行電腦[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-103">This topic provides recommendations for optimizing performance of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers used in a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="1d7cc-104">這些最佳化會在之後套用[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]已經安裝及設定。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-104">These optimizations are applied after [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has been installed and configured.</span></span>  
  
## <a name="general-guidelines-for-improving-operating-system-performance"></a><span data-ttu-id="1d7cc-105">一般指導方針來改善作業系統效能</span><span class="sxs-lookup"><span data-stu-id="1d7cc-105">General guidelines for improving operating system performance</span></span>  
 <span data-ttu-id="1d7cc-106">下列建議可以用於增加作業系統效能：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-106">The following recommendations can be used to increase operating system performance:</span></span>  
  
### <a name="install-the-latest-bios-storage-area-network-san-drivers-network-adapter-firmware-and-network-adapter-drivers"></a><span data-ttu-id="1d7cc-107">安裝最新的 BIOS、 存放區域網路 (SAN) 驅動程式、 網路介面卡的韌體和網路介面卡驅動程式</span><span class="sxs-lookup"><span data-stu-id="1d7cc-107">Install the latest BIOS, storage area network (SAN) drivers, network adapter firmware and network adapter drivers</span></span>  
 <span data-ttu-id="1d7cc-108">硬體製造商會定期發行 BIOS、 韌體與驅動程式可以改善效能和可用性的相關聯的硬體的更新。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-108">Hardware manufacturers regularly release BIOS, firmware, and driver updates that can improve performance and availability for the associated hardware.</span></span> <span data-ttu-id="1d7cc-109">請造訪硬體製造商的網站下載並套用每一部 BizTalk Server 環境中的下列硬體元件的更新：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-109">Visit the hardware manufacturer’s Web site to download and apply updates for the following hardware components on each computer in the BizTalk Server environment:</span></span>  
  
1.  <span data-ttu-id="1d7cc-110">BIOS 更新</span><span class="sxs-lookup"><span data-stu-id="1d7cc-110">BIOS updates</span></span>  
  
2.  <span data-ttu-id="1d7cc-111">SAN 驅動程式 （如果使用 SAN）</span><span class="sxs-lookup"><span data-stu-id="1d7cc-111">SAN drivers (if using a SAN)</span></span>  
  
3.  <span data-ttu-id="1d7cc-112">NIC 韌體</span><span class="sxs-lookup"><span data-stu-id="1d7cc-112">NIC firmware</span></span>  
  
4.  <span data-ttu-id="1d7cc-113">NIC 驅動程式</span><span class="sxs-lookup"><span data-stu-id="1d7cc-113">NIC drivers</span></span>  
  
### <a name="assign-the-msdtc-log-file-directory-to-a-separate-dedicated-drive"></a><span data-ttu-id="1d7cc-114">將 MSDTC 記錄檔目錄指派給另一個專用的磁碟機</span><span class="sxs-lookup"><span data-stu-id="1d7cc-114">Assign the MSDTC log file directory to a separate dedicated drive</span></span>  
 <span data-ttu-id="1d7cc-115">在 BizTalk Server 環境中具有不同的 SQL Server 電腦上的多個 MessageBox 資料庫，造成相關聯的 Microsoft Distributed Transaction Coordinator (MSDTC) 的額外負擔。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-115">In a BizTalk Server environment with multiple MessageBox databases on separate SQL Server computers, additional overhead associated with Microsoft Distributed Transaction Coordinator (MSDTC) is incurred.</span></span> <span data-ttu-id="1d7cc-116">根據預設，MSDTC 記錄檔位於執行 DTC 服務之電腦的 %systemdrive%\windows\system32\msdtc 目錄中。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-116">By default, the MSDTC log files are located in the %systemdrive%\windows\system32\msdtc directory of the computers running the DTC service.</span></span> <span data-ttu-id="1d7cc-117">若要減輕 DTC 記錄可能會成為效能瓶頸的可能性，請考慮將 MSDTC 記錄檔目錄移至快速的磁碟機。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-117">To mitigate the possibility that DTC logging could become a performance bottleneck, consider moving the MSDTC log file directory to a fast disk drive.</span></span> <span data-ttu-id="1d7cc-118">若要變更 MSDTC 記錄檔目錄，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-118">To change the MSDTC log file directory follow these steps:</span></span>  
  
1.  <span data-ttu-id="1d7cc-119">按一下**啟動**，按一下 **執行**，然後輸入**dcomcnfg**啟動**元件服務**管理主控台。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-119">Click **Start**, click **Run**, and type **dcomcnfg** to launch the **Component Services** Management console.</span></span>  
  
2.  <span data-ttu-id="1d7cc-120">展開**元件服務**，依序展開**電腦**，以滑鼠右鍵按一下**我的電腦**，然後按一下 **屬性**。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-120">Expand **Component Services**, expand **Computers**, right-click **My Computer**, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="1d7cc-121">在**我的電腦內容**對話方塊中，按一下 [ **MSDTC** ] 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-121">In the **My Computer Properties** dialog box, click the **MSDTC** tab.</span></span>  
  
4.  <span data-ttu-id="1d7cc-122">在**位置**編輯方塊下方**記錄資訊**，輸入您想要建立新的記錄檔 （例如 G:\Logs\DTCLog） 的路徑。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-122">In the **Location** edit box under **Log Information**, type the path where you want the new log to be created (for example, G:\Logs\DTCLog).</span></span>  
  
5.  <span data-ttu-id="1d7cc-123">按一下**重設記錄**，並將系統會提示您重新啟動服務。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-123">Click **Reset log**, and you will be prompted for service restart.</span></span> <span data-ttu-id="1d7cc-124">按一下**確定**以重新啟動 DTC 服務，然後按一下**確定**以確認重新啟動 MSDTC 服務。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-124">Click **OK** to restart the DTC service, and then click **OK** to confirm the MSDTC service has been restarted.</span></span>  
  
### <a name="configure-antivirus-software-to-avoid-real-time-scanning-of-biztalk-server-executables-and-file-drops"></a><span data-ttu-id="1d7cc-125">若要避免的 BizTalk Server 可執行檔的即時掃描的防毒軟體設定和檔案會卸除</span><span class="sxs-lookup"><span data-stu-id="1d7cc-125">Configure antivirus software to avoid real-time scanning of BizTalk Server executables and file drops</span></span>  
 <span data-ttu-id="1d7cc-126">防毒軟體的即時掃描的 BizTalk Server 可執行檔和任何資料夾或檔案共用受 BizTalk Server 接收位置可以對 BizTalk Server 效能產生負面的影響。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-126">Antivirus software real-time scanning of BizTalk Server executable files and any folders or file shares monitored by BizTalk Server receive locations can negatively impact BizTalk Server performance.</span></span> <span data-ttu-id="1d7cc-127">如果 BizTalk Server 電腦上已安裝防毒軟體，停用即時掃描任何 BizTalk Server 所參考的非可執行檔的檔案類型的接收位置 （通常是。XML，但也可能是.csv 或.txt 等。)和防毒軟體設定為排除掃描的 BizTalk Server 可執行檔</span><span class="sxs-lookup"><span data-stu-id="1d7cc-127">If antivirus software is installed on the BizTalk Server computer(s), disable real-time scanning of non-executable file types referenced by any BizTalk Server receive locations (usually .XML, but can also be .csv, .txt, etc.) and configure antivirus software to exclude scanning of BizTalk Server executable Files</span></span>  
  
### <a name="disable-intrusion-detection-network-scanning-between-computers-in-the-biztalk-server-environment"></a><span data-ttu-id="1d7cc-128">停用 BizTalk Server 環境中的電腦之間正在掃描的入侵偵測網路</span><span class="sxs-lookup"><span data-stu-id="1d7cc-128">Disable intrusion detection network scanning between computers in the BizTalk Server environment</span></span>  
 <span data-ttu-id="1d7cc-129">入侵偵測軟體可以變慢或甚至阻止在網路上的有效通訊。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-129">Intrusion detection software can slow down or even prevent valid communications over the network.</span></span> <span data-ttu-id="1d7cc-130">如果安裝入侵偵測軟體時，停用 BizTalk Server 電腦與外部資料儲存機制 (SQL Server) 電腦之間的掃描，或訊息 （訊息佇列、 WebSphere MQSeries 等） 的服務電腦的網路。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-130">If intrusion detection software is installed, disable network scanning between BizTalk Server computers and external data repositories (SQL Server) computers or messaging services (Message Queuing, WebSphere MQSeries, etc.) computers.</span></span>  
  
### <a name="defragment-all-disks-in-the-biztalk-server-environment-on-a-regular-basis"></a><span data-ttu-id="1d7cc-131">重組以規則為基礎的 BizTalk Server 環境中的所有磁碟</span><span class="sxs-lookup"><span data-stu-id="1d7cc-131">Defragment all disks in the BizTalk Server environment on a regular basis</span></span>  
 <span data-ttu-id="1d7cc-132">BizTalk Server 環境中的過多的磁碟分散程度將會對效能產生負面影響。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-132">Excessive disk fragmentation in the BizTalk Server environment will negatively impact performance.</span></span> <span data-ttu-id="1d7cc-133">遵循下列步驟來重組 BizTalk Server 環境中的磁碟：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-133">Follow these steps to defragment disks in the BizTalk Server environment:</span></span>  
  
1.  <span data-ttu-id="1d7cc-134">重組所有磁碟 (本機和 SAN/NAS) 上定期排程離峰時間磁碟重組。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-134">Defragment all disks (local and SAN/NAS) on a regular basis by scheduling off-hours disk defragmentation.</span></span>  
  
2.  <span data-ttu-id="1d7cc-135">重組 Windows 分頁檔，並預先配置 BizTalk Server 環境中的每個磁碟的主檔案表格，以提高整體系統效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-135">Defragment the Windows PageFile and pre-allocate the Master File Tables of each disk in the BizTalk Server environment to boost overall system performance.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1d7cc-136">使用 PageDefrag 公用程式可在[http://go.microsoft.com/fwlink/?LinkId=108976](http://go.microsoft.com/fwlink/?LinkId=108976)重組 Windows 分頁檔，並預先配置主檔案表格。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-136">Use the PageDefrag utility available at [http://go.microsoft.com/fwlink/?LinkId=108976](http://go.microsoft.com/fwlink/?LinkId=108976) to defragment the Windows PageFile and pre-allocate the Master File Tables.</span></span>  
  
### <a name="if-antivirus-software-is-installed-on-the-sql-server-computers-disable-real-time-scanning-of-data-and-transaction-files"></a><span data-ttu-id="1d7cc-137">如果 SQL Server 電腦上已安裝防毒軟體，停用的資料和交易檔的即時掃描</span><span class="sxs-lookup"><span data-stu-id="1d7cc-137">If antivirus software is installed on the SQL Server computer(s), disable real-time scanning of data and transaction files</span></span>  
 <span data-ttu-id="1d7cc-138">SQL Server 資料和交易檔案 （.mdf、.ndf、.ldf 和.mdb） 的即時掃描，可以增加磁碟 I/O 競爭，並減少 SQL Server 效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-138">Real-time scanning of the SQL Server data and transaction files (.mdf, .ndf, .ldf, .mdb) can increase disk I/O contention and reduce SQL Server performance.</span></span> <span data-ttu-id="1d7cc-139">請注意，SQL Server 資料和交易檔的名稱可能會不同，BizTalk Server 環境之間。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-139">Note that the names of the SQL Server data and transaction files may vary between BizTalk Server environments.</span></span> <span data-ttu-id="1d7cc-140">如需建立預設的 BizTalk Server 組態資料和交易檔的詳細資訊，請參閱[最佳化的檔案群組的資料庫](http://msdn.microsoft.com/library/ee377060\(v=bts.70\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-140">For more information about the data and transaction files created with a default BizTalk Server configuration, see[Optimizing Filegroups for the Databases](http://msdn.microsoft.com/library/ee377060\(v=bts.70\).aspx).</span></span>  
  
### <a name="configure-msdtc-for-biztalk-server"></a><span data-ttu-id="1d7cc-141">設定 MSDTC 的 BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="1d7cc-141">Configure MSDTC for BizTalk Server</span></span>  
 <span data-ttu-id="1d7cc-142">檢閱下列資訊來設定 MSDTC 的 BizTalk Server:</span><span class="sxs-lookup"><span data-stu-id="1d7cc-142">Review the following information to configure MSDTC for BizTalk Server:</span></span>  
  
-   <span data-ttu-id="1d7cc-143">若要在 BizTalk Server 上設定 MSDTC，請參閱啟用 DTC 上的 < 本機主機 Server > 一節的 BizTalk Server 2010 安裝指南[http://go.microsoft.com/fwlink/?LinkID=191321](http://go.microsoft.com/fwlink/?LinkID=191321)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-143">To configure MSDTC on the BizTalk Server, see “Enable DTC on the Local Host Server” section of the BizTalk Server 2010 installation guide at [http://go.microsoft.com/fwlink/?LinkID=191321](http://go.microsoft.com/fwlink/?LinkID=191321).</span></span>  
  
-   <span data-ttu-id="1d7cc-144">疑難排解 MSDTC 問題 > 在[http://go.microsoft.com/fwlink/?LinkID=202142](http://go.microsoft.com/fwlink/?LinkID=202142)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-144">"Troubleshooting Problems with MSDTC" at [http://go.microsoft.com/fwlink/?LinkID=202142](http://go.microsoft.com/fwlink/?LinkID=202142).</span></span>  
  
### <a name="configure-firewalls-for-biztalk-server"></a><span data-ttu-id="1d7cc-145">設定 BizTalk Server 的連線</span><span class="sxs-lookup"><span data-stu-id="1d7cc-145">Configure firewall(s) for BizTalk Server</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1d7cc-146">這是步驟，只需要一個或多個防火牆是否在 BizTalk Server 環境中的位置。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-146">This step is only required if one or more firewalls are in place in your BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="1d7cc-147">檢閱下列資訊來設定 BizTalk Server 的連線：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-147">Review the following information to configure firewall(s) for BizTalk Server:</span></span>  
  
-   <span data-ttu-id="1d7cc-148">「 要求連接埠的 BizTalk Server 」 在[http://go.microsoft.com/fwlink/?LinkId=101607](http://go.microsoft.com/fwlink/?LinkId=101607)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-148">"Required Ports for BizTalk Server" at [http://go.microsoft.com/fwlink/?LinkId=101607](http://go.microsoft.com/fwlink/?LinkId=101607).</span></span>  
  
-   <span data-ttu-id="1d7cc-149">「 如何設定 RPC 動態連接埠配置以使用防火牆 」 在[http://go.microsoft.com/fwlink/?LinkID=76145](http://go.microsoft.com/fwlink/?LinkID=76145)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-149">”How to configure RPC dynamic port allocation to work with firewalls” at [http://go.microsoft.com/fwlink/?LinkID=76145](http://go.microsoft.com/fwlink/?LinkID=76145).</span></span>  
  
### <a name="use-the-ntfs-file-system-on-all-volumes"></a><span data-ttu-id="1d7cc-150">使用 NTFS 檔案系統上所有磁碟區</span><span class="sxs-lookup"><span data-stu-id="1d7cc-150">Use the NTFS file system on all volumes</span></span>  
 [!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]<span data-ttu-id="1d7cc-151">提供用來格式化磁碟機，包括 NTFS、 FAT 以及 FAT32 的多個檔案系統類型。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-151"> offers multiple file system types for formatting drives, including NTFS, FAT, and FAT32.</span></span> <span data-ttu-id="1d7cc-152">NTFS 應該永遠選擇伺服器的檔案系統。[!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="1d7cc-152">NTFS should always be the file system of choice for servers.[!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]</span></span>  
  
 <span data-ttu-id="1d7cc-153">NTFS FAT 及 FAT32 檔案系統上提供相當大的效能優點，應該只在 Windows 伺服器上使用。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-153">NTFS offers considerable performance benefits over the FAT and FAT32 file systems and should be used exclusively on Windows servers.</span></span> <span data-ttu-id="1d7cc-154">此外，NTFS 會提供許多安全性、 延展性、 穩定性和可復原性的優點比 FAT 及 FAT32。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-154">In addition, NTFS offers many security, scalability, stability and recoverability benefits over FAT and FAT32.</span></span>  
  
 <span data-ttu-id="1d7cc-155">在舊版 Windows 中，FAT 及 FAT32 通常實作的較小的磁碟區 (假設\<500 MB)，所以通常較快，這種情況下。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-155">Under previous versions of Windows, FAT and FAT32 were often implemented for smaller volumes (say \<500 MB) because they were often faster in such situations.</span></span> <span data-ttu-id="1d7cc-156">磁碟儲存體價格比較便宜今天和作業系統和應用程式推入至最多的磁碟機容量，也不太可能，這類小的磁碟區將使用中。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-156">With disk storage relatively inexpensive today and operating systems and applications pushing drive capacity to a maximum, it is unlikely that such small volumes will be in use.</span></span> <span data-ttu-id="1d7cc-157">FAT32 規模較大的磁碟區上會比 FAT 更好，但仍不適當的檔案系統的 Windows 伺服器。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-157">FAT32 scales better than FAT on larger volumes but is still not an appropriate file system for Windows servers.</span></span>  
  
 <span data-ttu-id="1d7cc-158">FAT 及 FAT32 通常已實作在過去因為被視為更輕鬆地復原，可以使用磁碟區有問題發生時的原生 DOS 工具管理。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-158">FAT and FAT32 have often been implemented in the past as they were seen as more easily recoverable and manageable with native DOS tools in the event of a problem with a volume.</span></span> <span data-ttu-id="1d7cc-159">現在，使用各種 NTFS 恢復能力工具整合到作業系統的原生，並且可做為可用的協力廠商公用程式，有不應再受到有效的引數，如未使用 NTFS 檔案系統。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-159">Today, with the various NTFS recoverability tools built both natively into the operating system and available as third-party utilities available, there should no longer be a valid argument for not using NTFS for file systems.</span></span>  
  
### <a name="do-not-use-ntfs-file-compression"></a><span data-ttu-id="1d7cc-160">請勿使用 NTFS 檔案壓縮</span><span class="sxs-lookup"><span data-stu-id="1d7cc-160">Do not use NTFS file compression</span></span>  
 <span data-ttu-id="1d7cc-161">雖然使用 NTFS 檔案系統壓縮是簡單的方法，以減少在磁碟區上的空間，它不適用於企業的檔案伺服器。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-161">Though using NTFS file system compression is an easy way to reduce space on volumes, it is not appropriate for enterprise file servers.</span></span> <span data-ttu-id="1d7cc-162">實作壓縮時，將不必要的額外負荷放置於磁碟的所有作業的 CPU，而且最好避免。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-162">Implementing compression places an unnecessary overhead on the CPU for all disk operations and is best avoided.</span></span> <span data-ttu-id="1d7cc-163">思考如何新增其他磁碟的選項，接近行的儲存體或考慮認真考慮檔案系統壓縮之前，先保存資料。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-163">Think about options for adding additional disks, near-line storage or consider archiving data before seriously considering file system compression.</span></span>  
  
### <a name="review-disk-controller-stripe-size-and-volume-allocation-units"></a><span data-ttu-id="1d7cc-164">檢閱磁碟控制器等量磁碟區大小和磁碟區的配置單位</span><span class="sxs-lookup"><span data-stu-id="1d7cc-164">Review disk controller stripe size and volume allocation units</span></span>  
 <span data-ttu-id="1d7cc-165">當設定磁碟機陣列和硬體磁碟機控制器內的邏輯磁碟機，並確認您符合控制器等量磁碟區大小與磁碟區將會格式化使用的配置單位大小。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-165">When configuring drive arrays and logical drives within your hardware drive controller, ensure you match the controller stripe size with the allocation unit size that the volumes will be formatted with.</span></span> <span data-ttu-id="1d7cc-166">這將確保磁碟讀取和寫入是最佳的效能並提供較佳的整體伺服器效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-166">This will ensure disk read and write performance is optimal and offer better overall server performance.</span></span>  
  
 <span data-ttu-id="1d7cc-167">設定較大的配置單位 （或叢集或區塊） 大小會導致效率越低，使用的磁碟空間，但也會提供更高磁碟 I/O 效能磁頭在每個讀取活動期間，可讀取更多資料。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-167">Configuring larger allocation unit (or cluster or block) sizes will cause disk space to be used less efficiently, but will also provide higher disk I/O performance as the disk head can read in more data during each read activity.</span></span>  
  
 <span data-ttu-id="1d7cc-168">若要判斷最佳的設定來設定控制器，並使用磁碟格式化，您應該判斷磁碟子系統的類似檔案系統特性的伺服器上的平均磁碟傳輸大小。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-168">To determine the optimal setting to configure the controller and format the disks with, you should determine the average disk transfer size on the disk subsystem of a server with similar file system characteristics.</span></span> <span data-ttu-id="1d7cc-169">使用[!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]監視邏輯磁碟物件計數器的平均效能監視工具Disk Bytes/Read 和 avg.磁碟 Bytes/Write 經過一段正常的活動，以協助您判斷要使用的最佳值。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-169">Use the [!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)] Performance Monitor tool to monitor the Logical Disk object counters of Avg. Disk Bytes/Read and Avg. Disk Bytes/Write over a period of normal activity to help determine the best value to use.</span></span>  
  
 <span data-ttu-id="1d7cc-170">雖然較小的配置單位大小如果系統將用來存取許多小檔案或記錄可以保證，64 KB 配置單位大小可提供音效效能和在大部分情況下的 I/O 輸送量。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-170">Although smaller allocation unit sizes may be warranted if the system will be accessing many small files or records, an allocation unit size of 64 KB delivers sound performance and I/O throughput under most circumstances.</span></span> <span data-ttu-id="1d7cc-171">當磁碟負載增加時改善效能與調整的配置單位大小可以特別註明。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-171">Improvements in performance with tuned allocation unit sizes can be particularly noted when disk load increases.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1d7cc-172">格式命令列工具或 [磁碟管理] 工具，才能格式化磁碟區時，指定配置單位大小大於 4096 個位元組 (4 KB)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-172">Either the FORMAT command line tool or the Disk Management tool is required to specify an allocation unit size larger than 4096 bytes (4 KB) when formatting volumes.</span></span> <span data-ttu-id="1d7cc-173">Windows 檔案總管 只能將會格式化到此臨界值。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-173">Windows Explorer will only format up to this threshold.</span></span> <span data-ttu-id="1d7cc-174">CHKDSK 命令可以用來確認目前的配置單位大小的磁碟區，不過它必須掃描整個磁碟區之前所需的資訊會顯示 （每個配置單位中方式顯示做為位元組）。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-174">The CHKDSK command can be used to confirm the current allocation unit size of a volume however it needs to scan the entire volume before the desired information is displayed (shown as Bytes in each allocation unit).</span></span>  
  
### <a name="monitor-drive-space-utilization"></a><span data-ttu-id="1d7cc-175">監視磁碟機空間使用量</span><span class="sxs-lookup"><span data-stu-id="1d7cc-175">Monitor drive space utilization</span></span>  
 <span data-ttu-id="1d7cc-176">磁碟上的較少資料，速度它的運作。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-176">The less data on a disk, the faster it will operate.</span></span> <span data-ttu-id="1d7cc-177">這是因為以及重組磁碟機，資料會寫入緣磁碟盡可能接近因為這是這個磁碟的速度最快微調，並且得到最佳效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-177">This is because on a well defragmented drive, data is written as close to the outer edge of the disk as possible because this is where the disk spins the fastest and yields the best performance.</span></span>  
  
 <span data-ttu-id="1d7cc-178">磁碟搜尋時間是通常很長的時間比讀取或寫入活動。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-178">Disk seek time is normally considerably longer than read or write activities.</span></span> <span data-ttu-id="1d7cc-179">如先前所述，資料一開始會寫入磁碟的邊緣。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-179">As noted above, data is initially written to the outside edge of a disk.</span></span> <span data-ttu-id="1d7cc-180">磁碟儲存體增加和可用空間的需求會降低，因為資料會更接近寫入至磁碟的中心。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-180">As demand for disk storage increases and free space reduces, data is written closer to the center of the disk.</span></span> <span data-ttu-id="1d7cc-181">磁碟搜尋時間增加的前端移開邊緣，以尋找資料，並找到時，花較長的時間閱讀，阻礙磁碟 I/O 效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-181">Disk seek time is increased in locating the data as the head moves away from the edge, and when found, it takes longer to read, hindering disk I/O performance.</span></span>  
  
 <span data-ttu-id="1d7cc-182">這表示監視磁碟空間使用量會是重要不只是容量的原因，但效能也。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-182">This means that monitoring disk space utilization is important not just for capacity reasons but for performance also.</span></span>  
  
 <span data-ttu-id="1d7cc-183">根據經驗法則，為工作朝保持磁碟可用空間介於 20%到 25%的總磁碟空間的目標。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-183">As a rule of thumb, work towards a goal of keeping disk free space between 20% to 25% of total disk space.</span></span> <span data-ttu-id="1d7cc-184">如果可用磁碟空間低於這個臨界值，則磁碟 I/O 效能將受到負面的影響。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-184">If free disk space drops below this threshold, then disk I/O performance will be negatively impacted.</span></span>  
  
### <a name="implement-a-strategy-to-avoid-disk-fragmentation"></a><span data-ttu-id="1d7cc-185">若要避免磁碟分散程度的策略實作</span><span class="sxs-lookup"><span data-stu-id="1d7cc-185">Implement a strategy to avoid disk fragmentation</span></span>  
 <span data-ttu-id="1d7cc-186">您在磁碟上，包括根磁碟機，以避免效能降低，定期執行重組工具 公用程式。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-186">Run a defragmenter utility regularly on your disks, including the root drive, to prevent performance degradation.</span></span> <span data-ttu-id="1d7cc-187">執行這個忙碌的磁碟上的每週。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-187">Do this weekly on busy disks.</span></span> <span data-ttu-id="1d7cc-188">磁碟重組工具會隨 Windows Server，且可以執行從排定的工作，以指定的間隔。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-188">A disk defragmenter is installed with Windows Server and can be run from a Scheduled Task at specified intervals.</span></span>  
  
### <a name="optimize-windows-server-performance-for-background-services"></a><span data-ttu-id="1d7cc-189">將背景服務的 Windows Server 效能最佳化</span><span class="sxs-lookup"><span data-stu-id="1d7cc-189">Optimize Windows Server performance for background services</span></span>  
 <span data-ttu-id="1d7cc-190">BizTalk Server 處理序 (BTSNTSVC.exe) 會執行為背景服務。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-190">The BizTalk Server process (BTSNTSVC.exe) runs as a background service.</span></span> <span data-ttu-id="1d7cc-191">根據預設，[!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]設定來調整應用程式的最佳效能而非背景服務。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-191">By default, [!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)] is configured to adjust for best performance of application programs and not for background services.</span></span>  
  
 [!INCLUDE[btsWinSvrNoVersion](../includes/btswinsvrnoversion-md.md)]<span data-ttu-id="1d7cc-192">會使用先佔式多工來排列優先順序就來參加 cpu 的處理序執行緒。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-192"> uses preemptive multi-tasking to prioritize process threads that will be attended to by the CPU.</span></span> <span data-ttu-id="1d7cc-193">先佔式多工作是一種方法，會停止處理程序執行，並啟動另一個處理序時，作業系統會斟酌。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-193">Preemptive multi-tasking is a methodology whereby the execution of a process is halted and another process is started, at the discretion of the operating system.</span></span> <span data-ttu-id="1d7cc-194">此配置會防止單一執行緒支配 CPU。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-194">This scheme prevents a single thread from dominating the CPU.</span></span>  
  
 <span data-ttu-id="1d7cc-195">切換執行到下一個處理序 CPU 稱為內容切換。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-195">Switching the CPU from executing one process to the next is known as context-switching.</span></span> <span data-ttu-id="1d7cc-196">Windows 作業系統包含的設定，決定在 CPU 上執行，才能發生內容切換，並提供服務的下一個執行緒允許的個別執行緒的時間長度。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-196">The Windows operating system includes a setting that determines how long individual threads are allowed to run on the CPU before a context-switch occurs and the next thread is serviced.</span></span> <span data-ttu-id="1d7cc-197">這段時間被指配量。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-197">This amount of time is referred to as a quantum.</span></span> <span data-ttu-id="1d7cc-198">此設定可讓您選擇處理器配量的前景程式 」 與 「 背景服務之間共用的方式。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-198">This setting lets you choose how processor quanta are shared between foreground programs and background services.</span></span> <span data-ttu-id="1d7cc-199">通常是伺服器不希望允許前景程式有更多的 CPU 時間比背景服務配置給它。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-199">Typically for a server it is not desirable to allow a foreground program to have more CPU time allocated to it than background services.</span></span> <span data-ttu-id="1d7cc-200">也就是說，所有應用程式，以及他們在伺服器上執行的程序，應考量相等的 CPU 時間。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-200">That is, all applications and their processes running on the server should be given equal consideration for CPU time.</span></span>  
  
 <span data-ttu-id="1d7cc-201">若要增加等 BizTalk 主控件執行個體的背景服務的效能，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-201">To increase performance for background service like BizTalk host instances, follow these steps:</span></span>  
  
1.  <span data-ttu-id="1d7cc-202">按一下**啟動**，按一下 **控制台**，然後按一下 **系統**。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-202">Click **Start**, click **Control Panel**, and then click **System**.</span></span>  
  
2.  <span data-ttu-id="1d7cc-203">按一下**進階**索引標籤，然後再按一下**設定**下**效能**。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-203">Click the **Advanced** tab, and then click **Settings** under **Performance**.</span></span>  
  
3.  <span data-ttu-id="1d7cc-204">按一下**進階**索引標籤上，按一下 **背景服務**，然後按一下 **確定**兩次。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-204">Click the **Advanced** tab, click **Background services**, and then click **OK** twice.</span></span>  
  
### <a name="manually-load-microsoft-certificate-revocation-lists"></a><span data-ttu-id="1d7cc-205">手動載入 Microsoft 憑證撤銷清單</span><span class="sxs-lookup"><span data-stu-id="1d7cc-205">Manually load Microsoft Certificate Revocation lists</span></span>  
 <span data-ttu-id="1d7cc-206">當啟動.NET 應用程式時，.NET Framework 會嘗試下載的憑證撤銷清單 (CRL) 的任何帶正負號的組件。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-206">When starting a .NET application, the .NET Framework will attempt to download the Certificate Revocation list (CRL) for any signed assembly.</span></span> <span data-ttu-id="1d7cc-207">如果您的系統並沒有直接存取網際網路，或限制存取 Microsoft.com 網域，這可能會延遲啟動 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-207">If your system does not have direct access to the Internet, or is restricted from accessing the Microsoft.com domain, this may delay startup of BizTalk Server.</span></span> <span data-ttu-id="1d7cc-208">若要避免這種延遲應用程式啟動時，您可以使用下列步驟手動下載並安裝的程式碼簽署您的系統上的憑證撤銷清單。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-208">To avoid this delay at application startup, you can use the following steps to manually download and install the code signing Certificate Revocation Lists on your system.</span></span>  
  
1.  <span data-ttu-id="1d7cc-209">下載最新 CRL 更新從[http://crl.microsoft.com/pki/crl/products/CodeSignPCA.crl](http://go.microsoft.com/fwlink/?LinkID=117794)和[http://crl.microsoft.com/pki/crl/products/CodeSignPCA2.crl](http://go.microsoft.com/fwlink/?LinkId=117795)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-209">Download the latest CRL updates from [http://crl.microsoft.com/pki/crl/products/CodeSignPCA.crl](http://go.microsoft.com/fwlink/?LinkID=117794) and [http://crl.microsoft.com/pki/crl/products/CodeSignPCA2.crl](http://go.microsoft.com/fwlink/?LinkId=117795).</span></span>  
  
2.  <span data-ttu-id="1d7cc-210">將 CodeSignPCA.crl 和 CodeSignPCA2.crl 檔移到隔離的系統。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-210">Move the CodeSignPCA.crl and CodeSignPCA2.crl files to the isolated system.</span></span>  
  
3.  <span data-ttu-id="1d7cc-211">從命令提示字元中，輸入下列命令以使用 certutil 公用程式以在步驟 1 中下載 CRL 更新本機憑證存放區：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-211">From a command prompt, enter the following command to use the certutil utility to update the local certificate store with the CRL downloaded in step 1:</span></span>  
  
     <span data-ttu-id="1d7cc-212">certutil – addstore CA c:\CodeSignPCA.crl</span><span class="sxs-lookup"><span data-stu-id="1d7cc-212">certutil –addstore CA c:\CodeSignPCA.crl</span></span>  
  
 <span data-ttu-id="1d7cc-213">CRL 檔案會定期更新，因此您應該考慮將設定重複的下載工作，並安裝 CRL 會更新。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-213">The CRL files are updated regularly, so you should consider setting a reoccurring task of downloading and installing the CRL updates.</span></span> <span data-ttu-id="1d7cc-214">檢視下次的更新、 按兩下.crl 檔案，然後檢視值**下一個更新**欄位。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-214">To view the next update time, double-click the .crl file and view the value of the **Next Update** field.</span></span>  
  
### <a name="synchronize-time-on-all-servers"></a><span data-ttu-id="1d7cc-215">同步處理所有伺服器上的時間</span><span class="sxs-lookup"><span data-stu-id="1d7cc-215">Synchronize time on all servers</span></span>  
 <span data-ttu-id="1d7cc-216">多項作業涉及票證，回條和記錄依賴正在正確的本機系統時鐘。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-216">Many operations involving tickets, receipts and logging rely on the local system clock being accurate.</span></span> <span data-ttu-id="1d7cc-217">這是特別在分散式環境中，系統之間的時間差異，可能會導致不同步的記錄檔或來為已過期，會拒絕的另一個系統所核發的票證或尚未生效。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-217">This is especially true in a distributed environment, where time discrepancies between systems may cause logs to be out of sync or tickets issued by one system to be rejected by another as expired or not yet valid.</span></span>  
  
 <span data-ttu-id="1d7cc-218">如需有關設定伺服器自動同步處理時間的詳細資訊，請參閱[http://go.microsoft.com/fwlink/?LinkId=99420](http://go.microsoft.com/fwlink/?LinkId=99420)。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-218">For more information on configuring a server to automatically synchronize time, see [http://go.microsoft.com/fwlink/?LinkId=99420](http://go.microsoft.com/fwlink/?LinkId=99420).</span></span>  
  
### <a name="configure-the-windows-pagefile-for-optimal-performance"></a><span data-ttu-id="1d7cc-219">設定 Windows 分頁檔，以獲得最佳效能</span><span class="sxs-lookup"><span data-stu-id="1d7cc-219">Configure the Windows PAGEFILE for optimal performance</span></span>  
 <span data-ttu-id="1d7cc-220">為了達到最佳效能，請遵循下列指導方針來設定 Windows 分頁檔 （分頁檔案）：</span><span class="sxs-lookup"><span data-stu-id="1d7cc-220">Follow these guidelines to configure the Windows PAGEFILE (paging file) for optimal performance:</span></span>  
  
1.  <span data-ttu-id="1d7cc-221">**將分頁檔移至不同的作業系統安裝以減少磁碟爭用並提高磁碟效能的實體磁碟機的實體磁區**-BizTalk Server 在電腦上，移動相關聯的效能改善分頁檔會有所不同的文件處理負載。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-221">**Move the paging file to a physical volume separate from the physical drive that operating system is installed on to reduce disk contention and increase disk performance** - On BizTalk Server computers, the performance gain associated with moving the paging file will vary depending on the document processing load.</span></span> <span data-ttu-id="1d7cc-222">SQL Server 電腦上，將分頁檔移到不同的磁碟區會被視為最佳作法是在所有情況下，由於 SQL Server 磁碟大量本質。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-222">On SQL Server computers, moving the paging file to a separate volume is considered a best practice in all scenarios due to the disk intensive nature of SQL Server.</span></span>  
  
2.  <span data-ttu-id="1d7cc-223">**隔離到一或多個專用實體磁碟機設定為 RAID 0 （等量） 或 raid-1 （鏡像） 陣列，或在單一磁碟，而 RAID 沒有分頁檔**︰ 藉由使用專用的磁碟機陣列其中分頁檔。SYS 是整個磁碟區上唯一的檔案、 分頁檔將不會分散，這也會改善效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-223">**Isolate the paging file onto one or more dedicated physical drives that are configured as either RAID-0 (striping) or RAID-1 (mirroring) arrays, or on single disks without RAID** - By using a dedicated disk or drive array where PAGEFILE.SYS is the only file on the entire volume, the paging file will not become fragmented, which will also improve performance.</span></span> <span data-ttu-id="1d7cc-224">如同大部分的磁碟陣列，陣列的效能已獲得改善，為陣列中的實體磁碟數目會增加。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-224">As with most disk-arrays, performance of the array is improved as the number of physical disks in the array is increased.</span></span> <span data-ttu-id="1d7cc-225">如果分頁檔分散在多個磁碟區上的磁碟陣列中的多個實體磁碟機之間，分頁檔大小應該在陣列中每個磁碟機上的相同大小。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-225">If the paging file is distributed between multiple volumes on multiple physical drives in a disk array, the paging file size should be the same size on each drive in the array.</span></span> <span data-ttu-id="1d7cc-226">在設定的磁碟陣列時，也建議使用具有相同的容量和速度的實體磁碟機。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-226">When configuring a disk array, it is also recommended to use physical drives that have the same capacity and speed.</span></span> <span data-ttu-id="1d7cc-227">請注意備援不通常需要分頁檔。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-227">Note that redundancy is not normally required for the paging file.</span></span>  
  
3.  <span data-ttu-id="1d7cc-228">**未設定 RAID 5 陣列上的分頁檔**-不建議的 RAID 5 陣列上的分頁檔的組態，因為分頁檔案 」 活動的撰寫需要大量和 RAID 5 陣列，最好是讀取效能比寫入效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-228">**Do not configure the paging file on a RAID 5 array** - Configuration of the paging file on a RAID 5 array is not recommended because paging file activity is write intensive and RAID 5 arrays are better suited for read performance than write performance.</span></span>  
  
4.  <span data-ttu-id="1d7cc-229">**如果您沒有將分頁檔移至實體磁碟區，除了在安裝作業系統的資源，設定分頁檔，在相同的邏輯磁碟區做為作業系統**-設定分頁檔，位於搜尋時間即是相同的實體磁碟上的作業系統將會增加磁碟的另一個邏輯磁碟區，並降低系統效能，因為磁碟機磁碟讀寫頭將會持續移動之間的磁碟區，或者存取分頁檔，作業系統檔案、 應用程式檔案和資料檔案。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-229">**If you do not have resources to move the paging file to a physical volume other than the operating system is installed on, configure the paging file to reside on the same logical volume as the operating system** - Configuring the paging file to reside on a another logical volume which is on the same physical disk as the operating system will increase disk seek time and reduce system performance as the disk drive platter heads will be continually moving between the volumes, alternately accessing the page file, operating system files, application files, and data files.</span></span> <span data-ttu-id="1d7cc-230">此外，作業系統通常會安裝在實體磁碟，通常是最接近的實體磁碟外緣的第一個資料分割，而且已最佳化磁碟，其中是磁碟速度，而相關聯的效能。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-230">Also, the operating system is typically installed on the first partition of a physical disk, which is usually the closest to the outside edge of the physical disk and where disk speed is and associated performance are optimal for the disk.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="1d7cc-231">如果您沒有移除分頁檔從開機磁碟分割，Windows 無法建立損毀傾印檔案 （記憶體。DMP) 中，核心模式停止寫入偵錯資訊就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-231">If you do remove the paging file from the boot partition, Windows cannot create a crash dump file (MEMORY.DMP) in which to write debugging information in the event that a kernel mode STOP error occurs.</span></span> <span data-ttu-id="1d7cc-232">如果您需要損毀傾印檔案，則您會不有任何選項，但若要將保留最少的分頁檔的實體記憶體 + 1 MB 的開機磁碟分割大小。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-232">If you do require a crash dump file, then you will have no option but to leave a paging file of at least the size of physical memory + 1 MB on the boot partition.</span></span>  
  
5.  <span data-ttu-id="1d7cc-233">**手動設定分頁檔的大小**-手動設定分頁檔的大小通常提供較佳的效能比允許伺服器自動調整大小，或完全沒有分頁檔。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-233">**Manually set the size of the paging file** – Manually setting the size of the paging file typically provides better performance than allowing the server to size it automatically or having no paging file at all.</span></span> <span data-ttu-id="1d7cc-234">微調最佳做法是將初始 （最小值） 和分頁檔的大小上限設定設定為相同的值。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-234">Best-practice tuning is to set the initial (minimum) and maximum size settings for the paging file to the same value.</span></span> <span data-ttu-id="1d7cc-235">這可確保不處理資源遺失分頁檔可能會大量的動態調整大小。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-235">This ensures that no processing resources are lost to the dynamic resizing of the paging file, which can be intensive.</span></span> <span data-ttu-id="1d7cc-236">假設系統上的記憶體資源已變得受限時，通常會發生此調整大小的活動，這是特別有用。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-236">This is especially true given that this resizing activity typically occurs when the memory resources on the system are already becoming constrained.</span></span> <span data-ttu-id="1d7cc-237">設定相同的最小值和最大頁面的檔案大小值也可確保在磁碟上的分頁區域是一個單一的連續區域，改善磁碟搜尋時間。</span><span class="sxs-lookup"><span data-stu-id="1d7cc-237">Setting the same minimum and maximum page file size value also ensures the paging area on a disk is one single, contiguous area, improving disk seek time.</span></span>