---
title: 設定 FTP 配接器 |Microsoft Docs
ms.custom: ''
ms.date: 09/28/2018
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- FTP adapters, configuring
- configuring [FTP adapters]
ms.assetid: 7e7d2e2d-142e-4459-be25-efd501b396d2
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f81353597bf836c2032b8ad79cb1c779749ed6fc
ms.sourcegitcommit: c1e83b63ae34bd586e6e0ccc914640efdf96bd4c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/04/2018
ms.locfileid: "48423954"
---
# <a name="configuring-the-ftp-adapter"></a><span data-ttu-id="a230a-102">設定 FTP 配接器</span><span class="sxs-lookup"><span data-stu-id="a230a-102">Configuring the FTP Adapter</span></span>


## <a name="before-you-begin"></a><span data-ttu-id="a230a-103">開始之前</span><span class="sxs-lookup"><span data-stu-id="a230a-103">Before you begin</span></span>
- <span data-ttu-id="a230a-104">FTP 配接器支援從安全的 FTP 伺服器讀取和寫入資料。</span><span class="sxs-lookup"><span data-stu-id="a230a-104">The FTP adapter supports reading and writing data from a secure FTP server.</span></span> <span data-ttu-id="a230a-105">此配接器可支援透過安全通訊端層 (SSL)/傳輸層級安全性 (TLS) 從 FTP 伺服器傳輸檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-105">The adapter provides support for file transfer from an FTP server over Secure Sockets Layer (SSL)/Transport Level Security (TLS).</span></span> 
- <span data-ttu-id="a230a-106">FTP 配接器支援從唯讀檔案位置下載檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-106">The FTP adapter supports downloading of files from read-only file locations.</span></span> 
- <span data-ttu-id="a230a-107">FTP 配接器針對 ASCII 模式支援不可部分完成檔案傳輸的也。</span><span class="sxs-lookup"><span data-stu-id="a230a-107">The FTP adapter supports atomic file transfer for ASCII mode also.</span></span>

<span data-ttu-id="a230a-108">請參閱[最佳做法和 FTP 配接器的建議](../core/best-practices-and-recommendations-for-the-ftp-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="a230a-108">See [Best practices and recommendations for the FTP adapter](../core/best-practices-and-recommendations-for-the-ftp-adapter.md).</span></span>


## <a name="configure-the-receive-location"></a><span data-ttu-id="a230a-109">設定接收位置</span><span class="sxs-lookup"><span data-stu-id="a230a-109">Configure the receive location</span></span>

<span data-ttu-id="a230a-110">您可以設定 FTP 接收位置配接器屬性，在 BizTalk Server 管理主控台中。</span><span class="sxs-lookup"><span data-stu-id="a230a-110">You can set FTP receive location adapter properties in the BizTalk Server Administration console.</span></span> <span data-ttu-id="a230a-111">如果不設定接收位置中的屬性，則會使用 BizTalk Server 管理主控台中的預設接收處理常式值。</span><span class="sxs-lookup"><span data-stu-id="a230a-111">If properties are not set in the receive location, then the default receive handler values in the BizTalk Server Administration console are used.</span></span>  

> [!NOTE]
>  <span data-ttu-id="a230a-112">再完成下列程序，您必須已經新增接收埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-112">Before completing the following procedure, you must have already added a receive port.</span></span> <span data-ttu-id="a230a-113">請參閱[如何建立接收埠](../core/how-to-create-a-receive-port.md)。</span><span class="sxs-lookup"><span data-stu-id="a230a-113">See [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).</span></span>  
> 1.  <span data-ttu-id="a230a-114">在 BizTalk Server 管理主控台中，依序展開**BizTalk Server 管理**，展開**BizTalk 群組**，展開**應用程式**，然後展開您想在其中建立接收位置的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a230a-114">In the BizTalk Server Administration console, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application in which you want to create a receive location.</span></span>  

2. <span data-ttu-id="a230a-115">在左窗格中，按一下**接收埠**節點。</span><span class="sxs-lookup"><span data-stu-id="a230a-115">In the left pane, click the **Receive Ports** node.</span></span> <span data-ttu-id="a230a-116">在右窗格中，以滑鼠右鍵按一下與現有接收位置相關聯的接收埠或您想要與新接收位置產生關聯，然後按一下 **屬性**。</span><span class="sxs-lookup"><span data-stu-id="a230a-116">In the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.</span></span>  

3. <span data-ttu-id="a230a-117">在 **接收埠屬性**對話方塊的左窗格中，選取**接收位置**。</span><span class="sxs-lookup"><span data-stu-id="a230a-117">In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**.</span></span> <span data-ttu-id="a230a-118">在右窗格中，按兩下現有接收位置或按一下**新增**以建立新接收位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-118">In the right pane, double-click an existing receive location or click **New** to create a new receive location.</span></span>  

4. <span data-ttu-id="a230a-119">在**接收位置屬性**對話方塊中，於**傳輸**區段旁邊**型別**，選取**FTP**從下拉式清單和然後按一下**設定**。</span><span class="sxs-lookup"><span data-stu-id="a230a-119">In the **Receive Location Properties** dialog box, in the **Transport** section next to **Type**, select **FTP** from the drop-down list and then click **Configure**.</span></span>  

5. <span data-ttu-id="a230a-120">在  **FTP 傳輸屬性**，執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="a230a-120">In **FTP Transport Properties**, do the following:</span></span>  

   <span data-ttu-id="a230a-121">**批次**</span><span class="sxs-lookup"><span data-stu-id="a230a-121">**Batch**</span></span>

   |<span data-ttu-id="a230a-122">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-122">Use this</span></span>|<span data-ttu-id="a230a-123">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-123">To do this</span></span>|  
   |--------------|----------------|  
   |<span data-ttu-id="a230a-124">**最大的檔案**</span><span class="sxs-lookup"><span data-stu-id="a230a-124">**Maximum Files**</span></span>|<span data-ttu-id="a230a-125">指定每個 BizTalk Server 批次的檔案數目上限。</span><span class="sxs-lookup"><span data-stu-id="a230a-125">Specify the maximum number of files per BizTalk Server batch.</span></span><br /><br /> <span data-ttu-id="a230a-126">零 (0) 表示無限制。</span><span class="sxs-lookup"><span data-stu-id="a230a-126">Zero (0) indicates no limit.</span></span><br /><br /> <span data-ttu-id="a230a-127">**預設值：** 0</span><span class="sxs-lookup"><span data-stu-id="a230a-127">**Default value:** 0</span></span>|  
   |<span data-ttu-id="a230a-128">**大小上限**</span><span class="sxs-lookup"><span data-stu-id="a230a-128">**Maximum Size**</span></span>|<span data-ttu-id="a230a-129">指定每個 BizTalk Server 批次的最大位元組數。</span><span class="sxs-lookup"><span data-stu-id="a230a-129">Specify the maximum number of bytes per BizTalk Server batch.</span></span><br /><br /> <span data-ttu-id="a230a-130">零 (0) 表示無限制。</span><span class="sxs-lookup"><span data-stu-id="a230a-130">Zero (0) indicates no limit.</span></span><br /><br /> <span data-ttu-id="a230a-131">**預設值：** 0</span><span class="sxs-lookup"><span data-stu-id="a230a-131">**Default value:** 0</span></span>|  

   <span data-ttu-id="a230a-132">**防火牆**</span><span class="sxs-lookup"><span data-stu-id="a230a-132">**Firewall**</span></span>

   |<span data-ttu-id="a230a-133">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-133">Use this</span></span>|<span data-ttu-id="a230a-134">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-134">To do this</span></span>|  
   |--------------|----------------|     
   |<span data-ttu-id="a230a-135">**位址**</span><span class="sxs-lookup"><span data-stu-id="a230a-135">**Address**</span></span>|<span data-ttu-id="a230a-136">指定防火牆的位址，可指定 DNS 名稱或 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-136">Specify the address of the firewall, either a DNS name or an IP address.</span></span>|  
   |<span data-ttu-id="a230a-137">**模式**</span><span class="sxs-lookup"><span data-stu-id="a230a-137">**Mode**</span></span>|<span data-ttu-id="a230a-138">指定配接器與 FTP 伺服器之間的連接模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-138">Specify the mode in which the adapter connects to the FTP server.</span></span><br /><br /> <span data-ttu-id="a230a-139">**有效值：** Passive 和 Active</span><span class="sxs-lookup"><span data-stu-id="a230a-139">**Valid values:** Passive and Active</span></span><br /><br /> <span data-ttu-id="a230a-140">在主動模式下，FTP 伺服器會連線到 FTP 配接器所開啟的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-140">In active mode, the FTP server connects to a port opened by the FTP adapter.</span></span> <span data-ttu-id="a230a-141">在被動模式下，FTP 配接器會連線到 FTP 伺服器所開啟的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-141">In passive mode, the FTP adapter connects to a port opened by the FTP server.</span></span> <span data-ttu-id="a230a-142">如果您使用內部 IP，而且您連接到外部的 IP，主動模式可能無法運作。</span><span class="sxs-lookup"><span data-stu-id="a230a-142">Active mode may not work if you use an internal IP and you connect to an external IP.</span></span> <span data-ttu-id="a230a-143">在此情況下，您需要 FTP 支援的應用程式層閘道 (ALG) 中使用被動模式還是主動模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-143">In this case, you need to use Passive mode or Active mode with an application-layer gateway (ALG) with FTP support.</span></span><br /><br /> <span data-ttu-id="a230a-144">**預設值：** Active</span><span class="sxs-lookup"><span data-stu-id="a230a-144">**Default value:** Active</span></span>|  
   |<span data-ttu-id="a230a-145">**密碼**</span><span class="sxs-lookup"><span data-stu-id="a230a-145">**Password**</span></span>|<span data-ttu-id="a230a-146">指定防火牆的密碼。</span><span class="sxs-lookup"><span data-stu-id="a230a-146">Specify the password for the firewall.</span></span>|  
   |<span data-ttu-id="a230a-147">**通訊埠**</span><span class="sxs-lookup"><span data-stu-id="a230a-147">**Port**</span></span>|<span data-ttu-id="a230a-148">指定防火牆的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-148">Specify the port for the firewall.</span></span><br /><br /> <span data-ttu-id="a230a-149">**有效值：** 1 到 65535 （含)</span><span class="sxs-lookup"><span data-stu-id="a230a-149">**Valid values:** 1 through 65535 inclusive</span></span><br /><br /> <span data-ttu-id="a230a-150">**預設值：** 21</span><span class="sxs-lookup"><span data-stu-id="a230a-150">**Default value:** 21</span></span>|  
   |<span data-ttu-id="a230a-151">**型別**</span><span class="sxs-lookup"><span data-stu-id="a230a-151">**Type**</span></span>|<span data-ttu-id="a230a-152">指定部署的防火牆類型。</span><span class="sxs-lookup"><span data-stu-id="a230a-152">Specify the type of firewall deployed.</span></span><br /><br /> <span data-ttu-id="a230a-153">**有效值：** 無、 Socks 4 和 Socks 5</span><span class="sxs-lookup"><span data-stu-id="a230a-153">**Valid values:** None, Socks 4, and Socks 5</span></span><br /><br /> <span data-ttu-id="a230a-154">**預設值：** None</span><span class="sxs-lookup"><span data-stu-id="a230a-154">**Default value:** None</span></span>|  
   |<span data-ttu-id="a230a-155">**使用者**</span><span class="sxs-lookup"><span data-stu-id="a230a-155">**User**</span></span>|<span data-ttu-id="a230a-156">指定防火牆的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-156">Specify the user name for the firewall.</span></span>|  

   <span data-ttu-id="a230a-157">**FTP**</span><span class="sxs-lookup"><span data-stu-id="a230a-157">**FTP**</span></span>


   |         <span data-ttu-id="a230a-158">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-158">Use this</span></span>         |  <span data-ttu-id="a230a-159">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-159">To do this</span></span>  |
   |---|---|
   |       <span data-ttu-id="a230a-160">**帳戶**</span><span class="sxs-lookup"><span data-stu-id="a230a-160">**Account**</span></span>        |  <span data-ttu-id="a230a-161">指定 FTP 伺服器的帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-161">Specify the account name for the FTP server.</span></span> <span data-ttu-id="a230a-162">此選項已被取代，不建議使用這個屬性。</span><span class="sxs-lookup"><span data-stu-id="a230a-162">This option is deprecated and use of this property is discouraged.</span></span>  |
   |      <span data-ttu-id="a230a-163">**Get 之後**</span><span class="sxs-lookup"><span data-stu-id="a230a-163">**After Get**</span></span>       | <span data-ttu-id="a230a-164">指定檔案 GET 後要執行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-164">Specify the FTP commands to run after the file GET.</span></span> <span data-ttu-id="a230a-165">使用分號 (;) 來分隔命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-165">Separate commands with a semicolon (;).</span></span> |
   |      <span data-ttu-id="a230a-166">**Get 之前**</span><span class="sxs-lookup"><span data-stu-id="a230a-166">**Before Get**</span></span>      |   <span data-ttu-id="a230a-167">指定檔案 GET 前要執行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-167">Specify the FTP commands to run before the file GET.</span></span> <span data-ttu-id="a230a-168">使用分號 (;) 來分隔命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-168">Separate commands with a semicolon (;).</span></span> <span data-ttu-id="a230a-169">**注意：** 檔案 GET 前不支援 QUIT 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-169">**Note:**  QUIT command is not supported before the file GET.</span></span>   |
   |   <span data-ttu-id="a230a-170">**錯誤閾值**</span><span class="sxs-lookup"><span data-stu-id="a230a-170">**Error Threshold**</span></span>    |   <span data-ttu-id="a230a-171">指定在停用位置之前，容許 BizTalk Server 發生的錯誤數目。</span><span class="sxs-lookup"><span data-stu-id="a230a-171">Specify the number of errors that BizTalk Server can encounter before the location is disabled.</span></span><br /><br /> <span data-ttu-id="a230a-172">**預設值：** 10</span><span class="sxs-lookup"><span data-stu-id="a230a-172">**Default value:** 10</span></span>   |
   |      <span data-ttu-id="a230a-173">**檔案遮罩**</span><span class="sxs-lookup"><span data-stu-id="a230a-173">**File Mask**</span></span>       |  <span data-ttu-id="a230a-174">指定傳輸檔案時要使用的檔案遮罩篩選。</span><span class="sxs-lookup"><span data-stu-id="a230a-174">Specify the file mask filter to use when transmitting files.</span></span>  |
   |        <span data-ttu-id="a230a-175">**資料夾**</span><span class="sxs-lookup"><span data-stu-id="a230a-175">**Folder**</span></span>        |   <span data-ttu-id="a230a-176">指定 FTP 伺服器上的輪詢位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-176">Specify the polling location on the FTP server.</span></span>  |
   |   <span data-ttu-id="a230a-177">**FTP 伺服器類型**</span><span class="sxs-lookup"><span data-stu-id="a230a-177">**FTP Server Type**</span></span>    | <span data-ttu-id="a230a-178">新開始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a230a-178">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="a230a-179">您可以使用這個屬性來選擇 FTP 伺服器不需要 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-179">Use this property to choose an FTP server that does not require the SYST command.</span></span> <span data-ttu-id="a230a-180">選項為 None、 AIX、 偵測、 GXS、 MVS、 用於 OS400，和其他。</span><span class="sxs-lookup"><span data-stu-id="a230a-180">Options are None, AIX, Detect, GXS, MVS, OS400, and Other.</span></span> <br/><br/><span data-ttu-id="a230a-181">如果設定為**無**，使用 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-181">If set to **None**, the SYST command is used.</span></span> <span data-ttu-id="a230a-182">**其他**OS 類型不符合任何一個指定的類別目錄時，會使用。</span><span class="sxs-lookup"><span data-stu-id="a230a-182">**Other** is used when the OS type does not fit into any of the specified categories.</span></span> <br /><br /> <span data-ttu-id="a230a-183">**預設值：** None</span><span class="sxs-lookup"><span data-stu-id="a230a-183">**Default value:** None</span></span> |
   |         <span data-ttu-id="a230a-184">**Log**</span><span class="sxs-lookup"><span data-stu-id="a230a-184">**Log**</span></span>          |  <span data-ttu-id="a230a-185">指定要用來儲存記錄檔複本的位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-185">Specify the location to save a copy of the log file.</span></span> <span data-ttu-id="a230a-186">您可以使用此檔案來診斷透過 FTP 傳送或接收檔案時所發生的錯誤情況。</span><span class="sxs-lookup"><span data-stu-id="a230a-186">You use this file to diagnose error conditions when sending or receiving files through FTP.</span></span>    |
   |    <span data-ttu-id="a230a-187">**最大檔案大小**</span><span class="sxs-lookup"><span data-stu-id="a230a-187">**Max File Size**</span></span>     |   <span data-ttu-id="a230a-188">指定可下載的檔案大小上限，以 MB 為單位。</span><span class="sxs-lookup"><span data-stu-id="a230a-188">Specify the maximum downloadable file size, in megabytes.</span></span><br /><br /> <span data-ttu-id="a230a-189">零 (0) 表示檔案大小無限制。</span><span class="sxs-lookup"><span data-stu-id="a230a-189">Zero (0) indicates no limit on the file size.</span></span><br /><br /> <span data-ttu-id="a230a-190">**預設值：** 100</span><span class="sxs-lookup"><span data-stu-id="a230a-190">**Default value:** 100</span></span>    |
   |       <span data-ttu-id="a230a-191">**密碼**</span><span class="sxs-lookup"><span data-stu-id="a230a-191">**Password**</span></span>       |   <span data-ttu-id="a230a-192">指定要用來登入 FTP 伺服器的使用者密碼。</span><span class="sxs-lookup"><span data-stu-id="a230a-192">Specify the user password to log on to the FTP server.</span></span> |
   |         <span data-ttu-id="a230a-193">**通訊埠**</span><span class="sxs-lookup"><span data-stu-id="a230a-193">**Port**</span></span>         |  <span data-ttu-id="a230a-194">指定此 FTP 伺服器的連接埠位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-194">Specify the port address for this FTP server.</span></span><br /><br /> <span data-ttu-id="a230a-195">**預設值：** 21</span><span class="sxs-lookup"><span data-stu-id="a230a-195">**Default value:** 21</span></span> |
   |    <span data-ttu-id="a230a-196">**表示法**</span><span class="sxs-lookup"><span data-stu-id="a230a-196">**Representation**</span></span>    |  <span data-ttu-id="a230a-197">選取 FTP 接收資料的方式。</span><span class="sxs-lookup"><span data-stu-id="a230a-197">Select how FTP receives the data.</span></span><br /><br /> <span data-ttu-id="a230a-198">**有效值：** 二進位或 ASCII</span><span class="sxs-lookup"><span data-stu-id="a230a-198">**Valid values:** binary or ASCII</span></span><br /><br /> <span data-ttu-id="a230a-199">**預設值：** 二進位</span><span class="sxs-lookup"><span data-stu-id="a230a-199">**Default value:** binary</span></span>  |
   |        <span data-ttu-id="a230a-200">**Server**</span><span class="sxs-lookup"><span data-stu-id="a230a-200">**Server**</span></span>        |   <span data-ttu-id="a230a-201">指定 FTP 伺服器的伺服器名稱或 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-201">Specify the server name or IP address of the FTP server.</span></span> <span data-ttu-id="a230a-202">**注意：** URI 傳送埠或接收位置不能超過 256 個字元。</span><span class="sxs-lookup"><span data-stu-id="a230a-202">**Note:**  The URI for a send port or receive location cannot exceed 256 characters.</span></span>  |
   |    <span data-ttu-id="a230a-203">**SSO 分支機構**</span><span class="sxs-lookup"><span data-stu-id="a230a-203">**SSO Affiliate**</span></span>     |  <span data-ttu-id="a230a-204">指定「企業單一登入」分支機構應用程式。</span><span class="sxs-lookup"><span data-stu-id="a230a-204">Specify the Enterprise Single Sign-On affiliate application.</span></span>  |
   | <span data-ttu-id="a230a-205">**使用名稱清單 (NLST)**</span><span class="sxs-lookup"><span data-stu-id="a230a-205">**Use name list (NLST)**</span></span> |  <span data-ttu-id="a230a-206">指定配接器列出檔案的方式。</span><span class="sxs-lookup"><span data-stu-id="a230a-206">Specify how the adapter lists files.</span></span> <span data-ttu-id="a230a-207">若不檢視系統定義的檔案清單，而要檢視檔案名稱，請將這個值設定為 [是]。</span><span class="sxs-lookup"><span data-stu-id="a230a-207">To view file names instead of the system-defined file listing, set this value to Yes.</span></span><br /><br /> <span data-ttu-id="a230a-208">**預設值：** 否</span><span class="sxs-lookup"><span data-stu-id="a230a-208">**Default value:** No</span></span>   |
   |      <span data-ttu-id="a230a-209">**使用者名稱**</span><span class="sxs-lookup"><span data-stu-id="a230a-209">**User Name**</span></span>       |  <span data-ttu-id="a230a-210">指定要用來登入 FTP 伺服器的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-210">Specify the user name to log on to the FTP server.</span></span>  |

   <span data-ttu-id="a230a-211">**輪詢**</span><span class="sxs-lookup"><span data-stu-id="a230a-211">**Polling**</span></span>

   |<span data-ttu-id="a230a-212">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-212">Use this</span></span>|<span data-ttu-id="a230a-213">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-213">To do this</span></span>|  
   |--------------|----------------|         
   |<span data-ttu-id="a230a-214">**下載後刪除**</span><span class="sxs-lookup"><span data-stu-id="a230a-214">**Delete After Download**</span></span>|<span data-ttu-id="a230a-215">指定配接器在從 FTP 伺服器下載檔案之後，是否要刪除檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-215">Specify whether the adapter deletes a file from the FTP server after downloading it.</span></span><br /><br /> <span data-ttu-id="a230a-216">**預設值：** 是**附註：**</span><span class="sxs-lookup"><span data-stu-id="a230a-216">**Default value:** Yes **Note:**</span></span>|  
   |<span data-ttu-id="a230a-217">**啟用時間戳記比較**</span><span class="sxs-lookup"><span data-stu-id="a230a-217">**Enable Timestamp Comparison**</span></span>|<span data-ttu-id="a230a-218">指定配接器是否要根據修改的時間戳記，再次下載檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-218">Specify whether the adapter downloads a file again based on its modified timestamp.</span></span> <span data-ttu-id="a230a-219">如果配接器不具有 FTP 伺服器的刪除權限，MDTM (修改時間) 命令可讓配接器知道檔案自從上次下載後是否曾被修改。</span><span class="sxs-lookup"><span data-stu-id="a230a-219">In cases when the adapter does not have delete permissions on the FTP server, the MDTM (Modification Time) command allows the adapter to know whether a file has been modified since last download.</span></span>  <span data-ttu-id="a230a-220">根據此屬性的值，再次下載檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-220">Based on the value of this property, the file is downloaded again.</span></span><br /><br /> <span data-ttu-id="a230a-221">**預設值：** No**注意**： 如果 FTP 伺服器不支援 MDTM，設定**重新下載間隔**屬性。</span><span class="sxs-lookup"><span data-stu-id="a230a-221">**Default value:** No **Note**:  In case the FTP server does not support MDTM, set the **Redownload Interval** property.</span></span> <span data-ttu-id="a230a-222">**注意︰** ，這個值時才適用**下載後刪除**設為 [否]。</span><span class="sxs-lookup"><span data-stu-id="a230a-222">**Note:**  This property is applicable only when **Delete After Download** is set to No.</span></span>|  
   |<span data-ttu-id="a230a-223">**間隔**</span><span class="sxs-lookup"><span data-stu-id="a230a-223">**Interval**</span></span>|<span data-ttu-id="a230a-224">指定輪詢此位置的時間間隔數。</span><span class="sxs-lookup"><span data-stu-id="a230a-224">Specify the interval number for polling this location.</span></span> <span data-ttu-id="a230a-225">若要連續輪詢，請將此值設為零 (0)。</span><span class="sxs-lookup"><span data-stu-id="a230a-225">To poll continuously, set this value to zero (0).</span></span><br /><br /> <span data-ttu-id="a230a-226">**預設值：** 60</span><span class="sxs-lookup"><span data-stu-id="a230a-226">**Default value:** 60</span></span>|  
   |<span data-ttu-id="a230a-227">**重新下載間隔**</span><span class="sxs-lookup"><span data-stu-id="a230a-227">**Redownload Interval**</span></span>|<span data-ttu-id="a230a-228">指定配接器再次下載檔案的間隔。</span><span class="sxs-lookup"><span data-stu-id="a230a-228">Specify the interval after which the adapter downloads files again.</span></span> <span data-ttu-id="a230a-229">這個值時才適用兩者**下載後刪除**並**啟用時間戳記比較**會設定為 [否]。</span><span class="sxs-lookup"><span data-stu-id="a230a-229">This property is applicable only when both **Delete After Download** and **Enable Timestamp Comparison** are set to No.</span></span><br /><br /> <span data-ttu-id="a230a-230">**預設值：** -1</span><span class="sxs-lookup"><span data-stu-id="a230a-230">**Default value:** -1</span></span><br /><br /> <span data-ttu-id="a230a-231">-1 表示配接器將不會再次下載檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-231">-1 indicates that the adapter will not download files again.</span></span><br /><br /> <span data-ttu-id="a230a-232">0 表示配接器會在每個輪詢循環下載檔案一次。</span><span class="sxs-lookup"><span data-stu-id="a230a-232">0 indicates that the adapter will download the file in each polling cycle.</span></span>|  
   |<span data-ttu-id="a230a-233">**單位**</span><span class="sxs-lookup"><span data-stu-id="a230a-233">**Unit**</span></span>|<span data-ttu-id="a230a-234">指定的單位類型**間隔**並**重新下載間隔**屬性。</span><span class="sxs-lookup"><span data-stu-id="a230a-234">Specify the type of units for the **Interval** and **Redownload Interval** properties.</span></span><br /><br /> <span data-ttu-id="a230a-235">**有效值：** 秒、 分鐘、 小時和天數</span><span class="sxs-lookup"><span data-stu-id="a230a-235">**Valid values:** Seconds, Minutes, Hours, and Days</span></span><br /><br /> <span data-ttu-id="a230a-236">**預設值：** 秒</span><span class="sxs-lookup"><span data-stu-id="a230a-236">**Default value:** Seconds</span></span>|  

   <span data-ttu-id="a230a-237">**SSL**</span><span class="sxs-lookup"><span data-stu-id="a230a-237">**SSL**</span></span>

   |<span data-ttu-id="a230a-238">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-238">Use this</span></span>|<span data-ttu-id="a230a-239">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-239">To do this</span></span>|  
   |--------------|----------------|
   |<span data-ttu-id="a230a-240">**用戶端憑證雜湊**</span><span class="sxs-lookup"><span data-stu-id="a230a-240">**Client Certificate Hash**</span></span>|<span data-ttu-id="a230a-241">指定必須在安全通訊端層 (SSL) 交涉中使用之用戶端憑證的 SHA1 雜湊。</span><span class="sxs-lookup"><span data-stu-id="a230a-241">Specify the SHA1 hash of the client certificate that must be used in the Secure Sockets Layer (SSL) negotiation.</span></span><br /><br /> <span data-ttu-id="a230a-242">系統會根據此雜湊，從用於執行 BizTalk 主控件執行個體之使用者帳戶的個人存放區挑選用戶端憑證。</span><span class="sxs-lookup"><span data-stu-id="a230a-242">Based on this hash, the client certificate is picked up from the personal store of the user account under which the BizTalk host instance is running.</span></span>|  
   |<span data-ttu-id="a230a-243">**FTPS 連線模式**</span><span class="sxs-lookup"><span data-stu-id="a230a-243">**FTPS Connection Mode**</span></span>|<span data-ttu-id="a230a-244">指定對 FTPS 伺服器的 SSL 連線模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-244">Specify the mode of SSL connection made to the FTPS server.</span></span><br /><br /> <span data-ttu-id="a230a-245">**有效值：** 隱含或明確</span><span class="sxs-lookup"><span data-stu-id="a230a-245">**Valid Values:** Implicit or Explicit</span></span><br /><br /> <span data-ttu-id="a230a-246">**預設值：** 明確</span><span class="sxs-lookup"><span data-stu-id="a230a-246">**Default Value:** Explicit</span></span>|  
   |<span data-ttu-id="a230a-247">**使用資料保護**</span><span class="sxs-lookup"><span data-stu-id="a230a-247">**Use Data Protection**</span></span>|<span data-ttu-id="a230a-248">如果配接器必須使用 SSL 加密來與 FTPS 伺服器之間往返傳送資料檔，請將這個屬性指定為 [是]。</span><span class="sxs-lookup"><span data-stu-id="a230a-248">Specify this as Yes if the adapter must use SSL encryption when it sends and receives data files from the FTPS server.</span></span> <span data-ttu-id="a230a-249">將這個屬性指定為 [否]，配接器就會以純文字 傳送和接收資料檔 。</span><span class="sxs-lookup"><span data-stu-id="a230a-249">Specify this as No for the adapter to send and receive data files as plaintext.</span></span> <span data-ttu-id="a230a-250">**注意︰** 此屬性才**使用 SSL**屬性設定為 [是]。</span><span class="sxs-lookup"><span data-stu-id="a230a-250">**Note:**  This property is applicable only if the **Use SSL** property is set to Yes.</span></span> <br /><br /> <span data-ttu-id="a230a-251">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="a230a-251">**Valid Values:** Yes or No</span></span><br /><br /> <span data-ttu-id="a230a-252">**預設值：** [是]</span><span class="sxs-lookup"><span data-stu-id="a230a-252">**Default Value:** Yes</span></span>|  
   |<span data-ttu-id="a230a-253">**使用 SSL**</span><span class="sxs-lookup"><span data-stu-id="a230a-253">**Use SSL**</span></span>|<span data-ttu-id="a230a-254">指定 FTP 配接器是否必須使用 SSL 來與 FTPS 伺服器通訊。</span><span class="sxs-lookup"><span data-stu-id="a230a-254">Specify whether the FTP adapter must use SSL to communicate with the FTPS server.</span></span><br /><br /> <span data-ttu-id="a230a-255">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="a230a-255">**Valid Values:** Yes or No</span></span><br /><br /> <span data-ttu-id="a230a-256">**預設值：** 否</span><span class="sxs-lookup"><span data-stu-id="a230a-256">**Default Value:** No</span></span>|  

   <span data-ttu-id="a230a-257">**調整參數**</span><span class="sxs-lookup"><span data-stu-id="a230a-257">**Tuning Parameters**</span></span>


   |         <span data-ttu-id="a230a-258">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-258">Use this</span></span>         | <span data-ttu-id="a230a-259">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-259">To do this</span></span>  |
   |---|---|
   | <span data-ttu-id="a230a-260">**接收資料逾時**</span><span class="sxs-lookup"><span data-stu-id="a230a-260">**Receive Data Timeout**</span></span> | <span data-ttu-id="a230a-261">指定接收呼叫中止前時間 (以毫秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="a230a-261">Specify the time in milliseconds before the receive call will abort.</span></span> <span data-ttu-id="a230a-262">您可以使用此屬性，防止慢速伺服器造成接收位置停止回應。</span><span class="sxs-lookup"><span data-stu-id="a230a-262">You use this property to prevent a slow server from causing the receive location to stop responding.</span></span><br /><br /> <span data-ttu-id="a230a-263">**預設值：** 90000</span><span class="sxs-lookup"><span data-stu-id="a230a-263">**Default value:** 90000</span></span> |
   |   <span data-ttu-id="a230a-264">**暫存資料夾**</span><span class="sxs-lookup"><span data-stu-id="a230a-264">**Temporary Folder**</span></span>   |  <span data-ttu-id="a230a-265">指定暫存資料夾的位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-265">Specify the location for a temporary folder.</span></span> <span data-ttu-id="a230a-266">您可以使用此位置來保證可自傳輸失敗的地方回復傳輸。</span><span class="sxs-lookup"><span data-stu-id="a230a-266">You use this location to guarantee recovery from a transfer failure.</span></span>                                                |


6. <span data-ttu-id="a230a-267">按一下 **確定**儲存設定。</span><span class="sxs-lookup"><span data-stu-id="a230a-267">Click **OK** to save settings.</span></span>  

7. <span data-ttu-id="a230a-268">在 **接收位置屬性**對話方塊方塊中，輸入適當的值，以完成接收位置的組態，然後再按一下**確定**儲存設定。</span><span class="sxs-lookup"><span data-stu-id="a230a-268">In the **Receive Location Properties** dialog box, enter the appropriate values to complete the configuration of the receive location and then click **OK** to save settings.</span></span> <span data-ttu-id="a230a-269">如需**接收位置屬性** 對話方塊中，請參閱[如何建立接收位置](../core/how-to-create-a-receive-location.md)。</span><span class="sxs-lookup"><span data-stu-id="a230a-269">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  

> [!NOTE]
>  <span data-ttu-id="a230a-270">請勿設定多個 FTP 接收位置來輪詢相同的 FTP URL。</span><span class="sxs-lookup"><span data-stu-id="a230a-270">Do not configure multiple FTP receive locations to poll the same FTP URL.</span></span> <span data-ttu-id="a230a-271">若多個 FTP 接收位置同時輪詢相同的 URL，則每個接收位置均可接收一個檔案複本，如此可能造成資料重複。</span><span class="sxs-lookup"><span data-stu-id="a230a-271">If multiple FTP receive locations are polling the same URL concurrently then each receive location can receive a copy of the file, which can cause data duplication.</span></span> <span data-ttu-id="a230a-272">因為 FTP 通訊協定不提供從目標 URL 讀取檔案時鎖定檔案的功能，才會發生此狀況。</span><span class="sxs-lookup"><span data-stu-id="a230a-272">This behavior occurs because the FTP protocol has no provision for locking files when reading them from the target URL.</span></span>  
>   
>  <span data-ttu-id="a230a-273">若要提供高可用性的 FTP 接收配接器，您應該設定 FTP 接收配接器執行中叢集 BizTalk 主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="a230a-273">To provide high availability for the FTP receive adapter, you should configure the FTP receive adapter to run in a clustered BizTalk Host instance.</span></span> <span data-ttu-id="a230a-274">請參閱[執行叢集主控件中的配接器處理常式的考量](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)。</span><span class="sxs-lookup"><span data-stu-id="a230a-274">See [Considerations for Running Adapter Handlers within a Clustered Host](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span></span>  

## <a name="configure-the-send-port"></a><span data-ttu-id="a230a-275">設定傳送埠</span><span class="sxs-lookup"><span data-stu-id="a230a-275">Configure the send port</span></span>

<span data-ttu-id="a230a-276">您可以在 BizTalk Server 管理主控台中設定 FTP 傳送埠配接器屬性。</span><span class="sxs-lookup"><span data-stu-id="a230a-276">You can set FTP send port adapter properties in the BizTalk Server Administration console.</span></span> <span data-ttu-id="a230a-277">如果未設定傳送埠的屬性，預設值就會傳送處理常式會使用 BizTalk Server 管理主控台中的值。</span><span class="sxs-lookup"><span data-stu-id="a230a-277">If properties are not set for the send port, the default send handler values in the BizTalk Server Administration console are used.</span></span>  

1. <span data-ttu-id="a230a-278">在 BizTalk Server 管理主控台中，建立新的傳送埠，或按兩下現有的傳送埠進行修改。</span><span class="sxs-lookup"><span data-stu-id="a230a-278">In the BizTalk Server Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="a230a-279">請參閱[如何建立傳送埠](../core/how-to-create-a-send-port2.md)。</span><span class="sxs-lookup"><span data-stu-id="a230a-279">See [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="a230a-280">設定所有的傳送埠選項，然後在**傳輸**一節**一般**頁面上，指定**FTP**如**類型**選項。</span><span class="sxs-lookup"><span data-stu-id="a230a-280">Configure all of the send port options, and in the **Transport** section of the **General** page, specify **FTP** for the **Type** option.</span></span>  

2. <span data-ttu-id="a230a-281">在上**一般**頁面上，於**傳輸**區段中，按一下**設定**旁邊**類型**。</span><span class="sxs-lookup"><span data-stu-id="a230a-281">On the **General** page, in the **Transport** section, click the **Configure** button next to **Type**.</span></span>  

3. <span data-ttu-id="a230a-282">在  **FTP 傳輸屬性**，執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="a230a-282">In **FTP Transport Properties**, do the following:</span></span>  

   <span data-ttu-id="a230a-283">**防火牆**</span><span class="sxs-lookup"><span data-stu-id="a230a-283">**Firewall**</span></span>

   |<span data-ttu-id="a230a-284">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-284">Use this</span></span>|<span data-ttu-id="a230a-285">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-285">To do this</span></span>|  
   |--------------|----------------|    
   |<span data-ttu-id="a230a-286">**位址**</span><span class="sxs-lookup"><span data-stu-id="a230a-286">**Address**</span></span>|<span data-ttu-id="a230a-287">指定防火牆的位址，可指定 DNS 名稱或 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-287">Specify the address of the firewall, either a DNS name or an IP address.</span></span>|  
   |<span data-ttu-id="a230a-288">**模式**</span><span class="sxs-lookup"><span data-stu-id="a230a-288">**Mode**</span></span>|<span data-ttu-id="a230a-289">選取配接器與 FTP 伺服器間的連接模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-289">Select the mode in which the adapter connects to the FTP server.</span></span><br /><br /> <span data-ttu-id="a230a-290">**有效值：** Passive 和 Active</span><span class="sxs-lookup"><span data-stu-id="a230a-290">**Valid values:** Passive and Active</span></span><br /><br /> <span data-ttu-id="a230a-291">在主動模式下，FTP 伺服器會連線到 FTP 配接器所開啟的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-291">In active mode, the FTP server connects to a port opened by the FTP adapter.</span></span> <span data-ttu-id="a230a-292">在被動模式下，FTP 配接器會連線到 FTP 伺服器所開啟的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-292">In passive mode, the FTP adapter connects to a port opened by the FTP server.</span></span> <span data-ttu-id="a230a-293">如果您使用內部 IP，而且您連接到外部的 IP，主動模式可能無法運作。</span><span class="sxs-lookup"><span data-stu-id="a230a-293">Active mode may not work if you use an internal IP and you connect to an external IP.</span></span> <span data-ttu-id="a230a-294">在此情況下，您需要 FTP 支援的應用程式層閘道 (ALG) 中使用被動模式還是主動模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-294">In this case, you need to use Passive mode or Active mode with an application-layer gateway (ALG) with FTP support.</span></span><br /><br /> <span data-ttu-id="a230a-295">**預設值：** Active</span><span class="sxs-lookup"><span data-stu-id="a230a-295">**Default value:** Active</span></span>|  
   |<span data-ttu-id="a230a-296">**密碼**</span><span class="sxs-lookup"><span data-stu-id="a230a-296">**Password**</span></span>|<span data-ttu-id="a230a-297">指定防火牆的密碼。</span><span class="sxs-lookup"><span data-stu-id="a230a-297">Specify the password for the firewall.</span></span>|  
   |<span data-ttu-id="a230a-298">**通訊埠**</span><span class="sxs-lookup"><span data-stu-id="a230a-298">**Port**</span></span>|<span data-ttu-id="a230a-299">指定防火牆的連接埠。</span><span class="sxs-lookup"><span data-stu-id="a230a-299">Specify the port for the firewall.</span></span><br /><br /> <span data-ttu-id="a230a-300">**有效值：** 1 到 65535 （含)</span><span class="sxs-lookup"><span data-stu-id="a230a-300">**Valid values:** 1 through 65535 inclusively</span></span><br /><br /> <span data-ttu-id="a230a-301">**預設值：** 21</span><span class="sxs-lookup"><span data-stu-id="a230a-301">**Default value:** 21</span></span>|  
   |<span data-ttu-id="a230a-302">**型別**</span><span class="sxs-lookup"><span data-stu-id="a230a-302">**Type**</span></span>|<span data-ttu-id="a230a-303">選取部署之防火牆的類型。</span><span class="sxs-lookup"><span data-stu-id="a230a-303">Select the type of firewall deployed.</span></span><br /><br /> <span data-ttu-id="a230a-304">**有效值：** Socks 4、 4、socks 5、 無</span><span class="sxs-lookup"><span data-stu-id="a230a-304">**Valid values:** Socks 4, Socks 5, None</span></span><br /><br /> <span data-ttu-id="a230a-305">**預設值：** None</span><span class="sxs-lookup"><span data-stu-id="a230a-305">**Default value:** None</span></span>|  
   |<span data-ttu-id="a230a-306">**使用者**</span><span class="sxs-lookup"><span data-stu-id="a230a-306">**User**</span></span>|<span data-ttu-id="a230a-307">指定防火牆的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-307">Specify the user name for the firewall.</span></span>|  

   <span data-ttu-id="a230a-308">**FTP**</span><span class="sxs-lookup"><span data-stu-id="a230a-308">**FTP**</span></span>


   |       <span data-ttu-id="a230a-309">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-309">Use this</span></span>       | <span data-ttu-id="a230a-310">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-310">To do this</span></span> |
   |---|---|
   |     <span data-ttu-id="a230a-311">**帳戶**</span><span class="sxs-lookup"><span data-stu-id="a230a-311">**Account**</span></span>      |  <span data-ttu-id="a230a-312">選擇性。</span><span class="sxs-lookup"><span data-stu-id="a230a-312">Optional.</span></span> <span data-ttu-id="a230a-313">指定 FTP 伺服器的帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-313">Specify the account name for the FTP server.</span></span> <span data-ttu-id="a230a-314">不鼓勵使用此屬性的選項。</span><span class="sxs-lookup"><span data-stu-id="a230a-314">This option is and use of this property is discouraged.</span></span> |
   |    <span data-ttu-id="a230a-315">**Put 之後**</span><span class="sxs-lookup"><span data-stu-id="a230a-315">**After Put**</span></span>     |  <span data-ttu-id="a230a-316">指定檔案 PUT 後要執行的 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-316">Specify the FTP commands to run after the file PUT.</span></span> <span data-ttu-id="a230a-317">使用分號 (;) 來分隔命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-317">Separate commands with a semicolon (;).</span></span>  |
   | <span data-ttu-id="a230a-318">**配置儲存體**</span><span class="sxs-lookup"><span data-stu-id="a230a-318">**Allocate Storage**</span></span> |  <span data-ttu-id="a230a-319">指定是否配置儲存空間給舊版主控件系統。</span><span class="sxs-lookup"><span data-stu-id="a230a-319">Specify whether to allocate storage space for legacy host systems.</span></span> <span data-ttu-id="a230a-320">為回溯相容性提供此選項。</span><span class="sxs-lookup"><span data-stu-id="a230a-320">This option is provided for backward compatibility.</span></span><br /><br /> <span data-ttu-id="a230a-321">**有效值：** 否是</span><span class="sxs-lookup"><span data-stu-id="a230a-321">**Valid values:** No and Yes</span></span><br /><br /> <span data-ttu-id="a230a-322">**預設值：** 否</span><span class="sxs-lookup"><span data-stu-id="a230a-322">**Default value:** No</span></span>  |
   |    <span data-ttu-id="a230a-323">**Put 之前**</span><span class="sxs-lookup"><span data-stu-id="a230a-323">**Before Put**</span></span>    |  <span data-ttu-id="a230a-324">指定檔案 PUT 前要執行的 FTP 命令，例如，要在 FTP 伺服器上變更預設值的命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-324">Specify the FTP commands to run before the file PUT, such as commands to change default values on the FTP server.</span></span> <span data-ttu-id="a230a-325">使用分號 (;) 來分隔命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-325">Separate commands with a semicolon (;).</span></span> <span data-ttu-id="a230a-326">不需要開啟命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-326">No open command is required.</span></span> <span data-ttu-id="a230a-327">**注意：** 檔案 PUT 前不支援 QUIT 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-327">**Note:**  QUIT command is not supported before the file PUT.</span></span>  |
   |      <span data-ttu-id="a230a-328">**資料夾**</span><span class="sxs-lookup"><span data-stu-id="a230a-328">**Folder**</span></span>      |  <span data-ttu-id="a230a-329">指定在 FTP 伺服器上移動檔案的位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-329">Specify the location to move the files to on the FTP server.</span></span> |
   | <span data-ttu-id="a230a-330">**FTP 伺服器類型**</span><span class="sxs-lookup"><span data-stu-id="a230a-330">**FTP Server Type**</span></span>  | <span data-ttu-id="a230a-331">新開始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="a230a-331">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="a230a-332">您可以使用這個屬性來選擇 FTP 伺服器不需要 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-332">Use this property to choose an FTP server that does not require the SYST command.</span></span> <span data-ttu-id="a230a-333">選項為 None、 AIX、 偵測、 GXS、 MVS、 用於 OS400，和其他。</span><span class="sxs-lookup"><span data-stu-id="a230a-333">Options are None, AIX, Detect, GXS, MVS, OS400, and Other.</span></span> <br/><br/><span data-ttu-id="a230a-334">如果設定為**無**，使用 SYST 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-334">If set to **None**, the SYST command is used.</span></span> <span data-ttu-id="a230a-335">**其他**OS 類型不符合任何一個指定的類別目錄時，會使用。</span><span class="sxs-lookup"><span data-stu-id="a230a-335">**Other** is used when the OS type does not fit into any of the specified categories.</span></span> <br /><br /> <span data-ttu-id="a230a-336">**預設值：** None</span><span class="sxs-lookup"><span data-stu-id="a230a-336">**Default value:** None</span></span> |
   |       <span data-ttu-id="a230a-337">**Log**</span><span class="sxs-lookup"><span data-stu-id="a230a-337">**Log**</span></span>        |  <span data-ttu-id="a230a-338">指定要用來儲存記錄檔複本的位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-338">Specify the location to save a copy of a log file.</span></span> <span data-ttu-id="a230a-339">使用此檔案來診斷透過 FTP 配接器傳送或接收檔案時所發生的錯誤情況。</span><span class="sxs-lookup"><span data-stu-id="a230a-339">Use this file to diagnose error conditions when sending or receiving files through FTP adapter.</span></span>    |
   |     <span data-ttu-id="a230a-340">**密碼**</span><span class="sxs-lookup"><span data-stu-id="a230a-340">**Password**</span></span>     |  <span data-ttu-id="a230a-341">指定要用來登入 FTP 伺服器的密碼。</span><span class="sxs-lookup"><span data-stu-id="a230a-341">Specify the password to log on to the FTP server.</span></span> |
   |       <span data-ttu-id="a230a-342">**通訊埠**</span><span class="sxs-lookup"><span data-stu-id="a230a-342">**Port**</span></span>       | <span data-ttu-id="a230a-343">指定 FTP 伺服器的連接埠位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-343">Specify the port address for the FTP server.</span></span><br /><br /> <span data-ttu-id="a230a-344">**預設值：** 21</span><span class="sxs-lookup"><span data-stu-id="a230a-344">**Default value:** 21</span></span>  |
   |  <span data-ttu-id="a230a-345">**表示法**</span><span class="sxs-lookup"><span data-stu-id="a230a-345">**Representation**</span></span>  | <span data-ttu-id="a230a-346">選取 FTP 配接器傳送資料的方式 (二進位還是 ASCII)。</span><span class="sxs-lookup"><span data-stu-id="a230a-346">Select how FTP adapter sends the data, either as binary or as ASCII.</span></span><br /><br /> <span data-ttu-id="a230a-347">**有效值：** 二進位或 ASCII</span><span class="sxs-lookup"><span data-stu-id="a230a-347">**Valid values:** binary or ASCII</span></span><br /><br /> <span data-ttu-id="a230a-348">**預設值：** 二進位</span><span class="sxs-lookup"><span data-stu-id="a230a-348">**Default value:** binary</span></span>   |
   |      <span data-ttu-id="a230a-349">**Server**</span><span class="sxs-lookup"><span data-stu-id="a230a-349">**Server**</span></span>      |  <span data-ttu-id="a230a-350">指定 FTP 伺服器的伺服器名稱或 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="a230a-350">Specify the server name or IP address of the FTP server.</span></span>  |
   |  <span data-ttu-id="a230a-351">**SSO 分支機構**</span><span class="sxs-lookup"><span data-stu-id="a230a-351">**SSO Affiliate**</span></span>   |  <span data-ttu-id="a230a-352">指定「企業單一登入」分支機構應用程式。</span><span class="sxs-lookup"><span data-stu-id="a230a-352">Specify the Enterprise Single Sign-On affiliate application.</span></span> |
   | <span data-ttu-id="a230a-353">**目標檔案名稱**</span><span class="sxs-lookup"><span data-stu-id="a230a-353">**Target File Name**</span></span> |  <span data-ttu-id="a230a-354">為檔案指定別名。</span><span class="sxs-lookup"><span data-stu-id="a230a-354">Specify an alternative name for the file.</span></span> <span data-ttu-id="a230a-355">保留預設名稱可確保每一個傳送的訊息均擁有唯一的訊息名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-355">Retaining the default name guarantees unique message names for each message sent.</span></span><br /><br /> <span data-ttu-id="a230a-356">**預設值：** %MessageID%.xml</span><span class="sxs-lookup"><span data-stu-id="a230a-356">**Default value:** %MessageID%.xml</span></span>  |
   |    <span data-ttu-id="a230a-357">**使用者名稱**</span><span class="sxs-lookup"><span data-stu-id="a230a-357">**User Name**</span></span>     |  <span data-ttu-id="a230a-358">指定要用來登入 FTP 伺服器的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="a230a-358">Specify the user name to log on to the FTP server.</span></span> |

   <span data-ttu-id="a230a-359">**SSL**</span><span class="sxs-lookup"><span data-stu-id="a230a-359">**SSL**</span></span>

   |<span data-ttu-id="a230a-360">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-360">Use this</span></span>|<span data-ttu-id="a230a-361">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-361">To do this</span></span>|  
   |--------------|----------------|
   |<span data-ttu-id="a230a-362">**用戶端憑證雜湊**</span><span class="sxs-lookup"><span data-stu-id="a230a-362">**Client Certificate Hash**</span></span>|<span data-ttu-id="a230a-363">指定必須在安全通訊端層 (SSL) 交涉中使用之用戶端憑證的 SHA1 雜湊。</span><span class="sxs-lookup"><span data-stu-id="a230a-363">Specify the SHA1 hash of the client certificate that must be used in the Secure Sockets Layer (SSL) negotiation.</span></span><br /><br /> <span data-ttu-id="a230a-364">系統會根據此雜湊，從用於執行 BizTalk 主控件執行個體之使用者帳戶的個人存放區挑選用戶端憑證。</span><span class="sxs-lookup"><span data-stu-id="a230a-364">Based on this hash, the client certificate is picked up from the personal store of the user account under which the BizTalk host instance is running.</span></span>|  
   |<span data-ttu-id="a230a-365">**FTPS 連線模式**</span><span class="sxs-lookup"><span data-stu-id="a230a-365">**FTPS Connection Mode**</span></span>|<span data-ttu-id="a230a-366">指定對 FTPS 伺服器的 SSL 連線模式。</span><span class="sxs-lookup"><span data-stu-id="a230a-366">Specify the mode of SSL connection made to the FTPS server.</span></span><br /><br /> <span data-ttu-id="a230a-367">**有效值：** 隱含或明確</span><span class="sxs-lookup"><span data-stu-id="a230a-367">**Valid values:** Implicit or Explicit</span></span><br /><br /> <span data-ttu-id="a230a-368">**預設值：** 明確</span><span class="sxs-lookup"><span data-stu-id="a230a-368">**Default value:** Explicit</span></span>|  
   |<span data-ttu-id="a230a-369">**使用資料保護**</span><span class="sxs-lookup"><span data-stu-id="a230a-369">**Use Data Protection**</span></span>|<span data-ttu-id="a230a-370">如果配接器必須使用 SSL 加密來與 FTPS 伺服器之間往返傳送資料檔，請將這個屬性指定為 [是]。</span><span class="sxs-lookup"><span data-stu-id="a230a-370">Specify this as Yes if the adapter must use SSL encryption when it sends and receives data files from the FTPS server.</span></span> <span data-ttu-id="a230a-371">將這個屬性指定為 [否]，配接器就會以純文字 傳送和接收資料檔 。</span><span class="sxs-lookup"><span data-stu-id="a230a-371">Specify this as No for the adapter to send and receive data files as plaintext.</span></span> <span data-ttu-id="a230a-372">**注意︰** 此屬性才**使用 SSL**屬性設定為 [是]。</span><span class="sxs-lookup"><span data-stu-id="a230a-372">**Note:**  This property is applicable only if the **Use SSL** property is set to Yes.</span></span> <br /><br /> <span data-ttu-id="a230a-373">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="a230a-373">**Valid values:** Yes or No</span></span><br /><br /> <span data-ttu-id="a230a-374">**預設值：** [是]</span><span class="sxs-lookup"><span data-stu-id="a230a-374">**Default value:** Yes</span></span>|  
   |<span data-ttu-id="a230a-375">**使用 SSL**</span><span class="sxs-lookup"><span data-stu-id="a230a-375">**Use SSL**</span></span>|<span data-ttu-id="a230a-376">指定 FTP 配接器是否必須使用 SSL 來與 FTPS 伺服器通訊。</span><span class="sxs-lookup"><span data-stu-id="a230a-376">Specify whether the FTP adapter must use SSL to communicate with the FTPS server.</span></span><br /><br /> <span data-ttu-id="a230a-377">**有效值：** Yes 或 No</span><span class="sxs-lookup"><span data-stu-id="a230a-377">**Valid values:** Yes or No</span></span><br /><br /> <span data-ttu-id="a230a-378">**預設值：** 否</span><span class="sxs-lookup"><span data-stu-id="a230a-378">**Default value:** No</span></span>|  

   <span data-ttu-id="a230a-379">**調整參數**</span><span class="sxs-lookup"><span data-stu-id="a230a-379">**Tuning Parameters**</span></span>


   |       <span data-ttu-id="a230a-380">使用</span><span class="sxs-lookup"><span data-stu-id="a230a-380">Use this</span></span>       | <span data-ttu-id="a230a-381">動作</span><span class="sxs-lookup"><span data-stu-id="a230a-381">To do this</span></span>  |
   |---|---|
   | <span data-ttu-id="a230a-382">**連線限制**</span><span class="sxs-lookup"><span data-stu-id="a230a-382">**Connection Limit**</span></span> | <span data-ttu-id="a230a-383">指定伺服器最多可以開啟的並行 FTP 連線數目。</span><span class="sxs-lookup"><span data-stu-id="a230a-383">Specify the maximum number of concurrent FTP connections that can be opened to the server.</span></span> <span data-ttu-id="a230a-384">值為 0 時表示沒有限制。</span><span class="sxs-lookup"><span data-stu-id="a230a-384">A value of 0 means no limit.</span></span><br /><br /> <span data-ttu-id="a230a-385">**預設值：** 0**附註：** 這個屬性會取代舊版 BizTalk Server 中用來控管連接限制的登錄項目。</span><span class="sxs-lookup"><span data-stu-id="a230a-385">**Default value:** 0 **Note:**  This property replaces the registry entry that was used in earlier versions of BizTalk Server to govern the connection limit.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="a230a-386">會忽略用來控制連接限制的登錄項目。</span><span class="sxs-lookup"><span data-stu-id="a230a-386"> ignores the registry entry used to control the connection limit.</span></span> |
   | <span data-ttu-id="a230a-387">**暫存資料夾**</span><span class="sxs-lookup"><span data-stu-id="a230a-387">**Temporary Folder**</span></span> |      <span data-ttu-id="a230a-388">指定 FTP 伺服器上的暫存資料夾位置。</span><span class="sxs-lookup"><span data-stu-id="a230a-388">Specify the location for a temporary folder on the FTP server.</span></span> <span data-ttu-id="a230a-389">檔案會先上傳到此處，然後移至目的地 FTP 資料夾。</span><span class="sxs-lookup"><span data-stu-id="a230a-389">The file is first uploaded here and then moved to the destination FTP folder.</span></span> <span data-ttu-id="a230a-390">如果傳輸失敗，配接器會以 ASCII 傳輸模式重新開始上傳檔案，並繼續以二進位傳輸模式下載檔案。</span><span class="sxs-lookup"><span data-stu-id="a230a-390">In case of transfer failure, the adapter restarts the file upload in ASCII mode of transfer and resumes in binary mode of transfer.</span></span> <span data-ttu-id="a230a-391">**注意：** 如果檔案傳輸是不可部分完成的暫存位置與 FTP 伺服器上的相關位置之間，則也是不可部分完成檔案上傳。</span><span class="sxs-lookup"><span data-stu-id="a230a-391">**Note:**  If the file transfer is atomic between the temporary location and the relevant location on the FTP server, then the file upload is also atomic.</span></span>      |

4. <span data-ttu-id="a230a-392">按一下  **確定**並**確定**以儲存設定。</span><span class="sxs-lookup"><span data-stu-id="a230a-392">Click **OK** and **OK** again to save settings.</span></span>   


## <a name="ftp-commands-required-by-the-ftp-adapter"></a><span data-ttu-id="a230a-393">FTP 配接器所需的 FTP 命令</span><span class="sxs-lookup"><span data-stu-id="a230a-393">FTP commands required by the FTP adapter</span></span>  
<span data-ttu-id="a230a-394">FTP 配接器會受到 FTP 通訊協定限制的影響，所以在來源或目的 FTP 伺服器上必須具有某些 FTP 命令。</span><span class="sxs-lookup"><span data-stu-id="a230a-394">The FTP adapter is subject to the limitations of the FTP protocol, and requires that certain FTP commands are available on the source or destination FTP Server.</span></span>  

<span data-ttu-id="a230a-395">FTP 配接器做為 FTP 用戶端運作，而且可能需要的下列命令可在 FTP 伺服器，才能正確運作：</span><span class="sxs-lookup"><span data-stu-id="a230a-395">The FTP adapter operates as an FTP client and may require that the following commands are available on the FTP server to function correctly:</span></span> 


| <span data-ttu-id="a230a-396">命令</span><span class="sxs-lookup"><span data-stu-id="a230a-396">Command</span></span>  |  <span data-ttu-id="a230a-397">需要由接收</span><span class="sxs-lookup"><span data-stu-id="a230a-397">Required by Receive</span></span>  |  <span data-ttu-id="a230a-398">所需的傳送</span><span class="sxs-lookup"><span data-stu-id="a230a-398">Required by Send</span></span>  |
|---|---|---|
|   <span data-ttu-id="a230a-399">SYST</span><span class="sxs-lookup"><span data-stu-id="a230a-399">SYST</span></span>   | <span data-ttu-id="a230a-400">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-400">✔</span></span> <br/><br/><span data-ttu-id="a230a-401">選擇性開始 [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span><span class="sxs-lookup"><span data-stu-id="a230a-401">Optional starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span></span> | <span data-ttu-id="a230a-402">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-402">✔</span></span><br/><br/><span data-ttu-id="a230a-403">選擇性開始 [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span><span class="sxs-lookup"><span data-stu-id="a230a-403">Optional starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)]</span></span> |
|  <span data-ttu-id="a230a-404">存放區</span><span class="sxs-lookup"><span data-stu-id="a230a-404">STORE</span></span>   |  |  <span data-ttu-id="a230a-405">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-405">✔</span></span>  |
|   <span data-ttu-id="a230a-406">RETR</span><span class="sxs-lookup"><span data-stu-id="a230a-406">RETR</span></span>   |  <span data-ttu-id="a230a-407">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-407">✔</span></span>  |  |
|   <span data-ttu-id="a230a-408">使用者</span><span class="sxs-lookup"><span data-stu-id="a230a-408">USER</span></span>   |  <span data-ttu-id="a230a-409">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-409">✔</span></span>  |  <span data-ttu-id="a230a-410">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-410">✔</span></span>  |
|   <span data-ttu-id="a230a-411">PASS</span><span class="sxs-lookup"><span data-stu-id="a230a-411">PASS</span></span>   |  <span data-ttu-id="a230a-412">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-412">✔</span></span>  |  <span data-ttu-id="a230a-413">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-413">✔</span></span>  |
|   <span data-ttu-id="a230a-414">CWD</span><span class="sxs-lookup"><span data-stu-id="a230a-414">CWD</span></span>    |  <span data-ttu-id="a230a-415">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-415">✔</span></span>  |  <span data-ttu-id="a230a-416">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-416">✔</span></span>  |
|   <span data-ttu-id="a230a-417">QUIT</span><span class="sxs-lookup"><span data-stu-id="a230a-417">QUIT</span></span>   |  <span data-ttu-id="a230a-418">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-418">✔</span></span>  |  <span data-ttu-id="a230a-419">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-419">✔</span></span>  |
|   <span data-ttu-id="a230a-420">PORT</span><span class="sxs-lookup"><span data-stu-id="a230a-420">PORT</span></span>   |  <span data-ttu-id="a230a-421">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-421">✔</span></span>  |  <span data-ttu-id="a230a-422">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-422">✔</span></span>  |
|   <span data-ttu-id="a230a-423">PASV</span><span class="sxs-lookup"><span data-stu-id="a230a-423">PASV</span></span>   |  <span data-ttu-id="a230a-424">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-424">✔</span></span>  |  <span data-ttu-id="a230a-425">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-425">✔</span></span>  |
|   <span data-ttu-id="a230a-426">ABOR</span><span class="sxs-lookup"><span data-stu-id="a230a-426">ABOR</span></span>   |  <span data-ttu-id="a230a-427">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-427">✔</span></span>  |  <span data-ttu-id="a230a-428">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-428">✔</span></span>  |
|   <span data-ttu-id="a230a-429">TYPE</span><span class="sxs-lookup"><span data-stu-id="a230a-429">TYPE</span></span>   |  <span data-ttu-id="a230a-430">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-430">✔</span></span>  |  <span data-ttu-id="a230a-431">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-431">✔</span></span>  |
|   <span data-ttu-id="a230a-432">RNFR</span><span class="sxs-lookup"><span data-stu-id="a230a-432">RNFR</span></span>   |  <span data-ttu-id="a230a-433">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-433">✔</span></span>  |  <span data-ttu-id="a230a-434">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-434">✔</span></span>  |
|   <span data-ttu-id="a230a-435">RNTO</span><span class="sxs-lookup"><span data-stu-id="a230a-435">RNTO</span></span>   |  <span data-ttu-id="a230a-436">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-436">✔</span></span>  |  <span data-ttu-id="a230a-437">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-437">✔</span></span>  |
|   <span data-ttu-id="a230a-438">DELE</span><span class="sxs-lookup"><span data-stu-id="a230a-438">DELE</span></span>   |  <span data-ttu-id="a230a-439">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-439">✔</span></span>  |  <span data-ttu-id="a230a-440">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-440">✔</span></span>  |
|   <span data-ttu-id="a230a-441">PWD</span><span class="sxs-lookup"><span data-stu-id="a230a-441">PWD</span></span>    |  <span data-ttu-id="a230a-442">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-442">✔</span></span>  |  <span data-ttu-id="a230a-443">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-443">✔</span></span>  |
|   <span data-ttu-id="a230a-444">LIST</span><span class="sxs-lookup"><span data-stu-id="a230a-444">LIST</span></span>   |  <span data-ttu-id="a230a-445">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-445">✔</span></span>  |  <span data-ttu-id="a230a-446">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-446">✔</span></span>  |
|   <span data-ttu-id="a230a-447">NLST</span><span class="sxs-lookup"><span data-stu-id="a230a-447">NLST</span></span>   |  <span data-ttu-id="a230a-448">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-448">✔</span></span>  |  <span data-ttu-id="a230a-449">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-449">✔</span></span>  |
|   <span data-ttu-id="a230a-450">NOOP</span><span class="sxs-lookup"><span data-stu-id="a230a-450">NOOP</span></span>   |  <span data-ttu-id="a230a-451">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-451">✔</span></span>  |  <span data-ttu-id="a230a-452">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-452">✔</span></span>  |
|   <span data-ttu-id="a230a-453">APPE</span><span class="sxs-lookup"><span data-stu-id="a230a-453">APPE</span></span>   |  |  <span data-ttu-id="a230a-454">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-454">✔</span></span>   |
|   <span data-ttu-id="a230a-455">ALLO</span><span class="sxs-lookup"><span data-stu-id="a230a-455">ALLO</span></span>   |  <span data-ttu-id="a230a-456">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-456">✔</span></span>  |  <span data-ttu-id="a230a-457">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-457">✔</span></span>  |
|   <span data-ttu-id="a230a-458">MDTM</span><span class="sxs-lookup"><span data-stu-id="a230a-458">MDTM</span></span>   |  <span data-ttu-id="a230a-459">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-459">✔</span></span>  |  |
| <span data-ttu-id="a230a-460">AUTH TLS</span><span class="sxs-lookup"><span data-stu-id="a230a-460">AUTH TLS</span></span> |  <span data-ttu-id="a230a-461">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-461">✔</span></span>  |  <span data-ttu-id="a230a-462">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-462">✔</span></span>  |
|   <span data-ttu-id="a230a-463">PBSZ</span><span class="sxs-lookup"><span data-stu-id="a230a-463">PBSZ</span></span>   |  <span data-ttu-id="a230a-464">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-464">✔</span></span>  |  <span data-ttu-id="a230a-465">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-465">✔</span></span>  |
|   <span data-ttu-id="a230a-466">PROT</span><span class="sxs-lookup"><span data-stu-id="a230a-466">PROT</span></span>   |  <span data-ttu-id="a230a-467">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-467">✔</span></span>  |  <span data-ttu-id="a230a-468">✔</span><span class="sxs-lookup"><span data-stu-id="a230a-468">✔</span></span>  |

 <span data-ttu-id="a230a-469">如需有關這些 FTP 命令的詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="a230a-469">For more information about these FTP commands, see:</span></span>  

-   <span data-ttu-id="a230a-470">[RFC 959-檔案傳輸通訊協定](http://go.microsoft.com/fwlink/p/?LinkId=119603)(http://go.microsoft.com/fwlink/p/?LinkId=119603)</span><span class="sxs-lookup"><span data-stu-id="a230a-470">[RFC 959 - File Transfer Protocol](http://go.microsoft.com/fwlink/p/?LinkId=119603) (http://go.microsoft.com/fwlink/p/?LinkId=119603)</span></span>  

-   <span data-ttu-id="a230a-471">[RFC 4217-保護 FTP 與 TLS](http://go.microsoft.com/fwlink/p/?LinkId=183154) (http://go.microsoft.com/fwlink/p/?LinkId=183154)</span><span class="sxs-lookup"><span data-stu-id="a230a-471">[RFC 4217 - Securing FTP with TLS](http://go.microsoft.com/fwlink/p/?LinkId=183154) (http://go.microsoft.com/fwlink/p/?LinkId=183154)</span></span>  

-   <span data-ttu-id="a230a-472">[RFC 3659-FTP](http://go.microsoft.com/fwlink/p/?LinkId=183155) (http://go.microsoft.com/fwlink/p/?LinkId=183155)</span><span class="sxs-lookup"><span data-stu-id="a230a-472">[RFC 3659 - Extensions to FTP](http://go.microsoft.com/fwlink/p/?LinkId=183155) (http://go.microsoft.com/fwlink/p/?LinkId=183155)</span></span>  

## <a name="configuring-an-ftp-adapter-to-work-with-legacy-hosts"></a><span data-ttu-id="a230a-473">設定 FTP 配接器搭配使用舊版主機</span><span class="sxs-lookup"><span data-stu-id="a230a-473">Configuring an FTP Adapter to Work with Legacy Hosts</span></span>

<span data-ttu-id="a230a-474">本節說明您需要知道要促進 FTP 配接器與大型主機電腦之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="a230a-474">This sections addresses what you need to know to facilitate communication between the FTP adapter and a mainframe computer.</span></span>   
> [!NOTE]
>  <span data-ttu-id="a230a-475">在傳送檔案至 MVS 或 AS400 主機時，無法使用暫存資料夾功能。</span><span class="sxs-lookup"><span data-stu-id="a230a-475">You cannot use the temporary folder function when sending files to an MVS or AS400 host.</span></span> <span data-ttu-id="a230a-476">不支援在此欄位進行輸入，此舉將導致錯誤。</span><span class="sxs-lookup"><span data-stu-id="a230a-476">Input into this field is not supported and will cause errors.</span></span>  

> [!IMPORTANT]
>  <span data-ttu-id="a230a-477">下列資訊提供做為指南，但是不可替代 AS400 或 IBM 文件中的資訊。</span><span class="sxs-lookup"><span data-stu-id="a230a-477">The following information is provided as a guide and should not be substituted for information found in AS400 or IBM documentation.</span></span>  

## <a name="mvs"></a><span data-ttu-id="a230a-478">MVS</span><span class="sxs-lookup"><span data-stu-id="a230a-478">MVS</span></span>  
 <span data-ttu-id="a230a-479">若要傳送檔案至大型主機上的 FTP 伺服器，該主機必須支援 IBM Generation Data Group (GDG)。</span><span class="sxs-lookup"><span data-stu-id="a230a-479">To send files to an FTP server on a mainframe, the mainframe must support IBM Generation Data Group (GDG).</span></span> <span data-ttu-id="a230a-480">在名稱欄位中，每個檔案名稱會在目的地檔案名稱 (完整路徑前後加引號) 附加 (+1)。</span><span class="sxs-lookup"><span data-stu-id="a230a-480">In the name field, each file name will append a (+1) to the destination file name (a full path with quotes around it).</span></span>  

## <a name="as400"></a><span data-ttu-id="a230a-481">AS400</span><span class="sxs-lookup"><span data-stu-id="a230a-481">AS400</span></span>  
 <span data-ttu-id="a230a-482">在 AS400 系統傳送檔案時，有三種方法可命名檔案以及定義路徑：</span><span class="sxs-lookup"><span data-stu-id="a230a-482">There are three methods of naming files and defining their paths when transferring files to and from an AS400 system:</span></span>  

-   <span data-ttu-id="a230a-483">**檔案名稱 欄位**： 當檔案傳送至 FTP 伺服器中，輸入中的檔案名稱**Filename**欄位。</span><span class="sxs-lookup"><span data-stu-id="a230a-483">**Filename field**: When sending a file to an FTP server, enter the file name in the **Filename** field.</span></span> <span data-ttu-id="a230a-484">檔案名稱必須符合 AS400 系統的檔案命名慣例，因為檔案將會儲存在「程式庫檔案系統」(Library File System) 中。</span><span class="sxs-lookup"><span data-stu-id="a230a-484">The file name must conform to the file-naming conventions of the AS400 system because the file will be stored in the Library File System.</span></span>  

-   <span data-ttu-id="a230a-485">**Quote 命令**： 使用 Quote 命令在遠端電腦上執行指令碼。</span><span class="sxs-lookup"><span data-stu-id="a230a-485">**Quote command**: Use the Quote command to run a script on the remote computer.</span></span> <span data-ttu-id="a230a-486">輸入 Quote 命令**Before GET**， **Before PUT**，**之後取得**，和**After PUT**欄位上的任何端點。</span><span class="sxs-lookup"><span data-stu-id="a230a-486">Enter the Quote command into the **Before GET**, **Before PUT**, **After GET**, and **After PUT** fields on any of the endpoints.</span></span> <span data-ttu-id="a230a-487">請以下列格式輸入 Quote 命令：</span><span class="sxs-lookup"><span data-stu-id="a230a-487">Enter the Quote command in the following format:</span></span>  

    ```  
    QUOTE RCMD <command to be run on the remote system>.  
    ```  

-   <span data-ttu-id="a230a-488">**整合檔案系統 (IFS)**: IFS 是 AS400 系統，可讓電腦為基礎的檔案，因此與 PC 相同的命名慣例的儲存體上的區域。</span><span class="sxs-lookup"><span data-stu-id="a230a-488">**Integrated File System (IFS)**: IFS is an area on the AS400 system that allows the storage of PC-based files and therefore the same naming conventions as a PC.</span></span> <span data-ttu-id="a230a-489">若要使用 IFS 而不使用預設的「程式庫檔案系統」(Library File System)，要輸入的第一個命令是 `quote site namefmt 1`。</span><span class="sxs-lookup"><span data-stu-id="a230a-489">To use the IFS instead of the default Library File System, the first command to enter is `quote site namefmt 1`.</span></span> <span data-ttu-id="a230a-490">此命令告知 AS400 系統要使用 IFS 命名慣例。</span><span class="sxs-lookup"><span data-stu-id="a230a-490">This command tells the AS400 system to use the IFS naming convention.</span></span>    


## <a name="more-good-stuff"></a><span data-ttu-id="a230a-491">更多實用功能</span><span class="sxs-lookup"><span data-stu-id="a230a-491">More good stuff</span></span>

[<span data-ttu-id="a230a-492">FTP 配接器屬性結構描述和屬性</span><span class="sxs-lookup"><span data-stu-id="a230a-492">FTP Adapter Property Schema and Properties</span></span>](../core/ftp-adapter-property-schema-and-properties.md)  

[<span data-ttu-id="a230a-493">最佳做法和建議，FTP 配接器</span><span class="sxs-lookup"><span data-stu-id="a230a-493">Best practices and recommendations for the FTP adapter</span></span>](../core/best-practices-and-recommendations-for-the-ftp-adapter.md)  

[<span data-ttu-id="a230a-494">FTP 配接器</span><span class="sxs-lookup"><span data-stu-id="a230a-494">FTP Adapter</span></span>](../core/ftp-adapter.md)
