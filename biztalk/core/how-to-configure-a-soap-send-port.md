---
title: 如何設定 SOAP 傳送埠 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SOAP adapters, send ports
- SOAP adapters, code samples
- code samples, SOAP adapters
- configuring [SOAP adapters], code samples
- configuring [SOAP adapters], send ports
- send ports, SOAP adapters
ms.assetid: 3a0622f4-d25d-4449-a063-d8ba217e9729
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 79a5bfc7e7a1455f55b10f36f5280c967ecf190d
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36978055"
---
# <a name="how-to-configure-a-soap-send-port"></a>如何設定 SOAP 傳送埠
您可以使用程式設計的方式或 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理主控台來設定 SOAP 傳送埠。  

 **如何以程式設計方式設定 SOAP 傳送埠**  

 「 BizTalk 總管物件模型會公開名為 傳送埠的配接器特定介面**ITransportInfo**具有**TransportTypeData**讀/寫屬性。 此屬性可接受以名稱-值組的 XML 字串為形式的 SOAP 傳送埠組態屬性包。 請注意，若要設定這個屬性，在 BizTalk 總管物件模型您必須設定**OutboundTransportLocation**屬性**ITransportInfo**介面第一次。  

 **TransportTypeData**屬性**ITransportInfo**介面並非必要。 若未設定，則配接器會使用 SOAP 傳送埠組態的預設值，如下表所示。  

 下表列出可在 [BizTalk 總管] 物件模型中為 SOAP 傳送埠設定的組態屬性。  

|屬性名稱|類型|描述|  
|-------------------|----------|-----------------|  
|**URI**|String|包含部署伺服器上 Web 服務的虛擬目錄。|  
|**使用者名稱**|String|指定要用於存取目標 Web 服務的使用者名稱。<br /><br /> 預設值： 空白|  
|**密碼**|String|要提供給伺服器驗證的使用者密碼。<br /><br /> 預設值： 空白|  
|**ClientCertificate**|String|用戶端 SSL 憑證指紋。<br /><br /> 預設值： 空白|  
|**AffiliateApplicationName**|String|用於贖回用戶端憑證票證的 SSO 應用程式名稱。<br /><br /> **AffiliateApplicationName**是互斥**Username**並**密碼**組。<br /><br /> 預設值： 空白|  
|**UseProxy**|布林|指示 SOAP 傳送埠是否使用 Proxy 伺服器來存取目標 Web 服務。 Proxy 伺服器可由所有 SOAP 傳送埠共用。<br /><br /> 預設值：False|  
|**ProxyAddress**|String|用於 Web 服務呼叫的 HTTP Proxy 位址。<br /><br /> 預設值： 空白|  
|**ProxyPort**|Integer|用於 Web 服務呼叫的 HTTP Proxy 連接埠。<br /><br /> 預設值： 空白|  
|**ProxyUsername**|String|用於 Proxy 的使用者名稱。<br /><br /> 預設值： 空白|  
|**ProxyPassword**|String|用於 Proxy 的密碼。<br /><br /> 預設值： 空白|  

 下列程式碼顯示用來設定這些屬性的格式：  

```  
<CustomProps>  
   <URI vt="8"/>  
   <ClientCertificate vt="8"/>  
   <Password vt="8">Encrypted</Password>  
   <ProxyAddress vt="8"/>  
   <ProxyPassword vt="8">Encrypted</ProxyPassword>  
   <ProxyPort vt="3"/>  
   <ProxyUsername vt="8"/>  
   <UseProxy vt="11"/>  
   <Username vt="8"/>  
   <AffiliateApplicationName vt="8"/>  
</CustomProps>  
```  

 **如何使用 BizTalk Server 管理主控台設定 SOAP 傳送埠**  

 您可以在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理主控台中設定 SOAP 傳送埠配接器變數。 若未設定傳送埠的屬性，會使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理主控台中所設定的預設傳送處理常式值。  

### <a name="to-configure-variables-for-a-soap-send-port"></a>設定 SOAP 傳送埠的變數  

1. 在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理主控台中，建立新的傳送埠，或按兩下現有的傳送埠進行修改。 如需詳細資訊，請參閱 <<c0> [ 如何建立傳送埠](../core/how-to-create-a-send-port2.md)。 設定所有傳送埠選項，並指定**SOAP** for**型別**選項**傳輸**一節**一般** 索引標籤。  

2. 在上**一般**索引標籤**傳輸**區段旁邊**型別**，按一下 **設定**。  

3. 在  **SOAP 傳輸屬性**對話方塊的 **一般**索引標籤上，執行下列動作：  


   |             使用              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     以進行此動作                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   |-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **Web 服務 URL**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   指定要呼叫的 Web 服務位址。 **注意：** URI 傳送埠或接收位置不能超過 256 個字元。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   |        **驗證**         |                                                                                                                                                                                                                                                                                                                                                                                                                          指示呼叫的 Web 服務所使用的驗證方法。<br /><br /> 選項：<br /><br /> -   **匿名的。** 預設設定。<br />-   **基本的。** SOAP 連線會以純文字傳送使用者名稱及密碼。<br />-   **摘要。** SOAP 連線會以加密格式傳送密碼。<br />-   **NTLM。** 使用者名稱或密碼都不會透過 SOAP 連線傳送。 SOAP 配接器永遠使用 SOAP 傳送配接器在其下執行此驗證類型的處理序之認證。                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |          **認證**          | 指定要使用的認證類型。<br /><br /> 僅適用於當**驗證類型**是**基本**或是**摘要**。<br /><br /> 選項：<br /><br /> -   **請勿使用單一登入**<br />     **使用者名稱**<br />     要提供給目的地伺服器驗證的使用者名稱。 如果**驗證類型**屬性是**Anonymous**或是**NTLM**，此選項會停用。 此屬性需要一個值，如果**基本**或**摘要**已選取，而且不會使用企業單一登入。<br />     最小長度：00<br />     最大長度：256<br />     **密碼**<br />     要提供給目的地伺服器驗證的密碼。 如果**驗證類型**屬性是**Anonymous**或是**NTLM**，此選項會停用。 此屬性需要一個值，如果**基本**或**摘要**已選取，而且不會使用單一登入。<br />     最小長度：00<br />     最大長度：256<br />-   **使用單一登入**<br />     指定是否要使用「單一登入」來擷取用戶端認證，以供目的地伺服器驗證。<br />     **分支機構應用程式**<br />     指定要用於「單一登入」的分支機構應用程式。 如需填入此清單，請參閱[SSO 分支機構應用程式](../core/sso-affiliate-applications.md)。<br />     最小長度：00<br />     最大長度：256 |
   | **用戶端憑證指紋** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        指定要用來建立連線的用戶端憑證指紋。<br /><br /> 範例： 01 23 45 67 89 AB CD EF 01 23 45 67 89 AB CD EF 01 23 45 67<br /><br /> 最小長度：00<br /><br /> 最大長度： 59                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |


4. 在  **SOAP 傳輸屬性**對話方塊的  **Proxy**索引標籤上，執行下列動作：  


   |                   使用                    |                                                                                                                                                                                                     以進行此動作                                                                                                                                                                                                      |
   |-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **使用處理常式的預設 proxy 設定** |                                                                         指定傳送埠 Proxy 處理常式組態。 若為 True，連接埠將使用在處理常式層級指定的 Proxy 設定。 若為 False，傳送配接器將使用在傳送埠指定的 Proxy 資訊。<br /><br /> 預設設定是 true。                                                                         |
   |             **不使用 proxy**              |                                                                                                                                                                             指示 SOAP 傳送處理常式是否要使用 Proxy 伺服器。                                                                                                                                                                             |
   |                 **使用 Proxy**                 |                                                                                                                                                 指示 SOAP 傳送處理常式是否要使用 Proxy 伺服器。 Proxy 伺服器可由所有 SOAP 傳送埠共用。                                                                                                                                                  |
   |                  **Server**                   |                                                                                                    指定 Proxy 伺服器的名稱。<br /><br /> 此屬性只需要一個值，如果**使用 proxy**已選取。<br /><br /> 類型：字串<br /><br /> 最小長度：00<br /><br /> 最大長度：256                                                                                                     |
   |                   **通訊埠**                    |                                       指定 SOAP 傳送處理常式使用的連接埠。<br /><br /> 此屬性只需要一個值，如果**使用 proxy**已選取。<br /><br /> 預設值： 80<br /><br /> 類型：Long<br /><br /> 最小值：0<br /><br /> 最大值： 65535**附註：** 指定值為 0，表示使用預設值，也就是連接埠 80。                                        |
   |                 **使用者名稱**                 | 指定要用於驗證的使用者名稱。 如果您使用 Windows 整合式的驗證，使用者名稱包括網域， **domain\username**。 如果您使用基本或摘要式驗證的使用者名稱不包含**網域\\**。<br /><br /> 此屬性只需要一個值，如果**使用 proxy**已選取。<br /><br /> 類型：字串<br /><br /> 最小長度：00<br /><br /> 最大長度：256 |
   |                 **密碼**                  |                                                                                                指定要用於驗證的密碼。<br /><br /> 此屬性只需要一個值，如果**使用 proxy**已選取。<br /><br /> 類型：字串<br /><br /> 最小長度：00<br /><br /> 最大長度：256                                                                                                 |


5. 在  **SOAP 傳輸屬性**對話方塊的  **Web 服務**索引標籤上，執行下列動作：  


   |          使用          |                                                                                                                                                                                                  以進行此動作                                                                                                                                                                                                  |
   |----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **協調流程 Web 連接埠** |                                                                                                                                指定要使用 Web 服務公開在所列的 Web 服務 URL**一般** 索引標籤。<br /><br /> 這是預設值。                                                                                                                                 |
   |     **組件名稱**      | 指定包含 Web 服務 Proxy 的組件名稱。 您可以按一下 [瀏覽] 按鈕找出組件，填入此欄位。 在選取組件後，會以組件的完整格式名稱填入此方塊。 **注意︰** 指定的組件必須存在於所有[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]s，在執行階段。 |
   |       **類型名稱**        |                                                                                                                              指定包含要叫用的 Web 方法的類別名稱。 可以從組件中包含的類型清單中選取此項。                                                                                                                              |
   |      **方法名稱**       |                                             指定清單方塊中的一個方法，或選擇 [稍後指定] 選項。 若選擇 [稍後指定] 選項，則必須藉由其他方式設定 Web 方法，例如，管線元件。 在此案例中，web 方法必須寫入 Soap 配接器**MethodName**內容屬性。                                              |
   |        **SOAP 1.2**        |                                                                                                         指定產生支援 SOAP 1.2 通訊協定的 Proxy 程式碼。 若此選項為已清除，則會產生 SOAP 1.1 相容的 Proxy 程式碼。<br /><br /> 預設值： 清除                                                                                                          |


6. 按一下  **確定**並**確定**以儲存設定。  

## <a name="see-also"></a>另請參閱  
 [發佈 Web 服務](../core/publishing-web-services.md)