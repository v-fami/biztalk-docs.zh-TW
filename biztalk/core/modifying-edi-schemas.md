---
title: 修改 EDI 結構描述 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6fa33c5e-17ca-4aaf-a1ca-1972a9bb45ac
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2ac79b7a8dc6b33c7841003936c0b961bec812f8
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37023196"
---
# <a name="modifying-edi-schemas"></a><span data-ttu-id="236a5-102">修改 EDI 結構描述</span><span class="sxs-lookup"><span data-stu-id="236a5-102">Modifying EDI Schemas</span></span>
<span data-ttu-id="236a5-103">您可以修改 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中現有的 EDI 結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-103">You can modify an existing EDI schema that is shipped in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="236a5-104">當您和交易夥伴都同意修改標準結構描述，而且可能還變更了相關的「訊息實作指南」(Message Implementation Guideline，MIG) 檔案，您可以使用 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的 [BizTalk 編輯器] 來修改該結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-104">When you and your trading partners have agreed on modifications to standard schemas, and perhaps changed the relevant Message Implementation Guideline (MIG) file, you can modify the schemas in the BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="236a5-105">有些結構描述修改 (欄位交互驗證和 HIPAA 子文件分割) 包括變更 EDI 結構描述中的註解。</span><span class="sxs-lookup"><span data-stu-id="236a5-105">Some schema modifications (cross-field validation and HIPAA subdocument splitting) involve changes to the annotations in an EDI schema.</span></span> <span data-ttu-id="236a5-106">這類變更無法透過「BizTalk 編輯器」完成，而是使用像是「記事本」這樣的文字編輯器來進行。</span><span class="sxs-lookup"><span data-stu-id="236a5-106">These changes cannot be made in BizTalk Editor, but can be made in a text editor, such as Notepad.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="236a5-107">必要條件</span><span class="sxs-lookup"><span data-stu-id="236a5-107">Prerequisites</span></span>  
 <span data-ttu-id="236a5-108">您必須以「[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 系統管理員」群組的成員身分登入。</span><span class="sxs-lookup"><span data-stu-id="236a5-108">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
## <a name="schema-naming-convention"></a><span data-ttu-id="236a5-109">結構描述命名慣例</span><span class="sxs-lookup"><span data-stu-id="236a5-109">Schema Naming Convention</span></span>  
 <span data-ttu-id="236a5-110">EDI 結構描述會用自己的根名稱和命名空間來識別。</span><span class="sxs-lookup"><span data-stu-id="236a5-110">An EDI schema is identified by its root name and its namespace.</span></span> <span data-ttu-id="236a5-111">您無法在相同的 BizTalk 群組中部署兩個具有相同根名稱和命名空間的結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-111">You cannot deploy two schemas in the same BizTalk Group with the same root name and namespace.</span></span> <span data-ttu-id="236a5-112">您無法修改任何 EDI 結構描述的根名稱或是在根名稱中加入其他資訊，因為使用標準命名慣例的根名稱不能包含版本和文件類型。</span><span class="sxs-lookup"><span data-stu-id="236a5-112">You cannot modify the root name of any EDI schema, or add to the root name, because the root name must contain the version and the document type in a standard naming convention.</span></span> <span data-ttu-id="236a5-113">因此，若您要在相同的 BizTalk 群組中部署兩個具有相同根名稱的結構描述，您必須分別為這兩個結構描述使用不同的命名空間。</span><span class="sxs-lookup"><span data-stu-id="236a5-113">As a result, if you want to deploy two schemas in the same BizTalk Group with the same root name, you must use a different namespace for each one.</span></span>  
  
 <span data-ttu-id="236a5-114">公司在相同 BizTalk 群組中，針對兩個或更多個不同交易夥伴部署相同但為不同版本之結構描述的做法並不罕見。</span><span class="sxs-lookup"><span data-stu-id="236a5-114">It is not uncommon for a company to deploy in the same BizTalk Group a different version of the same schema for two or more different trading partners.</span></span> <span data-ttu-id="236a5-115">但是我們現在討論的是具有相同版本和相同文件類型的兩個結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-115">In this case, the two schemas would have the same version and the same document type.</span></span> <span data-ttu-id="236a5-116">若要部署這些結構描述，您將必須針對個別結構描述使用不同的命名空間。</span><span class="sxs-lookup"><span data-stu-id="236a5-116">To deploy these two schemas, you would have to have different namespaces for each schema.</span></span>  
  
## <a name="edi-schema-changes"></a><span data-ttu-id="236a5-117">EDI 結構描述變更</span><span class="sxs-lookup"><span data-stu-id="236a5-117">EDI Schema Changes</span></span>  
 <span data-ttu-id="236a5-118">您可以在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中對 EDI 結構描述進行下列變更：</span><span class="sxs-lookup"><span data-stu-id="236a5-118">You can make the following changes to an EDI schema in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]:</span></span>  
  
|<span data-ttu-id="236a5-119">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="236a5-119">To do this</span></span>|<span data-ttu-id="236a5-120">執行方式</span><span class="sxs-lookup"><span data-stu-id="236a5-120">Do this</span></span>|  
|----------------|-------------|  
|<span data-ttu-id="236a5-121">變更列舉</span><span class="sxs-lookup"><span data-stu-id="236a5-121">Change an enumeration</span></span><br /><br /> <span data-ttu-id="236a5-122">(就像代碼清單中的值清單)</span><span class="sxs-lookup"><span data-stu-id="236a5-122">(such as the list of values in a code list)</span></span>|<span data-ttu-id="236a5-123">在內容中的項目，開啟**列舉型別編輯器**並新增值，或從列舉清單刪除一個值。</span><span class="sxs-lookup"><span data-stu-id="236a5-123">In the properties for an element, open the **Enumeration Editor** and add a value to, or delete a value from, the enumeration list.</span></span>|  
|<span data-ttu-id="236a5-124">變更資料元素的選用性</span><span class="sxs-lookup"><span data-stu-id="236a5-124">Change the optionality of a data element</span></span>|<span data-ttu-id="236a5-125">變更**Min Occurs**屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-125">Change the **Min Occurs** property.</span></span> <span data-ttu-id="236a5-126">變更為 0 時，欄位就成為選用項目，若是變更為 1，欄位就成為必要項目。</span><span class="sxs-lookup"><span data-stu-id="236a5-126">Change it to 0 to make the field optional or to 1 to make it required.</span></span>|  
|<span data-ttu-id="236a5-127">變更資料元素可出現在檔案中的最多次數</span><span class="sxs-lookup"><span data-stu-id="236a5-127">Change the maximum number of times that a data element can appear in the file</span></span>|<span data-ttu-id="236a5-128">變更**Max Occurs**屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-128">Change the **Max Occurs** property.</span></span>|  
|<span data-ttu-id="236a5-129">變更在資料元素中的字元數目</span><span class="sxs-lookup"><span data-stu-id="236a5-129">Change the number of characters in the data element</span></span>|<span data-ttu-id="236a5-130">變更**長度**屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-130">Change the **Length** property.</span></span>|  
|<span data-ttu-id="236a5-131">變更資料元素的資料型別</span><span class="sxs-lookup"><span data-stu-id="236a5-131">Change the data type of a data element</span></span>|<span data-ttu-id="236a5-132">變更**基底資料型別**或是**日期類型**屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-132">Change the **Base Data Type** or **Date Type** property.</span></span>|  
|<span data-ttu-id="236a5-133">加入自訂欄位</span><span class="sxs-lookup"><span data-stu-id="236a5-133">Add a custom field</span></span>|<span data-ttu-id="236a5-134">插入子欄位項目結構描述節點，並設定其屬性 (Property)。</span><span class="sxs-lookup"><span data-stu-id="236a5-134">Insert a child field element schema node and set its properties.</span></span> <span data-ttu-id="236a5-135">**注意：** EDI 結構描述中的記錄中加入子欄位屬性不允許，因為會不保證的元素序列。</span><span class="sxs-lookup"><span data-stu-id="236a5-135">**Note:**  Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="236a5-136">加入子欄位屬性 (Attribute) 會產生無效的結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-136">Trying to add a child field attribute results in an invalid schema.</span></span> <span data-ttu-id="236a5-137">您只可以在 EDI 結構描述的記錄中加入子欄位項目。</span><span class="sxs-lookup"><span data-stu-id="236a5-137">You can only add a child field element to a record in an EDI schema.</span></span>|  
|<span data-ttu-id="236a5-138">加入自訂記錄</span><span class="sxs-lookup"><span data-stu-id="236a5-138">Add a custom record</span></span>|<span data-ttu-id="236a5-139">插入子欄位記錄結構描述節點，設定其屬性 (Property)，然後加入子欄位項目。</span><span class="sxs-lookup"><span data-stu-id="236a5-139">Insert a child record schema node, set its properties, and then add child field elements.</span></span>|  
|<span data-ttu-id="236a5-140">刪除子欄位或記錄</span><span class="sxs-lookup"><span data-stu-id="236a5-140">Delete a custom field or record</span></span>|<span data-ttu-id="236a5-141">刪除自訂欄位，或是包括子欄位項目的自訂記錄。</span><span class="sxs-lookup"><span data-stu-id="236a5-141">Delete a custom field or a custom record with its child field elements.</span></span>|  
|<span data-ttu-id="236a5-142">啟用欄位交互驗證</span><span class="sxs-lookup"><span data-stu-id="236a5-142">Enable cross-field validation</span></span>|<span data-ttu-id="236a5-143">將結構描述 appinfo 區段中註解中設定欄位交互驗證旗標**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-143">Set the cross-field validation flag in the annotation in the appinfo section of the schema to **Yes**.</span></span> <span data-ttu-id="236a5-144">此旗標是**X12ConditionDesignator_Check** （適用於 X12 或 HIPAA 結構描述） 或**EdifactDependencyRule_Check** （適用於 EDIFACT 結構描述）。</span><span class="sxs-lookup"><span data-stu-id="236a5-144">This flag is either **X12ConditionDesignator_Check** (for X12 or HIPAA schemas) or **EdifactDependencyRule_Check** (for EDIFACT schemas).</span></span><br /><br /> <span data-ttu-id="236a5-145">透過指定關係條件 (X12 和 HIPAA) 或相依性規則 (EDIFACT)，啟用針對特定項目的欄位交互驗證。</span><span class="sxs-lookup"><span data-stu-id="236a5-145">Enable cross-field validation for a specific element by specifying the relational conditions (X12 and HIPAA) or dependency rules (EDIFACT).</span></span> <span data-ttu-id="236a5-146">如需詳細資訊，請參閱 <<c0> [ 設定欄位交互驗證](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-146">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span><br /><br /> <span data-ttu-id="236a5-147">您也需要設定**Edi 類型驗證**屬性設**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-147">You also need to set the **Edi type validation** property to **yes**.</span></span><br /><br /> <span data-ttu-id="236a5-148">預設會針對 HIPAA 結構描述啟用欄位交互驗證。</span><span class="sxs-lookup"><span data-stu-id="236a5-148">Cross-field validation is enabled by default for HIPAA schemas.</span></span>|  
|<span data-ttu-id="236a5-149">啟用 HIPAA 子文件分割</span><span class="sxs-lookup"><span data-stu-id="236a5-149">Enable HIPAA subdocument splitting</span></span>|<span data-ttu-id="236a5-150">在其中一個 HIPAA 結構描述，您可以設定子文件分割中，設定**subdocument_break**並**Split_Without_Sibling_Data**屬性的結構描述**是**而**subdocument_creation_break**屬性結構描述中特定項目的**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-150">In one of the HIPAA schemas that you can set subdocument splitting in, set the **subdocument_break** and **Split_Without_Sibling_Data** properties for the schema to **yes** and the **subdocument_creation_break** property for a specific element in the schema to **yes**.</span></span><br /><br /> <span data-ttu-id="236a5-151">您也需要設定**輸入批次處理選項**協議屬性設**交換分割為交易集**。</span><span class="sxs-lookup"><span data-stu-id="236a5-151">You also need to set the **Inbound batch processing option** agreement property to **Split Interchange as Transaction Sets**.</span></span><br /><br /> <span data-ttu-id="236a5-152">如需詳細資訊，請參閱 <<c0> [ 分割 HIPAA 子文件](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-152">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>|  
|<span data-ttu-id="236a5-153">新增觸發欄位至 HIPAA 文件</span><span class="sxs-lookup"><span data-stu-id="236a5-153">Add trigger fields to a HIPAA document</span></span>|<span data-ttu-id="236a5-154">您可以允許 EDI 解譯器使用稱為觸發欄位的合格項目，為 HIPAA 文件建立唯一的 XML 記錄。</span><span class="sxs-lookup"><span data-stu-id="236a5-154">You can allow the EDI disassembler to create unique XML records for a segment of your HIPAA document, based on a qualifying element known as a trigger field.</span></span> <span data-ttu-id="236a5-155">您必須指定描述區段的屬性與觸發值，才能為區段建立唯一的 XML 記錄。</span><span class="sxs-lookup"><span data-stu-id="236a5-155">You must specify the attributes that describe the segment and the trigger value so a unique XML record is created for the segment.</span></span> <span data-ttu-id="236a5-156">如需詳細資訊，請參閱 < [HIPAA 結構描述觸發欄位註解](../core/hipaa-schema-trigger-field-annotations.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-156">For more information, see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md).</span></span>|  
|<span data-ttu-id="236a5-157">新增區段至 X12 交易集</span><span class="sxs-lookup"><span data-stu-id="236a5-157">Add a segment to an X12 transaction set</span></span>|<span data-ttu-id="236a5-158">當您新增區段至 X12 交易集時，會使用區段名稱的前 3 個字元做為區段識別碼。</span><span class="sxs-lookup"><span data-stu-id="236a5-158">When you add a new segment to an X12 transaction set, the first three characters of the segment name are used as the segment identifier.</span></span> <span data-ttu-id="236a5-159">因此，建議您命名區段時，必須讓前 3 個字元是唯一的。</span><span class="sxs-lookup"><span data-stu-id="236a5-159">Hence, we recommend that you name a segment such that the first three characters are unique.</span></span>|  
|<span data-ttu-id="236a5-160">新增迴圈至 HIPAA 交易集</span><span class="sxs-lookup"><span data-stu-id="236a5-160">Add a loop to a HIPAA transaction set</span></span>|<span data-ttu-id="236a5-161">當您新增迴圈至 HIPAA 交易集時，建議您在迴圈名稱中包含 “Loop”。</span><span class="sxs-lookup"><span data-stu-id="236a5-161">When you add a new loop to a HIPAA transaction set, we recommend naming the loop to include “Loop” within the name.</span></span> <span data-ttu-id="236a5-162">迴圈的範例格式為 “TS837_2010AB_Loop”。</span><span class="sxs-lookup"><span data-stu-id="236a5-162">An example format for a loop is “TS837_2010AB_Loop”.</span></span> <span data-ttu-id="236a5-163">**注意：** 在迴圈中的第一個區段是必要的 （區段的 minOccurs 必須等於 1） 若要避免模稜兩可。</span><span class="sxs-lookup"><span data-stu-id="236a5-163">**Note:**  The first segment in a loop is mandatory (minOccurs of the segment must be equal to 1) in order to avoid ambiguity.</span></span>|  
|<span data-ttu-id="236a5-164">新增 ‘any order loop’ 至 HIPAA 交易集</span><span class="sxs-lookup"><span data-stu-id="236a5-164">Add an ‘any order loop’ to a HIPAA transaction set</span></span>|<span data-ttu-id="236a5-165">當交易集有多個相同區段具有不同語意時，您必須在子迴圈中定義它們。</span><span class="sxs-lookup"><span data-stu-id="236a5-165">When a transaction set has equivalent segments with different semantics, you must define them in a SubLoop.</span></span> <span data-ttu-id="236a5-166">使用 XML 註解的岐\<xs: all\>可讓以任何順序出現相同的區段。</span><span class="sxs-lookup"><span data-stu-id="236a5-166">A SubLoop with XML annotation of \<xs:all\> allows equivalent segments to occur in any order.</span></span><br /><br /> <span data-ttu-id="236a5-167">建議您在 ‘any order loop’ 的迴圈名稱中包含 “SubLoop”。</span><span class="sxs-lookup"><span data-stu-id="236a5-167">We recommend that you name an ‘any order loop’ to include “SubLoop” in the loop name.</span></span> <span data-ttu-id="236a5-168">範例格式為"TS837Q1_2010A_SubLoop"**附註：** 的 any order loop 項目必須只能出現一次迴圈內。</span><span class="sxs-lookup"><span data-stu-id="236a5-168">An example format is “TS837Q1_2010A_SubLoop” **Note:**  The elements of an any order loop must only occur once within the loop.</span></span> <span data-ttu-id="236a5-169">為避免岐義，子迴圈的同層級項目必須將 maxOccurs 設為 1。</span><span class="sxs-lookup"><span data-stu-id="236a5-169">The siblings of a SubLoop must have a maxOccurs set to 1, in order to avoid ambiguity.</span></span>|  
  
### <a name="to-modify-an-existing-edi-schema-in-biztalk-editor"></a><span data-ttu-id="236a5-170">若要用 BizTalk 編輯器來修改現有的 EDI 結構描述</span><span class="sxs-lookup"><span data-stu-id="236a5-170">To modify an existing EDI schema in BizTalk Editor</span></span>  
  
1. <span data-ttu-id="236a5-171">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中，將您要修改的結構描述加入到某個專案，然後用 [BizTalk 編輯器] 開啟該結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-171">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], add the schema that you want to modify to a project and open the schema in BizTalk Editor.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="236a5-172">您可以在圖形表單中顯示的結構描述，依序按一下**EDI**  索引標籤底部的 結構描述編輯器 畫面。</span><span class="sxs-lookup"><span data-stu-id="236a5-172">You can display the schema in graphical form by clicking the **EDI** tab at the bottom of the Schema Editor screen.</span></span> <span data-ttu-id="236a5-173">使用表格式格式的結構描述節點更易於瀏覽。</span><span class="sxs-lookup"><span data-stu-id="236a5-173">It is much easier to navigate the nodes of the schema using this tabular format.</span></span>  
  
2. <span data-ttu-id="236a5-174">若要變更資料元素或記錄的屬性，請在 [BizTalk 編輯器] 的左窗格中按一下適當的節點，然後在 [屬性] 視窗中變更其屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-174">To change the properties of a data element or record, click the appropriate node in the left pane of BizTalk Editor and change its properties in the Properties window.</span></span>  
  
3. <span data-ttu-id="236a5-175">若要變更列舉中的值，選取 在列舉**屬性**窗格中，然後按一下省略符號以開啟**列舉編輯器**。</span><span class="sxs-lookup"><span data-stu-id="236a5-175">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="236a5-176">若要加入或刪除值的清單，如有需要確保有一個值中的每一行**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="236a5-176">Add to or delete from the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="236a5-177">按一下 [確定] 。</span><span class="sxs-lookup"><span data-stu-id="236a5-177">Click **OK**.</span></span>  
  
4. <span data-ttu-id="236a5-178">若要加入自訂欄位的結構描述，以滑鼠右鍵按一下主控台樹狀目錄中的 BizTalk 編輯器中的 記錄 節點，指向**插入結構描述節點**，然後按一下**子欄位項目**。</span><span class="sxs-lookup"><span data-stu-id="236a5-178">To add a custom field to the schema, right-click a record node in the console tree of BizTalk Editor, point to **Insert Schema Node**, and click **Child Field Element**.</span></span> <span data-ttu-id="236a5-179">為該資料元素命名，然後將它拖曳到記錄中的適當位置。</span><span class="sxs-lookup"><span data-stu-id="236a5-179">Name the data element, and then drag the data element to the appropriate position in the record.</span></span> <span data-ttu-id="236a5-180">視需要設定自訂欄位屬性的屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-180">Set the properties for the custom field properties as required.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="236a5-181">不可以在 EDI 結構描述中的記錄上加入子欄位屬性 (Attribute)，因為這些項目沒有確定的順序。</span><span class="sxs-lookup"><span data-stu-id="236a5-181">Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="236a5-182">加入子欄位屬性 (Attribute) 會產生無效的結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-182">Trying to add a child field attribute results in an invalid schema.</span></span>  
  
5. <span data-ttu-id="236a5-183">若要加入結構描述中的自訂記錄，以滑鼠右鍵按一下主控台樹狀目錄中的結構描述編輯器中的 [記錄] 節點，指向**插入結構描述節點**，然後按一下**子記錄**。</span><span class="sxs-lookup"><span data-stu-id="236a5-183">To add a custom record to the schema, right-click a record node in the console tree of Schema Editor, point to **Insert Schema Node**, and then click **Child Record**.</span></span> <span data-ttu-id="236a5-184">為該記錄命名，然後將它拖曳到結構描述中的適當位置。</span><span class="sxs-lookup"><span data-stu-id="236a5-184">Name the record, and then drag the record to the appropriate position in the schema.</span></span> <span data-ttu-id="236a5-185">將至少一個資料元素加入至該記錄。</span><span class="sxs-lookup"><span data-stu-id="236a5-185">Add at least one data element to the record.</span></span> <span data-ttu-id="236a5-186">視需要設定自訂記錄的屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-186">Set the properties for the custom record as required.</span></span>  
  
6. <span data-ttu-id="236a5-187">後結構描述完成所需的變更，您可以變更套用到結構描述屬性中，依序按一下 [根] 節點的目標命名空間 (\<結構描述\>)，然後變更**目標命名空間**屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-187">After making the desired changes to the schema, you can change the target namespace that applies to the schema property by clicking the root node (\<Schema\>) and then changing the **Target Namespace** property.</span></span>  
  
7. <span data-ttu-id="236a5-188">儲存結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-188">Save the schema.</span></span>  
  
8. <span data-ttu-id="236a5-189">驗證結構描述，以滑鼠右鍵按一下方案總管 中的結構描述，然後按一下**驗證結構描述**。</span><span class="sxs-lookup"><span data-stu-id="236a5-189">Validate the schema by right-clicking the schema in Solution Explorer and clicking **Validate Schema**.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="236a5-190">**驗證結構描述**命令將會驗證 EDI 結構描述，因為**Schema Editor Extension**屬性的根節點 (\<結構描述\>) 設定為**EDI結構描述編輯器延伸模組**。</span><span class="sxs-lookup"><span data-stu-id="236a5-190">The **Validate Schema** command will validate the EDI schema because the **Schema Editor Extension** property of the root node (\<Schema\>) is set to **EDI Schema Editor Extension**.</span></span>  
  
### <a name="to-modify-annotation-properties-in-an-existing-edi-schema"></a><span data-ttu-id="236a5-191">若要修改現有 EDI 結構描述中的註解屬性</span><span class="sxs-lookup"><span data-stu-id="236a5-191">To modify annotation properties in an existing EDI schema</span></span>  
  
1.  <span data-ttu-id="236a5-192">用文字編輯器 (例如 [記事本]) 開啟該結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-192">Open the schema in a text editor such as Notepad.</span></span>  
  
2.  <span data-ttu-id="236a5-193">若要啟用欄位交互驗證，請繼續執行下列動作。</span><span class="sxs-lookup"><span data-stu-id="236a5-193">To enable cross-field validation, proceed as follows.</span></span> <span data-ttu-id="236a5-194">如需詳細資訊，請參閱 <<c0> [ 設定欄位交互驗證](../core/configuring-cross-field-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-194">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span>  
  
    1.  <span data-ttu-id="236a5-195">在頂端的 結構描述 appinfo 註釋，將設定欄位交互驗證旗標 (任一**X12ConditionDesignator_Check** X12 或 HIPAA 結構描述或**EdifactDependencyRule_Check** edifact結構描述） 至**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-195">In the appinfo annotation at the top of the schema, set the cross-field validation flag (either **X12ConditionDesignator_Check** for X12 or HIPAA schemas or **EdifactDependencyRule_Check** for EDIFACT schemas) to **Yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="236a5-196">欄位交互驗證旗標**是**預設會針對 BizTalk Server HIPAA 結構描述。</span><span class="sxs-lookup"><span data-stu-id="236a5-196">The cross-field validation flag is **Yes** by default for BizTalk Server HIPAA schemas.</span></span>  
  
    2.  <span data-ttu-id="236a5-197">在特定項目的註解中，針對該項目指定關係條件 (X12 或 HIPAA) 或相依性規則 (EDIFACT)。</span><span class="sxs-lookup"><span data-stu-id="236a5-197">In the annotation for a specific element, specify the relational conditions (X12 or HIPAA) or dependency rules (EDIFACT) for the element.</span></span> <span data-ttu-id="236a5-198">如需有關這些設定的詳細資訊，請參閱 <<c0> [ 跨欄位區段驗證](../core/cross-field-segment-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-198">For more information about these settings, see [Cross Field-Segment Validation](../core/cross-field-segment-validation.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="236a5-199">在**驗證**頁面 (底下**交易集設定**一節) 的單向協議索引標籤**協議屬性**相關協議 對話方塊請確定**EDI 類型驗證**選取屬性。</span><span class="sxs-lookup"><span data-stu-id="236a5-199">In the **Validation** page (under the **Transaction Set Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for relevant agreement, make sure that the **EDI type Validation** property is selected.</span></span>  
  
3.  <span data-ttu-id="236a5-200">若要啟用 HIPAA 子文件分割，請繼續執行下列動作。</span><span class="sxs-lookup"><span data-stu-id="236a5-200">To enable HIPAA subdocument splitting, proceed as follows.</span></span> <span data-ttu-id="236a5-201">如需詳細資訊，請參閱 <<c0> [ 分割 HIPAA 子文件](../core/splitting-hipaa-subdocuments.md)。</span><span class="sxs-lookup"><span data-stu-id="236a5-201">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>  
  
    1.  <span data-ttu-id="236a5-202">在頂端的 結構描述 appinfo 註釋，將**subdocument_break**並**Split_Without_Sibling_Data**旗標**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-202">In the appinfo annotation at the top of the schema, set the **subdocument_break** and **Split_Without_Sibling_Data** flags to **yes**.</span></span>  
  
    2.  <span data-ttu-id="236a5-203">在特定項目的應用程式資訊註解，請參閱**subdocument_creation_break**旗標設為**是**。</span><span class="sxs-lookup"><span data-stu-id="236a5-203">In the appinfo annotation for a specific element, see the **subdocument_creation_break** flag to **yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="236a5-204">在**本機主機設定**頁面 (底下**交換設定**一節) 的單向協議索引標籤**協議屬性**針對相關的對話方塊協議，請確定**輸入批次處理選項**屬性設定為**交換分割為交易集**。</span><span class="sxs-lookup"><span data-stu-id="236a5-204">In the **Local Host Settings** page (under the **Interchange Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for the relevant agreement, make sure that the **Inbound batch processing option** property is set to **Split Interchange as Transaction Sets**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="236a5-205">另請參閱</span><span class="sxs-lookup"><span data-stu-id="236a5-205">See Also</span></span>  
 [<span data-ttu-id="236a5-206">開發 EDI 結構描述</span><span class="sxs-lookup"><span data-stu-id="236a5-206">Developing EDI Schemas</span></span>](../core/developing-edi-schemas.md)