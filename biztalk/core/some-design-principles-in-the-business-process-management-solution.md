---
title: 有些設計商務程序管理解決方案中的原則 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- business processes, design principals
- designing, design principals
- process management solution tutorial, dividing business processes
- patterns [process management solutions], design principals
ms.assetid: 688b970f-8e64-4a47-bcc5-bdb9c5195902
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c7c7a6b614e9836f9536c6446a209a83aa764f29
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36970039"
---
# <a name="some-design-principles-in-the-business-process-management-solution"></a><span data-ttu-id="5b3f3-102">商務程序管理解決方案中的部分設計原則</span><span class="sxs-lookup"><span data-stu-id="5b3f3-102">Some Design Principles in the Business Process Management Solution</span></span>
<span data-ttu-id="5b3f3-103">本主題開頭的一般指導方針將商務程序分割成階段。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-103">This topic begins with general guidelines about dividing business processes into stages.</span></span> <span data-ttu-id="5b3f3-104">接著考量與這些指導方針和商務需求相關的部分解決方案之協調流程、組件以及應用程式的結構。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-104">It then goes on to consider the structure of some of the solution's orchestrations, assemblies, and applications in connection with these guidelines and the business requirements.</span></span> <span data-ttu-id="5b3f3-105">更多的商務需求的詳細資訊，請參閱 < 商務需求 >，在[了解商務程序管理解決方案](../core/understanding-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-105">For more information about the business requirements, see "Business Requirements" in [Understanding the Business Process Management Solution](../core/understanding-the-business-process-management-solution.md).</span></span>  
  
## <a name="dividing-business-processes"></a><span data-ttu-id="5b3f3-106">分割商務程序</span><span class="sxs-lookup"><span data-stu-id="5b3f3-106">Dividing Business Processes</span></span>  
 <span data-ttu-id="5b3f3-107">通常在考量商務程序時，最直接的想法是將它視為單一龐大的程序。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-107">Often when considering a business process, the first impulse is to treat it as a single, monolithic process.</span></span> <span data-ttu-id="5b3f3-108">這並不一定是最佳設計。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-108">This is not always the best design.</span></span> <span data-ttu-id="5b3f3-109">對 Southridge Video 而言，訂單是一個長時間執行的商務程序，此程序可能需要一年時間來完成。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-109">For Southridge Video, an order is a long running business process, a process that may take up to a year to complete.</span></span> <span data-ttu-id="5b3f3-110">在此期間，商務程序本身可能會變更。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-110">In the meantime, the business process itself may change.</span></span> <span data-ttu-id="5b3f3-111">為了讓商務程序在不中斷處理中訂單的狀況下更新，Southridge Video 訂單處理將分割為階段。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-111">To allow updates to the business process without disrupting in-process orders, the Southridge Video order processing is divided into stages.</span></span>  
  
 <span data-ttu-id="5b3f3-112">分割程序的位置對於可訂定版本的部分和您允許未完成訂單中斷的類型而言很重要。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-112">Where you divide the process is critical to which parts of the process you can version, and to the types of disruptions that you allow to outstanding orders.</span></span> <span data-ttu-id="5b3f3-113">Southridge Video 解決方案使用四個一般準則來判斷階段：</span><span class="sxs-lookup"><span data-stu-id="5b3f3-113">The Southridge Video solution uses four general criteria to determine the stages:</span></span>  
  
- <span data-ttu-id="5b3f3-114">商務程序中步驟的邏輯群組。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-114">The logical grouping of steps in the business process.</span></span>  
  
- <span data-ttu-id="5b3f3-115">協調流程中作業的範圍。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-115">The scope of operations within an orchestration.</span></span>  
  
- <span data-ttu-id="5b3f3-116">程序很有幫助的版本，提供商務程序的項目。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-116">The elements of the process that would be useful to version, given the business process.</span></span>  
  
- <span data-ttu-id="5b3f3-117">協調流程應該在完成長期作業之後結束。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-117">An orchestration should end after completing a long-term operation.</span></span>  
  
  <span data-ttu-id="5b3f3-118">在四個準則中，第一和第三個最重要，因為通常其作業範圍遠大於邏輯群組或要訂定版本的明顯項目之作業範圍。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-118">Of the four, the first and third are the most critical because there will usually be far more scopes of operations than logical groupings or obvious elements to version.</span></span> <span data-ttu-id="5b3f3-119">不過，請注意，不要在範圍的中間結束協調流程。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-119">Notice, however, that you do not want to end an orchestration in the middle of a scope.</span></span>  
  
  <span data-ttu-id="5b3f3-120">如果您看一下第一個階段中，協調流程**CableOrder1.odx**，您會看到它，有效地結束以設備系統的要求-回應序列。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-120">If you look at the orchestration for the first stage, **CableOrder1.odx**, you'll see that it effectively ends with the request-response sequence to the facilities system.</span></span> <span data-ttu-id="5b3f3-121">這是結束階段的好位置，因為它是涉及完成訂單實際實體工作的程序之一部分。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-121">This is a good place for the stage to end because it is the part of the process that involves the actual physical work of completing the order.</span></span> <span data-ttu-id="5b3f3-122">讓長時間處理步驟接近協調流程結尾可保證當解除凍結時，協調流程可快速結束。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-122">Having the long processing steps near the end of the orchestration guarantees that, when rehydrated, the orchestration ends quickly.</span></span> <span data-ttu-id="5b3f3-123">如此可加速整個解決方案移動至協調流程的較新版本。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-123">This speeds up the movement of the solution as a whole to newer versions of the orchestrations.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5b3f3-124">雖然解決方案將程序分割成不連續的階段，不過，解決方案監控可讓您透過使用 BAM 以連續地檢視查看項目。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-124">Although the solution splits the process into discontinuous stages, the solution monitoring enables you to see things a continuous view through the use of BAM.</span></span>  
  
## <a name="order-action-broker-and-manager-orchestrations"></a><span data-ttu-id="5b3f3-125">訂單動作、仲介以及管理員協調流程</span><span class="sxs-lookup"><span data-stu-id="5b3f3-125">Order Action, Broker, and Manager Orchestrations</span></span>  
 <span data-ttu-id="5b3f3-126">除了將訂單處理分割為階段，您也會發現，每個訂單動作 — 例如，分析訂單、 訂單驗證、 訂單取消 — 在個別的協調流程。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-126">In addition to breaking the order processing into stages, you will also notice that each of the order actions—for example, analyzing the order, order validation, order cancellation—is in a separate orchestration.</span></span> <span data-ttu-id="5b3f3-127">將每個動作放在個別的協調流程中，可將動作從階段的結構分離。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-127">Putting each action in a separate orchestration decouples the actions from the structure of the stages.</span></span> <span data-ttu-id="5b3f3-128">如此可以使訂單處理階段的設計和訂定版本更有彈性。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-128">This in turn enables greater flexibility in designing and versioning the order processing stages.</span></span>  
  
 <span data-ttu-id="5b3f3-129">基於相似的原因，訂單仲介和訂單管理員也在個別的協調流程中。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-129">The order broker and order manager are in separate orchestrations for similar reasons.</span></span> <span data-ttu-id="5b3f3-130">解決方案設計可使用多個訂單管理員來處理其他種類的訂單。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-130">The solution design enables use of multiple order managers to handle other kinds of orders.</span></span> <span data-ttu-id="5b3f3-131">將仲介和管理員分離也可允許這些項目位在不同位置。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-131">The decoupling of the broker and manager also allows for these to be in different locations.</span></span> <span data-ttu-id="5b3f3-132">如需訂單仲介之設計的其他詳細資訊，請參閱 「 為什麼訂單仲介？ 」</span><span class="sxs-lookup"><span data-stu-id="5b3f3-132">For additional details about the order broker's design, see "Why and Order Broker?"</span></span> <span data-ttu-id="5b3f3-133">在  [OrderBroker 協調流程中處理](../core/processing-in-the-orderbroker-orchestration.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-133">in [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span> <span data-ttu-id="5b3f3-134">如需訂單管理員的詳細資訊，請參閱 <<c0> [ 處理序管理員邏輯](../core/process-manager-logic.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-134">For the details of the order manager, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="assemblies"></a><span data-ttu-id="5b3f3-135">組件</span><span class="sxs-lookup"><span data-stu-id="5b3f3-135">Assemblies</span></span>  
 <span data-ttu-id="5b3f3-136">解決方案中的組件是有組織的，可支援元件的訂定版本，並支援移動元件到其他伺服器。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-136">The assemblies in the solution are organized to support versioning of components and to support moving components to other servers.</span></span> <span data-ttu-id="5b3f3-137">例如，結構描述便在個別組件中。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-137">For example, schemas are in separate assemblies.</span></span> <span data-ttu-id="5b3f3-138">尤其，訂單仲介的結構描述就在自己的組件中。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-138">In particular, the schemas for the order broker are in their own  assembly.</span></span> <span data-ttu-id="5b3f3-139">如此，可讓它們不需變更解決方案的其他項目即可訂定版本。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-139">This allows them to be versioned without changing other elements of the solution.</span></span> <span data-ttu-id="5b3f3-140">也可以更簡單地移動訂單仲介到個別群組或伺服器。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-140">It also makes it simpler to move the order broker to a separate group or server.</span></span> <span data-ttu-id="5b3f3-141">如需有關應用程式的版本和結構描述組件的詳細資訊，請參閱[商務程序管理解決方案的版本](../core/versioning-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-141">For more information about versioning the application and schema assemblies, see [Versioning the Business Process Management Solution](../core/versioning-the-business-process-management-solution.md).</span></span>  
  
## <a name="applications"></a><span data-ttu-id="5b3f3-142">應用程式</span><span class="sxs-lookup"><span data-stu-id="5b3f3-142">Applications</span></span>  
 <span data-ttu-id="5b3f3-143">若您查看「BizTalk 管理主控台」，會看到由三個個別應用程式組成的建置方案：</span><span class="sxs-lookup"><span data-stu-id="5b3f3-143">If you look in the BizTalk Administration Console, you can see that the built solution consists of three separate applications:</span></span>  
  
- <span data-ttu-id="5b3f3-144">**BTSScn.BPM.OrderBrokerApp**包含訂單仲介的應用程式</span><span class="sxs-lookup"><span data-stu-id="5b3f3-144">**BTSScn.BPM.OrderBrokerApp**, the application containing the order broker</span></span>  
  
- <span data-ttu-id="5b3f3-145">**BTSScn.BPM.CableOrderApp**包含訂單處理元件的應用程式</span><span class="sxs-lookup"><span data-stu-id="5b3f3-145">**BTSScn.BPM.CableOrderApp**, the application containing the order processing components</span></span>  
  
- <span data-ttu-id="5b3f3-146">**BTSScn.BPM.MessagingApp**，收集其他兩個應用程式所共用的成品的應用程式</span><span class="sxs-lookup"><span data-stu-id="5b3f3-146">**BTSScn.BPM.MessagingApp**, an application that collects artifacts shared by the other two applications</span></span>  
  
  <span data-ttu-id="5b3f3-147">由於 BizTalk 應用程式具有使用相同 BizTalk 群組中其他應用程式之成品的能力，所以解決方案的三部分結構是可能的。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-147">The tripartite structure of the solution is possible because of the ability of BizTalk applications to use artifacts in other applications within the same BizTalk group.</span></span> <span data-ttu-id="5b3f3-148">若要使用另一個應用程式的成品，請您從參考的應用程式新增參考至其他應用程式。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-148">To use another application's artifacts, you add a reference to the other application from the referring application.</span></span> <span data-ttu-id="5b3f3-149">參考其他應用程式的詳細資訊，請參閱[如何加入另一個應用程式的參考](../core/how-to-add-a-reference-to-another-application.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-149">For information about referencing other applications, see [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span>  
  
  <span data-ttu-id="5b3f3-150">將一般成品放在個別應用程式中，讓您有可能僅在一個地方更新元件。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-150">Putting the common artifacts in a separate application enables you, potentially, to update components in only one place.</span></span> <span data-ttu-id="5b3f3-151">共用元件可以是任何項目，包括連接埠。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-151">The shared components can be anything, including ports.</span></span> <span data-ttu-id="5b3f3-152">例如，解決方案中的協調流程傳送錯誤至錯誤報告連接埠。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-152">For example, the orchestrations in the solution send errors to an error reporting port.</span></span> <span data-ttu-id="5b3f3-153">該連接埠位在傳訊應用程式 BTSScn.BPM.MessagingApp 中，整個解決方案可在其中使用它。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-153">That port is in the messaging application, BTSScn.BPM.MessagingApp, where the entire solution can use it.</span></span>  
  
  <span data-ttu-id="5b3f3-154">將解決方案結構化為三個應用程式，也可讓您更輕鬆地移動解決方案的部分到其他伺服器上。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-154">Structuring the solution as three applications also makes it easier to move parts of the solution onto other servers.</span></span> <span data-ttu-id="5b3f3-155">您可以將每個應用程式及其參考的應用程式轉換為 MSI 檔案。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-155">You can convert each application and its referenced applications into an MSI file.</span></span> <span data-ttu-id="5b3f3-156">然後您可以在另一台電腦上安裝該 MSI 檔案。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-156">You can then install that MSI file on another machine.</span></span> <span data-ttu-id="5b3f3-157">如需將應用程式轉換為 MSI 檔案的資訊，請參閱[如何匯出 BizTalk 應用程式](../core/how-to-export-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-157">For information about converting applications into MSI files, see [How to Export a BizTalk Application](../core/how-to-export-a-biztalk-application.md).</span></span>  
  
### <a name="the-test-solution"></a><span data-ttu-id="5b3f3-158">測試解決方案</span><span class="sxs-lookup"><span data-stu-id="5b3f3-158">The Test Solution</span></span>  
 <span data-ttu-id="5b3f3-159">您將會在 BizTalk 管理主控台中也有三個測試應用程式： **BTSScn.BPM.OrderBrokerApp.Test**， **BTSScn.BPM.CableOrderApp.Test**，和**BTSScn.BPM.MessagingApp.Test**。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-159">You will also three test applications in the BizTalk Administration Console: **BTSScn.BPM.OrderBrokerApp.Test**, **BTSScn.BPM.CableOrderApp.Test**, and **BTSScn.BPM.MessagingApp.Test**.</span></span> <span data-ttu-id="5b3f3-160">這三個應用程式僅包含測試應用程式的連接埠，而且由主要應用程式參考。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-160">These three applications contain only the ports for the test application and are referenced by the main applications.</span></span> <span data-ttu-id="5b3f3-161">此結構允許主要應用程式使用測試連接埠來建構測試解決方案，而同時從解決方案分離測試連接埠。</span><span class="sxs-lookup"><span data-stu-id="5b3f3-161">This structure allows for the test ports to be used by the main applications to construct a test solution while at the same time decoupling the test ports from the solution.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5b3f3-162">另請參閱</span><span class="sxs-lookup"><span data-stu-id="5b3f3-162">See Also</span></span>  
 <span data-ttu-id="5b3f3-163">[商務程序管理解決方案的實作重點](../core/implementation-highlights-of-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="5b3f3-163">[Implementation Highlights of the Business Process Management Solution](../core/implementation-highlights-of-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="5b3f3-164">商務程序管理解決方案中的模式</span><span class="sxs-lookup"><span data-stu-id="5b3f3-164">Patterns in the Business Process Management Solution</span></span>](../core/patterns-in-the-business-process-management-solution.md)