---
title: "EDI 字元集 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 57fae748-d66e-4ecf-be00-70147078ef93
caps.latest.revision: "22"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 38d7b19c751f2bd380dad29ffc31a2be5f79245e
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2017
---
# <a name="edi-character-sets"></a><span data-ttu-id="be647-102">EDI 字元集</span><span class="sxs-lookup"><span data-stu-id="be647-102">EDI Character Sets</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="be647-103">會使用字元集來驗證整個 EDI 交換。</span><span class="sxs-lookup"><span data-stu-id="be647-103"> uses a character set to validate an entire EDI interchange.</span></span> <span data-ttu-id="be647-104">用於 X12 編碼訊息以及 EDIFACT 或 KEDIFACT 編碼訊息的字元集會以不同方式決定。</span><span class="sxs-lookup"><span data-stu-id="be647-104">The character sets used for an X12-encoded message and an EDIFACT- or KEDIFACT-encoded message are determined in different ways.</span></span>  
  
## <a name="edifact-character-set"></a><span data-ttu-id="be647-105">EDIFACT 字元集</span><span class="sxs-lookup"><span data-stu-id="be647-105">EDIFACT Character Set</span></span>  
 <span data-ttu-id="be647-106">EDIFACT 編碼交換以其字元集而言是能夠自我描述的，</span><span class="sxs-lookup"><span data-stu-id="be647-106">An EDIFACT-encoded interchange is self-describing in terms of its character set.</span></span> <span data-ttu-id="be647-107">所使用的是 UNB1 資料項目。</span><span class="sxs-lookup"><span data-stu-id="be647-107">The UNB1 data element is used.</span></span> <span data-ttu-id="be647-108">EDIFACT 要求標記名稱和分隔符號都必須是 ASCII 類型，因此您可以找出 UNB1 來為交換的其餘部分套用相關的字碼頁。</span><span class="sxs-lookup"><span data-stu-id="be647-108">EDIFACT requires that tag names and separators/delimiters are ASCII types; as a result, locating UNB1 to apply the relevant code page for the remaining interchange is possible.</span></span>  
  
 <span data-ttu-id="be647-109">處理傳入的 EDIFACT 訊息時[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]決定要使用從 UNB1 資料項目，該訊息的字元集。</span><span class="sxs-lookup"><span data-stu-id="be647-109">When processing an incoming EDIFACT message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the character set to use for that message from the UNB1 data element.</span></span> <span data-ttu-id="be647-110">交易夥伴協議中的沒有設定是必要的。</span><span class="sxs-lookup"><span data-stu-id="be647-110">No setting in the trading partner agreement is necessary.</span></span>  
  
 <span data-ttu-id="be647-111">在處理外寄 EDIFACT 訊息，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用交易夥伴協議或後援協議中設定的字元。</span><span class="sxs-lookup"><span data-stu-id="be647-111">When processing an outgoing EDIFACT message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the character set in the trading partner agreement or the fallback agreement.</span></span> <span data-ttu-id="be647-112">在中設定 UNB1 資料項目**字元集和分隔符號**頁面之雙向協議索引標籤 （如果已定義了協議） 或**字元集和分隔符號**的協議索引標籤中的頁面**EDIFACT 後援設定**對話方塊 （若未定義協議是）。</span><span class="sxs-lookup"><span data-stu-id="be647-112">You set the UNB1 data element in the **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the agreement tab of the **EDIFACT Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="be647-113">UNB1.1 是稱為「語法識別項」的必要複合資料項目。</span><span class="sxs-lookup"><span data-stu-id="be647-113">UNB1.1 is a mandatory composite data element called the Syntax Identifier.</span></span> <span data-ttu-id="be647-114">UNB1.2 是 EDIFACT 字元集的版本。</span><span class="sxs-lookup"><span data-stu-id="be647-114">UNB1.2 is the version of the EDIFACT character set.</span></span> <span data-ttu-id="be647-115">UNB1 資料項目也用於驗證 （不時跳離欄位索引標籤上，或顯示不同的頁面） 儲存整個屬性集時，輸入交易夥伴管理使用者介面中的屬性值。</span><span class="sxs-lookup"><span data-stu-id="be647-115">The UNB1 data element is also used to validate the values entered for properties in the Trading Partner Management user interface when the entire property set is saved (not when you tab out of a field or display a different page).</span></span>  
  
 <span data-ttu-id="be647-116">可用的字元集包括 KECA、UNOA、UNOB、UNOC、UNOD、UNOE、UNOF、UNOG、UNOH、UNOI、UNOJ、UNOK、UNOX 和 UNOY。</span><span class="sxs-lookup"><span data-stu-id="be647-116">The available character sets are KECA, UNOA, UNOB, UNOC, UNOD, UNOE, UNOF, UNOG, UNOH, UNOI, UNOJ, UNOK, UNOX, and UNOY.</span></span> <span data-ttu-id="be647-117">預設值為 [UNOB]。</span><span class="sxs-lookup"><span data-stu-id="be647-117">The default value is UNOB.</span></span> <span data-ttu-id="be647-118">這些層級的完整字元集是在「ISO 9735 EDIFACT 語法規則」中指定。</span><span class="sxs-lookup"><span data-stu-id="be647-118">The full character set for these levels is specified in ISO 9735 EDIFACT Syntax Rules.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="be647-119">如果在內送或外寄交換中遇到 UNOC 字元集，「EDI 解譯器」或「EDI 組合器」會使用 Latin-1 字碼頁，而不是 UTF-8 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="be647-119">If the UNOC character set is encountered on an inbound or outbound interchange, the EDI Disassembler or EDI Assembler will use the Latin-1 code page, instead of the UTF-8 code page.</span></span> <span data-ttu-id="be647-120">這是因為 UTF-8 不是 UNOC 的超集。</span><span class="sxs-lookup"><span data-stu-id="be647-120">This is required because UTF-8 is not a superset of UNOC.</span></span> <span data-ttu-id="be647-121">UNOC 中可接受的部分字元若當成 UTF-8 處理，會導致交換遭擱置。</span><span class="sxs-lookup"><span data-stu-id="be647-121">Some characters that are acceptable in UNOC will cause an interchange to be suspended when processed as UTF-8.</span></span>  
  
 <span data-ttu-id="be647-122">某些 EDIFACT 字元集中的字元可能是雙位元組字元，而其他 EDIFACT 字元集中的字元則可能是單一位元組字元。</span><span class="sxs-lookup"><span data-stu-id="be647-122">Characters in some EDIFACT character sets may be double-byte characters, whereas in other EDIFACT character sets they may be single-byte characters.</span></span> <span data-ttu-id="be647-123">因此，當您根據交換中的字元數來設定批次的釋放準則時，交換中的位元組數可能會根據使用的字元集而有所不同。</span><span class="sxs-lookup"><span data-stu-id="be647-123">Because of this, when you set the release criteria for batches based upon the number of characters in the interchange, the number of bytes in the interchange may differ depending on the character set used.</span></span>  
  
 <span data-ttu-id="be647-124">[UNA 區段] 和 [區段名稱 UNB] 限制只能使用 ASCII 字元集中的值。</span><span class="sxs-lookup"><span data-stu-id="be647-124">The UNA Segment and Segment Name UNB are limited to the values in the ASCII character set.</span></span>  
  
## <a name="kedifact-character-set"></a><span data-ttu-id="be647-125">KEDIFACT 字元集</span><span class="sxs-lookup"><span data-stu-id="be647-125">KEDIFACT Character Set</span></span>  
 <span data-ttu-id="be647-126">如同 EDIFACT，KEDIFACT 編碼交換的字元集也是在 UNB1 資料項目中建立。</span><span class="sxs-lookup"><span data-stu-id="be647-126">As with EDIFACT, the character set for a KEDIFACT-encoded interchange is established in the UNB1 data element.</span></span> <span data-ttu-id="be647-127">對於 EDIFACT 字元集要套用的[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料元素中的處理 KEDIFACT 交換建立時**UNB1**的**字元集和分隔符號**中雙向頁面協議索引標籤 （如果已定義了協議） 或**字元集和分隔符號**的協議索引標籤中的頁面**EDIFACT 後援設定**對話方塊 （若未定義協議是）。</span><span class="sxs-lookup"><span data-stu-id="be647-127">As for EDIFACT, the character set to be applied by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] when processing a KEDIFACT interchange is established in data element **UNB1** of **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the agreement tab of the **EDIFACT Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="be647-128">值**識別項 (UNB1.1)**元素必須設定為 KECA。</span><span class="sxs-lookup"><span data-stu-id="be647-128">The value for the **Identifier (UNB1.1)** element must be set to KECA.</span></span>  
  
## <a name="x12-character-set"></a><span data-ttu-id="be647-129">X12 字元集</span><span class="sxs-lookup"><span data-stu-id="be647-129">X12 Character Set</span></span>  
 <span data-ttu-id="be647-130">當 BizTalk 接收管線或傳送管線會執行 EDI 驗證的 X12 編碼訊息時，它會使用 X12 字元集管線的 CharacterSet 屬性中選取。</span><span class="sxs-lookup"><span data-stu-id="be647-130">When the BizTalk receive pipeline or send pipeline performs EDI validation of an X12-encoded message, it uses the X12 character set selected in the CharacterSet property of the pipeline.</span></span> <span data-ttu-id="be647-131">若要設定這個屬性，請開啟接收位置或傳送埠的 [屬性] 對話方塊，然後按一下接收或傳送管線旁邊的省略符號，再設定「解譯器」或「組合器」的 [CharacterSet] 屬性。</span><span class="sxs-lookup"><span data-stu-id="be647-131">To set this property, open the Properties dialog box for the receive location or send port, click the ellipses next to the receive or send pipeline, and then set the CharacterSet property for the Disassembler or Assembler.</span></span>  
  
 <span data-ttu-id="be647-132">管線的 CharacterSet 屬性用來驗證 X12 與 EDIFACT 或 KEDIFACT，不同之 X12 編碼交換並非能夠自我描述以其字元集而言，因為交換。</span><span class="sxs-lookup"><span data-stu-id="be647-132">The CharacterSet property of the pipeline is used to validate an X12 interchange because unlike EDIFACT or KEDIFACT, an X12-encoded interchange is not self-describing in terms of its character set.</span></span> <span data-ttu-id="be647-133">讀取 ISA 標頭具有 ISO 或 UTF 編碼可能會導致不同的協議尋查值。</span><span class="sxs-lookup"><span data-stu-id="be647-133">Reading the ISA header with ISO or UTF encoding may lead to different values for agreement lookup.</span></span> <span data-ttu-id="be647-134">如此一來，BizTalk 必須知道要用於處理的訊息在協議尋查之前 （當它會取得協議的適當字元集） 的適當字元集。</span><span class="sxs-lookup"><span data-stu-id="be647-134">As a result, BizTalk must know the applicable character set to be used in processing the message prior to agreement lookup (when it would obtain the applicable character set for the agreement).</span></span>  
  
 <span data-ttu-id="be647-135">指定 X12 字元集中的協議驗證要用於在**字元集和分隔符號**頁面之雙向協議索引標籤 （如果已定義了協議） 或**字元集和分隔符號**後援協議索引標籤中的頁面**X12 後援設定**對話方塊 （若未定義協議是）。</span><span class="sxs-lookup"><span data-stu-id="be647-135">You specify the X12 character set to be used for agreement validation in the in the **Charset and Separators** page in the bi-directional agreement tabs (if an agreement is defined) or the **Charset and Separators** page in the fallback agreement tab of the **X12 Fallback Settings** dialog box (if no agreement is defined).</span></span> <span data-ttu-id="be647-136">不過，BizTalk 只有在儲存整個屬性集時 (不是按下 TAB 鍵跳離欄位或顯示不同頁面時)，才會使用這些設定來驗證相關屬性的輸入值。</span><span class="sxs-lookup"><span data-stu-id="be647-136">However, BizTalk only uses these settings to validate the values entered for the related properties when the entire property set is saved (not when you tab out of a field or display a different page).</span></span> <span data-ttu-id="be647-137">接收管線或傳送管線會忽略這些字元集屬性。</span><span class="sxs-lookup"><span data-stu-id="be647-137">The receive pipeline or send pipeline will ignore these character set properties.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="be647-138">如果指定的字元集中的協議或後援協議不相符的字元集，選取要接收或傳送管線，可能會造成訊息驗證錯誤。</span><span class="sxs-lookup"><span data-stu-id="be647-138">If the character set specified in the agreement or fallback agreement does not match the character set selected for the receive or send pipeline, message validation errors could result.</span></span> <span data-ttu-id="be647-139">如果的 X12 協議中的字元將屬性設定為 擴充而管線屬性的字元集屬性設定為 基本 X12 是範例。</span><span class="sxs-lookup"><span data-stu-id="be647-139">An example would be if the X12 character set property in the agreement is set to Extended while the X12 character property in the pipeline properties is set to Basic.</span></span>  
  
 <span data-ttu-id="be647-140">可用的字元集包括「基本」和「擴充的」(如＜X12 規格/實作指南＞所述) 以及 UTF8/Unicode。</span><span class="sxs-lookup"><span data-stu-id="be647-140">The available character sets are Basic and Extended (as documented in the X12 Specifications/Implementation Guides), and UTF8/Unicode.</span></span> <span data-ttu-id="be647-141">預設為 UTF8。</span><span class="sxs-lookup"><span data-stu-id="be647-141">The default is UTF8.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="be647-142">雙向協議或後援協議中的資料元素分隔符號、 元件元素分隔符號以及區段結束字元輸入值會限制為 ASCII 字元集中的值。</span><span class="sxs-lookup"><span data-stu-id="be647-142">The values entered for the data-element separator, component-element separator, and segment terminator in the bi-directional agreement or fallback agreement are limited to the values in the ASCII character set.</span></span> <span data-ttu-id="be647-143">驗證時，並不會針對 X12 字元集驗證這些屬性。</span><span class="sxs-lookup"><span data-stu-id="be647-143">These properties are not validated against the X12 character set.</span></span>  
  
 <span data-ttu-id="be647-144">基本 」 字元集包括下列大寫字母、 數字、 空格和特殊字元： A 到 Z、 0 至 9、 ！</span><span class="sxs-lookup"><span data-stu-id="be647-144">The Basic character set includes the following uppercase letters, digits, space, and special characters: A through Z, 0 through 9, !</span></span> <span data-ttu-id="be647-145">“ & ’ ( ) * + , - .</span><span class="sxs-lookup"><span data-stu-id="be647-145">“ & ’ ( ) * + , - .</span></span> <span data-ttu-id="be647-146">/ : ; ?</span><span class="sxs-lookup"><span data-stu-id="be647-146">/ : ; ?</span></span> <span data-ttu-id="be647-147">= （空格）。</span><span class="sxs-lookup"><span data-stu-id="be647-147">= (space).</span></span>  
  
 <span data-ttu-id="be647-148">擴充字元集包括基本的字元組，以及小寫字母、 特定語言字元和其他特殊字元的字元： a 到 z、 %@ [] _ {} \ &#124;\< \> ~ # $.</span><span class="sxs-lookup"><span data-stu-id="be647-148">The Extended character set includes the characters in the Basic character set, and lowercase letters, select language characters, and other special characters: a through z, % @ [ ] _ { } \ &#124; \< \> ~ # $.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="be647-149">請參閱</span><span class="sxs-lookup"><span data-stu-id="be647-149">See Also</span></span>  
 <span data-ttu-id="be647-150">[EDI 傳訊](../core/edi-messaging.md) </span><span class="sxs-lookup"><span data-stu-id="be647-150">[EDI Messaging](../core/edi-messaging.md) </span></span>  
 [<span data-ttu-id="be647-151">EDI 結構描述</span><span class="sxs-lookup"><span data-stu-id="be647-151">EDI Schemas</span></span>](../core/edi-schemas.md)