---
title: 透過 AS2 的訊息設定靜態傳送埠 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2708d6a9-b105-42d3-abe3-7085b39da55a
caps.latest.revision: 19
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3e94514ccd2b16b784e49339f39e9d0c178407b0
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36986599"
---
# <a name="configuring-a-static-send-port-for-messages-over-as2"></a><span data-ttu-id="0167b-102">為透過 AS2 的訊息設定靜態傳送埠</span><span class="sxs-lookup"><span data-stu-id="0167b-102">Configuring a Static Send Port for Messages over AS2</span></span>
<span data-ttu-id="0167b-103">本主題將說明如何設定讓 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 透過靜態傳送埠傳送 AS2 訊息。</span><span class="sxs-lookup"><span data-stu-id="0167b-103">This topic describes how to configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send AS2 messages over a static send port.</span></span> <span data-ttu-id="0167b-104">這項設定包括建立靜態傳送埠和設定協議。</span><span class="sxs-lookup"><span data-stu-id="0167b-104">This configuration includes creating the static send port and configuring the agreement.</span></span> <span data-ttu-id="0167b-105">如有需要，您還會設定傳送埠使用的加密憑證。</span><span class="sxs-lookup"><span data-stu-id="0167b-105">If required, you will also set up an encryption certiticate to be used by the send port.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0167b-106">您可以設定動態傳送埠傳送 AS2 訊息，而不使用靜態傳送埠。</span><span class="sxs-lookup"><span data-stu-id="0167b-106">You can configure a dynamic send port to send AS2 messages, instead of a static send port.</span></span> <span data-ttu-id="0167b-107">如需詳細資訊，請參閱 <<c0> [ 透過 AS2 設定動態傳送埠的訊息](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md)。</span><span class="sxs-lookup"><span data-stu-id="0167b-107">For more information, see [Configuring a Dynamic Send Port for Messages over AS2](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md).</span></span>  
  
 <span data-ttu-id="0167b-108">若要傳送含有 EDI 或非 EDI 訊息或 EDI 通知的 AS2 訊息，請建立含下列組態的請求回應 HTTP 傳送埠：</span><span class="sxs-lookup"><span data-stu-id="0167b-108">To send an AS2 message with an EDI or non-EDI message or an EDI acknowledgment, create a solicit response HTTP send port with the following configuration:</span></span>  
  
|<span data-ttu-id="0167b-109">位置</span><span class="sxs-lookup"><span data-stu-id="0167b-109">Location</span></span>|<span data-ttu-id="0167b-110">屬性</span><span class="sxs-lookup"><span data-stu-id="0167b-110">Property</span></span>|<span data-ttu-id="0167b-111">設定</span><span class="sxs-lookup"><span data-stu-id="0167b-111">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="0167b-112">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-112">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-113">連接埠類型</span><span class="sxs-lookup"><span data-stu-id="0167b-113">Port Type</span></span>|<span data-ttu-id="0167b-114">-靜態請求回應 (如果中的 要求 MDN**通知 (Mdn)** 選取頁面的單向協議索引標籤)</span><span class="sxs-lookup"><span data-stu-id="0167b-114">- Static Solicit Response (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span><br /><br /> <span data-ttu-id="0167b-115">-靜態單向傳送埠 (如果中的 要求 MDN**通知 (Mdn)** 清除頁面的單向協議索引標籤)</span><span class="sxs-lookup"><span data-stu-id="0167b-115">- Static One-way Send Port (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is cleared)</span></span>|  
|<span data-ttu-id="0167b-116">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-116">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-117">傳輸類型</span><span class="sxs-lookup"><span data-stu-id="0167b-117">Transport Type</span></span>|<span data-ttu-id="0167b-118">HTTP</span><span class="sxs-lookup"><span data-stu-id="0167b-118">HTTP</span></span><br /><br /> <span data-ttu-id="0167b-119">注意：</span><span class="sxs-lookup"><span data-stu-id="0167b-119">Note:</span></span><br /><br /> <span data-ttu-id="0167b-120">只有 HTTP 配接器能夠用於傳輸 EDIINT/AS2 編碼訊息。</span><span class="sxs-lookup"><span data-stu-id="0167b-120">Only the HTTP adapter can be used for transporting EDIINT/AS2-encoded messages.</span></span> <span data-ttu-id="0167b-121">這種傳輸無法搭配 HTTP 配接器以外的配接器運作。</span><span class="sxs-lookup"><span data-stu-id="0167b-121">This transport will not work with an adapter other than the HTTP adapter.</span></span>|  
|<span data-ttu-id="0167b-122">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-122">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-123">傳送處理常式</span><span class="sxs-lookup"><span data-stu-id="0167b-123">Send handler</span></span>|<span data-ttu-id="0167b-124">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="0167b-124">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="0167b-125">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-125">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-126">傳送管線</span><span class="sxs-lookup"><span data-stu-id="0167b-126">Send pipeline</span></span>|<span data-ttu-id="0167b-127">-AS2EdiSend （用於 EDI 編碼訊息）</span><span class="sxs-lookup"><span data-stu-id="0167b-127">- AS2EdiSend (for EDI-encoded messages)</span></span><br /><br /> <span data-ttu-id="0167b-128">-AS2Send （用於非 EDI 訊息）</span><span class="sxs-lookup"><span data-stu-id="0167b-128">- AS2Send (for non-EDI messages)</span></span>|  
|<span data-ttu-id="0167b-129">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-129">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-130">接收處理常式</span><span class="sxs-lookup"><span data-stu-id="0167b-130">Receive handler</span></span><br /><br /> <span data-ttu-id="0167b-131">(如果中的 要求 MDN**通知 (Mdn)** 選取頁面的單向協議索引標籤)</span><span class="sxs-lookup"><span data-stu-id="0167b-131">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="0167b-132">BizTalkServerApplication</span><span class="sxs-lookup"><span data-stu-id="0167b-132">BizTalkServerApplication</span></span>|  
|<span data-ttu-id="0167b-133">**傳送埠屬性： 一般**</span><span class="sxs-lookup"><span data-stu-id="0167b-133">**Send Port Properties: General**</span></span>|<span data-ttu-id="0167b-134">接收管線</span><span class="sxs-lookup"><span data-stu-id="0167b-134">Receive pipeline</span></span><br /><br /> <span data-ttu-id="0167b-135">(如果中的 要求 MDN**通知 (Mdn)** 選取頁面的單向協議索引標籤)</span><span class="sxs-lookup"><span data-stu-id="0167b-135">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="0167b-136">AS2Receive</span><span class="sxs-lookup"><span data-stu-id="0167b-136">AS2Receive</span></span>|  
|<span data-ttu-id="0167b-137">**HTTP 傳輸屬性**</span><span class="sxs-lookup"><span data-stu-id="0167b-137">**HTTP Transport Properties**</span></span>|<span data-ttu-id="0167b-138">目的地 URL</span><span class="sxs-lookup"><span data-stu-id="0167b-138">Destination URL</span></span>|<span data-ttu-id="0167b-139">\<目的地 URL 字串\></span><span class="sxs-lookup"><span data-stu-id="0167b-139">\<Destination URL string\></span></span>|  
|<span data-ttu-id="0167b-140">**HTTP 傳輸屬性**</span><span class="sxs-lookup"><span data-stu-id="0167b-140">**HTTP Transport Properties**</span></span>|<span data-ttu-id="0167b-141">啟用區塊編碼</span><span class="sxs-lookup"><span data-stu-id="0167b-141">Enable chunked encoding</span></span>|<span data-ttu-id="0167b-142">已清除</span><span class="sxs-lookup"><span data-stu-id="0167b-142">Cleared</span></span>|  
|<span data-ttu-id="0167b-143">**傳送埠屬性： 篩選**</span><span class="sxs-lookup"><span data-stu-id="0167b-143">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0167b-144">屬性</span><span class="sxs-lookup"><span data-stu-id="0167b-144">Property</span></span>|<span data-ttu-id="0167b-145">BTS.MessageType</span><span class="sxs-lookup"><span data-stu-id="0167b-145">BTS.MessageType</span></span><br /><br /> <span data-ttu-id="0167b-146">注意：</span><span class="sxs-lookup"><span data-stu-id="0167b-146">Note:</span></span><br /><br /> <span data-ttu-id="0167b-147">您可以使用各種不同的篩選條件運算式，包括使用 BTS.ReceivePortName。</span><span class="sxs-lookup"><span data-stu-id="0167b-147">You can use a variety of filter expression, including using BTS.ReceivePortName.</span></span><br /><br /> <span data-ttu-id="0167b-148">注意：</span><span class="sxs-lookup"><span data-stu-id="0167b-148">Note:</span></span><br /><br /> <span data-ttu-id="0167b-149">針對非 EDI 訊息，您將需要篩選不同的屬性</span><span class="sxs-lookup"><span data-stu-id="0167b-149">For non-EDI messages, you will have to filter on a different property)</span></span>|  
|<span data-ttu-id="0167b-150">**傳送埠屬性： 篩選**</span><span class="sxs-lookup"><span data-stu-id="0167b-150">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0167b-151">運算子</span><span class="sxs-lookup"><span data-stu-id="0167b-151">Operator</span></span>|==|  
|<span data-ttu-id="0167b-152">**傳送埠屬性： 篩選**</span><span class="sxs-lookup"><span data-stu-id="0167b-152">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="0167b-153">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="0167b-153">Value</span></span>|<span data-ttu-id="0167b-154">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` （適用於 EDI 訊息）</span><span class="sxs-lookup"><span data-stu-id="0167b-154">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` (for an EDI message)</span></span><br /><br /> <span data-ttu-id="0167b-155">-                   `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (對於 X12 通知)</span><span class="sxs-lookup"><span data-stu-id="0167b-155">-                   `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (for an X12 acknowledgment)</span></span><br /><br /> <span data-ttu-id="0167b-156">-                   `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` （適用於 EDIFACT 通知）</span><span class="sxs-lookup"><span data-stu-id="0167b-156">-                   `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` (for an EDIFACT acknowledgment)</span></span>|  
|<span data-ttu-id="0167b-157">**傳送埠屬性： 憑證**</span><span class="sxs-lookup"><span data-stu-id="0167b-157">**Send Port Properties: Certificates**</span></span>|<span data-ttu-id="0167b-158">一般名稱和指紋</span><span class="sxs-lookup"><span data-stu-id="0167b-158">Common Name  and thumbprint</span></span>|<span data-ttu-id="0167b-159">如果真對外寄 AS2 訊息使用加密憑證，請輸入憑證名稱和指紋。</span><span class="sxs-lookup"><span data-stu-id="0167b-159">Enter the certificate name and thumbprint if using an encryption certificate for the outbound AS2 message.</span></span>|  
  
## <a name="prerequisites"></a><span data-ttu-id="0167b-160">必要條件</span><span class="sxs-lookup"><span data-stu-id="0167b-160">Prerequisites</span></span>  
 <span data-ttu-id="0167b-161">您必須以「[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 系統管理員」群組的成員身分登入。</span><span class="sxs-lookup"><span data-stu-id="0167b-161">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
### <a name="to-configure-biztalk-server-to-send-as2-messages-over-a-static-send-port"></a><span data-ttu-id="0167b-162">設定 BizTalk Server 透過靜態傳送埠傳送 AS2 訊息</span><span class="sxs-lookup"><span data-stu-id="0167b-162">To configure BizTalk Server to send AS2 messages over a static send port</span></span>  
  
1. <span data-ttu-id="0167b-163">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理主控台中，建立包含上述組態的靜態單向或請求回應傳送埠。</span><span class="sxs-lookup"><span data-stu-id="0167b-163">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, create a static one-way or solicit response send port with the above configuration.</span></span>  
  
2. <span data-ttu-id="0167b-164">在 [傳送埠] 清單中**傳送埠**單向協議索引標籤中的頁面**協議屬性**對話方塊方塊中，輸入靜態傳送埠的名稱。</span><span class="sxs-lookup"><span data-stu-id="0167b-164">In the send ports list on the **Send Ports** page of the one-way agreement tab in the **Agreement Properties** dialog box, enter the name of the static send port.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="0167b-165">設定傳送埠可讓 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 針對輸出 AS2 訊息執行協議解析。</span><span class="sxs-lookup"><span data-stu-id="0167b-165">Setting the send port enables [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to perform agreement resolution for an outbound AS2 message.</span></span>  
  
3. <span data-ttu-id="0167b-166">中**識別碼**頁面的單向協議索引標籤**協議屬性**對話方塊方塊中，設定 AS2-To 屬性的目的地然後視需要在設定其他協議屬性不同頁面**協議屬性** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="0167b-166">In the **Identifiers** page of the one-way agreement tab of the **Agreement Properties** dialog box, set the AS2-To property to the destination and then set other agreement properties as required in the different pages of the **Agreement Properties** dialog box.</span></span>  
  
## <a name="functionality"></a><span data-ttu-id="0167b-167">功能</span><span class="sxs-lookup"><span data-stu-id="0167b-167">Functionality</span></span>  
 <span data-ttu-id="0167b-168">傳送埠和管線會執行下列操作，透過 AS2 傳送同步 EDI 或非 EDI 訊息或通知，以及處理傳回的 MDN：</span><span class="sxs-lookup"><span data-stu-id="0167b-168">The send port and pipeline does the following to send a synchronous EDI or non-EDI message or acknowledgment over AS2 and process the returned MDN:</span></span>  
  
-   <span data-ttu-id="0167b-169">如果要傳送 EDI 訊息，請挑選 EDI 訊息，方法是透過篩選在 `BTS.MessageType` 命名空間中設為訊息結構描述 (例如，864 訊息為 X12_00401_864) 的 `http://schemas.microsoft.com/BizTalk/EDI/X12/2006` 屬性。</span><span class="sxs-lookup"><span data-stu-id="0167b-169">If sending an EDI message, picks up the EDI message by filtering on the property `BTS.MessageType` set to the message schema in the `http://schemas.microsoft.com/BizTalk/EDI/X12/2006` namespace (for example, X12_00401_864 for an 864 message).</span></span>  
  
-   <span data-ttu-id="0167b-170">如果要傳送 EDI 通知，請挑選通知，方法是透過篩選設為下列其中一個控制結構描述的 `BTS.MessageType` 屬性：</span><span class="sxs-lookup"><span data-stu-id="0167b-170">If sending an EDI acknowledgment, picks up the acknowledgment by filtering on the property `BTS.MessageType` set to one of the following control schema:</span></span>  
  
    -   <span data-ttu-id="0167b-171">997 通知為 `http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root`</span><span class="sxs-lookup"><span data-stu-id="0167b-171">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` for a 997 acknowledgment</span></span>  
  
    -   <span data-ttu-id="0167b-172">TA1 通知為 `http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root`</span><span class="sxs-lookup"><span data-stu-id="0167b-172">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` for a TA1 acknowledgment</span></span>  
  
    -   <span data-ttu-id="0167b-173">CONTRL 通知為 `http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root`</span><span class="sxs-lookup"><span data-stu-id="0167b-173">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` for a CONTRL acknowledgment</span></span>  
  
-   <span data-ttu-id="0167b-174">如果要傳送非 EDI 訊息，則會使用另一個篩選條件挑選訊息。</span><span class="sxs-lookup"><span data-stu-id="0167b-174">If sending a non-EDI message, picks up the message using another filter.</span></span>  
  
-   <span data-ttu-id="0167b-175">建置 AS2 訊息。</span><span class="sxs-lookup"><span data-stu-id="0167b-175">Builds an AS2 message.</span></span> <span data-ttu-id="0167b-176">如需有關此程序的詳細資訊，請參閱 <<c0> [ 產生外寄 AS2 訊息](../core/generating-an-outgoing-as2-message.md)。</span><span class="sxs-lookup"><span data-stu-id="0167b-176">For more information about this process, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
-   <span data-ttu-id="0167b-177">傳送訊息或通知至傳送埠的目的地 URL。</span><span class="sxs-lookup"><span data-stu-id="0167b-177">Sends the message or acknowledgment to the destination URL for the send port.</span></span>  
  
-   <span data-ttu-id="0167b-178">接收訊息或通知的 MDN 回應 (如果已啟用)。</span><span class="sxs-lookup"><span data-stu-id="0167b-178">Receives the MDN response to the message or acknowledgment, if enabled.</span></span> <span data-ttu-id="0167b-179">如需有關此程序的詳細資訊，請參閱 <<c0> [ 處理內送 MDN](../core/processing-an-incoming-mdn.md)。</span><span class="sxs-lookup"><span data-stu-id="0167b-179">For more information about this process, see [Processing an Incoming MDN](../core/processing-an-incoming-mdn.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0167b-180">另請參閱</span><span class="sxs-lookup"><span data-stu-id="0167b-180">See Also</span></span>  
 <span data-ttu-id="0167b-181">[設定 AS2 解決方案的連接埠](../core/configuring-ports-for-an-as2-solution.md) </span><span class="sxs-lookup"><span data-stu-id="0167b-181">[Configuring Ports for an AS2 Solution](../core/configuring-ports-for-an-as2-solution.md) </span></span>  
 <span data-ttu-id="0167b-182">[產生外寄 AS2 訊息](../core/generating-an-outgoing-as2-message.md) </span><span class="sxs-lookup"><span data-stu-id="0167b-182">[Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md) </span></span>  
 [<span data-ttu-id="0167b-183">處理內送 MDN</span><span class="sxs-lookup"><span data-stu-id="0167b-183">Processing an Incoming MDN</span></span>](../core/processing-an-incoming-mdn.md)