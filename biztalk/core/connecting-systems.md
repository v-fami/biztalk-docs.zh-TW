---
title: 連接系統 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4c4895e5-7272-415f-a0de-905256fa0a43
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a151fb5c6247b8630ab423054adef42e64efd06a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36995591"
---
# <a name="connecting-systems"></a><span data-ttu-id="ff453-102">連接系統</span><span class="sxs-lookup"><span data-stu-id="ff453-102">Connecting Systems</span></span>
<span data-ttu-id="ff453-103">進行整合的首要條件是能在不同機器上使用不同軟體有效地交換訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-103">The effective exchange of messages across different software on different machines is an absolute requirement for integration.</span></span> <span data-ttu-id="ff453-104">指定溝通的多樣性，BizTalk Server 必須支援各種不同的通訊協定和訊息格式。</span><span class="sxs-lookup"><span data-stu-id="ff453-104">Given the diversity of communication styles that exist, BizTalk Server must support a variety of protocols and message formats.</span></span> <span data-ttu-id="ff453-105">下面將描述一種新的引擎，能夠適用此種多元化的溝通方式。</span><span class="sxs-lookup"><span data-stu-id="ff453-105">As described next, a significant portion of the engine is devoted to making this communication work.</span></span> <span data-ttu-id="ff453-106">不過，必須記住一項重要的概念就是，這種引擎內部只能使用 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="ff453-106">One important fact to keep in mind, however, is that the engine works only with XML documents internally.</span></span> <span data-ttu-id="ff453-107">不管接收到何種格式的訊息，接收後都必須將訊息轉換為 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="ff453-107">Whatever format a message arrives in, it must be converted to an XML document after it is received.</span></span> <span data-ttu-id="ff453-108">同樣地，若文件的接收者無法接受 XML 文件，該引擎也會將文件轉換為目標接受的格式。</span><span class="sxs-lookup"><span data-stu-id="ff453-108">Similarly, if the recipient of a document can’t accept that document as XML, the engine converts it into the format expected by the target.</span></span>  
  
## <a name="sending-and-receiving-messages-adapters"></a><span data-ttu-id="ff453-109">傳送和接收訊息： 配接器</span><span class="sxs-lookup"><span data-stu-id="ff453-109">Sending and Receiving Messages: Adapters</span></span>  
 <span data-ttu-id="ff453-110">BizTalk Server 必須與各種不同的其他軟體通訊，因為它會依賴配接器，以進行這項作業。</span><span class="sxs-lookup"><span data-stu-id="ff453-110">Because BizTalk Server must talk to a variety of other software, it relies on adapters to make this possible.</span></span> <span data-ttu-id="ff453-111">配接器是通訊機制的實作，例如一個特殊的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="ff453-111">An adapter is an implementation of a communication mechanism, such as a particular protocol.</span></span> <span data-ttu-id="ff453-112">開發人員會判定在哪種狀況下使用哪一種配接器。</span><span class="sxs-lookup"><span data-stu-id="ff453-112">A developer determines which adapters to use in a given situation.</span></span> <span data-ttu-id="ff453-113">他可能會選擇其中一個 BizTalk Server 提供，例如，內建配接器或使用建立熱門的產品，例如 Windows SharePoint Services 配接器，或甚至建立自訂的配接器。</span><span class="sxs-lookup"><span data-stu-id="ff453-113">He might choose one of the built-in adapters BizTalk Server provides, for example, or use an adapter created for a popular product such as Windows SharePoint Services, or even create a custom adapter.</span></span> <span data-ttu-id="ff453-114">在以上任何一種情形中，配接器是建立在稱為「配接器架構」的標準上。</span><span class="sxs-lookup"><span data-stu-id="ff453-114">In each of these cases, the adapter is built on a standard base called the Adapter Framework.</span></span> <span data-ttu-id="ff453-115">此架構提供建立及執行配接器的常用方法，且也支援用來管理所有配接器類型的相同工具。</span><span class="sxs-lookup"><span data-stu-id="ff453-115">This framework provides a common way to create and run adapters, and it also supports the same tools used to manage all of the adapter types.</span></span>  
  
 <span data-ttu-id="ff453-116">Microsoft BizTalk Server 包含下列原生配接器：</span><span class="sxs-lookup"><span data-stu-id="ff453-116">Microsoft BizTalk Server includes the following native adapters:</span></span>  
  
- <span data-ttu-id="ff453-117">File 配接器： 支援讀取和寫入檔案，在 Windows 檔案系統中。</span><span class="sxs-lookup"><span data-stu-id="ff453-117">File adapter: supports reading from and writing to files in the Windows file system.</span></span> <span data-ttu-id="ff453-118">因為涉及商務程序的應用程式通常存取相同的檔案系統 (無論在本機或網路上)，所以透過檔案來交換訊息是很方便的選擇。</span><span class="sxs-lookup"><span data-stu-id="ff453-118">Because the applications involved in a business process can often access the same file system, either locally or across a network, exchanging messages through files can be a convenient option.</span></span>  
  
- <span data-ttu-id="ff453-119">FTP 配接器： 支援傳送及接收檔案傳輸通訊協定 (FTP) 伺服器與 BizTalk Server 之間的資訊。</span><span class="sxs-lookup"><span data-stu-id="ff453-119">FTP adapter: supports sending and receiving information between a File Transport Protocol (FTP) Server and BizTalk Server.</span></span>  
  
- <span data-ttu-id="ff453-120">HTTP 配接器： 支援傳送及接收使用 HTTP 的資訊。</span><span class="sxs-lookup"><span data-stu-id="ff453-120">HTTP adapter: supports sending and receiving information using HTTP.</span></span> <span data-ttu-id="ff453-121">BizTalk Server 會公開一或多個 Url，以允許其他應用程式傳送資料給它，而且它可以使用此配接器將資料傳送至其他 Url。</span><span class="sxs-lookup"><span data-stu-id="ff453-121">BizTalk Server exposes one or more URLs to allow other applications to send data to it, and it can use this adapter to send data to other URLs.</span></span>  
  
- <span data-ttu-id="ff453-122">MSMQ 配接器： 支援傳送及接收使用 Microsoft Message Queuing (MSMQ) 訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-122">MSMQ adapter: supports sending and receiving messages using Microsoft Message Queuing (MSMQ).</span></span>  
  
- <span data-ttu-id="ff453-123">WebSphere MQ 配接器： 支援傳送和接收訊息使用 IBM WebSphere MQ （先前稱為 MQSeries）。</span><span class="sxs-lookup"><span data-stu-id="ff453-123">WebSphere MQ adapter: supports sending and receiving messages using IBM’s WebSphere MQ (formerly known as MQSeries).</span></span>  
  
- <span data-ttu-id="ff453-124">POP3 配接器： 支援接收電子郵件訊息和其使用郵局通訊協定 (POP3) 的第三版的附件。</span><span class="sxs-lookup"><span data-stu-id="ff453-124">POP3 adapter: supports receiving e-mail messages and their attachments using version three of the Post Office Protocol (POP3).</span></span>  
  
- <span data-ttu-id="ff453-125">SMTP 配接器： 使用 SMTP 傳送訊息的支援。</span><span class="sxs-lookup"><span data-stu-id="ff453-125">SMTP adapter: supports sending messages using SMTP.</span></span> <span data-ttu-id="ff453-126">使用標準電子郵件地址來識別合作對象。</span><span class="sxs-lookup"><span data-stu-id="ff453-126">Standard e-mail addresses are used to identify the parties.</span></span>  
  
- <span data-ttu-id="ff453-127">SOAP 配接器： 支援傳送及接收 Web 服務要求，若要啟用 BizTalk Server 來連接到 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="ff453-127">SOAP adapter: supports sending and receiving Web service requests to enable BizTalk Server to connect to Web Services.</span></span>  
  
- <span data-ttu-id="ff453-128">WCF 配接器： 支援傳送及接收使用 Windows Communication Foundation 的資訊。</span><span class="sxs-lookup"><span data-stu-id="ff453-128">WCF adapters: supports sending and receiving information using Windows Communication Foundation.</span></span>  
  
- <span data-ttu-id="ff453-129">Windows SharePoint Services (WSS) 配接器： 支援存取及發佈儲存在 Microsoft Windows SharePoint 文件庫中的文件。</span><span class="sxs-lookup"><span data-stu-id="ff453-129">Windows SharePoint Services (WSS) adapter: supports accessing and publishing documents stored in Microsoft Windows SharePoint document libraries.</span></span>  
  
  <span data-ttu-id="ff453-130">Microsoft 也提供一些常用商務軟體的配接器，包括：</span><span class="sxs-lookup"><span data-stu-id="ff453-130">Adapters for commonly-used business software are also available from Microsoft, these include:</span></span>  
  
- <span data-ttu-id="ff453-131">Microsoft BizTalk Adapter for JD Edwards OneWorld</span><span class="sxs-lookup"><span data-stu-id="ff453-131">Microsoft BizTalk Adapter for JD Edwards OneWorld</span></span>  
  
- <span data-ttu-id="ff453-132">Microsoft BizTalk Adapter for JD Edwards EnterpriseOne</span><span class="sxs-lookup"><span data-stu-id="ff453-132">Microsoft BizTalk Adapter for JD Edwards EnterpriseOne</span></span>  
  
- <span data-ttu-id="ff453-133">Microsoft BizTalk Adapter for PeopleSoft Enterprise</span><span class="sxs-lookup"><span data-stu-id="ff453-133">Microsoft BizTalk Adapter for PeopleSoft Enterprise</span></span>  
  
- <span data-ttu-id="ff453-134">Microsoft BizTalk Adapter for TIBCO Rendezvous</span><span class="sxs-lookup"><span data-stu-id="ff453-134">Microsoft BizTalk Adapter for TIBCO Rendezvous</span></span>  
  
- <span data-ttu-id="ff453-135">Microsoft BizTalk Adapter for TIBCO Enterprise Message Service</span><span class="sxs-lookup"><span data-stu-id="ff453-135">Microsoft BizTalk Adapter for TIBCO Enterprise Message Service</span></span>  
  
  <span data-ttu-id="ff453-136">如需有關這些介面卡的詳細資訊，請參閱 < [BizTalk Server 中的配接器](../core/adapters-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="ff453-136">For more information about these adapters, see [Adapters in BizTalk Server](../core/adapters-in-biztalk-server.md).</span></span>  
  
  <span data-ttu-id="ff453-137">不管用來接收資料的配接器為何，所接收的訊息必須經過處理，協調流程才能存取。</span><span class="sxs-lookup"><span data-stu-id="ff453-137">Whichever adapter is used to receive data, the messages it receives must commonly be processed before they can be accessed by an orchestration.</span></span> <span data-ttu-id="ff453-138">同樣地，由協調流程產生的外寄訊息一般會先經過處理，然後配接卡才會傳送它們。</span><span class="sxs-lookup"><span data-stu-id="ff453-138">Similarly, outgoing messages produced by an orchestration often need to be processed before they are sent by an adapter.</span></span>  
  
## <a name="processing-messages-pipelines"></a><span data-ttu-id="ff453-139">處理訊息： 管線</span><span class="sxs-lookup"><span data-stu-id="ff453-139">Processing Messages: Pipelines</span></span>  
 <span data-ttu-id="ff453-140">交換不同種類的文件來進行通訊的基礎商務程序的應用程式： 例如，採購訂單和發票。</span><span class="sxs-lookup"><span data-stu-id="ff453-140">The applications underlying a business process communicate by exchanging various kinds of documents: for examples, purchase orders and  invoices.</span></span> <span data-ttu-id="ff453-141">BizTalk Server 應用程式執行商務程序，它必須能夠正確處理包含這些文件的訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-141">For a BizTalk Server application to execute a business process, it must be able to correctly deal with the messages that contain these documents.</span></span> <span data-ttu-id="ff453-142">這項處理可能包含多個步驟，因此會由訊息管線執行。</span><span class="sxs-lookup"><span data-stu-id="ff453-142">This processing can involve multiple steps, and hence is performed by a message pipeline.</span></span> <span data-ttu-id="ff453-143">內送訊息透過接收管線處理，而外寄訊息則是透過傳送管線傳送。</span><span class="sxs-lookup"><span data-stu-id="ff453-143">Incoming messages are processed through a receive pipeline, while outgoing messages go through a send pipeline.</span></span>  
  
 <span data-ttu-id="ff453-144">例如，雖然越來越多的應用程式都設計為可瞭解 XML 文件，但是目前多數的應用程式仍無法瞭解。</span><span class="sxs-lookup"><span data-stu-id="ff453-144">For example, even though more applications are being designed to understand XML documents, many—probably the majority today—cannot.</span></span> <span data-ttu-id="ff453-145">BizTalk Server 只會使用 XML 文件的內部運作，因為它必須提供與 XML 之間來回轉換其他格式的方法。</span><span class="sxs-lookup"><span data-stu-id="ff453-145">Because BizTalk Server works only with XML documents internally, it must provide a way to convert other formats to and from XML.</span></span> <span data-ttu-id="ff453-146">也可能需要其他服務，例如驗證訊息的寄件者。</span><span class="sxs-lookup"><span data-stu-id="ff453-146">Other services may also be required, such as authenticating the sender of a message.</span></span> <span data-ttu-id="ff453-147">若要在模組中處理這些工作，而不是自訂程序，會在某幾個階段中建構管線，而每個階段都包含一或多個啟用的 .NET 或「元件物件模型」(COM) 元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-147">To handle these and other tasks in a modular, yet customizable way, a pipeline is constructed from some number of stages, each of which contains one or more .NET-enabled or Component Object Model (COM) components.</span></span> <span data-ttu-id="ff453-148">每個元件會處理特定的訊息處理程序部分。</span><span class="sxs-lookup"><span data-stu-id="ff453-148">Each component handles a particular part of message processing.</span></span> <span data-ttu-id="ff453-149">BizTalk Server 會提供數個標準元件，可解決最常見的案例。</span><span class="sxs-lookup"><span data-stu-id="ff453-149">BizTalk Server provides several standard components that address the most common cases.</span></span> <span data-ttu-id="ff453-150">若這樣還不夠，開發人員也可以為接收和傳送管線二者建立自訂元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-150">If these aren’t sufficient, developers can also create custom components for both receive and send pipelines.</span></span>  
  
 <span data-ttu-id="ff453-151">![](../core/media/understandingbts-05-pipelinereceive.gif "UnderstandingBTS_05_PipelineReceive")</span><span class="sxs-lookup"><span data-stu-id="ff453-151">![](../core/media/understandingbts-05-pipelinereceive.gif "UnderstandingBTS_05_PipelineReceive")</span></span>  
  
 <span data-ttu-id="ff453-152">上圖說明接收管線中的階段，以及為每一個階段提供的標準元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-152">The figure above illustrates the stages in a receive pipeline, along with the standard components provided for each one.</span></span> <span data-ttu-id="ff453-153">這些階段與其相關元件如下：</span><span class="sxs-lookup"><span data-stu-id="ff453-153">Those stages and their associated components are:</span></span>  
  
- <span data-ttu-id="ff453-154">解碼： BizTalk Server 可以提供標準元件階段，則 MIME/SMIME 解碼器。</span><span class="sxs-lookup"><span data-stu-id="ff453-154">Decode: BizTalk Server provides one standard component for this stage, the MIME/SMIME Decoder.</span></span> <span data-ttu-id="ff453-155">此元件可以處理訊息以及任何包含在 MIME 或 Secure MIME (S/MIME) 格式的附件。</span><span class="sxs-lookup"><span data-stu-id="ff453-155">This component can handle messages and any attachments they contain in either MIME or Secure MIME (S/MIME) format.</span></span> <span data-ttu-id="ff453-156">元件會將這兩種類型的訊息轉換成 XML，而且它也可以解碼 S/MIME 訊息以及驗證其數位簽章。</span><span class="sxs-lookup"><span data-stu-id="ff453-156">The component converts both types of messages into XML, and it can also decrypt S/MIME messages and verify their digital signatures.</span></span>  
  
- <span data-ttu-id="ff453-157">反組譯： 提供三個標準元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-157">Disassemble: Three standard components are provided.</span></span> <span data-ttu-id="ff453-158">一般檔案解譯器元件可將一般檔案轉換成 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="ff453-158">The Flat File Disassembler component turns flat files into XML documents.</span></span> <span data-ttu-id="ff453-159">這些檔案可以是序數 (每一筆記錄有相同長度和結構) 或分隔 (指派的字元是用於分隔檔案中的記錄)。</span><span class="sxs-lookup"><span data-stu-id="ff453-159">These files can be positional, where each record has the same length and structure, or delimited, with a designated character used to separate records in the file.</span></span> <span data-ttu-id="ff453-160">第二個標準元件是 XML 解譯器，可剖析已使用 XML 描述的內送訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-160">The second standard component, the XML Disassembler, parses incoming messages that are already described using XML.</span></span> <span data-ttu-id="ff453-161">第三個標準元件是目前不常用的 BizTalk Framework 解譯器。</span><span class="sxs-lookup"><span data-stu-id="ff453-161">The third standard component, one that’s not often used today, is the BizTalk Framework Disassembler.</span></span> <span data-ttu-id="ff453-162">它會接受使用 BizTalk Framework 中，在 BizTalk Server 2000 中實作所定義之可靠訊息機制所傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-162">It accepts messages sent using the reliable messaging mechanism defined by the BizTalk Framework, which was implemented in BizTalk Server 2000.</span></span>  
  
- <span data-ttu-id="ff453-163">驗證： BizTalk Server 可以提供 「 XML 驗證器元件階段。</span><span class="sxs-lookup"><span data-stu-id="ff453-163">Validate: BizTalk Server provides an XML Validator component for this stage.</span></span> <span data-ttu-id="ff453-164">如其名稱所示，此元件會驗證由「解譯」階段為指定之結構描述或結構描述群組產生的 XML 文件，然後當文件不符合其中一個結構描述時傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="ff453-164">As its name suggests, this component validates an XML document produced by the Disassemble stage against a specified schema or group of schemas, returning an error if the document doesn’t conform to one of those schemas.</span></span>  
  
- <span data-ttu-id="ff453-165">解析合作對象： 此階段中，合作對象解析的唯一標準元件會嘗試判斷此訊息的寄件者的身分識別。</span><span class="sxs-lookup"><span data-stu-id="ff453-165">Resolve Party: the only standard component for this stage, Party Resolution, attempts to determine an identity for this message’s sender.</span></span> <span data-ttu-id="ff453-166">如果訊息經過數位簽署，簽章用來查詢 BizTalk Server 中的 「 管理 」 資料庫中的 Windows 身分識別。</span><span class="sxs-lookup"><span data-stu-id="ff453-166">If the message was digitally signed, the signature is used to look up a Windows identity in the Management database in BizTalk Server.</span></span> <span data-ttu-id="ff453-167">(之後會提到，BizTalk Server 的管理工具也會使用此資料庫)。若訊息包含 Windows 使用者已驗證的安全性識別項 (SID)，就會使用此身分。</span><span class="sxs-lookup"><span data-stu-id="ff453-167">(As described later, this database is also used by BizTalk Server’s management tools.) If the message carries the authenticated security identifier (SID) of a Windows user, this identity is used.</span></span> <span data-ttu-id="ff453-168">若任何機制皆未成功，訊息寄件者會被指派預設匿名身分。</span><span class="sxs-lookup"><span data-stu-id="ff453-168">If neither mechanism succeeds, the message’s sender is assigned a default anonymous identity.</span></span>  
  
  <span data-ttu-id="ff453-169">![](../core/media/understandingbts-06-pipelinesend.gif "UnderstandingBTS_06_PipelineSend")</span><span class="sxs-lookup"><span data-stu-id="ff453-169">![](../core/media/understandingbts-06-pipelinesend.gif "UnderstandingBTS_06_PipelineSend")</span></span>  
  
  <span data-ttu-id="ff453-170">外寄訊息也可以透過多個階段傳送，如使用中傳送管線定義一般。</span><span class="sxs-lookup"><span data-stu-id="ff453-170">Outgoing messages can also go through multiple stages, as defined by the send pipeline in use.</span></span> <span data-ttu-id="ff453-171">上圖顯示傳送管線的階段和標準元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-171">The figure above shows the stages and standard components for a send pipeline.</span></span> <span data-ttu-id="ff453-172">其中包括：</span><span class="sxs-lookup"><span data-stu-id="ff453-172">They are:</span></span>  
  
- <span data-ttu-id="ff453-173">預先組合： 提供沒有標準的元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-173">Pre-assemble: No standard components are provided.</span></span> <span data-ttu-id="ff453-174">反之，可以視需要將自訂元件插入此處。</span><span class="sxs-lookup"><span data-stu-id="ff453-174">Instead, custom components can be inserted here as needed.</span></span>  
  
- <span data-ttu-id="ff453-175">組合： 平行接收管線中的 「 解譯 」 階段，此階段也有三個標準元件。</span><span class="sxs-lookup"><span data-stu-id="ff453-175">Assemble: Paralleling the Disassemble stage in a receive pipeline, this stage also has three standard components.</span></span> <span data-ttu-id="ff453-176">一般檔案組合器會將 XML 訊息轉換為位置或分隔的一般檔案，而 XML 組合器則支援新增信封及對外寄 XML 訊息進行變更。</span><span class="sxs-lookup"><span data-stu-id="ff453-176">The Flat File Assembler converts an XML message into a positional or delimited flat file, and the XML Assembler supports adding an envelope and making other changes to an outgoing XML message.</span></span> <span data-ttu-id="ff453-177">第三個選擇就是 BizTalk Framework 組合器，它會使用 BizTalk Framework 傳訊技術封裝訊息以進行可靠的傳輸。</span><span class="sxs-lookup"><span data-stu-id="ff453-177">The third option, the BizTalk Framework Assembler, packages messages for reliable transmission using the BizTalk Framework messaging technology.</span></span>  
  
- <span data-ttu-id="ff453-178">編碼： BizTalk Server 只定義一個標準元件的這個階段中，MIME/SMIME 編碼器。</span><span class="sxs-lookup"><span data-stu-id="ff453-178">Encode: BizTalk Server defines only one standard component for this stage, the MIME/SMIME Encoder.</span></span> <span data-ttu-id="ff453-179">此元件會用 MIME 或 S/MIME 格式封裝外寄訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-179">This component packages outgoing messages in either MIME or S/MIME format.</span></span> <span data-ttu-id="ff453-180">若使用 S/MIME，也可以數位簽章和加密訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-180">If S/MIME is used, the message can also be digitally signed and/or encrypted.</span></span>  
  
  <span data-ttu-id="ff453-181">BizTalk Server 定義部分預設管線，包括簡單的接收/傳送配對，可用來處理已經以 XML 的訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-181">BizTalk Server defines some default pipelines, including a simple receive/send pair that can be used for handling messages that are already expressed in XML.</span></span> <span data-ttu-id="ff453-182">開發人員也可使用「管線設計師」建立自訂管線。</span><span class="sxs-lookup"><span data-stu-id="ff453-182">A developer can also create custom pipelines using the Pipeline Designer.</span></span> <span data-ttu-id="ff453-183">此工具是在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中執行，它提供圖形化介面，可以讓開發人員拖放元件來建立具備必要行為的管線。</span><span class="sxs-lookup"><span data-stu-id="ff453-183">This tool, which runs inside [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], provides a graphical interface that enables the developer to drag and drop components to create pipelines with whatever behavior is required.</span></span>  
  
## <a name="choosing-messages-subscriptions"></a><span data-ttu-id="ff453-184">選擇訊息： 訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="ff453-184">Choosing Messages: Subscriptions</span></span>  
 <span data-ttu-id="ff453-185">當訊息已經進入配接器及接收管線後，下一步就是判定它的目的地。</span><span class="sxs-lookup"><span data-stu-id="ff453-185">After a message has made its way through an adapter and a receive pipeline, the next step is to determine where it should go.</span></span> <span data-ttu-id="ff453-186">訊息最常傳送至協調流程，但您也可直接移至傳送管線，讓 BizTalk Server 用於單純的傳訊系統的訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-186">A message is most often targeted to an orchestration, but it’s also possible for a message to go directly to a send pipeline, allowing BizTalk Server to be used as purely a messaging system.</span></span> <span data-ttu-id="ff453-187">在任何狀況下，都會使用訂閱讓訊息與其目的地相符。</span><span class="sxs-lookup"><span data-stu-id="ff453-187">In either case, this matching of messages with their destinations is done using subscriptions.</span></span>  
  
 <span data-ttu-id="ff453-188">當接收管線處理訊息時，會建立包含多個訊息屬性的訊息內容。</span><span class="sxs-lookup"><span data-stu-id="ff453-188">When a message is processed by a receive pipeline, a message context is created that contains various properties of the message.</span></span> <span data-ttu-id="ff453-189">協調流程或傳送管線可以以這些屬性的值為基礎，訂閱訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-189">An orchestration or a send pipeline can subscribe to messages based on the values of these properties.</span></span> <span data-ttu-id="ff453-190">例如，協調流程可以建立符合所有「發票」類型訊息的訂閱、或從 QwickBank 公司接收到所有「發票」類型的訊息、或從 QwickBank 公司收到且超過 $10,000 的「發票」類型訊息。</span><span class="sxs-lookup"><span data-stu-id="ff453-190">For example, an orchestration might create a subscription that matches all messages of the type “Invoice”, or all messages of the type “Invoice” received from the QwickBank corporation, or all messages of the type “Invoice” received from the QwickBank corporation that are for more than $10,000.</span></span> <span data-ttu-id="ff453-191">不管指定什麼，訂閱只會將符合訂閱定義的訊息傳回給訂閱者。</span><span class="sxs-lookup"><span data-stu-id="ff453-191">However it is specified, a subscription returns to its subscriber only those messages that match the criteria that the subscription defines.</span></span> <span data-ttu-id="ff453-192">接收的訊息可能會建立部分協調流程來起始商務程序，或者它可能啟動執行中商務程序的其他步驟。</span><span class="sxs-lookup"><span data-stu-id="ff453-192">A received message might initiate a business process by instantiating some orchestration or it might activate another step in an already running business process.</span></span> <span data-ttu-id="ff453-193">同樣地，當協調程序傳送訊息時，該訊息會符合以管線建立之訂閱為基礎的傳送管線。</span><span class="sxs-lookup"><span data-stu-id="ff453-193">Similarly, when an orchestration sends a message, that message is matched to a send pipeline based on a subscription that pipeline has established.</span></span>  
  
-   <span data-ttu-id="ff453-194">在 BizTalk Server 中，它，也可以訂閱特定錯誤條件。</span><span class="sxs-lookup"><span data-stu-id="ff453-194">In BizTalk Server, it is also possible to subscribe to specific error conditions.</span></span> <span data-ttu-id="ff453-195">可以特定方式處理錯誤訊息或路由傳送到特定目的地，如 Windows SharePoint Services 資料夾。</span><span class="sxs-lookup"><span data-stu-id="ff453-195">An error message can be processed in a particular way or routed to a specific destination, such as a Windows SharePoint Services folder.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ff453-196">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ff453-196">See Also</span></span>  
 <span data-ttu-id="ff453-197">[BizTalk Server 傳訊引擎](../core/the-biztalk-server-messaging-engine.md) </span><span class="sxs-lookup"><span data-stu-id="ff453-197">[The BizTalk Server Messaging Engine](../core/the-biztalk-server-messaging-engine.md) </span></span>  
 <span data-ttu-id="ff453-198">[發佈和訂閱架構](../core/publish-and-subscribe-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="ff453-198">[Publish and Subscribe Architecture](../core/publish-and-subscribe-architecture.md) </span></span>  
 <span data-ttu-id="ff453-199">[配接器](../core/adapters.md) </span><span class="sxs-lookup"><span data-stu-id="ff453-199">[Adapters](../core/adapters.md) </span></span>  
 [<span data-ttu-id="ff453-200">管線</span><span class="sxs-lookup"><span data-stu-id="ff453-200">Pipelines</span></span>](../core/pipelines.md)