---
title: 自訂列舉信封結構描述 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2b053d82-753f-4a05-9922-fa5dbd073ba9
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4b33458d3a7fbc71ea5e2df7603390f10b928113
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22241854"
---
# <a name="customizing-enumerations-in-the-envelope-schema"></a><span data-ttu-id="51d9a-102">在信封結構描述中自訂列舉</span><span class="sxs-lookup"><span data-stu-id="51d9a-102">Customizing Enumerations in the Envelope Schema</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="51d9a-103">可讓您自訂識別碼欄位列舉服務 （信封） 結構描述中。</span><span class="sxs-lookup"><span data-stu-id="51d9a-103"> enables you to customize ID field enumerations in the service (envelope) schema.</span></span> <span data-ttu-id="51d9a-104">如此可讓您接收或傳送信封的寄件者或接收者識別碼欄位中擁有非標準值 (在 X12 標準組織所定義的值集合以外) 的交換。</span><span class="sxs-lookup"><span data-stu-id="51d9a-104">This enables you to receive or send interchanges that have non-standard values (outside the set of values defined by the X12 standards body) in the sender or receiver ID fields in the envelope.</span></span> <span data-ttu-id="51d9a-105">它也可讓您變更協議屬性定義中的標頭值的下拉式清單中可用的限定詞。</span><span class="sxs-lookup"><span data-stu-id="51d9a-105">It also enables you to change the qualifiers that are available in drop-down lists for header values in agreement property definitions.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="51d9a-106">當您修改結構描述時，該修改會套用至實際標準的所有交易。</span><span class="sxs-lookup"><span data-stu-id="51d9a-106">When you modify a schema, that modification applies to all transactions for the standard in question.</span></span> <span data-ttu-id="51d9a-107">您無法在單一合作對象的信封結構描述進行修改。</span><span class="sxs-lookup"><span data-stu-id="51d9a-107">You cannot make a modification in the envelope schema for a single party.</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="51d9a-108">會從靜態服務結構描述的允許值的清單提取與產品隨附的 Microsoft.BizTalk.Edi.BaseArtifacts.dll 中。</span><span class="sxs-lookup"><span data-stu-id="51d9a-108"> pulls the list of allowed values from static service schemas in the Microsoft.BizTalk.Edi.BaseArtifacts.dll, which ships with the product.</span></span> <span data-ttu-id="51d9a-109">若要擴充基本的值集合，您需要開發和部署服務結構描述延伸模組。</span><span class="sxs-lookup"><span data-stu-id="51d9a-109">To extend the base set of values, you need to develop and deploy a service schema extension.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="51d9a-110">提供服務 （信封） 結構描述範本，可用來修改在列舉型別。</span><span class="sxs-lookup"><span data-stu-id="51d9a-110"> provides service (envelope) schema templates that you can use to modify the enumerations in.</span></span> <span data-ttu-id="51d9a-111">這些服務結構描述是 X12_ServiceSchemaExtension.xsd 和 EDIFACT_ServiceSchemaExtension.xsd。</span><span class="sxs-lookup"><span data-stu-id="51d9a-111">These service schemas are X12_ServiceSchemaExtension.xsd and EDIFACT_ServiceSchemaExtension.xsd.</span></span> <span data-ttu-id="51d9a-112">根據標準而定，每個自訂結構描述都會有下列其中一個命名空間。</span><span class="sxs-lookup"><span data-stu-id="51d9a-112">Each custom schema will have one of the following namespaces, based upon the standard.</span></span> <span data-ttu-id="51d9a-113">這個命名空間無法變更。</span><span class="sxs-lookup"><span data-stu-id="51d9a-113">This namespace cannot be changed.</span></span>  
  
|<span data-ttu-id="51d9a-114">Standard</span><span class="sxs-lookup"><span data-stu-id="51d9a-114">Standard</span></span>|<span data-ttu-id="51d9a-115">命名空間</span><span class="sxs-lookup"><span data-stu-id="51d9a-115">Namespace</span></span>|  
|--------------|---------------|  
|<span data-ttu-id="51d9a-116">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="51d9a-116">X12 and HIPAA</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/X12/2006`|  
|<span data-ttu-id="51d9a-117">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="51d9a-117">EDIFACT</span></span>|`http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006`|  
  
 <span data-ttu-id="51d9a-118">您對結構描述在 BizTalk 編輯器中變更[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]（請參閱下列程序）。</span><span class="sxs-lookup"><span data-stu-id="51d9a-118">You make the changes to the schema in BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] (see the procedure below).</span></span> <span data-ttu-id="51d9a-119">完成需要的變更之後，必須部署結構描述。</span><span class="sxs-lookup"><span data-stu-id="51d9a-119">After making the required changes, you must deploy the schema.</span></span>  
  
 <span data-ttu-id="51d9a-120">在接收和傳送端上時[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]驗證信封區段 （ISA 和 GS X12，或 UNB 和 UNG edifact），它會檢查它的命名空間為基礎的自訂服務結構描述是否存在。</span><span class="sxs-lookup"><span data-stu-id="51d9a-120">On both the receive and send sides, when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] validates the envelope segments (ISA and GS for X12, or UNB and UNG for EDIFACT), it will check for the existence of the custom service schema based on its namespace.</span></span> <span data-ttu-id="51d9a-121">如果部署自訂結構描述，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]會將合併該結構描述與一般服務結構描述，且將會使用自訂和標準列舉所指定的值。</span><span class="sxs-lookup"><span data-stu-id="51d9a-121">If the custom schema is deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will merge that schema with the regular service schema and will use both custom and standard enumeration values where specified.</span></span> <span data-ttu-id="51d9a-122">您可以自訂結構描述以擴充列舉清單，但是無法移除清單中的值。</span><span class="sxs-lookup"><span data-stu-id="51d9a-122">You can customize the schema to extend an enumeration list, but you cannot remove values from it.</span></span> <span data-ttu-id="51d9a-123">如果未部署自訂結構描述，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]將使用標準服務結構描述。</span><span class="sxs-lookup"><span data-stu-id="51d9a-123">If a custom schema is not deployed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the standard service schema.</span></span>  
  
 <span data-ttu-id="51d9a-124">當您部署自訂結構描述之後,[!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)]中的使用者介面[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理主控台會使用自訂列舉中的值來填入適當的下拉式清單中[!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)]屬性頁。</span><span class="sxs-lookup"><span data-stu-id="51d9a-124">After you have deployed a custom schema, the [!INCLUDE[firstref_TPM](../includes/firstref-tpm-md.md)] user interface in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console will use the values in a custom enumeration to populate the appropriate drop-down lists in the [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] property pages.</span></span> <span data-ttu-id="51d9a-125">如果您尚未部署自訂結構描述，[!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)]會使用標準服務結構描述中列舉的值。</span><span class="sxs-lookup"><span data-stu-id="51d9a-125">If you have not deployed a custom schema, [!INCLUDE[TPM_abbrev](../includes/tpm-abbrev-md.md)] will use the values in the enumerations in the standard service schema.</span></span> <span data-ttu-id="51d9a-126">此外，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]執行階段會使用自訂列舉驗證訊息。</span><span class="sxs-lookup"><span data-stu-id="51d9a-126">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime will use the custom enumeration to validate a message.</span></span>  
  
 <span data-ttu-id="51d9a-127">如果您使用提供的 XML 工具[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]驗證與執行個體及其信封，而且您已自訂服務結構描述中，您還必須將自訂服務結構描述在 BizTalk 專案中，除了文件 （交易集）結構描述，如有必要，批次結構描述。</span><span class="sxs-lookup"><span data-stu-id="51d9a-127">If you use the XML tools provided with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to validate an instance with its envelope, and you have customized the service schema, you will have to include the custom service schema in the BizTalk project, in addition to the document (transaction set) schema(s) and if necessary, the batch schema.</span></span> <span data-ttu-id="51d9a-128">如果您要驗證沒有信封的交易集執行個體，則不需要這樣做。</span><span class="sxs-lookup"><span data-stu-id="51d9a-128">This is not necessary if you are validating a transaction-set instance that does not have an envelope.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="51d9a-129">必要條件</span><span class="sxs-lookup"><span data-stu-id="51d9a-129">Prerequisites</span></span>  
 <span data-ttu-id="51d9a-130">您必須以「[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 系統管理員」群組的成員身分登入。</span><span class="sxs-lookup"><span data-stu-id="51d9a-130">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
##  <a name="BKMK_Env_Can"></a><span data-ttu-id="51d9a-131">您可以修改的信封欄位</span><span class="sxs-lookup"><span data-stu-id="51d9a-131">Envelope Fields That Can Be Modified</span></span>  
 <span data-ttu-id="51d9a-132">只有下列信封欄位才能修改。</span><span class="sxs-lookup"><span data-stu-id="51d9a-132">Only the following envelope fields can be modified.</span></span> <span data-ttu-id="51d9a-133">延伸模組結構描述中只包含這些欄位。</span><span class="sxs-lookup"><span data-stu-id="51d9a-133">Only these fields are included in the extension schemas.</span></span> <span data-ttu-id="51d9a-134">在服務延伸模組結購描述中加入其他欄位，對於處理程序不會有任何影響。</span><span class="sxs-lookup"><span data-stu-id="51d9a-134">Added other fields in the service extension schema will not have any effect on processing.</span></span>  
  
|<span data-ttu-id="51d9a-135">Standard</span><span class="sxs-lookup"><span data-stu-id="51d9a-135">Standard</span></span>|<span data-ttu-id="51d9a-136">欄位</span><span class="sxs-lookup"><span data-stu-id="51d9a-136">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="51d9a-137">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="51d9a-137">X12 and HIPAA</span></span>|<span data-ttu-id="51d9a-138">ISA01 – 授權辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-138">ISA01 – Authorization Qualifier</span></span><br /><br /> <span data-ttu-id="51d9a-139">ISA03 – 安全性辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-139">ISA03 – Security Qualifier</span></span><br /><br /> <span data-ttu-id="51d9a-140">ISA05 – 傳送者識別碼辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-140">ISA05 – Sender ID Qualifier</span></span><br /><br /> <span data-ttu-id="51d9a-141">ISA07 - 接收者識別碼辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-141">ISA07 - Receiver ID Qualifier</span></span><br /><br /> <span data-ttu-id="51d9a-142">GS01 - 功能代碼</span><span class="sxs-lookup"><span data-stu-id="51d9a-142">GS01 - Functional Code</span></span><br /><br /> <span data-ttu-id="51d9a-143">GS07 - 負責單位</span><span class="sxs-lookup"><span data-stu-id="51d9a-143">GS07 - Responsible Agency</span></span>|  
|<span data-ttu-id="51d9a-144">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="51d9a-144">EDIFACT</span></span>|<span data-ttu-id="51d9a-145">UNB2.2 - 傳送者代碼辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-145">UNB2.2 - Sender Code Qualifier</span></span><br /><br /> <span data-ttu-id="51d9a-146">UNB3.2 - 接收者代碼辨識符號</span><span class="sxs-lookup"><span data-stu-id="51d9a-146">UNB3.2 - Receiver Code Qualifier</span></span>|  
  
## <a name="envelope-fields-that-should-not-be-modified"></a><span data-ttu-id="51d9a-147">不應該修改的信封欄位</span><span class="sxs-lookup"><span data-stu-id="51d9a-147">Envelope Fields That Should Not Be Modified</span></span>  
 <span data-ttu-id="51d9a-148">信封中的某些欄位會驅動引擎的行為。</span><span class="sxs-lookup"><span data-stu-id="51d9a-148">Some fields in the envelope drive behaviors in the engine.</span></span> <span data-ttu-id="51d9a-149">因此，您不應該新增值至這些欄位的現有列舉清單。</span><span class="sxs-lookup"><span data-stu-id="51d9a-149">As a result, you should not add values to the existing enumeration list for any of these fields.</span></span> <span data-ttu-id="51d9a-150">這些欄位包括：</span><span class="sxs-lookup"><span data-stu-id="51d9a-150">These fields are the following:</span></span>  
  
|<span data-ttu-id="51d9a-151">Standard</span><span class="sxs-lookup"><span data-stu-id="51d9a-151">Standard</span></span>|<span data-ttu-id="51d9a-152">欄位</span><span class="sxs-lookup"><span data-stu-id="51d9a-152">Field</span></span>|  
|--------------|-----------|  
|<span data-ttu-id="51d9a-153">X12 和 HIPAA</span><span class="sxs-lookup"><span data-stu-id="51d9a-153">X12 and HIPAA</span></span>|<span data-ttu-id="51d9a-154">ISA11 – 交換控制標準識別項</span><span class="sxs-lookup"><span data-stu-id="51d9a-154">ISA11 – Interchange Control Standards Identifier</span></span><br /><br /> <span data-ttu-id="51d9a-155">ISA12 – 交換控制版本號碼</span><span class="sxs-lookup"><span data-stu-id="51d9a-155">ISA12 – Interchange Control Version Number</span></span><br /><br /> <span data-ttu-id="51d9a-156">ISA14 – 要求認可</span><span class="sxs-lookup"><span data-stu-id="51d9a-156">ISA14 – Acknowledgment Requested</span></span>|  
|<span data-ttu-id="51d9a-157">EDIFACT</span><span class="sxs-lookup"><span data-stu-id="51d9a-157">EDIFACT</span></span>|<span data-ttu-id="51d9a-158">UNB1.1 – 語法識別項</span><span class="sxs-lookup"><span data-stu-id="51d9a-158">UNB1.1 – Syntax Identifier</span></span><br /><br /> <span data-ttu-id="51d9a-159">UNB1.2 – 語法版本號碼</span><span class="sxs-lookup"><span data-stu-id="51d9a-159">UNB1.2 – Syntax Version Number</span></span><br /><br /> <span data-ttu-id="51d9a-160">UNB9 – 通知要求</span><span class="sxs-lookup"><span data-stu-id="51d9a-160">UNB9 – Acknowledgment Request</span></span>|  
  
### <a name="to-customize-an-enumeration-in-the-envelope-schema"></a><span data-ttu-id="51d9a-161">在信封結構描述中自訂列舉</span><span class="sxs-lookup"><span data-stu-id="51d9a-161">To customize an enumeration in the envelope schema</span></span>  
  
1.  <span data-ttu-id="51d9a-162">在 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中建立新的專案。</span><span class="sxs-lookup"><span data-stu-id="51d9a-162">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], create a new project.</span></span>  
  
2.  <span data-ttu-id="51d9a-163">在 [BizTalk 編輯器] 中，將 [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI 中的 X12_ServiceSchemaExtension.xsd 結構描述 (若要修改 X12 或 HIPAA 列舉) 或 EDIFACT_ServiceSchemaExtension.xsd 結構描述新增至 BizTalk 專案。</span><span class="sxs-lookup"><span data-stu-id="51d9a-163">Add the X12_ServiceSchemaExtension.xsd schema (to modify X12 or HIPAA enums) or the EDIFACT_ServiceSchemaExtension.xsd schema in [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI to a BizTalk project in the BizTalk Editor.</span></span> <span data-ttu-id="51d9a-164">開啟結構描述。</span><span class="sxs-lookup"><span data-stu-id="51d9a-164">Open the schema.</span></span>  
  
3.  <span data-ttu-id="51d9a-165">若要變更列舉中的值，選取 [在列舉**屬性**] 窗格中，然後按一下省略符號以開啟**列舉型別編輯器**。</span><span class="sxs-lookup"><span data-stu-id="51d9a-165">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="51d9a-166">視需要加入至值的清單，確認都有一個值中的每一行**值**窗格。</span><span class="sxs-lookup"><span data-stu-id="51d9a-166">Add to the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="51d9a-167">按一下 **[確定]**。</span><span class="sxs-lookup"><span data-stu-id="51d9a-167">Click **OK**.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="51d9a-168">您無法變更服務結構描述的命名空間。</span><span class="sxs-lookup"><span data-stu-id="51d9a-168">You cannot change the namespace for the service schema.</span></span> <span data-ttu-id="51d9a-169">結構描述的命名空間和根節點名稱，應該與隨產品安裝的原始延伸模組結購描述相同。</span><span class="sxs-lookup"><span data-stu-id="51d9a-169">The schema should have the same namespace and root node name as the original extension schema installed with the product.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="51d9a-170">如果您原本是要將新欄位加入至結構描述中，則可能會忽略該欄位。</span><span class="sxs-lookup"><span data-stu-id="51d9a-170">If you were to add a new field to the schemas, that field would be ignored.</span></span> <span data-ttu-id="51d9a-171">中列出的欄位[信封欄位，才能修改](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can)可以變更上述一節。</span><span class="sxs-lookup"><span data-stu-id="51d9a-171">Only the fields listed in the [Envelope Fields That Can Be Modified](../core/customizing-enumerations-in-the-envelope-schema.md#BKMK_Env_Can) section above can be changed.</span></span>  
  
4.  <span data-ttu-id="51d9a-172">儲存結構描述。</span><span class="sxs-lookup"><span data-stu-id="51d9a-172">Save the schema.</span></span>  
  
5.  <span data-ttu-id="51d9a-173">以滑鼠右鍵按一下結構描述，然後按一下**部署**。</span><span class="sxs-lookup"><span data-stu-id="51d9a-173">Right-click the schema, and click **Deploy**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="51d9a-174">結構描述必須部署至目前的 BizTalk 群組中。</span><span class="sxs-lookup"><span data-stu-id="51d9a-174">The schema must be deployed in the current BizTalk group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51d9a-175">另請參閱</span><span class="sxs-lookup"><span data-stu-id="51d9a-175">See Also</span></span>  
 <span data-ttu-id="51d9a-176">[開發 EDI 結構描述](../core/developing-edi-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="51d9a-176">[Developing EDI Schemas](../core/developing-edi-schemas.md) </span></span>  
 [<span data-ttu-id="51d9a-177">修改 EDI 結構描述</span><span class="sxs-lookup"><span data-stu-id="51d9a-177">Modifying EDI Schemas</span></span>](../core/modifying-edi-schemas.md)