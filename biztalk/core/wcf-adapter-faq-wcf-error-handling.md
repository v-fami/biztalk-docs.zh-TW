---
title: "WCF 配接器 FAQ: WCF 錯誤處理 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fdbd1ea6-4898-415c-ac5e-f804565759a8
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: efbac0b7aaffd6121cba406031a8330cfd5bbf2c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="wcf-adapter-faq-wcf-error-handling"></a><span data-ttu-id="b1234-102">WCF 配接器 FAQ: WCF 錯誤處理</span><span class="sxs-lookup"><span data-stu-id="b1234-102">WCF Adapter FAQ: WCF Error Handling</span></span>
## <a name="how-do-the-wcf-adapters-handle-errors-and-soap-faults-during-message-processing"></a><span data-ttu-id="b1234-103">WCF 配接器如何處理錯誤和 SOAP 錯誤訊息處理期間？</span><span class="sxs-lookup"><span data-stu-id="b1234-103">How do the WCF adapters handle errors and SOAP faults during message processing?</span></span>  
 <span data-ttu-id="b1234-104">針對接收位置，您可以設定下的兩個錯誤處理選項的其中一個**錯誤處理**區段**訊息**索引標籤中**傳輸屬性**對話方塊方塊。</span><span class="sxs-lookup"><span data-stu-id="b1234-104">For a receive location, you can configure one of two error handling options under the **Error Handling** section on the **Messages** tab in the **Transport Properties** dialog box.</span></span>  
  
 <span data-ttu-id="b1234-105">如果**擱置失敗的要求訊息**選取選項，則會擱置內送要求訊息是否應該有接收管線中的處理失敗或路由訊息的失敗。</span><span class="sxs-lookup"><span data-stu-id="b1234-105">If the **Suspend request message on failure** option is selected, the incoming request message will be suspended should there be a processing failure in the receive pipeline or a failure in the routing of the message.</span></span> <span data-ttu-id="b1234-106">這可讓寄件者的訊息至 BizTalk Server 傳輸成功與接收通知 (ACK) 訊息。</span><span class="sxs-lookup"><span data-stu-id="b1234-106">This allows the sender of the message to succeed in their transmission to BizTalk Server and receive an acknowledgment (ACK) message.</span></span> <span data-ttu-id="b1234-107">BizTalk Server 會擱置訊息和記錄的失敗訊息的完整的錯誤記錄。</span><span class="sxs-lookup"><span data-stu-id="b1234-107">BizTalk Server will suspend the message and record a complete error record for the failed message.</span></span> <span data-ttu-id="b1234-108">不過，它也不會傳送訊息的例外狀況傳回給傳送者在此情況下。</span><span class="sxs-lookup"><span data-stu-id="b1234-108">However, it also does not send the message exception back to the sender in this case.</span></span> <span data-ttu-id="b1234-109">這適用於單向連接埠，並且會傳送通知，如果選取此選項，如果未選取將 NACK。</span><span class="sxs-lookup"><span data-stu-id="b1234-109">This applies to one-way ports only and will send an ACK if checked, and if unchecked will send a NACK.</span></span> <span data-ttu-id="b1234-110">雙向連接埠，如果處理失敗，BizTalk 將會永遠收到 NACK。</span><span class="sxs-lookup"><span data-stu-id="b1234-110">For two-way ports, if processing fails, BizTalk will always receive a NACK.</span></span>  
  
 <span data-ttu-id="b1234-111">不過，如果用戶端必須能夠存取失敗的例外狀況中，選取**錯誤中包含例外狀況詳細資料**選項。</span><span class="sxs-lookup"><span data-stu-id="b1234-111">However, if the client needs to have access to the failed exception, select the **Include exception details in faults** option.</span></span> <span data-ttu-id="b1234-112">選取時，這會傳回 SOAP 錯誤給呼叫者發生處理錯誤。</span><span class="sxs-lookup"><span data-stu-id="b1234-112">When selected, this returns a SOAP fault to the caller if a processing error occurs.</span></span> <span data-ttu-id="b1234-113">這等同於"IncludeExceptionDetailsInFaults"serviceDebug 行為指定為 True 上**行為**Wcf-custom 或 Wcf-customisolated 配接器 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="b1234-113">This is the same as specifying the serviceDebug behavior with “IncludeExceptionDetailsInFaults” to True on the **Behavior** tab of the WCF-Custom or WCF-CustomIsolated adapters.</span></span> <span data-ttu-id="b1234-114">詳細的例外狀況現在傳送到用戶端。</span><span class="sxs-lookup"><span data-stu-id="b1234-114">The detailed exception is now sent to the client.</span></span> <span data-ttu-id="b1234-115">這個選項會更實際且安全的作法是在比生產環境中的應用程式的開發期間使用，因為內部錯誤訊息最有可能不應傳送給服務的呼叫端。</span><span class="sxs-lookup"><span data-stu-id="b1234-115">This option is more practical and safer to use during development of an application than in production because the internal fault messages most likely should not be sent to callers of the service.</span></span>  
  
 <span data-ttu-id="b1234-116">針對雙向傳送埠，您可以選擇是否要透過將轉送入原始呼叫端的 SOAP 錯誤訊息為請求-回應傳送埠選取**傳播錯誤訊息**。</span><span class="sxs-lookup"><span data-stu-id="b1234-116">For the two-way send port, you can choose whether to forward SOAP fault messages on to the original caller over a solicit-response send port by selecting **Propagate fault message**.</span></span> <span data-ttu-id="b1234-117">如果未選取此選項，將第一次，產生的 NACK BizTalk Server，然後再擱置訊息。</span><span class="sxs-lookup"><span data-stu-id="b1234-117">If this option is not selected, BizTalk Server will generate a NACK first, and then suspend the message.</span></span> <span data-ttu-id="b1234-118">如果已選取，BizTalk Server 會將視為有效的 WCF 回應訊息的訊息從外部服務，將會暫止的回應訊息，因為它會傳播。</span><span class="sxs-lookup"><span data-stu-id="b1234-118">If it is selected, BizTalk Server will treat the message as a valid WCF response message from the external service and the response message will not be suspended because it is propagated.</span></span>  
  
## <a name="how-do-the-wcf-adapters-handle-message-transmission-timing-issues"></a><span data-ttu-id="b1234-119">WCF 配接器如何處理訊息傳輸的時間問題？</span><span class="sxs-lookup"><span data-stu-id="b1234-119">How do the WCF adapters handle message transmission timing issues?</span></span>  
 <span data-ttu-id="b1234-120">您可以使用來控制 WCF 配接器的時間問題**繫結**索引標籤中**傳輸屬性** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="b1234-120">You can control timing issues for the WCF adapters by using the **Binding** tab in the **Transport Properties** dialog box.</span></span> <span data-ttu-id="b1234-121">這些設定**開啟**，**傳送**，和**關閉等候逾時**。</span><span class="sxs-lookup"><span data-stu-id="b1234-121">These settings are **Open**, **Send**, and **Close Timeout**.</span></span> <span data-ttu-id="b1234-122">（還有您可以使用自訂配接器設定的接收逾時。）這些值分別為開啟、 傳送的通道和通道關閉 （和接收的自訂） 的時間才能完成作業。</span><span class="sxs-lookup"><span data-stu-id="b1234-122">(There is also a Receive time-out that you can set by using custom adapters.) These settings are respectively the time for a channel to open, send, and a channel to close (and receive for custom) operations to finish.</span></span> <span data-ttu-id="b1234-123">所有三個預設，為一分鐘的最小到最大 23:59 之間的期間。</span><span class="sxs-lookup"><span data-stu-id="b1234-123">All three default to one minute minimum to 23:59 maximum period.</span></span>