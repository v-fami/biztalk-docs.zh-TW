---
title: "主控件節流效能計數器 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: host throttling, performance counters
ms.assetid: b9090d1c-86be-40db-b814-cc116a426d95
caps.latest.revision: "22"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b823326a0cc486dcf3f95dc70a6249d4d719d133
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="host-throttling-performance-counters"></a><span data-ttu-id="a6ee3-102">主控件節流效能計數器</span><span class="sxs-lookup"><span data-stu-id="a6ee3-102">Host Throttling Performance Counters</span></span>
<span data-ttu-id="a6ee3-103">本節描述測量影響主控件節流之系統參數的效能監控計數器。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-103">This section describes the performance monitor counters that measure system parameters that impact host throttling.</span></span> <span data-ttu-id="a6ee3-104">下列效能計數器會在每個主控件執行個體可存取**biztalk： 訊息代理程式**效能物件類別：</span><span class="sxs-lookup"><span data-stu-id="a6ee3-104">The following performance counters are accessible for each host instance under the **BizTalk:Message Agent** performance object category:</span></span>  
  
|<span data-ttu-id="a6ee3-105">計數器</span><span class="sxs-lookup"><span data-stu-id="a6ee3-105">Counter</span></span>|<span data-ttu-id="a6ee3-106">Description</span><span class="sxs-lookup"><span data-stu-id="a6ee3-106">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="a6ee3-107">作用中執行個體計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-107">Active instance count</span></span>|<span data-ttu-id="a6ee3-108">記憶體中作用中的服務執行個體數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-108">Number of service instances active in memory.</span></span> <span data-ttu-id="a6ee3-109">對於協調流程引擎來說，服務執行個體指的是每個執行中的協調流程排程執行個體。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-109">For the orchestration engine, a service instance refers to each running instance of an orchestration schedule.</span></span> <span data-ttu-id="a6ee3-110">對於結束點管理員來說，服務執行個體可能是對應至單一無狀態的訊息或有狀態的訊息集合。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-110">For the End Point Manager, a service instance may either correspond to a single stateless message, or to a collection of stateful messages.</span></span> <span data-ttu-id="a6ee3-111">**注意：**可設定狀態的執行個體是保留的訊息執行個體相關聯的特定狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-111">**Note:**  Stateful instances are those that maintain certain state information about the messages associated with the instance.</span></span> <span data-ttu-id="a6ee3-112">屬於有狀態執行個體的訊息會以某種形式相互關聯。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-112">Messages belonging to a stateful instance are co-related in some form or the other.</span></span> <span data-ttu-id="a6ee3-113">例如，會維護排序資訊的已排序傳送埠即算是有狀態的執行個體。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-113">For example an ordered send port that maintains information about the ordering are considered stateful instances.</span></span> <span data-ttu-id="a6ee3-114">大部分的傳訊實例包含無狀態的執行個體，其中每個訊息都是完全獨立處理的。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-114">Most messaging scenarios involve stateless instances where messages are processed completely independent of each other.</span></span> <span data-ttu-id="a6ee3-115">每個這類的無狀態執行個體都會對應至 EPM 中的一個訊息。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-115">Each such stateless instance corresponds to a single message within the EPM.</span></span>|  
|<span data-ttu-id="a6ee3-116">資料庫工作階段</span><span class="sxs-lookup"><span data-stu-id="a6ee3-116">Database session</span></span>|<span data-ttu-id="a6ee3-117">使用的並行 MessageBox 資料庫連線數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-117">Number of concurrent MessageBox database connections being used.</span></span>|  
|<span data-ttu-id="a6ee3-118">資料庫工作階段閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-118">Database session threshold</span></span>|<span data-ttu-id="a6ee3-119">並行資料庫工作階段的目前閾值。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-119">The current threshold for concurrent database sessions.</span></span> <span data-ttu-id="a6ee3-120">這一開始會設定為**資料庫連接**值**資源型節流**索引標籤中**設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-120">This is initially set to the **Database connections** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="a6ee3-121">這個值會根據程序的資料庫工作階段使用量來自動調整。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-121">This value is auto-tuned based on the database session usage of the process.</span></span> <span data-ttu-id="a6ee3-122">若並行的資料庫工作階段數目超過此閾值，不論在任何時候，都會實作主控件節流。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-122">If the number of concurrent database sessions exceeds this threshold at any time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="a6ee3-123">資料庫大小</span><span class="sxs-lookup"><span data-stu-id="a6ee3-123">Database size</span></span>|<span data-ttu-id="a6ee3-124">此程序已發佈之資料庫佇列中的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-124">Number of messages in the database queues that this process has published.</span></span> <span data-ttu-id="a6ee3-125">這個值是由所有主控件的佇列表格中之項目數目以及多工緩衝處理與追蹤表格中的項目數目來測量。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-125">This value is measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span> <span data-ttu-id="a6ee3-126">若程序正發佈到多個佇列，則此計數器會反映所有佇列的加權平均值。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-126">If a process is publishing to multiple queues, this counter reflects the weighted average of all the queues.</span></span> <span data-ttu-id="a6ee3-127">**注意：**如果重新啟動主機時，保留在記憶體中的統計資料會遺失。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-127">**Note:**  If the host is restarted, statistics held in memory are lost.</span></span> <span data-ttu-id="a6ee3-128">由於此作業會造成部分負擔，因此發佈數目至少必須有 100 個，而且至少佔重新啟動主控件程序中發佈總數的 5%，BizTalk Server 才會繼續收集統計資料。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-128">Since there is some overhead involved, BizTalk Server will resume gathering statistics only when there are at least 100 publishes with 5% of the total publishes within the restarted host process.</span></span>|  
|<span data-ttu-id="a6ee3-129">高資料庫工作階段</span><span class="sxs-lookup"><span data-stu-id="a6ee3-129">High database session</span></span>|<span data-ttu-id="a6ee3-130">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-130">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-131">-1： 資料庫工作階段計數超過閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-131">-   1: Database session count exceeds threshold</span></span>|  
|<span data-ttu-id="a6ee3-132">高資料庫大小</span><span class="sxs-lookup"><span data-stu-id="a6ee3-132">High database size</span></span>|<span data-ttu-id="a6ee3-133">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-133">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-134">-1： 資料庫大小已成長超出閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-134">-   1: Database size has grown beyond threshold</span></span><br /><br /> <span data-ttu-id="a6ee3-135">此計數器將設定為其中一個值，如果任一個條件列出**訊息 DB 中的計數**臨界值，就會發生。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-135">This counter will be set to a value of one if either of the conditions listed for the **Message count in DB** threshold occurs.</span></span> <span data-ttu-id="a6ee3-136">[如何修改資源基礎節流設定](../core/how-to-modify-resource-based-throttling-settings.md)提供此節流臨界值的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-136">[How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md) provides information on this throttling threshold.</span></span>|  
|<span data-ttu-id="a6ee3-137">高內含式訊息計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-137">High in-process message count</span></span>|<span data-ttu-id="a6ee3-138">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-138">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-139">-1： 內含式訊息計數超過限制</span><span class="sxs-lookup"><span data-stu-id="a6ee3-139">-   1: In-process message count exceeds limit</span></span>|  
|<span data-ttu-id="a6ee3-140">高訊息傳遞速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-140">High message delivery rate</span></span>|<span data-ttu-id="a6ee3-141">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-141">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-142">-1： 訊息傳遞速率超過訊息處理速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-142">-   1: Message delivery rate exceeds the message processing Rate</span></span>|  
|<span data-ttu-id="a6ee3-143">高訊息發佈速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-143">High message publishing rate</span></span>|<span data-ttu-id="a6ee3-144">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-144">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-145">-1： 發佈要求速率超過完成速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-145">-   1: Publishing request rate exceeds completion rate</span></span>|  
|<span data-ttu-id="a6ee3-146">高程序記憶體</span><span class="sxs-lookup"><span data-stu-id="a6ee3-146">High process memory</span></span>|<span data-ttu-id="a6ee3-147">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-147">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-148">-1： 處理序記憶體超過閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-148">-   1: Process memory exceeds threshold</span></span>|  
|<span data-ttu-id="a6ee3-149">高系統記憶體</span><span class="sxs-lookup"><span data-stu-id="a6ee3-149">High system memory</span></span>|<span data-ttu-id="a6ee3-150">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-150">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-151">-1： 系統記憶體超過閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-151">-   1: System memory exceeds threshold</span></span>|  
|<span data-ttu-id="a6ee3-152">高執行緒計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-152">High thread count</span></span>|<span data-ttu-id="a6ee3-153">-0： 一般</span><span class="sxs-lookup"><span data-stu-id="a6ee3-153">-   0: Normal</span></span><br /><span data-ttu-id="a6ee3-154">-1： 執行緒計數超過閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-154">-   1: Thread count exceeds threshold</span></span>|  
|<span data-ttu-id="a6ee3-155">內含式訊息計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-155">In-process message count</span></span>|<span data-ttu-id="a6ee3-156">已傳遞到 XLANG 引擎或輸出傳訊引擎但尚未處理的記憶體中訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-156">Number of in-memory messages delivered to the XLANG engine or the outbound messaging engine that are not yet processed.</span></span>|  
|<span data-ttu-id="a6ee3-157">內含式訊息計數閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-157">In-process message count threshold</span></span>|<span data-ttu-id="a6ee3-158">內含式訊息計數目前的閾值。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-158">The current threshold for in-process message count.</span></span>|  
|<span data-ttu-id="a6ee3-159">訊息傳遞延遲 (ms)</span><span class="sxs-lookup"><span data-stu-id="a6ee3-159">Message delivery delay (ms)</span></span>|<span data-ttu-id="a6ee3-160">每個訊息傳遞批次的目前延遲 (以毫秒為單位) (適用於訊息傳遞正在進行節流)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-160">The current delay in ms imposed on each message delivery batch (applicable if the message delivery is being throttled).</span></span>|  
|<span data-ttu-id="a6ee3-161">訊息傳遞內送速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-161">Message delivery incoming rate</span></span>|<span data-ttu-id="a6ee3-162">在指定的範例間隔中，每秒傳遞到協調流程引擎或傳訊引擎的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-162">Number of messages per second that are being delivered to the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="a6ee3-163">訊息傳遞外寄速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-163">Message delivery outgoing rate</span></span>|<span data-ttu-id="a6ee3-164">在指定的範例間隔中，協調流程引擎或傳訊引擎每秒處理的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-164">Number of messages per second that are being processed by the Orchestration engine or the Messaging engine in the given sample interval.</span></span>|  
|<span data-ttu-id="a6ee3-165">訊息傳遞節流狀態</span><span class="sxs-lookup"><span data-stu-id="a6ee3-165">Message delivery throttling state</span></span>|<span data-ttu-id="a6ee3-166">指出系統是否正在進行訊息傳遞節流的一個旗標 (影響 XLANG 訊息處理及輸出傳輸)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-166">A flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span><br /><br /> <span data-ttu-id="a6ee3-167">-0： 未進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-167">-   0: Not throttling</span></span><br /><span data-ttu-id="a6ee3-168">-1： 由於不平衡的訊息傳遞速率而進行節流 （輸入的速率超過輸出速率）</span><span class="sxs-lookup"><span data-stu-id="a6ee3-168">-   1: Throttling due to imbalanced message delivery rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="a6ee3-169">-3： 節流由於高內含式訊息計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-169">-   3: Throttling due to high in-process message count</span></span><br /><span data-ttu-id="a6ee3-170">-4： 由於程序記憶體壓力而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-170">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="a6ee3-171">-5： 由於系統記憶體不足的壓力而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-171">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="a6ee3-172">-9： 由於高執行緒計數而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-172">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="a6ee3-173">-10： 由於使用者而進行節流傳遞覆寫</span><span class="sxs-lookup"><span data-stu-id="a6ee3-173">-   10: Throttling due to user override on delivery</span></span>|  
|<span data-ttu-id="a6ee3-174">訊息傳遞節流狀態持續時間</span><span class="sxs-lookup"><span data-stu-id="a6ee3-174">Message delivery throttling state duration</span></span>|<span data-ttu-id="a6ee3-175">系統進入此狀態後的秒數。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-175">Seconds since the system entered this state.</span></span> <span data-ttu-id="a6ee3-176">若主控件進行節流，指出進行節流的時間已有多久；若主控件未進行節流，則指出從上次進行節流到現在的時間已有多久。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-176">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="a6ee3-177">訊息傳遞節流使用者覆寫</span><span class="sxs-lookup"><span data-stu-id="a6ee3-177">Message delivery throttling user override</span></span>|<span data-ttu-id="a6ee3-178">此計數器會反映由引擎監控的使用者覆寫，解譯如下：</span><span class="sxs-lookup"><span data-stu-id="a6ee3-178">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="a6ee3-179">-0： 沒有覆寫</span><span class="sxs-lookup"><span data-stu-id="a6ee3-179">-   0: No override</span></span><br /><span data-ttu-id="a6ee3-180">-1： 一律對訊息傳遞節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-180">-   1: Always throttle message delivery</span></span><br /><span data-ttu-id="a6ee3-181">-2： 不要節流訊息傳遞</span><span class="sxs-lookup"><span data-stu-id="a6ee3-181">-   2: Do not throttle message delivery</span></span><br /><br /> <span data-ttu-id="a6ee3-182">此覆寫是可設定在**根據速率的節流**索引標籤中**設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-182">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="a6ee3-183">訊息發佈延遲 (ms)</span><span class="sxs-lookup"><span data-stu-id="a6ee3-183">Message publishing delay (ms)</span></span>|<span data-ttu-id="a6ee3-184">每個訊息發佈批次的目前延遲 (以毫秒為單位) (適用於訊息發佈正在進行節流，且批次必須進行節流時)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-184">The current delay in ms imposed on each message publishing batch (applicable if the message publishing is being throttled and if the batch is not exempted from throttling).</span></span>|  
|<span data-ttu-id="a6ee3-185">訊息發佈內送速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-185">Message publishing incoming rate</span></span>|<span data-ttu-id="a6ee3-186">在指定的範例間隔中，每秒傳送到資料庫進行發佈的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-186">Number of messages per second that are being sent to the database for publishing in the given sample interval.</span></span>|  
|<span data-ttu-id="a6ee3-187">訊息發佈外寄速率</span><span class="sxs-lookup"><span data-stu-id="a6ee3-187">Message publishing outgoing rate</span></span>|<span data-ttu-id="a6ee3-188">在指定的範例間隔中，資料庫中每秒實際發佈的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-188">Number of messages per second that are actually published in the database in the given sample interval.</span></span>|  
|<span data-ttu-id="a6ee3-189">訊息發佈節流狀態</span><span class="sxs-lookup"><span data-stu-id="a6ee3-189">Message publishing throttling state</span></span>|<span data-ttu-id="a6ee3-190">指出系統是否正在進行訊息發佈節流的一個旗標 (影響 XLANG 訊息處理及輸入傳輸)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-190">A flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).</span></span><br /><br /> <span data-ttu-id="a6ee3-191">-0： 未進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-191">-   0: Not throttling</span></span><br /><span data-ttu-id="a6ee3-192">-2： 由於不平衡的訊息發佈速率而進行節流 （輸入的速率超過輸出速率）</span><span class="sxs-lookup"><span data-stu-id="a6ee3-192">-   2: Throttling due to imbalanced message publishing rate (input rate exceeds output rate)</span></span><br /><span data-ttu-id="a6ee3-193">-4： 由於程序記憶體壓力而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-193">-   4: Throttling due to process memory pressure</span></span><br /><span data-ttu-id="a6ee3-194">-5： 由於系統記憶體不足的壓力而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-194">-   5: Throttling due to system memory pressure</span></span><br /><span data-ttu-id="a6ee3-195">-6： 由於資料庫成長而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-195">-   6: Throttling due to database growth</span></span><br /><span data-ttu-id="a6ee3-196">-8： 由於高工作階段計數而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-196">-   8: Throttling due to high session count</span></span><br /><span data-ttu-id="a6ee3-197">-9： 由於高執行緒計數而進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-197">-   9: Throttling due to high thread count</span></span><br /><span data-ttu-id="a6ee3-198">-11： 由於使用者而進行節流覆寫發佈</span><span class="sxs-lookup"><span data-stu-id="a6ee3-198">-   11: Throttling due to user override on publishing</span></span>|  
|<span data-ttu-id="a6ee3-199">訊息發佈節流狀態持續時間</span><span class="sxs-lookup"><span data-stu-id="a6ee3-199">Message publishing throttling state duration</span></span>|<span data-ttu-id="a6ee3-200">系統進入此狀態後的秒數。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-200">Seconds since the system entered this state.</span></span> <span data-ttu-id="a6ee3-201">若主控件進行節流，指出進行節流的時間已有多久；若主控件未進行節流，則指出從上次進行節流到現在的時間已有多久。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-201">If the host is throttling, how long it has been throttling; if it is not throttling, how long since throttling was applied.</span></span>|  
|<span data-ttu-id="a6ee3-202">訊息發佈節流使用者覆寫</span><span class="sxs-lookup"><span data-stu-id="a6ee3-202">Message publishing throttling user override</span></span>|<span data-ttu-id="a6ee3-203">此計數器會反映由引擎監控的使用者覆寫，解譯如下：</span><span class="sxs-lookup"><span data-stu-id="a6ee3-203">This counter reflects the user override that is monitored by the engine and interpreted as follows:</span></span><br /><br /> <span data-ttu-id="a6ee3-204">-0： 沒有覆寫</span><span class="sxs-lookup"><span data-stu-id="a6ee3-204">-   0: No override</span></span><br /><span data-ttu-id="a6ee3-205">-1： 一律對訊息發佈進行節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-205">-   1: Always throttle message publishing</span></span><br /><span data-ttu-id="a6ee3-206">-2： 不要將訊息發佈節流</span><span class="sxs-lookup"><span data-stu-id="a6ee3-206">-   2: Do not throttle message publishing</span></span><br /><br /> <span data-ttu-id="a6ee3-207">此覆寫是可設定在**根據速率的節流**索引標籤中**設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-207">This override is configurable in the **Rate-Based Throttling** tab in **Settings Dashboard**.</span></span>|  
|<span data-ttu-id="a6ee3-208">實體記憶體使用量 (MB)</span><span class="sxs-lookup"><span data-stu-id="a6ee3-208">Physical memory usage (MB)</span></span>|<span data-ttu-id="a6ee3-209">所有程序在電腦上使用的實體記憶體數量 (以 MB 為單位)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-209">The amount of physical memory in MB being used on the machine by all processes.</span></span>|  
|<span data-ttu-id="a6ee3-210">程序記憶體使用量 (MB)</span><span class="sxs-lookup"><span data-stu-id="a6ee3-210">Process memory usage (MB)</span></span>|<span data-ttu-id="a6ee3-211">程序記憶體的耗用量 (以 MB 為單位)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-211">The process memory consumption in MB.</span></span> <span data-ttu-id="a6ee3-212">這是程序工作組大小以及配置給程序分頁檔總空間的上限。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-212">This is the maximum of the process’s working set size and the total space allocated for the page file for the process.</span></span>|  
|<span data-ttu-id="a6ee3-213">程序記憶體使用量閾值 (MB)</span><span class="sxs-lookup"><span data-stu-id="a6ee3-213">Process memory usage threshold (MB)</span></span>|<span data-ttu-id="a6ee3-214">程序記憶體耗用量的目前閾值 (以 MB 為單位)。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-214">The current threshold for process memory consumption in MB.</span></span> <span data-ttu-id="a6ee3-215">這一開始會設定為**程序虛擬**值**設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-215">This is initially set to the **Process virtual** value in **Settings Dashboard**.</span></span> <span data-ttu-id="a6ee3-216">若已指定百分比值，就會根據可進行認可的可用記憶體來計算該值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-216">If a percentage value is specified, it is computed based on the available memory to commit</span></span>|  
|<span data-ttu-id="a6ee3-217">服務類別識別碼</span><span class="sxs-lookup"><span data-stu-id="a6ee3-217">Service class ID</span></span>|<span data-ttu-id="a6ee3-218">此效能計數器執行個體對應至的服務類別 GUID 開頭部分的十進位值。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-218">The decimal value of the initial part of the service class GUID that this performance counter instance corresponds to.</span></span> <span data-ttu-id="a6ee3-219">程序可能會裝載一個以上的服務類別，且訊息代理程式效能計數器會顯示最活躍之服務類別的資料。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-219">A process may host more than one service class and the message agent performance counters show the data for the most active service class.</span></span>|  
|<span data-ttu-id="a6ee3-220">執行緒計數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-220">Thread count</span></span>|<span data-ttu-id="a6ee3-221">程序中正在使用的執行緒數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-221">Number of threads being used within the process.</span></span>|  
|<span data-ttu-id="a6ee3-222">執行緒計數閾值</span><span class="sxs-lookup"><span data-stu-id="a6ee3-222">Thread count threshold</span></span>|<span data-ttu-id="a6ee3-223">程序中執行緒數目的目前閾值。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-223">The current threshold for the number of threads in the process.</span></span> <span data-ttu-id="a6ee3-224">這一開始會設定為**執行緒**值**資源型節流**索引標籤中**設定儀表板**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-224">This is initially set to the **Threads** value on the **Resource-Based Throttling** tab in **Settings Dashboard**.</span></span> <span data-ttu-id="a6ee3-225">這個值會根據目前程序的執行緒需求來自動調整。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-225">This value is auto-tuned depending on the thread requirements of the current process.</span></span> <span data-ttu-id="a6ee3-226">若程序中的執行緒數目超過此閾值，不論在任何時候，都會實作主控件節流。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-226">If the number of threads in the process exceeds this threshold value at any point in time, host throttling is implemented.</span></span>|  
|<span data-ttu-id="a6ee3-227">認可的總批次數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-227">Total batches committed</span></span>|<span data-ttu-id="a6ee3-228">服務類別已認可的資料庫批次數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-228">Number of database batches that the service class has committed.</span></span>|  
|<span data-ttu-id="a6ee3-229">傳遞的總訊息數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-229">Total messages delivered</span></span>|<span data-ttu-id="a6ee3-230">傳遞到協調流程引擎或結束點管理員 (EPM) 的輸出訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-230">Number of outbound messages delivered to the Orchestration engine or the End Point Manager (EPM).</span></span>|  
|<span data-ttu-id="a6ee3-231">已發佈的總訊息數</span><span class="sxs-lookup"><span data-stu-id="a6ee3-231">Total messages published</span></span>|<span data-ttu-id="a6ee3-232">已發佈的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-232">Number of messages published.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="a6ee3-233">**Biztalk： 訊息代理程式**效能計數器可供分析主控件節流行為的明確目的，因此不會擷取的資料除非指定的主機目前正在處理的文件。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-233">The **BizTalk:Message Agent** performance counters are provided for the explicit purpose of analyzing the throttling behavior of a host and therefore will not capture data unless the specified host is actively processing documents.</span></span> <span data-ttu-id="a6ee3-234">此行為是設計來防止在未發生節流活動時，耗用系統執行緒及效能監控器。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-234">This behavior is by design to prevent consuming system threads with performance monitor when throttling activities are not occurring.</span></span>  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="a6ee3-235">存取效能計數器</span><span class="sxs-lookup"><span data-stu-id="a6ee3-235">To access performance counters</span></span>  
 <span data-ttu-id="a6ee3-236">使用下列步驟來存取效能計數器。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-236">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="a6ee3-237">若是使用 Windows 2008</span><span class="sxs-lookup"><span data-stu-id="a6ee3-237">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="a6ee3-238">按一下**啟動**，指向 **系統管理工具**，然後按一下 **效能監視器**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-238">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="a6ee3-239">在**效能監視器**對話方塊方塊中，展開 **監視工具**，選取**效能監視器**，然後按一下 **新增**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-239">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="a6ee3-240">在**新增計數器**對話方塊中，從**可用的計數器**清單中，展開**biztalk： 訊息代理程式**效能計數器物件，然後選取要計數器監視。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-240">In the **Add Counters** dialog box, from the **Available Counters** list, expand the **BizTalk:Message Agent** performance counter object and select the counters to be monitored.</span></span>  
  
4.  <span data-ttu-id="a6ee3-241">在**選取執行個體的物件**清單中，選取要監視針對所選取計數器，然後按一下 特定的執行個體**新增**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-241">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="a6ee3-242">若要選取所有可用的計數器執行個體，請選取\<**所有執行個體**>。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-242">To select all available counter instances, select \<**All instances**>.</span></span>  
  
5.  <span data-ttu-id="a6ee3-243">新增計數器後, 按一下**確定**。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-243">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="a6ee3-244">選取的效能計數器隨即出現在**效能監視器**螢幕。</span><span class="sxs-lookup"><span data-stu-id="a6ee3-244">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6ee3-245">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a6ee3-245">See Also</span></span>  
 <span data-ttu-id="a6ee3-246">[節流設計建議](../core/throttling-design-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="a6ee3-246">[Throttling Design Recommendations](../core/throttling-design-recommendations.md) </span></span>  
 <span data-ttu-id="a6ee3-247">[BizTalk Server 如何實作主控件節流](../core/how-biztalk-server-implements-host-throttling.md) </span><span class="sxs-lookup"><span data-stu-id="a6ee3-247">[How BizTalk Server Implements Host Throttling](../core/how-biztalk-server-implements-host-throttling.md) </span></span>  
 [<span data-ttu-id="a6ee3-248">使用設定儀表板，以便讓 BizTalk Server 效能調整</span><span class="sxs-lookup"><span data-stu-id="a6ee3-248">Using Settings Dashboard for BizTalk Server Performance Tuning</span></span>](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)