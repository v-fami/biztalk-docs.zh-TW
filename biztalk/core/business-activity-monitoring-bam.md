---
title: 商務活動監控 (BAM) |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAM, tools
- utilities, Tracking Profile Deployment Utility
- BAM, deployment process
- BAM
- BAM, presentation layers
- BAM, Tracking Profile Deployment utility
- BAM, about BAM
- BAM, data storage
- BAM Management utility
- Tracking Profile Deployment utility
- BAM, runtime process
- BAM, design time
- BAM, data insertion
- BAM, data consumption
- BAM, BAM Management utility
- BAM, processing
ms.assetid: a8ad48b1-6891-4bbb-b125-27d224e49293
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 258294a8a51e6f8e80e360668123e522acf6ff15
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36972303"
---
# <a name="business-activity-monitoring-bam"></a><span data-ttu-id="11206-102">商務活動監控 (BAM)</span><span class="sxs-lookup"><span data-stu-id="11206-102">Business Activity Monitoring (BAM)</span></span>
<span data-ttu-id="11206-103">下圖說明商務活動監控 (BAM) 功能的架構。</span><span class="sxs-lookup"><span data-stu-id="11206-103">The following diagram illustrates the architecture for the Business Activity Monitoring (BAM) feature.</span></span>  
  
 <span data-ttu-id="11206-104">![](../core/media/architecture-bam-01.gif "architecture_bam_01")</span><span class="sxs-lookup"><span data-stu-id="11206-104">![](../core/media/architecture-bam-01.gif "architecture_bam_01")</span></span>  
  
## <a name="tools"></a><span data-ttu-id="11206-105">工具</span><span class="sxs-lookup"><span data-stu-id="11206-105">Tools</span></span>  
 <span data-ttu-id="11206-106">您可以使用下列工具來設計、開發及部署與 BAM 整合的 BizTalk 解決方案。</span><span class="sxs-lookup"><span data-stu-id="11206-106">You can use the following tools to design, develop, and deploy BizTalk solutions that integrate with BAM.</span></span>  
  
-   <span data-ttu-id="11206-107">**Microsoft Excel**。</span><span class="sxs-lookup"><span data-stu-id="11206-107">**Microsoft Excel**.</span></span> <span data-ttu-id="11206-108">Excel 的 BAM 增益集提供可在建立活動與檢視期間引導商務分析師的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="11206-108">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="11206-109">Excel 可做為商務分析師的設計工具以及商務使用者的資料取用工具。</span><span class="sxs-lookup"><span data-stu-id="11206-109">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="11206-110">適用於 Excel 的相關的 BAM 增益集資訊，請參閱[使用適用於 Excel 的 BAM 增益集需求](../core/requirements-for-using-the-bam-add-in-for-excel.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-110">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
-   <span data-ttu-id="11206-111">**BAM 管理公用程式**。</span><span class="sxs-lookup"><span data-stu-id="11206-111">**BAM Management Utility**.</span></span> <span data-ttu-id="11206-112">BAM 管理公用程式是一種可將建立在 Excel 的 BAM 定義部署到企業中的部署工具。</span><span class="sxs-lookup"><span data-stu-id="11206-112">The BAM Management Utility is a deployment tool that allows BAM definitions created in Excel to be deployed into the enterprise.</span></span> <span data-ttu-id="11206-113">BAM 管理公用程式會建立必要的 SQL Server 資料庫、Analysis Services Cube、SQL Notification Services 資料庫以及 DTS 或 SSIS 工作 (根據安裝的 SQL Server 不同版本而定)。</span><span class="sxs-lookup"><span data-stu-id="11206-113">The BAM Management Utility creates the necessary SQL Server databases, Analysis Services cubes, SQL Notification Services databases, and DTS or SSIS tasks (depending on which version of SQL Server is installed).</span></span> <span data-ttu-id="11206-114">如需 BAM 管理員的詳細資訊，請參閱 < [BAM 管理公用程式](../core/bam-management-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-114">For more information about the BAM Manager, see [BAM Management Utility](../core/bam-management-utility.md).</span></span>  
  
-   <span data-ttu-id="11206-115">**追蹤設定檔編輯器**。</span><span class="sxs-lookup"><span data-stu-id="11206-115">**Tracking Profile Editor**.</span></span> <span data-ttu-id="11206-116">追蹤設定檔編輯器可以讓 BizTalk 開發人員將商務分析師定義的資料項目對應到包含協調流程及傳訊的 BizTalk 實作。</span><span class="sxs-lookup"><span data-stu-id="11206-116">The Tracking Profile Editor enables BizTalk developers to map the data elements defined by business analysts into the BizTalk implementation including Orchestrations and Messaging.</span></span> <span data-ttu-id="11206-117">如需追蹤設定檔編輯器的詳細資訊，請參閱 < [Tracking Profile Editor](../core/tracking-profile-editor.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-117">For more information about the Tracking Profile Editor, see [Tracking Profile Editor](../core/tracking-profile-editor.md).</span></span>  
  
-   <span data-ttu-id="11206-118">**追蹤設定檔部署公用程式**。</span><span class="sxs-lookup"><span data-stu-id="11206-118">**Tracking Profile Deployment Utility**.</span></span> <span data-ttu-id="11206-119">追蹤設定檔部署公用程式可以讓 IT 專業人員將新的及更新的追蹤設定檔部署到 BAM 架構。</span><span class="sxs-lookup"><span data-stu-id="11206-119">The Tracking Profile Deployment Utility allows IT professionals to deploy new and updated tracking profiles to the BAM infrastructure.</span></span> <span data-ttu-id="11206-120">如需追蹤設定檔部署工具的詳細資訊，請參閱[追蹤設定檔部署公用程式](../core/tracking-profile-deployment-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-120">For more information about the Tracking Profile Deploy tool, see [Tracking Profile Deployment Utility](../core/tracking-profile-deployment-utility.md).</span></span>  
  
## <a name="presentation"></a><span data-ttu-id="11206-121">呈現方式</span><span class="sxs-lookup"><span data-stu-id="11206-121">Presentation</span></span>  
 <span data-ttu-id="11206-122">展示層由下列項目組成：</span><span class="sxs-lookup"><span data-stu-id="11206-122">The presentation layer consists of the following:</span></span>  
  
- <span data-ttu-id="11206-123">**BAM 入口網站**。</span><span class="sxs-lookup"><span data-stu-id="11206-123">**BAM Portal**.</span></span> <span data-ttu-id="11206-124">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中的 BAM 入口網站提供商務程序之即時、端對端的檢視。</span><span class="sxs-lookup"><span data-stu-id="11206-124">The BAM portal in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides real-time, end-to-end visibility into a business process.</span></span> <span data-ttu-id="11206-125">這是由 ASP.NET 網頁組成的 Web 型功能。</span><span class="sxs-lookup"><span data-stu-id="11206-125">It is a Web-based feature that consists of a collection of ASP.NET  pages.</span></span> <span data-ttu-id="11206-126">您可以自訂 BAM 來增強效能及使用者經驗。</span><span class="sxs-lookup"><span data-stu-id="11206-126">You can customize BAM to enhance the performance and experience for your users.</span></span> <span data-ttu-id="11206-127">如需有關 BAM 入口網站的詳細資訊，請參閱 < [BAM 入口網站](../core/bam-portal.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-127">For more information about the BAM Portal, see [BAM Portal](../core/bam-portal.md).</span></span>  
  
- <span data-ttu-id="11206-128">**Microsoft Excel**。</span><span class="sxs-lookup"><span data-stu-id="11206-128">**Microsoft Excel**.</span></span> <span data-ttu-id="11206-129">Excel 的 BAM 增益集提供可在建立活動與檢視期間引導商務分析師的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="11206-129">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="11206-130">Excel 可做為商務分析師的設計工具以及商務使用者的資料取用工具。</span><span class="sxs-lookup"><span data-stu-id="11206-130">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="11206-131">適用於 Excel 的相關的 BAM 增益集資訊，請參閱[使用適用於 Excel 的 BAM 增益集需求](../core/requirements-for-using-the-bam-add-in-for-excel.md)。</span><span class="sxs-lookup"><span data-stu-id="11206-131">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
- <span data-ttu-id="11206-132">**自訂使用者介面**。</span><span class="sxs-lookup"><span data-stu-id="11206-132">**Custom User Interface**.</span></span> <span data-ttu-id="11206-133">ISV 與開發人員可以建立顯示 BAM 資料的自訂應用程式</span><span class="sxs-lookup"><span data-stu-id="11206-133">ISV’s and developers can create custom applications that display BAM data</span></span>  
  
## <a name="processing"></a><span data-ttu-id="11206-134">Processing</span><span class="sxs-lookup"><span data-stu-id="11206-134">Processing</span></span>  
 <span data-ttu-id="11206-135">處理層由下列項目組成：</span><span class="sxs-lookup"><span data-stu-id="11206-135">The processing layer consists of the following:</span></span>  
  
- <span data-ttu-id="11206-136">**BAM 管理 Web 服務**。</span><span class="sxs-lookup"><span data-stu-id="11206-136">**BAM Management Web Service**.</span></span> <span data-ttu-id="11206-137">BAM 入口網站應用程式會使用此 Web 服務通訊與 BAM 主要匯入資料表 (PIT)。</span><span class="sxs-lookup"><span data-stu-id="11206-137">This Web service is used by the BAM Portal application to communicate with the BAM Primary Import Tables (PIT).</span></span> <span data-ttu-id="11206-138">與資料庫的通訊會使用儲存在登錄中的模擬認證 (在組態期間建立) 來執行。</span><span class="sxs-lookup"><span data-stu-id="11206-138">The communication with the database is done using impersonated credentials stored in the registry which is created during configuration.</span></span> <span data-ttu-id="11206-139">此 Web 服務所公開的方法可以自訂用戶端用來取得檢視其詳細資料、 相關的活動，以及樞紐分析表版面配置的任何使用者。</span><span class="sxs-lookup"><span data-stu-id="11206-139">Methods exposed by this Web service can be used by custom clients to get views and their details, related activities, and pivot table layouts for any user.</span></span> <span data-ttu-id="11206-140">這些方法也可以用來管理資料庫中的警示。</span><span class="sxs-lookup"><span data-stu-id="11206-140">They can also be used to manage alerts in the database.</span></span>  
  
- <span data-ttu-id="11206-141">**事件匯流排**。</span><span class="sxs-lookup"><span data-stu-id="11206-141">**Event Bus** .</span></span> <span data-ttu-id="11206-142">BAM 事件匯流排服務會處理儲存在來源資料庫的追蹤資料 (資料流)，並以查詢表格格式將該資料保存在目的資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-142">The BAM Event Bus Service processes tracking data (streams) stored in a source database and persists that data in a query table format in the destination database.</span></span>  
  
- <span data-ttu-id="11206-143">**SQL Notification Services**。</span><span class="sxs-lookup"><span data-stu-id="11206-143">**SQL Notification Services**.</span></span> <span data-ttu-id="11206-144">SQL Notification Services 會評估商務使用者定義的執行個體與彙總 BAM 警示。</span><span class="sxs-lookup"><span data-stu-id="11206-144">SQL Notification Services evaluates the Instance and Aggregate BAM alerts that are defined by the business user.</span></span>  
  
  <span data-ttu-id="11206-145">下圖說明 BAM 架構的基礎實體程序。</span><span class="sxs-lookup"><span data-stu-id="11206-145">The following diagram illustrates the underlying physical processes for the BAM architecture.</span></span>  
  
  <span data-ttu-id="11206-146">![](../core/media/architecture-bam-02.gif "architecture_bam_02")</span><span class="sxs-lookup"><span data-stu-id="11206-146">![](../core/media/architecture-bam-02.gif "architecture_bam_02")</span></span>  
  
## <a name="design-time-experience"></a><span data-ttu-id="11206-147">設計階段經驗</span><span class="sxs-lookup"><span data-stu-id="11206-147">Design time experience</span></span>  
 <span data-ttu-id="11206-148">下圖說明設計階段經驗。</span><span class="sxs-lookup"><span data-stu-id="11206-148">The following diagram illustrates the design time experience.</span></span>  
  
 <span data-ttu-id="11206-149">![](../core/media/architecture-bam-03.gif "architecture_bam_03")</span><span class="sxs-lookup"><span data-stu-id="11206-149">![](../core/media/architecture-bam-03.gif "architecture_bam_03")</span></span>  
  
 <span data-ttu-id="11206-150">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-150">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-151">追蹤設定檔編輯器會假設 BizTalk Server 已經設定，即至少已部署一個 BAM 定義 (使用 BM.exe)，且已建立包含主要匯入資料庫的架構。</span><span class="sxs-lookup"><span data-stu-id="11206-151">The Tracking Profile Editor assumes that BizTalk Server has been configured, that at least one BAM definition has already been deployed (using BM.exe), and that the infrastructure, including the Primary Import Database has been created.</span></span> <span data-ttu-id="11206-152">追蹤設定檔編輯器會使用在 BizTalk 組態期間設定的登錄機碼來決定管理資料庫的位置。</span><span class="sxs-lookup"><span data-stu-id="11206-152">The Tracking Profile Editor uses a registry key that is set during BizTalk configuration to determine where the Management database is located.</span></span>  
  
    1.  <span data-ttu-id="11206-153">一旦 BAM 探索到主要匯入資料庫時，就會列舉其中的活動。</span><span class="sxs-lookup"><span data-stu-id="11206-153">BAM enumerates the activities within the Primary Import Database once it is discovered.</span></span> <span data-ttu-id="11206-154">BizTalk 開發人員會選取從 BAM 主要匯入資料庫提取的部署活動。</span><span class="sxs-lookup"><span data-stu-id="11206-154">BizTalk developers select the deployed activities which get pulled from the BAM Primary Import database.</span></span>  
  
    2.  <span data-ttu-id="11206-155">BizTalk 開發人員藉由瀏覽從 BizTalk 管理資料庫擷取的已部署組件，將選取的活動對應到實體實作。</span><span class="sxs-lookup"><span data-stu-id="11206-155">The BizTalk developer maps this to a physical implementation by browsing the deployed assemblies retrieved from the BizTalk Management database.</span></span>  
  
    3.  <span data-ttu-id="11206-156">一旦開發人員以視覺化方式將活動對應到 BizTalk 成品時，中繼資料就會提交至 BizTalk Server 執行階段以收集並儲存資料。</span><span class="sxs-lookup"><span data-stu-id="11206-156">Once the developer has visually mapped this to the BizTalk artifacts, metadata is submitted to the BizTalk Server runtime to collect and store the data.</span></span> <span data-ttu-id="11206-157">這是透過註解 (用來解碼收集的資料之傳訊資訊) 與追蹤設定檔 (用來擷取執行階段資料) 來完成。</span><span class="sxs-lookup"><span data-stu-id="11206-157">This is done via annotations (for messaging information used to decode the collected data) and the tracking profile (used to retrieve the runtime data).</span></span>  
  
2.  <span data-ttu-id="11206-158">Microsoft Excel 可用來做為設計階段工具以及資料使用或展示工具。</span><span class="sxs-lookup"><span data-stu-id="11206-158">Microsoft Excel is used as both a design time tool and a data consumption or presentation tool.</span></span> <span data-ttu-id="11206-159">設計階段 Excel 經驗可以讓使用者藉由建立 BAM 活動與檢視來建構 BAM 定義。</span><span class="sxs-lookup"><span data-stu-id="11206-159">The design time Excel experience allows users to construct a BAM definition by creating BAM Activities and Views.</span></span> <span data-ttu-id="11206-160">它也可以讓您建立最後會顯示在 BAM 入口網站中的樞紐分析控制項與圖表。</span><span class="sxs-lookup"><span data-stu-id="11206-160">It also allows for the creation of the pivot controls and graphs that are ultimately displayed in the BAM portal.</span></span>  
  
## <a name="deployment"></a><span data-ttu-id="11206-161">部署</span><span class="sxs-lookup"><span data-stu-id="11206-161">Deployment</span></span>  
 <span data-ttu-id="11206-162">部署有兩個類別</span><span class="sxs-lookup"><span data-stu-id="11206-162">There are two categories of deployment</span></span>  
  
- <span data-ttu-id="11206-163">建置動態架構</span><span class="sxs-lookup"><span data-stu-id="11206-163">Building out the dynamic infrastructure</span></span>  
  
- <span data-ttu-id="11206-164">檢測執行階段以收集資料。</span><span class="sxs-lookup"><span data-stu-id="11206-164">Instrumenting the runtime to collect data.</span></span>  
  
  <span data-ttu-id="11206-165">下圖說明 BAM 部署。</span><span class="sxs-lookup"><span data-stu-id="11206-165">The following diagram illustrates BAM deployment.</span></span>  
  
  <span data-ttu-id="11206-166">![](../core/media/architecture-bam-04.gif "architecture_bam_04")</span><span class="sxs-lookup"><span data-stu-id="11206-166">![](../core/media/architecture-bam-04.gif "architecture_bam_04")</span></span>  
  
  <span data-ttu-id="11206-167">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-167">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-168">BAM 管理公用程式是用來建置動態架構。</span><span class="sxs-lookup"><span data-stu-id="11206-168">The BAM Management Utility is used to build out the dynamic infrastructure.</span></span> <span data-ttu-id="11206-169">使用 BAM 定義或設計階段 Excel 活頁簿以及 BAM 組態 XML 檔案，BAM 管理公用程式就可建置所有必要的資料庫以及系統運作所需的對應 DTS 或 SSIS 工作。</span><span class="sxs-lookup"><span data-stu-id="11206-169">Using the BAM definition or a design time Excel workbook plus the BAM Configuration XML file, the BAM Management Utility builds all the necessary databases and the corresponding DTS or SSIS tasks necessary for the system to operate.</span></span>  
  
    1.  <span data-ttu-id="11206-170">會建構 BAM 主要匯入資料庫與所有支援的預存程序、觸發程序以及 DTS 或 SSIS 工作。</span><span class="sxs-lookup"><span data-stu-id="11206-170">The BAM Primary Import database and all the supporting stored procedures, triggers, and DTS or SSIS tasks are constructed.</span></span>  
  
    2.  <span data-ttu-id="11206-171">在封存 DTS 或 SSIS 工作後，才會定義 BAM 封存資料庫，但不會建立該資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-171">The BAM Archive database is defined, but not created, until the Archiving DTS or SSIS task is executed.</span></span>  
  
    3.  <span data-ttu-id="11206-172">若 BAM OLAP 彙總已定義，則會建立 BAM 星狀結構描述資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-172">The BAM Star Schema database if BAM OLAP Aggregations were defined.</span></span> <span data-ttu-id="11206-173">您可以判斷是否是否已定義彙總**即時彙總**Excel 試算表中的按鈕會停用或**CreateOlapCube**設定為**true**中BAM 定義與組態 XML 檔案都有部署單位**AnalysisDatabase**。</span><span class="sxs-lookup"><span data-stu-id="11206-173">You can determine if aggregations have been defined if the **Real Time Aggregation** button in the Excel spreadsheet is disabled or the **CreateOlapCube** is set to **true** in the BAM Definition and the Configuration XML file has a Deployment Unit for **AnalysisDatabase**.</span></span>  
  
    4.  <span data-ttu-id="11206-174">BAM 定義與組態 XML 必須定義非 RTA 的彙總，以便建立 BAM OLAP Cube。</span><span class="sxs-lookup"><span data-stu-id="11206-174">The BAM Definition and Configuration XML have to have an Aggregation defined that is not an RTA in order for a BAM OLAP cube to be created.</span></span>  
  
    5.  <span data-ttu-id="11206-175">BAM 管理員程序的分解式檢視顯示已呼叫 Notification Services 程序 (nscontrol.exe) 以建立 SQL NS 資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-175">Exploded view of the BAM Manager process shows that the Notification Services process (nscontrol.exe) is called to create the SQL NS databases.</span></span>  
  
2.  <span data-ttu-id="11206-176">追蹤設定檔編輯器 UI 具有部署命令，可檢測執行階段以追蹤並解碼來自執行階段系統的資料。</span><span class="sxs-lookup"><span data-stu-id="11206-176">The Tracking Profile Editor UI has a deployment command which instruments the runtime to track and decode data from the runtime systems.</span></span> <span data-ttu-id="11206-177">在此情況下它會將推送**註解**到 BAM 主要匯入資料庫 （如果資料從傳訊系統提取）。</span><span class="sxs-lookup"><span data-stu-id="11206-177">In this case it pushes **annotations** into the BAM Primary Import database (if data is pulled from the messaging system).</span></span> <span data-ttu-id="11206-178">將追蹤設定檔插入 BizTalk 管理資料庫，BizTalk 執行階段會使用此資料庫來決定哪些資料要發佈到 BAM 系統。</span><span class="sxs-lookup"><span data-stu-id="11206-178">A tracking profile is inserted into the BizTalk Management database which is used by the BizTalk Runtime to determine what data to publish to the BAM system.</span></span>  
  
3.  <span data-ttu-id="11206-179">BizTalk 追蹤部署命令列工具允許追蹤設定檔發佈到 BAM 主要匯入資料庫與管理資料庫，這和追蹤設定檔編輯器所執行的工作類似；不過，命令列工具並不允許對應功能。</span><span class="sxs-lookup"><span data-stu-id="11206-179">The BizTalk Tracking Deployment command line tool allows Tracking Profiles to be published to the BAM Primary Import database and Management database, which is similar to what the Tracking Profile Editor does; however the command line tool does not allow mapping capabilities.</span></span>  
  
## <a name="data-consumption"></a><span data-ttu-id="11206-180">資料使用</span><span class="sxs-lookup"><span data-stu-id="11206-180">Data Consumption</span></span>  
 <span data-ttu-id="11206-181">資料使用指的是商務使用者使用 BAM 架構收集之資訊的程序。</span><span class="sxs-lookup"><span data-stu-id="11206-181">Data consumption refers to the process in which a business user consumes the information that the BAM infrastructure has collected.</span></span> <span data-ttu-id="11206-182">此時會假定 BAM 定義已建立 (定義應該收集的資料與檢視方式)、BAM 定義已部署 (動態建立架構) 以及 BAM 定義已對應到實體實作中 (定義收集資料的位置，在某些案例中會撰寫程式碼以推入系統)。</span><span class="sxs-lookup"><span data-stu-id="11206-182">It is assumed at this point, that the BAM definition has been created (defining what data to collect and how to view it), that the BAM definition has been deployed (dynamically creating the infrastructure), and that the BAM definition has been mapped to the physical implementation (defining where to collect the data, and in some cases writing code to push into the system).</span></span>  
  
 <span data-ttu-id="11206-183">下圖說明資料使用的程序。</span><span class="sxs-lookup"><span data-stu-id="11206-183">The following diagram illustrates the process of data consumption.</span></span>  
  
 <span data-ttu-id="11206-184">![](../core/media/architecture-bam-05.gif "architecture_bam_05")</span><span class="sxs-lookup"><span data-stu-id="11206-184">![](../core/media/architecture-bam-05.gif "architecture_bam_05")</span></span>  
  
 <span data-ttu-id="11206-185">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-185">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-186">BAM 入口網站會分為兩個程序：Internet Explorer 以及裝載在 Internet Information Services 中的 BAM Web 入口網站程序。</span><span class="sxs-lookup"><span data-stu-id="11206-186">The BAM portal is split out into two processes, Internet Explorer and the BAM Web portal process hosted in Internet Information Services.</span></span>  
  
    1.  <span data-ttu-id="11206-187">Internet Explorer 使用連接到 BAM 入口網站之商務使用者的安全性內容。</span><span class="sxs-lookup"><span data-stu-id="11206-187">Internet Explorer uses the security context of the business user connecting to the BAM Portal Web site.</span></span> <span data-ttu-id="11206-188">BAM 入口網站則是一種 ASPX 應用程式，使用 BAM 管理 Web 服務來收集資訊。</span><span class="sxs-lookup"><span data-stu-id="11206-188">The BAM Portal Web site is an ASPX application that uses the BAM Management Web Service to collect information.</span></span>  
  
    2.  <span data-ttu-id="11206-189">BAM 入口網站會呼叫 BAM 管理 Web 服務，以擷取如特定商務使用者可看見之 BAM 活動/檢視等資訊。</span><span class="sxs-lookup"><span data-stu-id="11206-189">The BAM Portal calls the BAM Management Web Service to retrieve information such as what BAM Activities/Views the particular business user can see.</span></span> <span data-ttu-id="11206-190">BAM 管理 Web 服務必須能夠模擬商務使用者，因此，一般的部署是將 BAM 入口網站和 Web 服務裝載在同一部電腦上。</span><span class="sxs-lookup"><span data-stu-id="11206-190">It is critical that the BAM Management Web Service is able to impersonate the business user, therefore, the typical deployment is the BAM Portal and the Web Service are hosted on the same machine</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="11206-191">若您的企業支援 Kerberos 且已設定 Active Directory 來支援委派，就可以將入口網站與 Web 服務放置在不同電腦上。</span><span class="sxs-lookup"><span data-stu-id="11206-191">If your enterprise supports Kerberos and Active Directory is set up to support delegation, it is possible that the Portal and Web Service can be located on different machines.</span></span>  
  
    3.  <span data-ttu-id="11206-192">Web 服務會呼叫 BAM 主要匯入中的預存程序來執行安全性檢查、擷取中繼資料以及擷取 BAM 即時彙總的資訊。</span><span class="sxs-lookup"><span data-stu-id="11206-192">The Web Service calls stored procedures in the BAM Primary Import to perform security checks, retrieve metadata, and retrieve information about BAM Real Time Aggregations.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="11206-193">目前 BAM 入口網站會使用未記載的 Web 服務，稱為**查詢 Web 服務**。</span><span class="sxs-lookup"><span data-stu-id="11206-193">Currently the BAM Portal uses an undocumented Web Service called the **Query Web Service**.</span></span> <span data-ttu-id="11206-194">並未支援此服務，且在下一版本中可能會被取代。</span><span class="sxs-lookup"><span data-stu-id="11206-194">This is not supported and will most likely be deprecated in the next release.</span></span>  
  
    4.  <span data-ttu-id="11206-195">Internet Explorer 裝載 Office Web 控制項 (OWC)，它會直接連接到 BAM Analysis Services Cube。</span><span class="sxs-lookup"><span data-stu-id="11206-195">Internet Explorer hosts the Office Web Controls (OWC) which makes direct connections to the BAM Analysis Services cubes.</span></span>  
  
2.  <span data-ttu-id="11206-196">[匯出]</span><span class="sxs-lookup"><span data-stu-id="11206-196">Excel</span></span>  
  
## <a name="runtime"></a><span data-ttu-id="11206-197">執行階段</span><span class="sxs-lookup"><span data-stu-id="11206-197">Runtime</span></span>  
 <span data-ttu-id="11206-198">定義 BAM 定義之後，也就已經建置架構，而開發人員也已檢測所需的系統，讓使用者可看見該系統，且資料可以開始在系統中流通。</span><span class="sxs-lookup"><span data-stu-id="11206-198">After the BAM Definition has been defined, the infrastructure has been built out, and the developer has instrumented the necessary systems to enable visibility, data can begin flowing through the system.</span></span>  
  
### <a name="data-insertion"></a><span data-ttu-id="11206-199">資料插入</span><span class="sxs-lookup"><span data-stu-id="11206-199">Data Insertion</span></span>  
 <span data-ttu-id="11206-200">資料流通至 BAM 系統的其中一個主要方式是透過 BizTalk 服務 (BTSNTSvc.exe)。</span><span class="sxs-lookup"><span data-stu-id="11206-200">One of the primary ways data flows into the BAM system is via the BizTalk Service (BTSNTSvc.exe).</span></span> <span data-ttu-id="11206-201">由於已架構 BizTalk 服務，因此它可包含邏輯子系統。</span><span class="sxs-lookup"><span data-stu-id="11206-201">The BizTalk Service is architected such that it can contain logical subsystems.</span></span>  
  
 <span data-ttu-id="11206-202">下圖說明此程序。</span><span class="sxs-lookup"><span data-stu-id="11206-202">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="11206-203">![](../core/media/architecture-bam-06.gif "architecture_bam_06")</span><span class="sxs-lookup"><span data-stu-id="11206-203">![](../core/media/architecture-bam-06.gif "architecture_bam_06")</span></span>  
  
 <span data-ttu-id="11206-204">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-204">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-205">一個子系統會裝載 BizTalk Server 引擎本身。</span><span class="sxs-lookup"><span data-stu-id="11206-205">One subsystem hosts the BizTalk Server engine itself.</span></span> <span data-ttu-id="11206-206">這個引擎負責執行協調流程及傳訊。</span><span class="sxs-lookup"><span data-stu-id="11206-206">The engine is responsible for executing orchestrations and messaging.</span></span>  
  
2.  <span data-ttu-id="11206-207">另一個子系統是事件匯流排服務。</span><span class="sxs-lookup"><span data-stu-id="11206-207">Another subsystem is the Event Bus Service.</span></span> <span data-ttu-id="11206-208">事件匯流排服務負責將緩衝事件資料流資料寫入 BAM 主要匯入資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-208">The Event Bus Service is responsible for writing Buffered Event Stream data into the BAM Primary Import database.</span></span>  
  
### <a name="booting-the-runtime"></a><span data-ttu-id="11206-209">啟動執行階段</span><span class="sxs-lookup"><span data-stu-id="11206-209">Booting the runtime</span></span>  
 <span data-ttu-id="11206-210">當 BizTalk 服務啟動時，每個子系統會載入可供子系統運作所需的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="11206-210">When the BizTalk Service starts, each subsystem loads metadata that is necessary for the subsystems to operate.</span></span>  
  
 <span data-ttu-id="11206-211">下圖說明此程序。</span><span class="sxs-lookup"><span data-stu-id="11206-211">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="11206-212">![](../core/media/architecture-bam-07.gif "architecture_bam_07")</span><span class="sxs-lookup"><span data-stu-id="11206-212">![](../core/media/architecture-bam-07.gif "architecture_bam_07")</span></span>  
  
 <span data-ttu-id="11206-213">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-213">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-214">當 BizTalk 引擎執行時 (協調流程或傳訊)，會呼叫攔截器，而該攔截器會調節從引擎進入 BAM 的資料流程。</span><span class="sxs-lookup"><span data-stu-id="11206-214">When the BizTalk Engine is executing (either orchestrations or messaging), it calls into interceptors which regulate the data flow from the engine into BAM.</span></span> <span data-ttu-id="11206-215">當引擎呼叫攔截器時，攔截器會分析與執行協調流程或傳訊成品順序相關的引擎位置。</span><span class="sxs-lookup"><span data-stu-id="11206-215">When the engine calls the interceptor, the interceptor analyzes where the engine is at in relation to the order of execution for the orchestration or messaging artifacts.</span></span> <span data-ttu-id="11206-216">若有需要從引擎目前執行的位置擷取資料，攔截器就會收集適當的資料。</span><span class="sxs-lookup"><span data-stu-id="11206-216">If there is data that needs to be retrieved from the location where the engine is currently executing, the interceptor gathers the appropriate data.</span></span> <span data-ttu-id="11206-217">判定需擷取資料的位置以及需要擷取哪些資料的中繼資料儲存在追蹤設定檔中。</span><span class="sxs-lookup"><span data-stu-id="11206-217">The metadata that determines where the data needs to be captured and what data needs to be captured is housed in the Tracking Profile.</span></span> <span data-ttu-id="11206-218">在啟動 BizTalk 服務期間，引擎的攔截器會連絡 BizTalk 管理資料庫，為正在執行的成品提取適當的追蹤設定檔。</span><span class="sxs-lookup"><span data-stu-id="11206-218">During booting of the BizTalk Service, the engine’s interceptors will contact the BizTalk Management database to pull the appropriate Tracking Profile for the artifacts being executed.</span></span>  
  
2.  <span data-ttu-id="11206-219">事件匯流排服務的主要功能是將資料 BLOB (由 BizTalk 引擎寫入) 轉換為可使用的資料項目，並將資料插入 BAM 主要匯入資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-219">The Event Bus Service's primary function is to convert data blobs (written by the BizTalk Engine) into usable data items and insert the data into the BAM Primary Import database.</span></span> <span data-ttu-id="11206-220">傳訊攔截器會以壓縮格式來撰寫原始資料。</span><span class="sxs-lookup"><span data-stu-id="11206-220">The messaging interceptor writes the raw data in a compressed form.</span></span> <span data-ttu-id="11206-221">這是為了避免大量的記憶體工作集。</span><span class="sxs-lookup"><span data-stu-id="11206-221">This is done to avoid a large memory working set.</span></span> <span data-ttu-id="11206-222">為了讓事件匯流排服務可將傳訊資料轉換為可使用的資料項目，事件匯流排服務必須先載入可解譯原始資料的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="11206-222">In order for the Event Bus Service to convert messaging data into usable data items, it must first load metadata that can interpret the raw data.</span></span> <span data-ttu-id="11206-223">此中繼資料就所謂**註解**。</span><span class="sxs-lookup"><span data-stu-id="11206-223">This metadata is known as **annotations**.</span></span> <span data-ttu-id="11206-224">會透過追蹤設定檔編輯器或命令列追蹤設定檔部署工具來放置註解中繼資料。</span><span class="sxs-lookup"><span data-stu-id="11206-224">The annotation metadata was put there via the Tracking Profile Editor or the command line Tracking Profile Deploy tool.</span></span> <span data-ttu-id="11206-225">若部署的解決方案未從傳訊中擷取資料，則不會有任何註解。</span><span class="sxs-lookup"><span data-stu-id="11206-225">If the solution deployed does not retrieve data from messaging there will not be any annotations.</span></span> <span data-ttu-id="11206-226">協調流程攔截器會以原始格式編碼足夠的資訊，讓事件匯流排服務能正確解碼，而不需擁有其他的註解。</span><span class="sxs-lookup"><span data-stu-id="11206-226">Orchestration interceptors encode enough information in the raw form for the Event Bus Service to properly decode without having additional annotations.</span></span>  
  
### <a name="storing-data"></a><span data-ttu-id="11206-227">儲存資料</span><span class="sxs-lookup"><span data-stu-id="11206-227">Storing data</span></span>  
 <span data-ttu-id="11206-228">本節討論從 BizTalk 服務擷取資料的方式。</span><span class="sxs-lookup"><span data-stu-id="11206-228">This section discusses how data is captured from the BizTalk Service.</span></span>  
  
 <span data-ttu-id="11206-229">下圖說明此程序。</span><span class="sxs-lookup"><span data-stu-id="11206-229">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="11206-230">![](../core/media/architecture-bam-08.gif "architecture_bam_08")</span><span class="sxs-lookup"><span data-stu-id="11206-230">![](../core/media/architecture-bam-08.gif "architecture_bam_08")</span></span>  
  
 <span data-ttu-id="11206-231">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-231">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-232">如前所述，BizTalk 引擎具有攔截器，而在執行協調流程及傳訊解決方案期間會呼叫此攔截器。</span><span class="sxs-lookup"><span data-stu-id="11206-232">The BizTalk engine, as described earlier, has interceptors that are called during runtime execution of orchestrations and messaging solutions.</span></span> <span data-ttu-id="11206-233">攔截器會根據追蹤設定檔資訊，判定應擷取哪些資料，然後以二進位格式將資料傳送到 BizTalk MessageBox。</span><span class="sxs-lookup"><span data-stu-id="11206-233">Based on the Tracking Profile information, the interceptors will determine what data to capture and then send it to the BizTalk MessageBox in a binary form.</span></span> <span data-ttu-id="11206-234">在執行階段期間，會擷取一個保存序列 BLOB 資料的 TrackingData 表格。</span><span class="sxs-lookup"><span data-stu-id="11206-234">There is a TrackingData table which holds serialized blob data captured during runtime.</span></span> <span data-ttu-id="11206-235">在處理期間，引擎會有多次需要儲存在執行期間保存在記憶體中的資料。</span><span class="sxs-lookup"><span data-stu-id="11206-235">During the processing, there are times when the engine needs to store data that it holds in memory during execution.</span></span> <span data-ttu-id="11206-236">這些時間稱為持續點，而引擎會決定這些點發生的時機。</span><span class="sxs-lookup"><span data-stu-id="11206-236">These are known as persistence points, and the engine decides when these points occur.</span></span> <span data-ttu-id="11206-237">當持續點發生時，從攔截器擷取的資料也會在同一個交易中排清及保存。</span><span class="sxs-lookup"><span data-stu-id="11206-237">When a persistence point happens, the data that was captured from the interceptors is also flushed and persisted within the same transaction.</span></span> <span data-ttu-id="11206-238">如此可確保引擎中的資料以及最後 BAM 中可看見的資料之一致性。</span><span class="sxs-lookup"><span data-stu-id="11206-238">This ensures the consistency of the data in the engine and ultimately what BAM can see.</span></span> <span data-ttu-id="11206-239">若發生失敗，則復原交易，且關聯的 BAM 資料也會復原。</span><span class="sxs-lookup"><span data-stu-id="11206-239">If a failure occurs and the transaction is rolled back, the associated BAM data will also be rolled back.</span></span>  
  
2.  <span data-ttu-id="11206-240">事件匯流排服務儲存在與引擎相同的可執行程序中。</span><span class="sxs-lookup"><span data-stu-id="11206-240">The Event Bus service is housed in the same executable process as the engine.</span></span> <span data-ttu-id="11206-241">服務會送出由 BTS 引擎儲存的 TrackingData 表格中之資料 (或任何 BufferedEventStream 資料來源)。</span><span class="sxs-lookup"><span data-stu-id="11206-241">The service feeds off of data in the TrackingData table stored by the BTS Engine (or any BufferedEventStream data source).</span></span> <span data-ttu-id="11206-242">此圖所示的組件 – Microsoft.BizTalk.Bam.EventObservation。</span><span class="sxs-lookup"><span data-stu-id="11206-242">The picture depicts an assembly – Microsoft.BizTalk.Bam.EventObservation.</span></span> <span data-ttu-id="11206-243">這個組件不會公開從 BufferedEventStream 擷取資料的方法。</span><span class="sxs-lookup"><span data-stu-id="11206-243">This assembly does not expose a method of retrieving the data from the BufferedEventStream.</span></span> <span data-ttu-id="11206-244">此程式碼儲存在事件匯流排服務本身。</span><span class="sxs-lookup"><span data-stu-id="11206-244">This code is housed in the Event Bus Service itself.</span></span> <span data-ttu-id="11206-245">會擷取資料然後準備儲存在主要匯入資料庫中。</span><span class="sxs-lookup"><span data-stu-id="11206-245">The data is retrieved and then prepared to be stored in the Primary Import database.</span></span> <span data-ttu-id="11206-246">大部分的情況下，二進位資料是序列化的.NET 物件會解除凍結之後的屬性會從物件移至格式化的 SQL 陳述式。</span><span class="sxs-lookup"><span data-stu-id="11206-246">For the most part, the binary data are serialized .NET objects which are rehydrated after which properties are moved from the object to formatted SQL statements.</span></span>  
  
3.  <span data-ttu-id="11206-247">儲存體的資料時，事件匯流排服務會嘗試大型批次。</span><span class="sxs-lookup"><span data-stu-id="11206-247">When storage of the data occurs, the Event Bus service attempts a large batch.</span></span> <span data-ttu-id="11206-248">批次包含呼叫由 BAM 管理部署工具產生的預存程序。</span><span class="sxs-lookup"><span data-stu-id="11206-248">The batch contains calls to stored procedures that were generated by the Bam Manager deployment tool.</span></span> <span data-ttu-id="11206-249">由於高度資料庫活動或其他缺少表格的狀況，批次儲存可能會失敗。</span><span class="sxs-lookup"><span data-stu-id="11206-249">Due to high database activity or other table locking circumstances, the batch storage could fail.</span></span> <span data-ttu-id="11206-250">若發生失敗，會繼續嘗試進行批次數次。</span><span class="sxs-lookup"><span data-stu-id="11206-250">In the event of a failure, the batch is tried a couple more times.</span></span> <span data-ttu-id="11206-251">若重試失敗，則會將批次分為較小的批次，然後再重試。</span><span class="sxs-lookup"><span data-stu-id="11206-251">If the retries fail, the batch is broken up into smaller batches and retried.</span></span> <span data-ttu-id="11206-252">若還是失敗，就會將批次移到 FailedTracking 表格。</span><span class="sxs-lookup"><span data-stu-id="11206-252">If this fails, the batch is moved to the FailedTracking table.</span></span>  
  
### <a name="custom-data-insertion"></a><span data-ttu-id="11206-253">自訂資料插入</span><span class="sxs-lookup"><span data-stu-id="11206-253">Custom data insertion</span></span>  
 <span data-ttu-id="11206-254">前一節示範了 BAM 如何從 BizTalk Server 主控件使用不同的方法擷取資料的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="11206-254">The previous section demonstrated the details of how BAM retrieves data from the BizTalk Server host using a variety of different methods.</span></span> <span data-ttu-id="11206-255">不直接使用追蹤設定檔編輯器來建立設定檔，但更直接地在程式碼中直接使用事件資料流方法。</span><span class="sxs-lookup"><span data-stu-id="11206-255">Indirectly using the Tracking Profile Editor to create a profile, and more directly using the Event Stream methods directly within code.</span></span> <span data-ttu-id="11206-256">不過，不是與 BAM 相關的所有資料都必須在 BizTalk 中。</span><span class="sxs-lookup"><span data-stu-id="11206-256">However, not all data relevant to BAM is necessarily available in BizTalk.</span></span> <span data-ttu-id="11206-257">因此，您可以使用一個組件來自訂所撰寫的應用程式。</span><span class="sxs-lookup"><span data-stu-id="11206-257">Therefore there is an assembly available to custom written applications.</span></span>  
  
 <span data-ttu-id="11206-258">下圖說明此程序。</span><span class="sxs-lookup"><span data-stu-id="11206-258">The following diagram illustrates this process.</span></span>  
  
 <span data-ttu-id="11206-259">![](../core/media/architecture-bam-09.gif "architecture_bam_09")</span><span class="sxs-lookup"><span data-stu-id="11206-259">![](../core/media/architecture-bam-09.gif "architecture_bam_09")</span></span>  
  
 <span data-ttu-id="11206-260">下列步驟描述上圖說明的順序。</span><span class="sxs-lookup"><span data-stu-id="11206-260">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="11206-261">自訂的應用程式必須能夠載入[Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx)組件存取的資料插入 BAM 活動中的 BAM 方法。</span><span class="sxs-lookup"><span data-stu-id="11206-261">The custom application must be able to load the [Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx) assembly to access the BAM methods of inserting data into a BAM Activity.</span></span> <span data-ttu-id="11206-262">其中公開兩個主要的類別，DirectEventStream 與 BufferedEventStream。</span><span class="sxs-lookup"><span data-stu-id="11206-262">There are two primary classes that are exposed, DirectEventStream and BufferedEventStream.</span></span> <span data-ttu-id="11206-263">在上圖中，DirectEventStream 類別以反白顯示。</span><span class="sxs-lookup"><span data-stu-id="11206-263">In the illustration above, the DirectEventStream class is highlighted.</span></span> <span data-ttu-id="11206-264">此類別會直接寫入主要匯入資料庫。</span><span class="sxs-lookup"><span data-stu-id="11206-264">This class writes directly to the Primary Import database.</span></span> <span data-ttu-id="11206-265">這是將資料寫入 BAM 活動最常用的方法。</span><span class="sxs-lookup"><span data-stu-id="11206-265">This is the most common method of writing data into a BAM activity.</span></span>  
  
2.  <span data-ttu-id="11206-266">與 BizTalk 儲存資料的方法類似，BufferedEventStream 類別會將二進位 BLOB 寫入非直接的資料庫中。</span><span class="sxs-lookup"><span data-stu-id="11206-266">Similar to the method in which BizTalk stores data, the BufferedEventStream class writes binary blobs into an indirect database.</span></span> <span data-ttu-id="11206-267">在此案例中，BizTalk MessageBox 用來做為中繼存放區。</span><span class="sxs-lookup"><span data-stu-id="11206-267">In this case, the BizTalk MessageBox is used as the intermediate store.</span></span> <span data-ttu-id="11206-268">您選擇的類別會根據不同的事項而定；但是效能仍然是主要的考量。</span><span class="sxs-lookup"><span data-stu-id="11206-268">Which class you choose depends on several things; however performance is a primary concern.</span></span> <span data-ttu-id="11206-269">BufferedEventStream 類別會將資料分為批次並維持較高的輸送量。</span><span class="sxs-lookup"><span data-stu-id="11206-269">The BufferedEventStream class will batch data and sustain higher throughput.</span></span> <span data-ttu-id="11206-270">缺點是不會立即寫入資料。</span><span class="sxs-lookup"><span data-stu-id="11206-270">The drawback is that the data is not written immediately.</span></span>  
  
3.  <span data-ttu-id="11206-271">如同插入資料的 BizTalk 方法，事件匯流排服務會處理二進位資料、解碼資料並在最後將它儲存在 BAM 主要匯入資料庫中。</span><span class="sxs-lookup"><span data-stu-id="11206-271">As with the BizTalk method of inserting data, the Event Bus Service will process the binary data, decode it, and ultimately store it within the BAM Primary Import database.</span></span> <span data-ttu-id="11206-272">這只需要透過 BufferedEventStream 類別將資料寫入即可。</span><span class="sxs-lookup"><span data-stu-id="11206-272">This is only required for data written via the BufferedEventStream class.</span></span>  
  
## <a name="distributed-navigation"></a><span data-ttu-id="11206-273">分散式瀏覽</span><span class="sxs-lookup"><span data-stu-id="11206-273">Distributed Navigation</span></span>  
 <span data-ttu-id="11206-274">BAM 入口網站的分散式導覽功能，能讓使用者檢視跨越遠端界限的活動關係。</span><span class="sxs-lookup"><span data-stu-id="11206-274">The BAM portal distributed navigation feature allows users to see activity relationships across remote boundaries.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="11206-275">另請參閱</span><span class="sxs-lookup"><span data-stu-id="11206-275">See Also</span></span>  
 [<span data-ttu-id="11206-276">管理與追蹤架構</span><span class="sxs-lookup"><span data-stu-id="11206-276">Management and Tracking Architecture</span></span>](../core/management-and-tracking-architecture.md)