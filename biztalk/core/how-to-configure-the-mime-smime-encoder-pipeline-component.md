---
title: 如何設定 MIME SMIME 編碼器管線元件 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, encrypting digital signatures
- pipeline components, MIME/SMIME Encoder
- Partner Management, security
- MIME/SMIME Encoder [pipeline component], configuring
- messages, encoding
- messages, multi-parts
ms.assetid: dcbb08e8-d300-4e7f-9c1c-907fb602e721
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9b0dbe61e79ba569313d3bccbbbbfdf053835042
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36991063"
---
# <a name="how-to-configure-the-mime-smime-encoder-pipeline-component"></a><span data-ttu-id="be500-102">如何設定 MIME SMIME 編碼器管線元件</span><span class="sxs-lookup"><span data-stu-id="be500-102">How to Configure the MIME-SMIME Encoder Pipeline Component</span></span>
<span data-ttu-id="be500-103">使用 MIME/SMIME 編碼器元件可編碼和解碼外寄訊息，並簽章外寄訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-103">Use the MIME/SMIME Encoder pipeline component to encode and encrypt outgoing messages and to sign outgoing messages.</span></span> <span data-ttu-id="be500-104">當您要求在 BizTalk Server 與外部夥伴之間進行安全文件交換時，這個元件十分有用。</span><span class="sxs-lookup"><span data-stu-id="be500-104">This component is useful when you require secured document interchange between BizTalk Server and external partners.</span></span> <span data-ttu-id="be500-105">您也可以使用此元件來傳送 BizTalk Server 多部分訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-105">You can also use this component to send BizTalk Server multi-part messages.</span></span>  

> [!NOTE]
>  <span data-ttu-id="be500-106">在 BizTalk 2006 中，MIME/SMIME 編碼器管線元件將不再具有原生 64 位元支援。</span><span class="sxs-lookup"><span data-stu-id="be500-106">In BizTalk 2006, the MIME/SMIME encoder pipeline component will not have native 64-bit support.</span></span>  <span data-ttu-id="be500-107">這表示，此元件必須在 32 位元模擬模式程序 (WOW64) 中執行。</span><span class="sxs-lookup"><span data-stu-id="be500-107">This means that this component must be run in a 32-bit emulation mode process (WOW64).</span></span>  <span data-ttu-id="be500-108">而這也暗示，在其中執行此編碼器元件的主控件執行個體 (或此元件為其一部分的傳送管線)，必須以 32 位元模擬模式執行。</span><span class="sxs-lookup"><span data-stu-id="be500-108">This implies that the host instance in which this encoder component (or the send pipeline of which it is a part) runs must be running in 32-bit emulation mode.</span></span>  <span data-ttu-id="be500-109">請注意，這項限制對於在此相同主控件執行個體中執行的其他 BizTalk 項目，也會有效能上 (或其他方面) 的暗示。</span><span class="sxs-lookup"><span data-stu-id="be500-109">Be aware of the performance (and other) implications of this restriction for other elements of BizTalk running in this same host instance.</span></span>  

### <a name="to-configure-the-properties-for-the-mimesmime-encoder-pipeline-component"></a><span data-ttu-id="be500-110">設定 MIME/SMIME 編碼器管線元件的屬性</span><span class="sxs-lookup"><span data-stu-id="be500-110">To configure the properties for the MIME/SMIME Encoder pipeline component</span></span>  

1. <span data-ttu-id="be500-111">將 MIME/SMIME 編碼器管線元件拖曳至接收管線的編碼階段中。</span><span class="sxs-lookup"><span data-stu-id="be500-111">Drag the MIME/SMIME Encoder pipeline component into the Encode stage of a send pipeline.</span></span>  

2. <span data-ttu-id="be500-112">在 [屬性] 視窗中，在**管線元件屬性**區段中，執行下列動作。</span><span class="sxs-lookup"><span data-stu-id="be500-112">In the Properties window, in the **Pipeline Component Properties** section, do the following.</span></span>  


   |             <span data-ttu-id="be500-113">使用</span><span class="sxs-lookup"><span data-stu-id="be500-113">Use this</span></span>             |                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="be500-114">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="be500-114">To do this</span></span>                                                                                                                                                                                                                                                                                                                               |
   |----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="be500-115">**新增簽章憑證至訊息**</span><span class="sxs-lookup"><span data-stu-id="be500-115">**Add Signing Cert To Message**</span></span>  |                                                                                                                                                                                                                    <span data-ttu-id="be500-116">如果**簽章類型**屬性不是**NoSign**，您可以選擇是否要設定將簽署的憑證加入至簽章的訊息**Add Signing Cert to 訊息**屬性。</span><span class="sxs-lookup"><span data-stu-id="be500-116">If the **Signature Type** property is not **NoSign**, you can select whether to add the signing certificate to the signed message by setting the **Add Signing Cert to Message** property.</span></span><br /><br /> <span data-ttu-id="be500-117">預設值： **，則為 True**</span><span class="sxs-lookup"><span data-stu-id="be500-117">Default value: **True**</span></span>                                                                                                                                                                                                                     |
   |    <span data-ttu-id="be500-118">**檢查撤銷清單**</span><span class="sxs-lookup"><span data-stu-id="be500-118">**Check revocation list**</span></span>     |                                                                                                                                                                                                                                                                   <span data-ttu-id="be500-119">指定在處理 SMIME 訊息時，是否檢查憑證撤銷清單。</span><span class="sxs-lookup"><span data-stu-id="be500-119">Specifies whether to check the certificate revocation list while processing a SMIME message.</span></span><br /><br /> <span data-ttu-id="be500-120">預設值： **，則為 True**</span><span class="sxs-lookup"><span data-stu-id="be500-120">Default value: **True**</span></span>                                                                                                                                                                                                                                                                    |
   |  <span data-ttu-id="be500-121">**內容轉移編碼**</span><span class="sxs-lookup"><span data-stu-id="be500-121">**Content transfer encoding**</span></span>   |                                                                                                                                                                                                                                                     <span data-ttu-id="be500-122">指出編碼格式。</span><span class="sxs-lookup"><span data-stu-id="be500-122">Indicates the encoding format.</span></span><br /><br /> <span data-ttu-id="be500-123">選項：Base64、QuotedPrintable、SevenBit、EightBit、Binary 和 UUEncode。</span><span class="sxs-lookup"><span data-stu-id="be500-123">Options: Base64, QuotedPrintable, SevenBit, EightBit, Binary, and UUEncode.</span></span><br /><br /> <span data-ttu-id="be500-124">預設值： **Base64**</span><span class="sxs-lookup"><span data-stu-id="be500-124">Default value: **Base64**</span></span>                                                                                                                                                                                                                                                      |
   |      <span data-ttu-id="be500-125">**啟用加密**</span><span class="sxs-lookup"><span data-stu-id="be500-125">**Enable encryption**</span></span>       |                                                                                                                                     <span data-ttu-id="be500-126">設定為 **，則為 True**如果您想要加密外寄訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-126">Set to **True** if you want to encrypt the outgoing message.</span></span> <span data-ttu-id="be500-127">如果啟用此選項時，使用者可以選取要藉由設定使用的加密演算法**加密演算法**屬性。</span><span class="sxs-lookup"><span data-stu-id="be500-127">If this option is enabled, the user can select the encryption algorithm to use by setting the **Encryption algorithm** property.</span></span> <span data-ttu-id="be500-128">針對訊息加密，MIME/SMIME 編碼器管線元件會使用與 BizTalk 總管相關聯的公開金鑰憑證。</span><span class="sxs-lookup"><span data-stu-id="be500-128">For message encryption, the MIME/SMIME Encoder pipeline component uses the public key certificate that is associated with a send port in BizTalk Explorer.</span></span><br /><br /> <span data-ttu-id="be500-129">預設值： **False**</span><span class="sxs-lookup"><span data-stu-id="be500-129">Default value: **False**</span></span>                                                                                                                                     |
   |     <span data-ttu-id="be500-130">**加密演算法**</span><span class="sxs-lookup"><span data-stu-id="be500-130">**Encryption algorithm**</span></span>     |                                                                            <span data-ttu-id="be500-131">定義加密演算法。</span><span class="sxs-lookup"><span data-stu-id="be500-131">Define the encryption algorithm.</span></span><br /><br /> <span data-ttu-id="be500-132">這個屬性只能設定，如果**啟用加密**設為 **，則為 True**。</span><span class="sxs-lookup"><span data-stu-id="be500-132">This property can only be set if **Enable encryption** is set to **True**.</span></span><br /><br /><span data-ttu-id="be500-133">**開頭[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]和較新版本**，AES 加密會自動包含。</span><span class="sxs-lookup"><span data-stu-id="be500-133">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] and newer versions**, AES encryption is automatically included.</span></span> <span data-ttu-id="be500-134">選項包括： DES3、 DES、 RC2、 AES128 （預設）、 AES192、 和 AES256。</span><span class="sxs-lookup"><span data-stu-id="be500-134">Options include: DES3, DES, RC2, AES128 (default), AES192, and AES256.</span></span><br /><br /><span data-ttu-id="be500-135">如先前[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]版本中，選項包括： DES3 （預設）、 DES、 RC2。</span><span class="sxs-lookup"><span data-stu-id="be500-135">For previous [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] versions, options include: DES3 (default), DES, RC2.</span></span>                                                                             |
   | <span data-ttu-id="be500-136">**以附件傳送內文部分**</span><span class="sxs-lookup"><span data-stu-id="be500-136">**Send body part as attachment**</span></span> |                                                                                                                                        <span data-ttu-id="be500-137">設定為 **，則為 True**如果您想要以 MIME 附件傳送 BizTalk 訊息內文合作對象。</span><span class="sxs-lookup"><span data-stu-id="be500-137">Set to **True** if you want to send the body party of a BizTalk message as a MIME attachment.</span></span><br /><br /> <span data-ttu-id="be500-138">預設值：**假****重要事項：** 不應該將此屬性設 **，則為 True**時 BizTalk Server 之間傳送的訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-138">Default value: **False** **Important:**  You should not set this property to **True** when sending messages between BizTalk Servers.</span></span> <span data-ttu-id="be500-139">否則，因為在接收端會將訊息解譯為兩部分訊息，所以訊息解密將會要求自訂編碼。</span><span class="sxs-lookup"><span data-stu-id="be500-139">Otherwise, the message decoding will require custom coding because the message is interpreted on the receive side as a two-part message.</span></span>                                                                                                                                        |
   |        <span data-ttu-id="be500-140">**簽章類型**</span><span class="sxs-lookup"><span data-stu-id="be500-140">**Signature Type**</span></span>        | <span data-ttu-id="be500-141">如果您想要簽章外寄訊息，請選取使用此屬性的簽章格式。</span><span class="sxs-lookup"><span data-stu-id="be500-141">If you want to sign the outgoing message, select a signing format with this property.</span></span> <span data-ttu-id="be500-142">此屬性具有三個值：</span><span class="sxs-lookup"><span data-stu-id="be500-142">This property has three values:</span></span><br /><br /> <span data-ttu-id="be500-143">-   **NoSign**。</span><span class="sxs-lookup"><span data-stu-id="be500-143">-   **NoSign**.</span></span> <span data-ttu-id="be500-144">不會簽章訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-144">The message will not be signed.</span></span><br /><span data-ttu-id="be500-145">-   **ClearSign**。</span><span class="sxs-lookup"><span data-stu-id="be500-145">-   **ClearSign**.</span></span> <span data-ttu-id="be500-146">簽章將會附加到訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-146">The signature will be appended to the message.</span></span> <span data-ttu-id="be500-147">**ClearSign**如果無法使用**啟用加密**設定為**True**。</span><span class="sxs-lookup"><span data-stu-id="be500-147">**ClearSign** cannot be used if **Enable Encryption** is set to **True**.</span></span><br /><span data-ttu-id="be500-148">-   **[Blobsign]**。</span><span class="sxs-lookup"><span data-stu-id="be500-148">-   **BlobSign**.</span></span> <span data-ttu-id="be500-149">簽章將會附加到訊息，而且會編碼訊息。</span><span class="sxs-lookup"><span data-stu-id="be500-149">The signature will be appended to the message and the message will be encoded.</span></span><br /><br /> <span data-ttu-id="be500-150">針對訊息簽章，MIME/SMIME 編碼器元件會使用與 [BizTalk 管理] 主控台中之 [BizTalk 群組] 相關聯的私密金鑰用戶端憑證。</span><span class="sxs-lookup"><span data-stu-id="be500-150">For message signing, the MIME/SMIME Encoder component uses the private key client certificate that is associated with BizTalk Group in the BizTalk Administration console.</span></span><br /><br /> <span data-ttu-id="be500-151">預設值： **NoSign**</span><span class="sxs-lookup"><span data-stu-id="be500-151">Default value: **NoSign**</span></span> |

   <span data-ttu-id="be500-152">若要設定 MIME 附件的檔案名稱，請使用**檔名**中的屬性**系統**訊息部分的命名空間。</span><span class="sxs-lookup"><span data-stu-id="be500-152">To set the file name for MIME attachments, use the **FileName** property in the **System** namespace for the message part.</span></span>  

## <a name="see-also"></a><span data-ttu-id="be500-153">另請參閱</span><span class="sxs-lookup"><span data-stu-id="be500-153">See Also</span></span>  
 <span data-ttu-id="be500-154">[MIME-SMIME 編碼器管線元件](../core/mime-smime-encoder-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="be500-154">[MIME-SMIME Encoder Pipeline Component](../core/mime-smime-encoder-pipeline-component.md) </span></span>  
 <span data-ttu-id="be500-155">[設定原生管線元件](../core/configuring-native-pipeline-components.md) </span><span class="sxs-lookup"><span data-stu-id="be500-155">[Configuring Native Pipeline Components](../core/configuring-native-pipeline-components.md) </span></span>  
 <span data-ttu-id="be500-156">[MIME-SMIME 屬性結構描述和屬性](../core/mime-smime-property-schema-and-properties.md) </span><span class="sxs-lookup"><span data-stu-id="be500-156">[MIME-SMIME Property Schema and Properties](../core/mime-smime-property-schema-and-properties.md) </span></span>  
 [<span data-ttu-id="be500-157">MIME (BizTalk Server 範例)</span><span class="sxs-lookup"><span data-stu-id="be500-157">MIME (BizTalk Server Sample)</span></span>](../core/mime-biztalk-server-sample.md)