---
title: 企業單一登入概觀 |Microsoft 文件
description: 閱讀有關 affilicate 應用程式，在 BizTalk Server 中使用以處理訊息，以及 adminster SSO 的 SSO 票證
ms.custom: ''
ms.date: 10/11/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d2aaab59-8cf7-4848-b71a-e7c8682dd3bd
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8f242e11e31de957fee0c6cbf228094f7e40010d
ms.sourcegitcommit: 5e6ef63416e8885a5ee91bd65618a842b3a0cc54
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/12/2017
ms.locfileid: "23129695"
---
# <a name="enterprise-single-sign-on-overview"></a><span data-ttu-id="25ba7-103">企業單一登入概觀</span><span class="sxs-lookup"><span data-stu-id="25ba7-103">Enterprise Single Sign-On Overview</span></span>
<span data-ttu-id="25ba7-104">依賴多個不同應用程式的商務程序可能必須跨多個不同的安全性網域。</span><span class="sxs-lookup"><span data-stu-id="25ba7-104">A business process that relies on several different applications may have to cross several different security domains.</span></span> <span data-ttu-id="25ba7-105">存取 Microsoft Windows 系統上的應用程式可能需要一組安全性認證，而存取 IBM 大型主機的應用程式可能需要不同的認證，如 RACF 使用者名稱及密碼。</span><span class="sxs-lookup"><span data-stu-id="25ba7-105">Accessing an application on a Microsoft Windows system may require one set of security credentials, while accessing an application on an IBM mainframe may require different credentials, such as an RACF username and password.</span></span> <span data-ttu-id="25ba7-106">使用者要處理這麼大量的認證十分不易，而且對於自動化程序會造成更大的難題。</span><span class="sxs-lookup"><span data-stu-id="25ba7-106">Dealing with this profusion of credentials is difficult for users, and it can be even harder for automated processes.</span></span> <span data-ttu-id="25ba7-107">若要解決這個問題，請[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]包含企業單一登入。</span><span class="sxs-lookup"><span data-stu-id="25ba7-107">To address this problem, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes Enterprise Single Sign-On.</span></span>  
  
 <span data-ttu-id="25ba7-108">不會混淆 — 這不是一套機制，可讓人擁有的所有應用程式的單一登入。</span><span class="sxs-lookup"><span data-stu-id="25ba7-108">Don’t be confused—this isn’t a mechanism that lets people have one login for all applications.</span></span> <span data-ttu-id="25ba7-109">而是「企業單一登入」提供一種方法，可以將 Windows 使用者識別碼對應至非 Windows 使用者認證。</span><span class="sxs-lookup"><span data-stu-id="25ba7-109">Instead, Enterprise Single Sign-On provides a way to map a Windows user ID to non-Windows user credentials.</span></span> <span data-ttu-id="25ba7-110">它不會解決所有組織的企業單一登入問題，但這項服務可以讓不同系統上使用應用程式的商務程序較為簡化。</span><span class="sxs-lookup"><span data-stu-id="25ba7-110">It does not solve all of an organization’s enterprise sign-on problems, but this service can make things simpler for business processes that use applications on diverse systems.</span></span>  
  
## <a name="create-affiliate-application-for-non-windows-systems"></a><span data-ttu-id="25ba7-111">建立非 Windows 系統的分支機構應用程式</span><span class="sxs-lookup"><span data-stu-id="25ba7-111">Create Affiliate Application for Non-Windows Systems</span></span>  
 <span data-ttu-id="25ba7-112">若要使用「企業單一登入」，系統管理員要定義分支機構應用程式，其中的每一個都代表非 Windows 系統或應用程式。</span><span class="sxs-lookup"><span data-stu-id="25ba7-112">To use Enterprise Single Sign-On, an administrator defines affiliate applications, each of which represents a non-Windows system or application.</span></span> <span data-ttu-id="25ba7-113">例如，分支機構應用程式可以是在 IBM 大型主機上執行的 CICS 應用程式、在 Unix 上執行的 SAP ERP 系統，或任何其他類型的軟體。</span><span class="sxs-lookup"><span data-stu-id="25ba7-113">For example, an affiliate application might be a CICS application running on an IBM mainframe, an SAP ERP system running on Unix, or any other kind of software.</span></span> <span data-ttu-id="25ba7-114">這些應用程式每一個都有自己的驗證機制，因此每一個都需要自己特有的認證。</span><span class="sxs-lookup"><span data-stu-id="25ba7-114">Each of these applications has its own mechanism for authentication, and so each requires its own unique credentials.</span></span>  
  
 <span data-ttu-id="25ba7-115">「企業單一登入」會在 SSO 資料庫中，儲存使用者的 Windows 使用者識別碼與其針對一或多個分支機構應用程式所擁有認證之間的對應。</span><span class="sxs-lookup"><span data-stu-id="25ba7-115">Enterprise Single Sign-On stores an encrypted mapping between a user’s Windows user ID and his credentials for one or more affiliate applications in an SSO database.</span></span> <span data-ttu-id="25ba7-116">當此使用者需要存取某個分支機構應用程式時，單一登入 (SSO) 伺服器就會在 SSO 資料庫中查詢該應用程式的認證。</span><span class="sxs-lookup"><span data-stu-id="25ba7-116">When this user needs to access an affiliate application, the credentials for that application can be looked up in the SSO database by a Single Sign-On (SSO) Server.</span></span> <span data-ttu-id="25ba7-117">下圖顯示作業方式。</span><span class="sxs-lookup"><span data-stu-id="25ba7-117">The diagram below shows how this works.</span></span>  
  
 ![](../core/media/understandingbts-11-esso.gif "UnderstandingBTS_11_ESSO")  
  
 <span data-ttu-id="25ba7-118">在此範例中，部分應用程式傳送至 BizTalk Server 的訊息是由協調流程處理的，然後傳送至在 IBM 大型主機上執行的分支機構應用程式。</span><span class="sxs-lookup"><span data-stu-id="25ba7-118">In this example, a message sent by some application to BizTalk Server is processed by an orchestration, then sent to an affiliate application running on an IBM mainframe.</span></span> <span data-ttu-id="25ba7-119">「企業單一登入」的工作是確定正確的認證 (也就是正確的使用者名稱和密碼) 在訊息傳送至分支機構應用程式時會一併傳送。</span><span class="sxs-lookup"><span data-stu-id="25ba7-119">The job of Enterprise Single Sign-On is to make sure that the correct credentials (that is., the right username and password) are sent with the message when it is passed to the affiliate application.</span></span>  
  
## <a name="message-processing-with-an-sso-ticket"></a><span data-ttu-id="25ba7-120">使用 SSO 票證的訊息處理</span><span class="sxs-lookup"><span data-stu-id="25ba7-120">Message Processing With an SSO Ticket</span></span>  
 <span data-ttu-id="25ba7-121">如圖所示，當接收配接器取得訊息時，配接器可從 SSO 伺服器 A (步驟 1) 要求 SSO 票證。</span><span class="sxs-lookup"><span data-stu-id="25ba7-121">As the diagram shows, when a receive adapter gets a message, the adapter can request an SSO ticket from SSO server A (step 1).</span></span> <span data-ttu-id="25ba7-122">這個加密票證包含發出要求及逾時之使用者的 Windows 識別。</span><span class="sxs-lookup"><span data-stu-id="25ba7-122">This encrypted ticket contains the Windows identity of the user that made the request and a timeout period.</span></span> <span data-ttu-id="25ba7-123">(不要與 Kerberos 票證混淆這個 — 這不是相同的動作。)取得票證之後，票證會當成屬性新增至內送訊息。</span><span class="sxs-lookup"><span data-stu-id="25ba7-123">(Don’t confuse this with a Kerberos ticket—it is not the same thing.) After the ticket is acquired, it is added as a property to the incoming message.</span></span> <span data-ttu-id="25ba7-124">訊息接下來會透過 BizTalk Server 引擎取得正常路徑，在此範例中表示由協調流程處理。</span><span class="sxs-lookup"><span data-stu-id="25ba7-124">The message then takes its normal path through the BizTalk Server engine, which in this example means it is handled by an orchestration.</span></span> <span data-ttu-id="25ba7-125">當此協調流程產生外寄訊息，訊息也會包含先前取得的 SSO 票證。</span><span class="sxs-lookup"><span data-stu-id="25ba7-125">When this orchestration generates an outgoing message, that message also contains the SSO ticket acquired earlier.</span></span>  
  
 <span data-ttu-id="25ba7-126">此新訊息是傳送至在 IBM 大型主機執行的應用程式，而且它必須包含該使用者的適當認證，才能存取該應用程式。</span><span class="sxs-lookup"><span data-stu-id="25ba7-126">This new message is destined for the application running on an IBM mainframe, and so it must contain the appropriate credentials for this user to access that application.</span></span> <span data-ttu-id="25ba7-127">若要取得這些認證，傳送配接器會連繫 SSO 伺服器 B (步驟 2)，提供剛收到的訊息 (包含 SSO 票證) 以及分支機構應用程式的名稱 (為其接收認證)。</span><span class="sxs-lookup"><span data-stu-id="25ba7-127">To get these credentials, the send adapter contacts SSO server B (step 2), supplying the message (which contains the SSO ticket) it just received and the name of the affiliate application it is trying to retrieve the credentials for.</span></span> <span data-ttu-id="25ba7-128">此作業稱為贖回 (Redemption)，會使得 SSO 伺服器 B 驗證 SSO 票證，然後為應用程式查詢此使用者的認證 (步驟 3)。</span><span class="sxs-lookup"><span data-stu-id="25ba7-128">This operation, called redemption, causes SSO server B to validate the SSO ticket, and then look up this user’s credentials for that application (step 3).</span></span> <span data-ttu-id="25ba7-129">SSO 伺服器 B 會將這些認證傳回傳送配接器 (步驟 4)，該步驟使用這些認證將適當的驗證訊息傳送到分支機構應用程式 (步驟 5)。</span><span class="sxs-lookup"><span data-stu-id="25ba7-129">SSO Server B returns those credentials to the send adapter (step 4), which uses them to send an appropriately-authenticated message to the affiliate application (step 5).</span></span>  
  
## <a name="administering-sso"></a><span data-ttu-id="25ba7-130">管理 SSO</span><span class="sxs-lookup"><span data-stu-id="25ba7-130">Administering SSO</span></span>  
 <span data-ttu-id="25ba7-131">「企業單一登入」還包括可執行各種作業的管理工具。</span><span class="sxs-lookup"><span data-stu-id="25ba7-131">Enterprise Single Sign-On also includes administration tools to perform various operations.</span></span> <span data-ttu-id="25ba7-132">在 SSO 資料庫上執行的所有作業都會接受稽核；例如，系統管理員可使用提供的工具，監視這些作業以及設定不同的稽核層次。</span><span class="sxs-lookup"><span data-stu-id="25ba7-132">All operations performed on the SSO database are audited, for example, so tools are provided that allow an administrator to monitor these operations and set various audit levels.</span></span> <span data-ttu-id="25ba7-133">系統管理員還可使用其他工具停用特定的分支機構應用程式、開啟和關閉使用者的個別對應，以及執行其他功能。</span><span class="sxs-lookup"><span data-stu-id="25ba7-133">Other tools allow an administrator to disable a particular affiliate application, turn on and off an individual mapping for a user, and perform other functions.</span></span> <span data-ttu-id="25ba7-134">還有一個用戶端公用程式，可以讓一般用者設定自己的認證和對應。</span><span class="sxs-lookup"><span data-stu-id="25ba7-134">There’s also a client utility that allows end users to configure their own credentials and mappings.</span></span> <span data-ttu-id="25ba7-135">和 BizTalk Server 的其他部分一樣，「企業單一登入」透過可設計程式的 API 公開它的服務。</span><span class="sxs-lookup"><span data-stu-id="25ba7-135">And like other parts of BizTalk Server, Enterprise Single Sign-On exposes its services through a programmable API.</span></span> <span data-ttu-id="25ba7-136">協力廠商 BizTalk Server 配接器的建立者使用此 API 存取單一登入服務，而系統管理員也可以用它來建立指令碼，將日常工作自動化。</span><span class="sxs-lookup"><span data-stu-id="25ba7-136">The creators of third-party BizTalk Server adapters use this API to access the single sign-on services, and administrators can use it to create scripts for automating common tasks.</span></span>  
  
 <span data-ttu-id="25ba7-137">上述範例顯示「企業單一登入」的一般用法，但是您也可以使用其他方法來設定 SSO。</span><span class="sxs-lookup"><span data-stu-id="25ba7-137">The example described above shows a typical use of Enterprise Single Sign-On, but SSO can be configured in other ways.</span></span> <span data-ttu-id="25ba7-138">例如，小型的 BizTalk Server 安裝可能只有一個 SSO 伺服器，可以從 BizTalk Server 引擎獨立使用「企業單一登入」。</span><span class="sxs-lookup"><span data-stu-id="25ba7-138">A smaller BizTalk Server installation may have only a single SSO server, for example, and it’s possible to use Enterprise Single Sign-On independently from the BizTalk Server engine.</span></span> <span data-ttu-id="25ba7-139">(這項技術也隨附於 Microsoft Host Integration Server)。</span><span class="sxs-lookup"><span data-stu-id="25ba7-139">(The technology also ships with Microsoft Host Integration Server.)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25ba7-140">另請參閱</span><span class="sxs-lookup"><span data-stu-id="25ba7-140">See Also</span></span>  
 <span data-ttu-id="25ba7-141">[BizTalk Server 傳訊引擎](../core/the-biztalk-server-messaging-engine.md) </span><span class="sxs-lookup"><span data-stu-id="25ba7-141">[The BizTalk Server Messaging Engine](../core/the-biztalk-server-messaging-engine.md) </span></span>  
 [<span data-ttu-id="25ba7-142">實作企業單一登入</span><span class="sxs-lookup"><span data-stu-id="25ba7-142">Implementing Enterprise Single Sign-On</span></span>](../core/implementing-enterprise-single-sign-on.md)
