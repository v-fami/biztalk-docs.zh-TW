---
title: 如何部署 BizTalk 組件從 Visual Studio |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 69d70c52-3e71-4eb2-876e-b467c7ca24b7
caps.latest.revision: 39
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 51895a80e3b0db50f9ee9061002506219943b823
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37010631"
---
# <a name="how-to-deploy-a-biztalk-assembly-from-visual-studio"></a><span data-ttu-id="d433b-102">如何從 Visual Studio 部署 BizTalk 組件</span><span class="sxs-lookup"><span data-stu-id="d433b-102">How to Deploy a BizTalk Assembly from Visual Studio</span></span>
<span data-ttu-id="d433b-103">本主題提供有關如何使用 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的「方案總管」或 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的命令提示字元，從 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 將 BizTalk 組件部署至 BizTalk 應用程式的指示。</span><span class="sxs-lookup"><span data-stu-id="d433b-103">This topic provides instructions on using [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer or the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] command prompt to deploy the BizTalk assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] into a BizTalk application.</span></span> <span data-ttu-id="d433b-104">您可以選擇從專案層級部署單一組件 (例如以滑鼠右鍵按一下專案，然後按一下 [部署])，或從方案層級同時部署方案中的所有組件 (例如以滑鼠右鍵按一下方案，然後按一下 [部署])，但強烈建議從方案層級同時部署所有組件。</span><span class="sxs-lookup"><span data-stu-id="d433b-104">Although you can deploy a single assembly from the project level (such as by right-clicking the project and clicking Deploy) or deploy all of the assemblies in the solution at once from the solution level (such as by right-clicking the solution and clicking Deploy), we strongly recommend deploying all of the assemblies at once from the solution level.</span></span>  
  
 <span data-ttu-id="d433b-105">與舊版[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，如果您想要部署方案中的多個組件，而且任何組件都相依於任何其他組件，您必須個別部署組件及其相依性的相反順序。</span><span class="sxs-lookup"><span data-stu-id="d433b-105">With previous versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], if you wanted to deploy a multiple assemblies in a solution, and any of the assemblies had a dependency on any of the other assemblies, you had to individually deploy the assemblies in the reverse order of their dependencies.</span></span> <span data-ttu-id="d433b-106">例如，如果組件 1 相依於組件 2，您必須先部署組件 2，接著才可以部署組件 1。</span><span class="sxs-lookup"><span data-stu-id="d433b-106">For example, if Assembly1 had a dependency on Assembly2, you had to deploy Assembly2 first, and then you could deploy Assembly1.</span></span>  
  
 <span data-ttu-id="d433b-107">現在當您從專案層級部署組件時，這個狀況仍然適用。</span><span class="sxs-lookup"><span data-stu-id="d433b-107">This is still the case when you deploy assemblies from the project level.</span></span> <span data-ttu-id="d433b-108">BizTalk server，不過，當您將部署從方案層級，而不是專案層級的組件[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]會自動處理所有的部署步驟，包括部署組件，以正確的順序。</span><span class="sxs-lookup"><span data-stu-id="d433b-108">With BizTalk Server, however, when you deploy assemblies from the solution level rather than the project level, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically takes care of all of the deployment steps, including deploying assemblies in the correct order.</span></span> <span data-ttu-id="d433b-109">因此，為了簡化部署，當另一個組件相依於正在部署的組件時，您應該在方案層級部署組件。</span><span class="sxs-lookup"><span data-stu-id="d433b-109">Therefore, to simplify deployment, when another assembly has a dependency on the assembly that you are deploying, you should deploy your assemblies at the solution level.</span></span>  
  
 <span data-ttu-id="d433b-110">當您選取此選項可部署專案或方案中的[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，組件或組件會自動建置及部署到本機 BizTalk 群組中指定的 BizTalk 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d433b-110">When you select the option to deploy a project or solution from within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], the assembly or assemblies are automatically built and deployed into the specified BizTalk application in the local BizTalk group.</span></span> <span data-ttu-id="d433b-111">如果應用程式尚未存在於群組中，則部署時也會建立該應用程式。</span><span class="sxs-lookup"><span data-stu-id="d433b-111">If the application does not already exist in the group, deployment also creates the application.</span></span> <span data-ttu-id="d433b-112">接著註冊組件及其所含成品，並且將其資料儲存在 BizTalk 群組的 BizTalk 管理 (組態) 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="d433b-112">The assemblies and the artifacts they contain are registered and their data stored in the BizTalk Management (configuration) database for the BizTalk group.</span></span> <span data-ttu-id="d433b-113">此外，如果在專案的部署屬性中指定相關選項，組件就會加入至全域組件快取 (GAC) 中。</span><span class="sxs-lookup"><span data-stu-id="d433b-113">In addition, if you specify this option in deployment properties for the project, the assemblies are added to the global assembly cache (GAC).</span></span>  
  
 <span data-ttu-id="d433b-114">「 成品 」 是 BizTalk 應用程式，包括您在中使用的資源所包含的任何項目[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]，例如組件和協調流程，以及您建立或部署應用程式之後再, 加入其他項目例如傳送和接收埠憑證和指令碼。</span><span class="sxs-lookup"><span data-stu-id="d433b-114">An "artifact" is any item included in a BizTalk application, including resources you work with in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], such as assemblies and orchestrations as well as other items you create or add later after deploying the application, such as send and receive ports, certificates, and scripts.</span></span> <span data-ttu-id="d433b-115">在部署組件之後，您可以檢視並管理其成品的應用程式 節點[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]主控台。</span><span class="sxs-lookup"><span data-stu-id="d433b-115">After the assembly has been deployed, you can view and manage its artifacts in the Applications node of [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)] console.</span></span> <span data-ttu-id="d433b-116">每個應用程式都會儲存在其專用資料夾中，並且子資料夾會顯示應用程式中的成品。</span><span class="sxs-lookup"><span data-stu-id="d433b-116">Each application is stored in its own folder, with subfolders displaying the artifacts in the application.</span></span> <span data-ttu-id="d433b-117">如需詳細資訊，請參閱 <<c0> [ 使用 BizTalk Server 管理主控台](../core/using-the-biztalk-server-administration-console.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-117">For more information, see [Using the BizTalk Server Administration Console](../core/using-the-biztalk-server-administration-console.md).</span></span> <span data-ttu-id="d433b-118">如需有關建立及管理應用程式的詳細資訊，請參閱 < [Deploying and Managing BizTalk Applications](../core/deploying-and-managing-biztalk-applications.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-118">For more information about creating and managing applications, see [Deploying and Managing BizTalk Applications](../core/deploying-and-managing-biztalk-applications.md).</span></span>  
  
 <span data-ttu-id="d433b-119">在部署組件之前，您必須執行下列步驟：</span><span class="sxs-lookup"><span data-stu-id="d433b-119">Before you deploy an assembly, you must take the following steps:</span></span>  
  
-   <span data-ttu-id="d433b-120">建立強式名稱組件金鑰檔案，並指派至每個專案，如中所述[如何設定強式名稱組件金鑰檔案](../core/how-to-configure-a-strong-name-assembly-key-file.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-120">Create a strong name assembly key file and assigned it to each project, as described in [How to Configure a Strong Name Assembly Key File](../core/how-to-configure-a-strong-name-assembly-key-file.md).</span></span>  
  
-   <span data-ttu-id="d433b-121">設定專案的部署屬性中所述[如何在 Visual Studio 中的 設定部署屬性](../core/how-to-set-deployment-properties-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-121">Set deployment properties for the project, as described in [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span>  
  
-   <span data-ttu-id="d433b-122">如果您先前已部署組件，請啟用專案的重新部署選項。</span><span class="sxs-lookup"><span data-stu-id="d433b-122">If you have previously deployed the assembly, enable the redeployment option for the project.</span></span> <span data-ttu-id="d433b-123">如需指示和重新部署的其他重要資訊，請參閱[如何重新部署 BizTalk 組件從 Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-123">For instructions and other important information about redeployment, see [How to Redeploy a BizTalk Assembly from Visual Studio](../core/how-to-redeploy-a-biztalk-assembly-from-visual-studio.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="d433b-124">絕對不要在實際執行電腦中執行本主題中說明的工作。</span><span class="sxs-lookup"><span data-stu-id="d433b-124">You should never perform the tasks described in this topic on a production computer.</span></span> <span data-ttu-id="d433b-125">在開發過程中，開發人員通常必須從 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 重新部署組件。</span><span class="sxs-lookup"><span data-stu-id="d433b-125">During the development process, the developer often must redeploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="d433b-126">若要啟用重新部署，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]可能解除部署、 解除繫結、 停止和取消登錄存在於相同或不同的應用程式的成品。</span><span class="sxs-lookup"><span data-stu-id="d433b-126">To enable the redeployment, [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] may undeploy, unbind, stop, and unenlist artifacts that exist in the same or different applications.</span></span> <span data-ttu-id="d433b-127">雖然這在開發環境中是必要且適當的動作，但卻可能在實際執行環境中造成無法預期的嚴重後果。</span><span class="sxs-lookup"><span data-stu-id="d433b-127">Although this is necessary and appropriate in the development environment, it can cause unexpected and undesired consequences in a production environment.</span></span> <span data-ttu-id="d433b-128">此外，為了避免任何人嘗試在實際執行電腦上從 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 部署組件的可能性，我們建議您不要在實際執行電腦上安裝 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d433b-128">In addition, to avoid the possibility of anyone's attempting to deploy an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer, we recommend that you not install [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="d433b-129">.NET Framework 執行階段安全性原則預設會防止從網路共用部署組件。</span><span class="sxs-lookup"><span data-stu-id="d433b-129">.NET Framework runtime security policy prevents deploying assemblies from a network share by default.</span></span> <span data-ttu-id="d433b-130">如果您嘗試從網路共用部署組件時遇到困難，請洽詢 .NET Framework 安全性系統管理員，或參閱 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 組合集合中的＜安全性原則管理＞。</span><span class="sxs-lookup"><span data-stu-id="d433b-130">If you attempt to deploy an assembly from a network share and experience difficulty, see your .NET Framework security administrator, or consult "Security Policy Management" in the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Combined Collection.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="d433b-131">必要條件</span><span class="sxs-lookup"><span data-stu-id="d433b-131">Prerequisites</span></span>  
 <span data-ttu-id="d433b-132">若要執行本主題中的程序，您必須記錄成員的帳戶[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]Administrators 群組。</span><span class="sxs-lookup"><span data-stu-id="d433b-132">To perform the procedures in this topic, you must be logged with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="d433b-133">如果在**部署**屬性，您已啟用的選項，將組件安裝到全域組件快取 (GAC)，則您也需要 GAC 的讀/寫權限。</span><span class="sxs-lookup"><span data-stu-id="d433b-133">If, in **Deployment** properties, you have enabled the option to install an assembly to the global assembly cache (GAC), then you also need Read/Write permissions on the GAC.</span></span> <span data-ttu-id="d433b-134">本機電腦上的「系統管理員」帳戶具有這項權限。</span><span class="sxs-lookup"><span data-stu-id="d433b-134">The Administrators account on the local computer has this permission.</span></span> <span data-ttu-id="d433b-135">如需詳細的權限的詳細資訊，請參閱[部署和管理 BizTalk 應用程式所需的權限](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)。</span><span class="sxs-lookup"><span data-stu-id="d433b-135">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
## <a name="to-deploy-a-biztalk-assembly-or-assemblies"></a><span data-ttu-id="d433b-136">若要部署 BizTalk 組件</span><span class="sxs-lookup"><span data-stu-id="d433b-136">To deploy a BizTalk assembly or assemblies</span></span>  
  
#### <a name="using-visual-studio-solution-explorer"></a><span data-ttu-id="d433b-137">使用 Visual Studio 方案總管</span><span class="sxs-lookup"><span data-stu-id="d433b-137">Using Visual Studio Solution Explorer</span></span>  
  
- <span data-ttu-id="d433b-138">在 [[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]方案總管] 中，以滑鼠右鍵按一下 BizTalk 專案或方案，然後**部署**。</span><span class="sxs-lookup"><span data-stu-id="d433b-138">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click a BizTalk project or solution, and then click **Deploy**.</span></span>  
  
   <span data-ttu-id="d433b-139">專案或方案中的組件就會部署到指定的 BizTalk 應用程式。</span><span class="sxs-lookup"><span data-stu-id="d433b-139">The assembly in the project or assemblies in the solution are deployed into the specified BizTalk application.</span></span> <span data-ttu-id="d433b-140">建置和部署程序的狀態會顯示在頁面左下角。</span><span class="sxs-lookup"><span data-stu-id="d433b-140">The status of the build and deployment process displays in the lower left corner of the page.</span></span>  
  
#### <a name="using-the-visual-studio-command-prompt"></a><span data-ttu-id="d433b-141">使用 Visual Studio 命令提示字元</span><span class="sxs-lookup"><span data-stu-id="d433b-141">Using the Visual Studio command prompt</span></span>  
  
1.  <span data-ttu-id="d433b-142">開始**Visual Studio 命令提示字元**。</span><span class="sxs-lookup"><span data-stu-id="d433b-142">Start **Visual Studio Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="d433b-143">輸入下列命令，並以適當的值替代，如下表所述：</span><span class="sxs-lookup"><span data-stu-id="d433b-143">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="d433b-144">**devenv /deploy***SolnConfigName* *SolutionName* [**/project** *ProjName*] [**//projectconfig** *ProjConfigName*]  </span><span class="sxs-lookup"><span data-stu-id="d433b-144">**devenv /deploy**  *SolnConfigName* *SolutionName* [**/project** *ProjName*] [**/projectconfig** *ProjConfigName*]</span></span>  
  
     <span data-ttu-id="d433b-145">範例</span><span class="sxs-lookup"><span data-stu-id="d433b-145">Example:</span></span>  
  
     <span data-ttu-id="d433b-146">**devenv / 部署發行"C:\Documents 和 Settings\someuser\My Documents\Visual Studio\Projects\MySolution\MySolution.sln"/ 專案 「 MyBizTalkApp\MyBizTalkApp.csproj"/projectconfig 版本**</span><span class="sxs-lookup"><span data-stu-id="d433b-146">**devenv /deploy Release "C:\Documents and Settings\someuser\My Documents\Visual Studio\Projects\MySolution\MySolution.sln" /project "MyBizTalkApp\MyBizTalkApp.csproj" projectconfig Release**</span></span>  
  
    |<span data-ttu-id="d433b-147">參數</span><span class="sxs-lookup"><span data-stu-id="d433b-147">Parameter</span></span>|<span data-ttu-id="d433b-148">ReplTest1</span><span class="sxs-lookup"><span data-stu-id="d433b-148">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="d433b-149">**/ 部署**</span><span class="sxs-lookup"><span data-stu-id="d433b-149">**/deploy**</span></span>|<span data-ttu-id="d433b-150">在建置或重建後部署解決方案。</span><span class="sxs-lookup"><span data-stu-id="d433b-150">Deploys a solution after a build or rebuild.</span></span>|  
    |<span data-ttu-id="d433b-151">*SolnConfigName*</span><span class="sxs-lookup"><span data-stu-id="d433b-151">*SolnConfigName*</span></span>|<span data-ttu-id="d433b-152">解決方案組態名稱，用來建置在 SolutionName 中命名的解決方案。</span><span class="sxs-lookup"><span data-stu-id="d433b-152">Name of the solution configuration that will be used to build the solution named in SolutionName.</span></span>|  
    |<span data-ttu-id="d433b-153">*SolutionName*</span><span class="sxs-lookup"><span data-stu-id="d433b-153">*SolutionName*</span></span>|<span data-ttu-id="d433b-154">解決方案檔案的完整路徑和名稱。</span><span class="sxs-lookup"><span data-stu-id="d433b-154">Full path and name of the solution file.</span></span>|  
    |<span data-ttu-id="d433b-155">**/project***ProjName* </span><span class="sxs-lookup"><span data-stu-id="d433b-155">**/project**  *ProjName*</span></span>|<span data-ttu-id="d433b-156">解決方案中專案檔的路徑和名稱。</span><span class="sxs-lookup"><span data-stu-id="d433b-156">Path and name of the project file within the solution.</span></span> <span data-ttu-id="d433b-157">您可以輸入從 SolutionName 資料夾到專案檔的相對路徑、專案的顯示名稱，或專案檔的完整路徑和名稱。</span><span class="sxs-lookup"><span data-stu-id="d433b-157">You can enter a relative path from the SolutionName folder to the project file, or the project's display name, or the full path and name of the project file.</span></span>|  
    |<span data-ttu-id="d433b-158">**/projectconfig***ProjConfigName* </span><span class="sxs-lookup"><span data-stu-id="d433b-158">**/projectconfig**  *ProjConfigName*</span></span>|<span data-ttu-id="d433b-159">要在建置專案時使用的專案建置組態名稱。</span><span class="sxs-lookup"><span data-stu-id="d433b-159">Name of a project build configuration to be used when building the project.</span></span>|  
  
     <span data-ttu-id="d433b-160">第一次部署包含協調流程的組件時，您可能會收到警告訊息，指出協調流程未包含在繫結檔案中。</span><span class="sxs-lookup"><span data-stu-id="d433b-160">The first time you deploy an assembly containing an orchestration, you may receive a warning message that the orchestration is not contained in the binding file.</span></span> <span data-ttu-id="d433b-161">這是因為部署時協調流程不會自動繫結至主控件，</span><span class="sxs-lookup"><span data-stu-id="d433b-161">This is because orchestrations are not automatically bound to the host upon deployment.</span></span> <span data-ttu-id="d433b-162">您必須手動執行此步驟。</span><span class="sxs-lookup"><span data-stu-id="d433b-162">You must perform this step manually.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d433b-163">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d433b-163">See Also</span></span>  
 [<span data-ttu-id="d433b-164">從 Visual Studio 將 BizTalk 組件部署到 BizTalk 應用程式</span><span class="sxs-lookup"><span data-stu-id="d433b-164">Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application</span></span>](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md)