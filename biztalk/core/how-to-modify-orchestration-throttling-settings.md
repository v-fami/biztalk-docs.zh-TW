---
title: 如何修改協調流程節流設定 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- Bts10.settings.HostOrchestration
ms.assetid: 30086994-cb55-4ff7-9940-df197e5e35ce
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6253259db8dbe01369d7928da5b76abc6e679609
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37013727"
---
# <a name="how-to-modify-orchestration-throttling-settings"></a><span data-ttu-id="0b018-102">如何修改協調流程節流設定</span><span class="sxs-lookup"><span data-stu-id="0b018-102">How to Modify Orchestration Throttling Settings</span></span>
<span data-ttu-id="0b018-103">您可以使用「BizTalk 設定儀表板」來修改 BizTalk 群組中指定主控件的協調流程節流組態設定。</span><span class="sxs-lookup"><span data-stu-id="0b018-103">Using the BizTalk Settings Dashboard, you can modify the orchestration throttling configuration settings of a given host, across the BizTalk Group.</span></span> <span data-ttu-id="0b018-104">這些設定會套用至指派給指定主控件的所有主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="0b018-104">These settings apply to all host instances assigned to the given host.</span></span> <span data-ttu-id="0b018-105">本主題提供修改這些設定的逐步程序。</span><span class="sxs-lookup"><span data-stu-id="0b018-105">This topic provides the step-by-step procedure to modify these settings.</span></span>  

 <span data-ttu-id="0b018-106">協調流程節流設定 中指定**btsntsvc.exe.config**檔案中，使協調流程耗用太多記憶體的限制，它可以有未處理的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="0b018-106">The orchestration throttling settings, specified in the **btsntsvc.exe.config** file, prevent an orchestration from consuming too much memory by limiting the number of outstanding messages it can have.</span></span> <span data-ttu-id="0b018-107">所有訊息會繼續傳遞至 MessageBox；不過，在協調流程處理一些未處理的訊息之前，已排入佇列的訊息不會傳遞至協調流程。</span><span class="sxs-lookup"><span data-stu-id="0b018-107">All messages continue to be delivered to the MessageBox; however, queued messages are not delivered to the orchestration until it processes some of its outstanding messages.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="0b018-108">必要條件</span><span class="sxs-lookup"><span data-stu-id="0b018-108">Prerequisites</span></span>  
 <span data-ttu-id="0b018-109">若要執行此作業，您必須以 BizTalk Server Administrators 群組的成員身分登入。</span><span class="sxs-lookup"><span data-stu-id="0b018-109">To perform this operation, you must be logged on as a member of the BizTalk Server Administrators group.</span></span>  

### <a name="to-modify-the-orchestrations-throttling-settings-of-a-host"></a><span data-ttu-id="0b018-110">修改主控件的協調流程節流設定</span><span class="sxs-lookup"><span data-stu-id="0b018-110">To modify the orchestrations throttling settings of a host</span></span>  

1. <span data-ttu-id="0b018-111">在  **BizTalk Server 管理主控台**，展開[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]，以滑鼠右鍵按一下**BizTalk 群組**，然後按一下**設定**。</span><span class="sxs-lookup"><span data-stu-id="0b018-111">In the **BizTalk Server Administration Console**, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], right-click **BizTalk Group**, and then click **Settings**.</span></span>  

2. <span data-ttu-id="0b018-112">在  **BizTalk 設定儀表板**對話方塊的 **主機**索引標籤上，按一下 **協調流程節流** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="0b018-112">In the **BizTalk Settings Dashboard** dialog box, on the **Hosts** tab, click the **Orchestrations Throttling** tab.</span></span>  

3. <span data-ttu-id="0b018-113">執行下列命令，，然後按一下**套用**以套用所做的修改，並前進到另一個索引標籤。或按一下**確定**以套用所做的修改並結束 設定儀表板。</span><span class="sxs-lookup"><span data-stu-id="0b018-113">Do the following, and then click **Apply** to apply the modifications and proceed to another tab. Or click **OK** to apply the modifications and exit the Settings Dashboard.</span></span>  


   |         <span data-ttu-id="0b018-114">使用</span><span class="sxs-lookup"><span data-stu-id="0b018-114">Use this</span></span>         |                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="0b018-115">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="0b018-115">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                |               <span data-ttu-id="0b018-116">界限值</span><span class="sxs-lookup"><span data-stu-id="0b018-116">Boundary values</span></span>               | <span data-ttu-id="0b018-117">預設值</span><span class="sxs-lookup"><span data-stu-id="0b018-117">Default value</span></span> | <span data-ttu-id="0b018-118">升級邏輯</span><span class="sxs-lookup"><span data-stu-id="0b018-118">Upgrade logic</span></span> |
   |--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|---------------|---------------|
   |         <span data-ttu-id="0b018-119">**主控件**</span><span class="sxs-lookup"><span data-stu-id="0b018-119">**Host**</span></span>         |                                                                                                                                                                                                                                                                                     <span data-ttu-id="0b018-120">從下拉式清單選取代表 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 執行階段執行個體的主控件。</span><span class="sxs-lookup"><span data-stu-id="0b018-120">From the drop-down list, select the host representing the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime instances.</span></span>                                                                                                                                                                                                                                                                                     |                      -                      |       -       |       -       |
   | <span data-ttu-id="0b018-121">**凍結行為**</span><span class="sxs-lookup"><span data-stu-id="0b018-121">**Dehydration behavior**</span></span> | <span data-ttu-id="0b018-122">選取協調流程 (XLANG) 引擎的凍結行為。</span><span class="sxs-lookup"><span data-stu-id="0b018-122">Select the dehydration behavior of the orchestration (XLANG) engine.</span></span> <span data-ttu-id="0b018-123">請注意，只有在您選取「自訂」時才可編輯其他 XLANG 設定。</span><span class="sxs-lookup"><span data-stu-id="0b018-123">Note that the other XLANG settings are editable only if you select “Custom”.</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0b018-124"> 會使用凍結屬性決定何時凍結和解除凍結協調流程。</span><span class="sxs-lookup"><span data-stu-id="0b018-124"> uses the dehydration properties to decide when to dehydrate and rehydrate orchestrations.</span></span> <span data-ttu-id="0b018-125">在正常負載下，預設的凍結值就足夠，但在負載過重時，若要變更效能特性，您應該調整設定值。</span><span class="sxs-lookup"><span data-stu-id="0b018-125">Under normal load, the default dehydration values are sufficient, but if you are running under heavy load and want to change the performance characteristics, you should tune the values.</span></span> <span data-ttu-id="0b018-126">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的凍結行為主要取決於可用和使用中的記憶體數量。</span><span class="sxs-lookup"><span data-stu-id="0b018-126">The dehydration behavior of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] depends entirely on how much memory is available and how much memory is being used.</span></span> | <span data-ttu-id="0b018-127">永遠</span><span class="sxs-lookup"><span data-stu-id="0b018-127">Always</span></span><br /><br /> <span data-ttu-id="0b018-128">永不</span><span class="sxs-lookup"><span data-stu-id="0b018-128">Never</span></span><br /><br /> <span data-ttu-id="0b018-129">Custom</span><span class="sxs-lookup"><span data-stu-id="0b018-129">Custom</span></span> |    <span data-ttu-id="0b018-130">Custom</span><span class="sxs-lookup"><span data-stu-id="0b018-130">Custom</span></span>     |       -       |

    <span data-ttu-id="0b018-131">**以時間為基礎**</span><span class="sxs-lookup"><span data-stu-id="0b018-131">**Time Based**</span></span>  

   |<span data-ttu-id="0b018-132">使用</span><span class="sxs-lookup"><span data-stu-id="0b018-132">Use this</span></span>|<span data-ttu-id="0b018-133">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="0b018-133">To do this</span></span>|<span data-ttu-id="0b018-134">界限值</span><span class="sxs-lookup"><span data-stu-id="0b018-134">Boundary values</span></span>|<span data-ttu-id="0b018-135">預設值</span><span class="sxs-lookup"><span data-stu-id="0b018-135">Default value</span></span>|<span data-ttu-id="0b018-136">升級邏輯</span><span class="sxs-lookup"><span data-stu-id="0b018-136">Upgrade logic</span></span>|  
   |--------------|----------------|---------------------|-------------------|-------------------|  
   |<span data-ttu-id="0b018-137">**最大閾值**</span><span class="sxs-lookup"><span data-stu-id="0b018-137">**Maximum threshold**</span></span>|<span data-ttu-id="0b018-138">指定無法被凍結之前封鎖協調流程執行個體的最大閒置時間。</span><span class="sxs-lookup"><span data-stu-id="0b018-138">Specify the maximum idle time an orchestration instance could be blocked before being dehydrated.</span></span>|<span data-ttu-id="0b018-139">(閾值下限 – 整數類型的最大值]</span><span class="sxs-lookup"><span data-stu-id="0b018-139">(MinThreshold – Maximum value of type Integer]</span></span>|<span data-ttu-id="0b018-140">1800 秒</span><span class="sxs-lookup"><span data-stu-id="0b018-140">1800 sec</span></span>|-|  
   |<span data-ttu-id="0b018-141">**最小臨界值**</span><span class="sxs-lookup"><span data-stu-id="0b018-141">**Minimum threshold**</span></span>|<span data-ttu-id="0b018-142">指定的最短的閒置時間，協調流程執行個體在被凍結之前可以被封鎖。</span><span class="sxs-lookup"><span data-stu-id="0b018-142">Specify the minimum idle time an orchestration instance could be blocked before being dehydrated.</span></span>|<span data-ttu-id="0b018-143">[1 – 整數類型的最大值)</span><span class="sxs-lookup"><span data-stu-id="0b018-143">[1 – Maximum value of type Integer)</span></span>|<span data-ttu-id="0b018-144">1 秒</span><span class="sxs-lookup"><span data-stu-id="0b018-144">1 sec</span></span>|-|  
   |<span data-ttu-id="0b018-145">**訂閱**</span><span class="sxs-lookup"><span data-stu-id="0b018-145">**Subscriptions**</span></span>|<span data-ttu-id="0b018-146">選取此選項，以手動設定訂閱的 [暫停於] 與 [繼續於] 值。</span><span class="sxs-lookup"><span data-stu-id="0b018-146">Select this option to manually set the ‘pause at’ and ‘resume at’ values for a subscription.</span></span> <span data-ttu-id="0b018-147">根據預設，系統在執行階段期間會處理訂閱。</span><span class="sxs-lookup"><span data-stu-id="0b018-147">By default, the system takes care of the subscriptions at runtime.</span></span>|<span data-ttu-id="0b018-148">開啟、關閉</span><span class="sxs-lookup"><span data-stu-id="0b018-148">On, Off</span></span>|<span data-ttu-id="0b018-149">關閉</span><span class="sxs-lookup"><span data-stu-id="0b018-149">Off</span></span>|-|  
   |<span data-ttu-id="0b018-150">**暫停於**</span><span class="sxs-lookup"><span data-stu-id="0b018-150">**Pause at**</span></span>|<span data-ttu-id="0b018-151">指定希望訂閱儲存的訊息數目上限。</span><span class="sxs-lookup"><span data-stu-id="0b018-151">Specify the maximum number of messages you want a subscription to store.</span></span><br /><br /> <span data-ttu-id="0b018-152">當訂閱中等待消耗的訊息數大於或等於指定的數目時，就不會將訊息傳遞至訂閱執行個體。</span><span class="sxs-lookup"><span data-stu-id="0b018-152">When a subscription has messages waiting to be consumed that are greater than or equal to the specified number, the messages are not delivered to the subscription instance.</span></span> <span data-ttu-id="0b018-153">最小的訊息數目會是 [繼續於] 值。</span><span class="sxs-lookup"><span data-stu-id="0b018-153">The minimum number of messages would be the ‘resume at’ value.</span></span><br /><br /> <span data-ttu-id="0b018-154">例如，如果您設定**暫停於**值為 100，這表示協調流程有 100 個未處理的訊息，MessageBox 將停止傳送其他訊息。</span><span class="sxs-lookup"><span data-stu-id="0b018-154">For example, if you set **Pause at** value to 100, it means an orchestration has 100 outstanding messages and the MessageBox will stop sending additional messages.</span></span>|<span data-ttu-id="0b018-155">(繼續時間 – 整數類型的最大值]。</span><span class="sxs-lookup"><span data-stu-id="0b018-155">(ResumeAt – Maximum value of type Integer].</span></span><br /><br /> <span data-ttu-id="0b018-156">當兩者都為 0 時例外。</span><span class="sxs-lookup"><span data-stu-id="0b018-156">Except when both are 0.</span></span>|<span data-ttu-id="0b018-157">關閉</span><span class="sxs-lookup"><span data-stu-id="0b018-157">Off</span></span>|-|  
   |<span data-ttu-id="0b018-158">**在繼續**</span><span class="sxs-lookup"><span data-stu-id="0b018-158">**Resume at**</span></span>|<span data-ttu-id="0b018-159">指定您希望 MessageBox 恢復傳送訊息至訂閱的訊息數目。</span><span class="sxs-lookup"><span data-stu-id="0b018-159">Specify the number of messages you want the MessageBox to resume sending messages to subscription.</span></span><br /><br /> <span data-ttu-id="0b018-160">例如，設定**在繼續**為 50 的值。</span><span class="sxs-lookup"><span data-stu-id="0b018-160">For example, set the **Resume at** value to 50.</span></span> <span data-ttu-id="0b018-161">當未處理訊息的協調流程的數目降到 50 個時，它會指定，MessageBox 繼續傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="0b018-161">When the orchestration's number of outstanding messages is down to 50, it specifies that MessageBox can resume sending messages.</span></span>|<span data-ttu-id="0b018-162">[0 – 整數型別的最大值)</span><span class="sxs-lookup"><span data-stu-id="0b018-162">[0 – Maximum value of type Integer)</span></span>|<span data-ttu-id="0b018-163">關閉</span><span class="sxs-lookup"><span data-stu-id="0b018-163">Off</span></span>|-|  

   > [!NOTE]
   >  <span data-ttu-id="0b018-164">若要還原預設設定，請按一下**還原預設值**。</span><span class="sxs-lookup"><span data-stu-id="0b018-164">To restore the default settings, click **Restore Defaults**.</span></span>  

## <a name="see-also"></a><span data-ttu-id="0b018-165">另請參閱</span><span class="sxs-lookup"><span data-stu-id="0b018-165">See Also</span></span>  
 [<span data-ttu-id="0b018-166">如何修改主控件設定</span><span class="sxs-lookup"><span data-stu-id="0b018-166">How to Modify Host Settings</span></span>](../core/how-to-modify-host-settings.md)