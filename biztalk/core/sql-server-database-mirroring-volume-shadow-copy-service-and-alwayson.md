---
title: "SQL Server 資料庫鏡像磁碟區陰影複製服務和 AlwaysOn |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: b965cafc-cd34-4657-975d-0dedffd27333
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bea9d6063330e7af15ecb202513deb4def6571fb
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="sql-server-database-mirroring-volume-shadow-copy-service-and-alwayson"></a><span data-ttu-id="6e0a7-102">SQL Server 資料庫鏡像磁碟區陰影複製服務和 AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="6e0a7-102">SQL Server database mirroring, Volume Shadow Copy service and AlwaysOn</span></span>
<span data-ttu-id="6e0a7-103">Microsoft 提供軟體解決方案，稱為 SQL Server*資料庫鏡像*和 Windows 磁碟區陰影複製服務 (VSS) 來增加特定案例的高可用性。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-103">Microsoft provides software solutions known as SQL Server *database mirroring* and the Windows Volume Shadow Copy Service (VSS) to increase high availability for particular scenarios.</span></span> <span data-ttu-id="6e0a7-104">SQL Server*資料庫鏡像*增加資料庫的可用磁碟區陰影複製服務 (VSS) 提供災害復原的備份和還原功能的機率。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-104">SQL Server *database mirroring* increases the probability that a database is available while the Volume Shadow Copy Service (VSS) provides backup and restore functionality for disaster recovery.</span></span> <span data-ttu-id="6e0a7-105">使用 SQL Server*資料庫鏡像*或 Windows 磁碟區陰影複製服務不支援的解決方案，可確保高可用性的 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-105">The use of SQL Server *database mirroring* or the Windows Volume Shadow Copy Service are not supported solutions for ensuring high availability of Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
## <a name="using-sql-server-database-mirroring-to-provide-high-availability-for-biztalk-server-databases"></a><span data-ttu-id="6e0a7-106">使用 BizTalk Server 資料庫提供高可用性 SQL Server 資料庫鏡像</span><span class="sxs-lookup"><span data-stu-id="6e0a7-106">Using SQL Server database mirroring to provide high availability for BizTalk Server databases</span></span>  
 <span data-ttu-id="6e0a7-107">使用 SQL Server*資料庫鏡像*目前不支援的解決方案，可確保高可用性的 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]因為維護交易一致性的潛在問題的資料庫BizTalk Server 資料庫。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-107">The use of SQL Server *database mirroring* is not currently a supported solution for ensuring high availability of the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases because of potential problems maintaining transactional consistency in the BizTalk Server databases.</span></span> <span data-ttu-id="6e0a7-108">如需有關資料庫鏡像和 SQL Server 中的跨資料庫交易，請參閱[http://go.microsoft.com/fwlink/?LinkId=87977](http://go.microsoft.com/fwlink/?LinkId=87977)。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-108">For more information about Database Mirroring and Cross-Database Transactions in SQL Server see [http://go.microsoft.com/fwlink/?LinkId=87977](http://go.microsoft.com/fwlink/?LinkId=87977).</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="6e0a7-109">資料庫應該安裝在 SQL Server 叢集，以確保高可用性和 BizTalk 記錄傳送應該利用災害復原用途。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-109"> databases should be installed on a SQL Server cluster to ensure high availability and BizTalk log shipping should be utilized for purposes of disaster recovery.</span></span> <span data-ttu-id="6e0a7-110">如需 BizTalk 記錄傳送的詳細資訊，請參閱[記錄傳送](../core/log-shipping.md)。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-110">For more information about BizTalk log shipping, see [Log Shipping](../core/log-shipping.md).</span></span>  
  
## <a name="using-the-volume-shadow-copy-service-to-provide-high-availability-for-biztalk-server-databases"></a><span data-ttu-id="6e0a7-111">使用磁碟區陰影複製服務來為 BizTalk Server 資料庫提供高可用性</span><span class="sxs-lookup"><span data-stu-id="6e0a7-111">Using the Volume Shadow Copy service to provide high availability for BizTalk Server databases</span></span>  
 <span data-ttu-id="6e0a7-112">「磁碟區陰影複製服務」提供進行災害復原所需的備份與還原功能。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-112">The Volume Shadow Copy Service provides backup and restore functionality for disaster recovery.</span></span> <span data-ttu-id="6e0a7-113">Microsoft 分散式交易協調器 (MS DTC) 支援 VSS 的因此很有限，本機部署和交易的協調案例 （也受限於其他限制）、 使用 VSS 服務目前不支援的方案確保高可用性的 Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]資料庫。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-113">Because Microsoft Distributed Transaction Coordinator (MS DTC) support for VSS it is limited to local deployment and transaction coordination scenarios (and also subject to other limitations), use of the VSS service is not currently a supported solution for ensuring high availability of the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="6e0a7-114">如需磁碟區陰影複製服務支援分散式交易的詳細資訊，請參閱[http://go.microsoft.com/fwlink/?LinkId=139505](http://go.microsoft.com/fwlink/?LinkId=139505)。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-114">For more information about Volume Shadow Copy Service Support with Distributed Transactions see [http://go.microsoft.com/fwlink/?LinkId=139505](http://go.microsoft.com/fwlink/?LinkId=139505).</span></span>  
  
## <a name="using-sql-server-alwayson"></a><span data-ttu-id="6e0a7-115">使用 SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="6e0a7-115">Using SQL Server AlwaysOn</span></span> 
 <span data-ttu-id="6e0a7-116">當 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 和 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] 安裝在不同的電腦時，分散式交易協調器 (MS DTC) 會處理電腦間的交易。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-116">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] are installed on separate computers, Distributed Transaction Coordinator (MS DTC) handles the transactions between the computers.</span></span> 
 
<span data-ttu-id="6e0a7-117">從 SQL Server 2016 開始，AlwaysOn 支援 MSDTC 交易。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-117">Starting with SQL Server 2016, AlwaysOn supports MSDTC transactions.</span></span> <span data-ttu-id="6e0a7-118">如此一來，[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]時使用此 SQL Server 版本支援 AlwaysOn 功能。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-118">As a result, the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn feature is supported when using this SQL Server version.</span></span> <span data-ttu-id="6e0a7-119">與舊版 SQL Server， [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn 功能不支援 MSDTC 交易，因此不支援 AlwaysOn。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-119">With previous SQL Server versions, the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn feature does not support MSDTC transactions, and therefore AlwaysOn is not supported.</span></span> 

<span data-ttu-id="6e0a7-120">請參閱[使用 SQL Server Alwayson 可用性群組的高可用性](../core/high-availability-using-sql-server-always-on-availability-groups.md)。</span><span class="sxs-lookup"><span data-stu-id="6e0a7-120">See [High Availability using SQL Server Always On Availability Groups](../core/high-availability-using-sql-server-always-on-availability-groups.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="6e0a7-121">另請參閱</span><span class="sxs-lookup"><span data-stu-id="6e0a7-121">See Also</span></span>  
 <span data-ttu-id="6e0a7-122">[叢集 BizTalk Server 資料庫](../core/clustering-the-biztalk-server-databases1.md) </span><span class="sxs-lookup"><span data-stu-id="6e0a7-122">[Clustering the BizTalk Server Databases](../core/clustering-the-biztalk-server-databases1.md) </span></span>  
 [<span data-ttu-id="6e0a7-123">備份和還原的相關進階的資訊</span><span class="sxs-lookup"><span data-stu-id="6e0a7-123">Advanced Information About Backup and Restore</span></span>](../core/advanced-information-about-backup-and-restore1.md)