---
title: "在 BAM 中定義資料 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- aggregations [BAM], dimensions
- monitoring business activities [BAM], BAM Activity Wizard
- monitoring business activities [BAM], time intervals
- aggregations [BAM], measurements
- monitoring business activities [BAM], views
- monitoring business activities [BAM], aggregations
- Excel add-in [BAM], collecting data
- aggregations [BAM], scheduling
- monitoring business activities [BAM], milestone groups
- aggregations [BAM], real-time data
ms.assetid: 501a1c08-3979-4a99-94d9-0d1b5ec4266b
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e6acbc0ea1d80ec129d691d6c54b6eefd626d0e9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="defining-data-in-bam"></a>在 BAM 中定義資料
您可以使用 BAM Excel 增益集來定義想要 BAM 收集的資料，並定義資料共用的方式。 您可以使用 BAM 活動來定義資料，也可以使用 BAM 檢視來定義其他使用者可查看的資料。  
  
## <a name="activities"></a>活動  
 您可以建立 BAM 活動以定義有關您要透過 BAM 監控的商務程序的詳細資訊。 BAM 活動代表企業中的特定商務程序，如處理訂單或交運產品。 商務程序有一組已定義的里程碑和商務資料。 例如，訂單活動可能有「已核准」、「已拒絕」和「已傳遞」等里程碑，以及「客戶名稱」和「產品」等商務資料。  
  
 BAM 活動的目的是要向資訊工作者顯示關於程序的歷程記錄 (里程碑) 和資料。 BAM 活動是高階的抽象概念，與 BizTalk Server 的實際實作無關。 BAM 的概念概觀，請參閱 < 商務活動監控 > 主題，在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]幫助。  
  
 您可以使用 「 BAM 活動精靈 」 來定義 BAM 活動包含至少一個活動項目。 您可以將活動中的相關活動項目組成群組，並使用活動項目來描述您要在商務程序中提供的資料類型。  
  
 下表說明 BAM 提供的活動項目類型。  
  
|項目類型|Description|  
|---------------|-----------------|  
|商務里程碑|日期/時間值。 例如，訂單的核准日期。|  
|商務資料 - TEXT|包含任何英數字元的字串。 例如，送貨至： 城市、 縣/市和郵遞區號的程式碼。|  
|商務資料 - INTEGER|整數值。 例如，總訂購數。|  
|商務資料 - FLOAT|十進位值。 例如 PO 的總金額。|  
  
 例如，在訂單活動中，您可能建立下列表格中的活動項目。  
  
|活動項目|項目類型|  
|-------------------|---------------|  
|產品|商務資料 - TEXT|  
|City|商務資料 - TEXT|  
|State|商務資料 - TEXT|  
|Amount|商務資料 - FLOAT|  
|Quantity|商務資料 - INTEGER|  
|已核准|商務里程碑|  
|已傳遞|商務里程碑|  
|拒絕|商務里程碑|  
|已接收|商務里程碑|  
  
 請注意，「金額」為浮點數，因為它可能會是小數值。 「數量」為整數，因為它在此例中必定是整數。 「已核准」、「已傳遞」、「已拒絕」和「已接收」是訂單程序中的所有里程碑。  
  
## <a name="views"></a>檢視  
 您可以建立檢視，向使用者公開活動中的資料。 當您根據訂單活動建立檢視時，您會定義活動項目背後的資料。 您可以將 BAM 中的檢視資料定義為維度、量值、持續時間、里程碑群組和進度維度。  
  
 檢視包含一或多個檢視項目。 您可以建立下列類型的檢視項目：  
  
-   持續時間  
  
-   里程碑群組  
  
-   Aggregations  
  
### <a name="durations"></a>持續時間  
 持續時間是時間間隔。 持續時間可以從定義時間間隔之開始與結束的里程碑角度來描述。 下表顯示您可以從上表所列里程碑中設定的持續時間。  
  
|有效期間|開始里程碑|結束里程碑|  
|--------------|---------------------|-------------------|  
|1|已接收|已核准|  
|2|已接收|已傳遞|  
|3|已接收|拒絕|  
|4|已核准|已傳遞|  
  
 在此表格中，您可以看到第一個持續時間 (持續時間 1) 是起始於 BizTalk Server 收到訂單時，而結束於訂單獲得核准時的時間間隔。  
  
### <a name="milestone-groups"></a>里程碑群組  
 您可以建立里程碑群組，將一組里程碑視為單一實體；例如，程序的開始和結束里程碑，可以建立單一里程碑來代表程序的全程期間。  
  
### <a name="aggregations"></a>Aggregations  
 您可以使用彙總來改善從資料庫重新整理資料的回應時間。 Excel 將彙總定義為資料的預先計算摘要，可在問題提出之前先備妥答案，以改善查詢回應時間。 例如，當資料倉儲事實資料表包含數以萬計的資料列時，如果要查詢兩個特定產品的出貨排程，其必須掃描事實資料表進行計算，這可能需要花很長時間才能得到結果。 但是，如果已經預先計算好要回應的摘要資料，就幾乎可以立即做出回應。  
  
 下圖是預先計算好彙總資料的範例。  
  
 ![](../core/media/bam-olap-cube.gif "bam_olap_cube")  
  
 圖中摘要了在兩個月的期間出貨至特定地點之各項產品的數量。 Excel 通常會將此資料定義為量值。 而用於篩選與分類的資料，Excel 則定義為維度。  
  
 您可以在 BAM 活頁簿中定義兩個彙總類型：  
  
-   即時彙總  
  
-   排程彙總  
  
### <a name="real-time-aggregations"></a>即時彙總  
 即時彙總 (RTA) 允許您查看商務程序的目前狀態，並且讓您更容易找出程序的瓶頸。  
  
 BAM 資料會顯示在樞紐分析表中。 您可以為 RTA 或排程彙總定義 BAM 樞紐分析表。 RTA 將提供您資料的最新檢視；例如，特定 PO 在出貨程序中的情況。 您可以重新整理畫面來更新全天的資料檢視。  
  
 在某些情況下，多維度彙總的特定配量有時間緊迫性，因此必須可即時取得。 例如，您的業務是銷售容易腐壞的產品，所以希望即時取得各個出貨階段的產品數量彙總。 同時，您也有其他想要看到的彙總，如典型客戶的年齡彙總，但是這只有在月底進行商業智慧分析時才需要。  
  
> [!IMPORTANT]
>  請勿定義多個使用相同 BAM 活動的 RTA。 若是這麼做，當您封存 BAM 資料時，RTA 資料將是錯誤的資料。  
  
 如需有關瀏覽多維度資料的詳細資訊，請參閱「Excel 說明」中的＜樞紐分析表＞主題。  
  
### <a name="scheduled-aggregations"></a>排程彙總  
 依照預設，所有的 BAM 彙總都是排程彙總。 排程彙總代表特定時間的商務快照集；例如，今日上午出貨的摘要。 請向資料庫管理員詢問您的彙總是在何時處理的，然後您就可以查閱歷史資料。  
  
### <a name="dimensions-and-measures"></a>維度和量值  
 您可以使用維度和量值來建立資料彙總：  
  
-   維度可以描述事實。  
  
-   量值為事實值。  
  
 例如，事實可能是 「 3 輛紅色汽車 」 清查中。 產品的描述: 「 汽車 」 和 「 紅色 」 是維度。 而「3」這個事實值就是量值。 如果事實中包含每輛汽車的價格，則汽車價格是維度，而存貨中的汽車平均價格就是量值。 《Microsoft SQL Server 線上叢書》將量值描述為「可供彙總和分析的核心值」(The central values that are aggregated and analyzed)。 換言之，如果您能夠加以計數、平均或執行其他數學函式來取得它，那麼它就是一個量值。  
  
 您可以建立下列維度類型：  
  
-   進度維度  
  
-   資料維度  
  
-   時間維度  
  
-   數字範圍維度  
  
## <a name="progress-dimensions"></a>進度維度  
 BAM 引進新的維度類型： 進度維度。 您可以建立進度維度來建立有關仍在處理中活動之進度的彙總。  
  
 例如，請考慮購買的商務程序，您在何處接收 1,000 張 「 訂單。 您可以在資料列使用進度維度來建立下列資料表。  
  
|OrderProgress_Level1|Count|  
|---------------------------|-----------|  
|已接收|1000|  
  
 您可以接著開啟「已接收」程序，進一步檢視有關活動進度的詳細資料，例如：  
  
|||Count|  
|------|------|-----------|  
|已接收|評估中|300|  
||已核准|500|  
||拒絕|200|  
  
 這表示您收到的 1000 張訂單中，500 張已核准、200 張被拒絕，目前還有 300 張正在評估中。  
  
 「已接收」、「已核准」和「已拒絕」代表里程碑。 [計數] 資料行中的對應數字顯示有多少訂單已經通過這些里程碑。 「評估中」是指訂單通過「已接收」，但還未到達「已核准」或「已拒絕」里程碑時的階段。  
  
 您可以結合任何其他維度來使用進度維度。 例如，在資料列使用進度維度「訂單進度」，而在資料行使用資料維度「產品」，將會產生下列結果：  
  
|||網球拍|足球|  
|------|------|---------------------|------------------|  
|已接收|評估中|250|50|  
||已核准|200|300|  
||拒絕|150|50|  
  
 「進度維度」可以為基於即時彙總 (RTA) 的圖表提供特別有用的資訊。 RTA 允許您查看商務程序的目前狀態，並且讓您更容易找出程序的瓶頸。  
  
 訂單中的里程碑訂單進度維度可以是循序： 下一個步驟開始之前，先完成第一個步驟。 或者，可以使用串聯方式完成里程碑。 循序步驟是子步驟，串聯步驟則是同層級步驟。 在訂單程序中，只要一收到訂單，就會開始進行驗證。 這是和「已接收」里程碑同時發生的暫時步驟，因此也和接收里程碑同在一個層級。 訂單只有在收到之後才會核准，因此「已核准」是「已接收」的子系。  
  
## <a name="data-dimension"></a>資料維度  
 您可以定義資料維度，使其在資料列或資料行上使用 BAM 活動中部分文字項目的值。 例如，名為產品的資料維度可以用來建立下列資料表：  
  
|產品|Count|  
|-------------|-----------|  
|網球拍|100|  
|足球|200|  
  
 此外，您可以在 「 BAM 檢視精靈 」 中定義多個資料維度。 例如，以「省/州」和「縣/市」的層級定義名為「位置」的資料維度，可以用來建立下列資料表：  
  
|產品|Los Angeles|San Francisco|Seattle|  
|-------------|-----------------|-------------------|-------------|  
|網球拍|50|20|30|  
|足球|130|50|20|  
  
 這個資料表使用「產品」維度做為資料列，並使用「位置」維度做為資料行。  
  
## <a name="time-dimension"></a>時間維度  
 您可以建立時間維度來建立有關時間的彙總。 例如，時間維度可以用來建立下列資料表：  
  
|Year|Month|Count|  
|----------|-----------|-----------|  
|2003|一月|120|  
||二月|230|  
||三月|350|  
||四月|280|  
  
 您可以將時間維度與任何其他維度結合。 例如，您可以在資料列使用時間維度，而在資料行使用資料維度，以建立下列資料表：  
  
|Month|網球拍|足球|  
|-----------|---------------------|------------------|  
|一月|50|70|  
|二月|120|110|  
|三月|300|50|  
|四月|220|60|  
  
## <a name="numeric-range-dimension"></a>數字範圍維度  
 您可以使用數字範圍維度，建立依據易記名稱將數字範圍分類的彙總。 例如，商務分析師可以使用下列範圍來定義名為「PO 大小」的數字範圍維度：  
  
 小型、 代表訂單金額介於 0 和 100  
  
 代表訂單金額介於 $100 到 $1,000 「 中 」  
  
 大型的採購訂單超過 $1,000 的  
  
> [!NOTE]
>  如果訂單金額不在定義的範圍，例如，訂單金額小於 0，則 bam 來配合超出範圍的資料將會自動建立 「 超出範圍 」 資料列。  
  
|PO 大小|Count|  
|-------------|-----------|  
|Small|500|  
|中|350|  
|Large|225|  
  
> [!NOTE]
>  您不可以建立兩個參考相同資料別名的數字範圍維度。