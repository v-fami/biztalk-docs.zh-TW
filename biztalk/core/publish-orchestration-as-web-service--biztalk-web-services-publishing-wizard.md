---
title: 如何使用 BizTalk Web 服務發佈精靈發佈為 Web 服務的協調流程 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Web services, publishing
- BizTalk Web Services Publishing Wizard, publishing
- BizTalk Web Services Publishing Wizard
- Web services, orchestrations
- BizTalk Web Services Publishing Wizard, orchestrations
- BizTalk Web Services Publishing Wizard, about BizTalk Web Services Publishing Wizard
- orchestrations, publishing
ms.assetid: d990f8e4-88ce-4718-8a94-63796b8d92dc
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d8c86721091b9a0c9e8436b42a7489e228dbb7e0
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2018
---
# <a name="how-to-use-the-biztalk-web-services-publishing-wizard-to-publish-an-orchestration-as-a-web-service"></a><span data-ttu-id="33346-102">如何使用 BizTalk Web 服務發佈精靈發佈為 Web 服務的協調流程</span><span class="sxs-lookup"><span data-stu-id="33346-102">How to Use the BizTalk Web Services Publishing Wizard to Publish an Orchestration as a Web Service</span></span>
<span data-ttu-id="33346-103">您可以使用 [BizTalk Web 服務發佈精靈] 將協調流程發佈為 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="33346-103">You use the BizTalk Web Services Publishing Wizard to publish an orchestration as a Web service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33346-104">您必須先建置自己的 BizTalk 專案，才可以執行 [BizTalk Web 服務發佈精靈]。</span><span class="sxs-lookup"><span data-stu-id="33346-104">You must build your BizTalk projects prior to running the BizTalk Web Services Publishing Wizard.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33346-105">您也可以使用命令列工具 BTSWebSvcPub.exe，將協調流程發佈為 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="33346-105">You can use a command line tool, BTSWebSvcPub.exe, to publish an orchestration as Web service.</span></span> <span data-ttu-id="33346-106">如需詳細資訊，請參閱[BTSWebSvcPub 命令列參照](../core/btswebsvcpub-command-line-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="33346-106">For more information, see [BTSWebSvcPub Command-Line Reference](../core/btswebsvcpub-command-line-reference.md).</span></span>  
  
### <a name="to-publish-an-orchestration-as-a-web-service"></a><span data-ttu-id="33346-107">若要將協調流程發佈為 Web 服務</span><span class="sxs-lookup"><span data-stu-id="33346-107">To publish an orchestration as a Web service</span></span>  
  
1.  <span data-ttu-id="33346-108">按一下  **啟動**, ，指向  **所有程式**, ，指向  **Microsoft BizTalk Server**, ，然後按一下  **BizTalk Web 服務發佈精靈**。</span><span class="sxs-lookup"><span data-stu-id="33346-108">Click **Start**, point to **All Programs**, point to **Microsoft BizTalk Server**, and then click **BizTalk Web Services Publishing Wizard**.</span></span>  
  
2.  <span data-ttu-id="33346-109">在 **歡迎使用 BizTalk Web 服務發佈精靈** 頁面上，按一下 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="33346-109">On the **Welcome to the BizTalk Web Services Publishing Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="33346-110">在 **建立 Web 服務** 頁面上，選取 **BizTalk 協調流程發佈為 web 服務**, ，然後按一下  **下一步**。</span><span class="sxs-lookup"><span data-stu-id="33346-110">On the **Create Web Service** page, select **Publish BizTalk orchestrations as web services**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="33346-111">在 **BizTalk 組件**  頁面上，BizTalk 組件檔 (\*.dll) 文字方塊中，輸入 BizTalk 組件檔案的名稱，或按一下 **瀏覽** 瀏覽至包含協調流程来發佈組件，然後按一下  **下一步**。</span><span class="sxs-lookup"><span data-stu-id="33346-111">On the **BizTalk Assembly** page, in the BizTalk assembly file (\*.dll) text box, type the name of the BizTalk assembly file or click **Browse** to browse to the assembly containing the orchestration(s) to publish, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-112">選擇 BizTalk 組件檔案之前，請將所有相依的組件複製到與 BizTalk 組件相同的資料夾中，或將這些相依組件安裝至「全域組件快取」(GAC)。</span><span class="sxs-lookup"><span data-stu-id="33346-112">Before choosing a BizTalk assembly file, copy all of the dependent assemblies into the same folder with the BizTalk assembly or install the dependent assemblies to the Global Assembly Cache (GAC).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-113">如果您安裝到 GAC 的 BizTalk 組件檔案，請確定在 GAC 中的組件，您會在選取的組件已經更新 **BizTalk 組件** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="33346-113">If you installed the BizTalk assembly file into the GAC, make sure that the assembly in the GAC has been updated with the assembly that you will select in the **BizTalk Assembly** dialog box.</span></span> <span data-ttu-id="33346-114">如果 GAC 具有相同的完整格式名稱，[BizTalk Web 服務發佈精靈] 就會使用 GAC 中的組件檔案，而非您所選取的檔案。</span><span class="sxs-lookup"><span data-stu-id="33346-114">If the GAC has the same fully qualified name, the BizTalk Web Services Publishing Wizard uses the assembly file in the GAC instead of the one you selected.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-115">如果在包含協調流程的 Visual Studio 中開啟 [BizTalk Web 服務發佈精靈]，BizTalk 組件檔中會填入包含此協調流程的組件。</span><span class="sxs-lookup"><span data-stu-id="33346-115">If you open the BizTalk Web Services Publishing Wizard in the Visual Studio containing an orchestration, the BizTalk assembly file populates with the assembly containing the orchestration.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-116">長度超過 260 個字元的路徑可能會導致路徑太長的錯誤訊息出現。</span><span class="sxs-lookup"><span data-stu-id="33346-116">Paths over 260 characters may get an error message that the path is too long.</span></span>  
  
5.  <span data-ttu-id="33346-117">在 **協調流程和連接埠** 頁面上，按一下加號展開樹狀節點，每個組件和協調流程。</span><span class="sxs-lookup"><span data-stu-id="33346-117">On the **Orchestrations and Ports** page, expand the tree nodes for each assembly and orchestration by clicking the plus sign.</span></span> <span data-ttu-id="33346-118">透過核取對應樹狀節點的核取方塊，選取要發佈的協調流程和連接埠。</span><span class="sxs-lookup"><span data-stu-id="33346-118">Select orchestrations and ports to publish by checking the corresponding tree node check boxes.</span></span> <span data-ttu-id="33346-119">如果您想要建立一個 Web 服務 (.asmx) 的所有選取的接收埠，而不是一個 Web 服務，每個接收埠，請選取 **所有選取的連接埠合併成單一 web 服務** 選項，然後再按一下 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="33346-119">If you want to create one Web service (.asmx) for all of the selected receive ports instead of one Web service for each receive port, select the **Merge all selected ports into a single web service** option, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-120">當您將所有選取的連接埠合併成單一 Web 服務時，所有選取的連接埠都會具有相同的連接埠類型，而且這些連接埠中的作業名稱都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="33346-120">When you merge all selected ports into a single web service, the all selected ports have the same port type, and the operations names in the ports are unique.</span></span>  
  
6.  <span data-ttu-id="33346-121">在 **Web 服務屬性** 頁面上，於 **web 服務的目標命名空間** 方塊中，輸入 Web 服務的目標命名空間中，選取適當的方塊，以指定精靈應該如何處理 SOAP 標頭和 Web 服務的 SharePoint Portal Server 2007 單一登入 (SSO) 支援。</span><span class="sxs-lookup"><span data-stu-id="33346-121">On the **Web Service Properties** page, in the **Target namespace of the web service** box, type a target namespace for the Web service, select the appropriate boxes to specify how the wizard should handle SOAP headers and SharePoint Portal Server 2007 Single Sign-On (SSO) support for the Web service.</span></span> <span data-ttu-id="33346-122">如果您想要進一步自訂 Web 服務實作中，按一下 [ **進階** ] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="33346-122">If you want to further customize the Web service implementation, click **Advanced** button.</span></span> <span data-ttu-id="33346-123">如此將顯示更多可用的選項：</span><span class="sxs-lookup"><span data-stu-id="33346-123">It will show more available options:</span></span>  
  
    |<span data-ttu-id="33346-124">選項</span><span class="sxs-lookup"><span data-stu-id="33346-124">Option</span></span>|<span data-ttu-id="33346-125">值</span><span class="sxs-lookup"><span data-stu-id="33346-125">Value</span></span>|<span data-ttu-id="33346-126">Description</span><span class="sxs-lookup"><span data-stu-id="33346-126">Description</span></span>|  
    |------------|-----------|-----------------|  
    |<span data-ttu-id="33346-127">SOAP 參數樣式</span><span class="sxs-lookup"><span data-stu-id="33346-127">SOAP Parameter Style</span></span>|<span data-ttu-id="33346-128">預設值</span><span class="sxs-lookup"><span data-stu-id="33346-128">Default</span></span>|<span data-ttu-id="33346-129">這個選項會指定參數在 SOAP 訊息中格式化的方式。</span><span class="sxs-lookup"><span data-stu-id="33346-129">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="33346-130">如需詳細資訊，請參閱 < SoapParameterStyle 列舉 >，網址[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="33346-130">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="33346-131">SOAP 參數樣式</span><span class="sxs-lookup"><span data-stu-id="33346-131">SOAP Parameter Style</span></span>|<span data-ttu-id="33346-132">Bare</span><span class="sxs-lookup"><span data-stu-id="33346-132">Bare</span></span>|<span data-ttu-id="33346-133">這個選項會指定參數在 SOAP 訊息中格式化的方式。</span><span class="sxs-lookup"><span data-stu-id="33346-133">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="33346-134">如需詳細資訊，請參閱 < SoapParameterStyle 列舉 >，網址[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="33346-134">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="33346-135">SOAP 參數樣式</span><span class="sxs-lookup"><span data-stu-id="33346-135">SOAP Parameter Style</span></span>|<span data-ttu-id="33346-136">Wrapped</span><span class="sxs-lookup"><span data-stu-id="33346-136">Wrapped</span></span>|<span data-ttu-id="33346-137">這個選項會指定參數在 SOAP 訊息中格式化的方式。</span><span class="sxs-lookup"><span data-stu-id="33346-137">This option specifies how parameters are formatted in a SOAP message.</span></span> <span data-ttu-id="33346-138">如需詳細資訊，請參閱 < SoapParameterStyle 列舉 >，網址[ http://go.microsoft.com/fwlink/?LinkId=62259 ](http://go.microsoft.com/fwlink/?LinkId=62259)。</span><span class="sxs-lookup"><span data-stu-id="33346-138">For more information, see SoapParameterStyle Enumeration at [http://go.microsoft.com/fwlink/?LinkId=62259](http://go.microsoft.com/fwlink/?LinkId=62259).</span></span>|  
    |<span data-ttu-id="33346-139">相容主張</span><span class="sxs-lookup"><span data-stu-id="33346-139">Conformance Claims</span></span>|<span data-ttu-id="33346-140">無</span><span class="sxs-lookup"><span data-stu-id="33346-140">None</span></span>|<span data-ttu-id="33346-141">這個選項會指定繫結主張所遵詢的「Web 服務互通性」(WSI) 規格。</span><span class="sxs-lookup"><span data-stu-id="33346-141">This option specifies the Web Services Interoperability (WSI) specification to which the binding claims to conform.</span></span> <span data-ttu-id="33346-142">如需詳細資訊，請參閱 < WebServiceBindingAttribute.ConformsTo 屬性[ http://go.microsoft.com/fwlink/?LinkId=193064 ](http://go.microsoft.com/fwlink/?LinkId=193064)。</span><span class="sxs-lookup"><span data-stu-id="33346-142">For more information, see WebServiceBindingAttribute.ConformsTo Property at [http://go.microsoft.com/fwlink/?LinkId=193064](http://go.microsoft.com/fwlink/?LinkId=193064).</span></span>|  
    |<span data-ttu-id="33346-143">相容主張</span><span class="sxs-lookup"><span data-stu-id="33346-143">Conformance Claims</span></span>|<span data-ttu-id="33346-144">WS-I 基本設定檔 1.1</span><span class="sxs-lookup"><span data-stu-id="33346-144">WS-I Basic Profile 1.1</span></span>|<span data-ttu-id="33346-145">這個選項會指定繫結主張所遵詢的「Web 服務互通性」(WSI) 規格。</span><span class="sxs-lookup"><span data-stu-id="33346-145">This option specifies the Web Services Interoperability (WSI) specification to which the binding claims to conform.</span></span> <span data-ttu-id="33346-146">如需詳細資訊，請參閱 < WebServiceBindingAttribute.ConformsTo 屬性[ http://go.microsoft.com/fwlink/?LinkId=193064 ](http://go.microsoft.com/fwlink/?LinkId=193064)。</span><span class="sxs-lookup"><span data-stu-id="33346-146">For more information, see WebServiceBindingAttribute.ConformsTo Property at [http://go.microsoft.com/fwlink/?LinkId=193064](http://go.microsoft.com/fwlink/?LinkId=193064).</span></span>|  
    |<span data-ttu-id="33346-147">強制要求回應</span><span class="sxs-lookup"><span data-stu-id="33346-147">Force Request Response</span></span>|<span data-ttu-id="33346-148">[預設]</span><span class="sxs-lookup"><span data-stu-id="33346-148">[Default]</span></span>|<span data-ttu-id="33346-149">這個選項會指定單向 BizTalk 作業是否應該公開為要求-回應的 Web 方法。</span><span class="sxs-lookup"><span data-stu-id="33346-149">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="33346-150">預設是不強制單向旗標。</span><span class="sxs-lookup"><span data-stu-id="33346-150">Default is not force the on-way flag.</span></span>|  
    |<span data-ttu-id="33346-151">強制要求回應</span><span class="sxs-lookup"><span data-stu-id="33346-151">Force Request Response</span></span>|<span data-ttu-id="33346-152">否</span><span class="sxs-lookup"><span data-stu-id="33346-152">No</span></span>|<span data-ttu-id="33346-153">這個選項會指定單向 BizTalk 作業是否應該公開為要求-回應的 Web 方法。</span><span class="sxs-lookup"><span data-stu-id="33346-153">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="33346-154">預設是不強制單向旗標。</span><span class="sxs-lookup"><span data-stu-id="33346-154">Default is not force the on-way flag.</span></span>|  
    |<span data-ttu-id="33346-155">強制要求回應</span><span class="sxs-lookup"><span data-stu-id="33346-155">Force Request Response</span></span>|<span data-ttu-id="33346-156">是</span><span class="sxs-lookup"><span data-stu-id="33346-156">Yes</span></span>|<span data-ttu-id="33346-157">這個選項會指定單向 BizTalk 作業是否應該公開為要求-回應的 Web 方法。</span><span class="sxs-lookup"><span data-stu-id="33346-157">This option specifies whether one-way BizTalk operations should be exposed as request-response web methods.</span></span> <span data-ttu-id="33346-158">預設是不強制單向旗標。</span><span class="sxs-lookup"><span data-stu-id="33346-158">Default is not force the on-way flag.</span></span>|  
  
7.  <span data-ttu-id="33346-159">在 **Web 服務屬性** 頁面上，按一下 **下一步**。</span><span class="sxs-lookup"><span data-stu-id="33346-159">On the **Web Service Properties** page, click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-160">所有選取的 SOAP 標頭選項，都會全域套用至執行這個精靈執行個體時所建立的所有 Web 服務和 Web 方法。</span><span class="sxs-lookup"><span data-stu-id="33346-160">The selection any of the SOAP header options are applied globally to all Web services and Web methods that are created when running this instance of the wizard.</span></span>  
  
8.  <span data-ttu-id="33346-161">如果您選取 **新增其他 SOAP 標頭** 選項， **要求 SOAP 標頭** 和 **回應 SOAP 標頭** 頁面會出現。</span><span class="sxs-lookup"><span data-stu-id="33346-161">If you selected **Add additional SOAP headers** option, the **Request SOAP Headers** and **Response SOAP Headers** pages appear.</span></span> <span data-ttu-id="33346-162">您可以新增和移除要求和回應 SOAP 標頭，使用 **新增** 和 **移除** 下列對話方塊中的按鈕︰</span><span class="sxs-lookup"><span data-stu-id="33346-162">You can add and remove request and response SOAP headers using the **Add** and **Remove** buttons in the following dialog boxes:</span></span>  
  
    -   <span data-ttu-id="33346-163">若要新增 SOAP 標頭，請按一下  **新增**。</span><span class="sxs-lookup"><span data-stu-id="33346-163">To add a SOAP header, click **Add**.</span></span> <span data-ttu-id="33346-164">在 **BizTalk 組件檔案 (\*.dll)** 文字方塊中，輸入或瀏覽包含 SOAP 標頭結構描述之組件。</span><span class="sxs-lookup"><span data-stu-id="33346-164">In the **BizTalk assembly file (\*.dll)** text box, type or browse for the assembly containing the SOAP header schema.</span></span> <span data-ttu-id="33346-165">**可用的結構描述型別** 清單檢視會顯示結構描述的每個根項目。</span><span class="sxs-lookup"><span data-stu-id="33346-165">The **Available schema types** list view displays each root element of the schema.</span></span> <span data-ttu-id="33346-166">選取要新增為要求或回應 SOAP 標頭的根節點。</span><span class="sxs-lookup"><span data-stu-id="33346-166">Select a root node to add as a request or response SOAP header.</span></span> <span data-ttu-id="33346-167">若要選取多個項目，按住 CTRL 鍵，然後按一下 **確定**。</span><span class="sxs-lookup"><span data-stu-id="33346-167">To select multiple items, hold the CTRL key and click **OK**.</span></span>  
  
    -   <span data-ttu-id="33346-168">若要從清單移除的 SOAP 標頭，從已加入的 SOAP 標頭的清單中選取，然後按一下  **移除**。</span><span class="sxs-lookup"><span data-stu-id="33346-168">To remove a SOAP header from the list, select it from the list of added SOAP headers, and then click **Remove**.</span></span>  
  
    -   <span data-ttu-id="33346-169">按一下  **下一步** 每 **SOAP 標頭** 頁面，即可繼續執行精靈。</span><span class="sxs-lookup"><span data-stu-id="33346-169">Click **Next** on each **SOAP Header** page to continue the wizard.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-170">目標命名空間和根項目名稱會定義 SOAP 標頭。</span><span class="sxs-lookup"><span data-stu-id="33346-170">A target namespace and root element name defines a SOAP header.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-171">如果目標命名空間/根項目名稱的相同組合新增為要求和回應 SOAP 標頭，它將不會被視為輸入/輸出標頭。</span><span class="sxs-lookup"><span data-stu-id="33346-171">If the same combination of target namespace/root element name is added as a request and response SOAP header, it will not be treated as an in/out header.</span></span> <span data-ttu-id="33346-172">您必須在協調流程內部，手動將內送標頭複製到外寄標頭。</span><span class="sxs-lookup"><span data-stu-id="33346-172">You must manually copy the incoming header to the outgoing header inside of an orchestration.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="33346-173">目標命名空間/根項目名稱的相同組合只能新增為要求 SOAP 標頭和回應 SOAP 標頭各一次。</span><span class="sxs-lookup"><span data-stu-id="33346-173">The same combination of target namespace/root element name can only be added once as a request SOAP header and once as a response SOAP header.</span></span>  
  
9. <span data-ttu-id="33346-174">在 **Web 服務專案** 頁面上，於 **專案名稱** 文字中，輸入專案名稱。</span><span class="sxs-lookup"><span data-stu-id="33346-174">On the **Web Service Project** page, in the **Project name** text box, type the name for the project.</span></span> <span data-ttu-id="33346-175">您可以接受預設位置 (http://localhost/<*project_name*>)，輸入中的專案位置**專案位置**文字方塊中或按一下**瀏覽**和選取 Web 目錄。</span><span class="sxs-lookup"><span data-stu-id="33346-175">You can accept the default location (http://localhost/<*project_name*>), type a location for the project in the **Project location** text box, or click **Browse** and select a Web directory.</span></span> <span data-ttu-id="33346-176">接著，選取下列任何一個選項：</span><span class="sxs-lookup"><span data-stu-id="33346-176">Select any of the following options:</span></span>  
  
    -   <span data-ttu-id="33346-177">**覆寫現有的專案。**</span><span class="sxs-lookup"><span data-stu-id="33346-177">**Overwrite existing project.**</span></span> <span data-ttu-id="33346-178">這個選項只有在專案位置已經存在時才能使用。</span><span class="sxs-lookup"><span data-stu-id="33346-178">This option is only available if the project location already exists.</span></span> <span data-ttu-id="33346-179">您只能在這個選項已選取時，才能夠發佈至相同的位置。</span><span class="sxs-lookup"><span data-stu-id="33346-179">You will only be able to publish to the same location if you select this option.</span></span> <span data-ttu-id="33346-180">否則，您必須輸入不同的專案位置。</span><span class="sxs-lookup"><span data-stu-id="33346-180">Otherwise, you must enter a different project location.</span></span>  
  
    -   <span data-ttu-id="33346-181">**允許匿名存取 web 服務。**</span><span class="sxs-lookup"><span data-stu-id="33346-181">**Allow anonymous access to web service.**</span></span> <span data-ttu-id="33346-182">這個選項會新增已建立之虛擬目錄的匿名存取。</span><span class="sxs-lookup"><span data-stu-id="33346-182">This option adds anonymous access to the created virtual directory.</span></span> <span data-ttu-id="33346-183">根據預設，虛擬目錄會從其父虛擬目錄或網站 (如果它是最上層虛擬目錄的話) 繼承存取權限。</span><span class="sxs-lookup"><span data-stu-id="33346-183">By default, the virtual directory inherits the access privileges from its parent virtual directory or the Web site (if it is a top-level virtual directory).</span></span>  
  
    -   <span data-ttu-id="33346-184">**建立 BizTalk 接收位置。**</span><span class="sxs-lookup"><span data-stu-id="33346-184">**Create BizTalk receive locations.**</span></span> <span data-ttu-id="33346-185">這個選項會自動建立對應於每個產生之 .asmx 檔案的 SOAP 配接器接收埠和位置。</span><span class="sxs-lookup"><span data-stu-id="33346-185">This option automatically creates the SOAP adapter receive ports and locations that correspond to each generated .asmx file.</span></span> <span data-ttu-id="33346-186">如果接收位置已經存在，則不會取代該接收位置。</span><span class="sxs-lookup"><span data-stu-id="33346-186">If a receive location already exists, it is not replaced.</span></span> <span data-ttu-id="33346-187">SOAP 配接器會使用格式來解析的接收位置 /\<*虛擬目錄名稱*\>/\<*namespace_typename_portname 協調流程* \>.asmx。</span><span class="sxs-lookup"><span data-stu-id="33346-187">Receive locations for the SOAP adapter are resolved using the format /\<*virtual directory name*\>/\<*orchestration namespace_typename_portname*\>.asmx.</span></span> <span data-ttu-id="33346-188">選取這個選項之後，再選擇將產生接收埠和位置的應用程式。</span><span class="sxs-lookup"><span data-stu-id="33346-188">After selecting this option, choose the application where the receive ports and locations will be generated.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="33346-189">專案位置可以存在不同的伺服器上。</span><span class="sxs-lookup"><span data-stu-id="33346-189">The project location can exist on a different server.</span></span> <span data-ttu-id="33346-190">若要發行到不同的伺服器的 Web 服務，輸入專案名稱，做為**http://&lt*servername*>/<*project_name*>**。</span><span class="sxs-lookup"><span data-stu-id="33346-190">To publish a Web service to a different server, type the project name as **http://<*servername*>/<*project_name*>**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="33346-191">專案位置可以存在非預設的網站上。</span><span class="sxs-lookup"><span data-stu-id="33346-191">The project location can exist on a non-default Web site.</span></span> <span data-ttu-id="33346-192">發佈至非預設的網站時，請在 URL 中加入網站的連接埠編號。</span><span class="sxs-lookup"><span data-stu-id="33346-192">When publishing to a non-default Web site, include the port number of the Web site in the URL.</span></span> <span data-ttu-id="33346-193">例如， http://localhost:8080/< *project_name*>。</span><span class="sxs-lookup"><span data-stu-id="33346-193">For example, http://localhost:8080/<*project_name*>.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="33346-194">在使用精靈建立接收位置時，精靈會使用預設值來建立接收位置。</span><span class="sxs-lookup"><span data-stu-id="33346-194">When using the wizard to create receive locations, the wizard creates the receive locations using the default values.</span></span> <span data-ttu-id="33346-195">接收管線的預設值是 **Microsoft.BizTalk.DefaultPipelines.PassThruReceive** 管線。</span><span class="sxs-lookup"><span data-stu-id="33346-195">The default value for the receive pipeline is the **Microsoft.BizTalk.DefaultPipelines.PassThruReceive** pipeline.</span></span> <span data-ttu-id="33346-196">如果透過已發佈的 Web 服務收到的訊息需要任何特殊管線處理 (例如驗證、 相互關聯 / 屬性升級或輸入/輸出對應)，則您應該設定接收管線 **Microsoft.BizTalk.DefaultPipelines.XMLReceive**, ，或自訂管線。</span><span class="sxs-lookup"><span data-stu-id="33346-196">If messages received through the published Web service require any special pipeline processing (for example, validation, correlation / property promotion, or inbound/outbound maps) then you should set the receive pipeline to **Microsoft.BizTalk.DefaultPipelines.XMLReceive**, or to a custom pipeline.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="33346-197">當您從協調流程使用 (呼叫) Web 服務時，SOAP 配接器只支援通過型傳送管線。</span><span class="sxs-lookup"><span data-stu-id="33346-197">When you consume (call) Web services from an orchestration, the SOAP adapter only supports pass-through style send pipelines.</span></span> <span data-ttu-id="33346-198">您可以使用自訂傳送管線，但它不能包含會修改訊息內文部分的元件。</span><span class="sxs-lookup"><span data-stu-id="33346-198">You can use a custom send pipeline, but it cannot contain components that modify the body parts of the message.</span></span> <span data-ttu-id="33346-199">這些元件包括 XML 組合器和任何編碼元件。</span><span class="sxs-lookup"><span data-stu-id="33346-199">These components include the XML Assembler and any encoding components.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="33346-200">當您到達此頁面，而您選擇來選擇備份 **結構描述發佈為 web 服務** 選項，請在 **Web 服務** 頁面上，您可能會看到 **Web 服務描述** 顯示從 BizTalk 組件之前您之前選取的服務和方法名稱從回 **BizTalk 協調流程發佈為 web 服務** 選項。</span><span class="sxs-lookup"><span data-stu-id="33346-200">When you reach this page and if you choose to back out from choosing **Publishing schemas as web services** option, in the **Web Services** page, you may see the **Web service description** displays the service and method names from the BizTalk assembly previous selected before you back out from **Publish BizTalk orchestrations as web services** option.</span></span> <span data-ttu-id="33346-201">這是因為發佈方法變更時，記憶體中的 Web 服務描述並未清除。</span><span class="sxs-lookup"><span data-stu-id="33346-201">This is because the in-memory web service description is not cleared when the publishing method is changed.</span></span>  
  
10. <span data-ttu-id="33346-202">按一下  **下一步** 檢閱您的 ASP.NET Web 服務專案設定。</span><span class="sxs-lookup"><span data-stu-id="33346-202">Click **Next** to review your settings for the ASP.NET Web service project.</span></span>  
  
11. <span data-ttu-id="33346-203">按一下  **建立** 來建立 ASP.NET Web 服務。</span><span class="sxs-lookup"><span data-stu-id="33346-203">Click **Create** to create the ASP.NET Web service.</span></span>  
  
12. <span data-ttu-id="33346-204">按一下  **完成** 完成 BizTalk Web 服務發佈精靈。</span><span class="sxs-lookup"><span data-stu-id="33346-204">Click **Finish** to complete the BizTalk Web Services Publishing Wizard.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33346-205">如果要在 Windows Vista 上將某個協調流程發佈為 Web 服務，您必須更新裝載服務的虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="33346-205">If you are publishing an orchestration as a web service on Windows Vista, you must update the virtual directory hosting the service.</span></span> <span data-ttu-id="33346-206">若要這樣做，請發出下列命令，從命令提示字元，取代\<vdir\>虛擬目錄的名稱： **%systemroot%\system32\inetsrv\appcmd。EXE 移轉設定"Default Web Site /\<vdir 名稱\>"**。</span><span class="sxs-lookup"><span data-stu-id="33346-206">To do so, issue the following command from the command prompt, replacing \<vdir\> with the name of the virtual directory: **%systemroot%\system32\inetsrv\APPCMD.EXE migrate config "Default Web Site/\<vdir name\>"**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33346-207">另請參閱</span><span class="sxs-lookup"><span data-stu-id="33346-207">See Also</span></span>  
 <span data-ttu-id="33346-208">[協調流程發佈為 Web 服務](../core/publishing-an-orchestration-as-a-web-service.md) </span><span class="sxs-lookup"><span data-stu-id="33346-208">[Publishing an Orchestration as a Web Service](../core/publishing-an-orchestration-as-a-web-service.md) </span></span>  
 [<span data-ttu-id="33346-209">如何將協調流程對應至 Web 服務</span><span class="sxs-lookup"><span data-stu-id="33346-209">How to Map Orchestrations to Web Services</span></span>](../core/how-to-map-orchestrations-to-web-services.md)