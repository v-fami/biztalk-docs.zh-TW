---
title: 最佳作法和 FTP 配接器的建議 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- best practices, FTP adapters
- FTP adapters, best practices
ms.assetid: f73b2016-d48c-48d8-9ba0-96e26b694d1e
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 85967756089be91939bf5b6f73b12d36ed8caa51
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22234486"
---
# <a name="best-practices-and-recommendations-for-the-ftp-adapter"></a><span data-ttu-id="bca27-102">最佳做法和建議，FTP 配接器</span><span class="sxs-lookup"><span data-stu-id="bca27-102">Best practices and recommendations for the FTP Adapter</span></span>
<span data-ttu-id="bca27-103">閱讀有關的最佳做法、 安全性建議和 FTP 配接器的增強功能。</span><span class="sxs-lookup"><span data-stu-id="bca27-103">Read about the best practices, security recommendations, and enhancements for the FTP adapter.</span></span>

## <a name="best-practices"></a><span data-ttu-id="bca27-104">最佳做法</span><span class="sxs-lookup"><span data-stu-id="bca27-104">Best practices</span></span>  
  
-   <span data-ttu-id="bca27-105">定期刪除暫存資料夾中部分接收的檔案，以避免檔案因使用電腦資源，而導致可能中斷服務。</span><span class="sxs-lookup"><span data-stu-id="bca27-105">Delete partially received files from the temporary folder on a regular basis to keep files from using computer resources and potentially disrupting service.</span></span>  
  
-   <span data-ttu-id="bca27-106">使用資料流處理伺服器時，會拒絕對新檔案的讀取，直到 MessageBox 資料庫收到整個檔案為止。</span><span class="sxs-lookup"><span data-stu-id="bca27-106">When working with a streaming server, deny read access to the new file until the MessageBox database receives the entire file.</span></span> <span data-ttu-id="bca27-107">若 FTP 配接器提交了部分檔案至 MessageBox 資料庫，則 MessageBox 資料庫將會成功儲存訊息，但是 FTP 配接器將無法刪除接收位置的部分訊息。</span><span class="sxs-lookup"><span data-stu-id="bca27-107">If a partial file is submitted to the MessageBox database by the FTP adapter, the MessageBox database will successfully store the message, but the FTP adapter will not be able to delete the partial message from the receive location.</span></span>  
  
-   <span data-ttu-id="bca27-108">若要確保 FTP 配接器接收處理常式的高可用性，應將 FTP 配接器接收處理常式設定為在已叢集的 BizTalk 主控件執行個體中執行。</span><span class="sxs-lookup"><span data-stu-id="bca27-108">To ensure high availability for the FTP adapter receive handler, the FTP adapter receive handler should be configured to run in a clustered BizTalk Host instance.</span></span> <span data-ttu-id="bca27-109">如需詳細資訊，請參閱[叢集主控件中執行配接器處理常式的考量](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)。</span><span class="sxs-lookup"><span data-stu-id="bca27-109">For more information see [Considerations for Running Adapter Handlers within a Clustered Host](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span></span>  

## <a name="security-recommendations-and-tips"></a><span data-ttu-id="bca27-110">安全性建議和秘訣</span><span class="sxs-lookup"><span data-stu-id="bca27-110">Security recommendations and tips</span></span>

<span data-ttu-id="bca27-111">BizTalk Server 可以從檔案傳輸通訊協定 (FTP) 伺服器接收檔案，並將檔案傳送至 FTP 伺服器的其他應用程式。</span><span class="sxs-lookup"><span data-stu-id="bca27-111">BizTalk Server can receive files from a File Transfer Protocol (FTP) server and send files to an FTP server for other applications.</span></span> <span data-ttu-id="bca27-112">BizTalk Server 不能做為 FTP 伺服器。</span><span class="sxs-lookup"><span data-stu-id="bca27-112">BizTalk Server does not act as an FTP server.</span></span>  
  
 <span data-ttu-id="bca27-113">FTP 的是，實際上就不安全： 使用者名稱、 密碼和其他認證周遊網路以純文字。</span><span class="sxs-lookup"><span data-stu-id="bca27-113">FTP is, by nature, not secure: The user name, password, and other credentials traverse the network in clear text.</span></span> <span data-ttu-id="bca27-114">同樣的，上傳或下載的檔案是以純文字移動，可輕易地在途中被檢視或修改。</span><span class="sxs-lookup"><span data-stu-id="bca27-114">Likewise, files uploaded or downloaded move across in clear text and can be easily viewed or tampered with along the way.</span></span> <span data-ttu-id="bca27-115">此外，攻擊者可以假冒 FTP 伺服器本身 (又稱為惡意伺服器攻擊)。</span><span class="sxs-lookup"><span data-stu-id="bca27-115">Moreover, an attacker could spoof the FTP server itself, known as a rogue server attack.</span></span> <span data-ttu-id="bca27-116">在這種情況下，您無法分辨特定 FTP 伺服器是否確實是您要通訊的電腦。</span><span class="sxs-lookup"><span data-stu-id="bca27-116">In this case you cannot tell if a particular FTP server is indeed the computer that you intended to communicate with.</span></span>  
  
 <span data-ttu-id="bca27-117">若要解決這些問題，FTP 配接器支援 SSL/TLS 通訊協定，可確保透過加密的資料機密性。</span><span class="sxs-lookup"><span data-stu-id="bca27-117">To overcome these problems, the FTP adapter supports the SSL/TLS protocol that ensures data confidentiality through encryption.</span></span>  
  
 <span data-ttu-id="bca27-118">如需一般安全性考量，當您使用 FTP 通訊協定，請參閱[Internet FAQ Archives](http://go.microsoft.com/fwlink/p/?LinkId=24779) (http://go.microsoft.com/fwlink/p/?LinkId=24779)。</span><span class="sxs-lookup"><span data-stu-id="bca27-118">For general security considerations when you use the FTP protocol, see the [Internet FAQ Archives](http://go.microsoft.com/fwlink/p/?LinkId=24779) (http://go.microsoft.com/fwlink/p/?LinkId=24779).</span></span>   
  
 <span data-ttu-id="bca27-119">建議您使用下列指導方針，在環境中部署 FTP 配接器並保護其安全：</span><span class="sxs-lookup"><span data-stu-id="bca27-119">We recommend that you use the following guidelines for securing and deploying the FTP adapter in your environment:</span></span>  

- <span data-ttu-id="bca27-120">保護您伺服器和限制存取資料。</span><span class="sxs-lookup"><span data-stu-id="bca27-120">Secure your server and limit access to the data.</span></span> <span data-ttu-id="bca27-121">由於 FTP 通訊協定並非安全的通訊協定，因此總是容易受到攻擊。</span><span class="sxs-lookup"><span data-stu-id="bca27-121">Since the FTP protocol is not a secure protocol, it will always be vulnerable.</span></span> <span data-ttu-id="bca27-122">您可以使用專用連線和限制 BizTalk Server 與 FTP 主機之間的伺服器與連線，來確保 FTP 伺服器的安全。</span><span class="sxs-lookup"><span data-stu-id="bca27-122">You can ensure that the FTP server is secure by using a dedicated connection, and limiting the server and the connection between BizTalk Server and the FTP host.</span></span> <span data-ttu-id="bca27-123">您也可以設定 FTP 伺服器的安全性原則，以與 FTP 用戶端安全地連線。</span><span class="sxs-lookup"><span data-stu-id="bca27-123">You can also set the security policies of the FTP server to allow for secure connections with the FTP client.</span></span>  

- <span data-ttu-id="bca27-124">設定 FTP 配接器使用安全通訊端層 (SSL) 通訊協定，以在配接器與 FTP 伺服器之間進行通訊。</span><span class="sxs-lookup"><span data-stu-id="bca27-124">Configure the FTP adapter to use Secure Sockets Layer (SSL) protocol for the communication between the adapter and the FTP server.</span></span> <span data-ttu-id="bca27-125">SSL 通訊協定可透過加密確保資料機密性無虞。</span><span class="sxs-lookup"><span data-stu-id="bca27-125">SSL protocol ensures data confidentiality through encryption.</span></span> <span data-ttu-id="bca27-126">這表示使用者識別碼與密碼都會加密，而不會以純文字傳送。</span><span class="sxs-lookup"><span data-stu-id="bca27-126">This means that user IDs and passwords are encrypted and not sent as plain text.</span></span> <span data-ttu-id="bca27-127">使用 FTP 配接器，您也可以選擇加密 FTP 連線的資料通道。</span><span class="sxs-lookup"><span data-stu-id="bca27-127">With the FTP adapter, you also have a choice to encrypt the data channel of the FTP connection.</span></span> <span data-ttu-id="bca27-128">請參閱**增強功能**（在本主題中）。</span><span class="sxs-lookup"><span data-stu-id="bca27-128">See **Enhancements** (in this topic).</span></span>
  
-   <span data-ttu-id="bca27-129">若要達成安全的檔案傳輸，設定 FTP 配接器所提供的 SSL 特定屬性。</span><span class="sxs-lookup"><span data-stu-id="bca27-129">To achieve secure file transfer, configure the SSL-specific properties provided by the FTP adapter.</span></span> <span data-ttu-id="bca27-130">請參閱**增強功能**（在本主題中）。</span><span class="sxs-lookup"><span data-stu-id="bca27-130">See **Enhancements** (in this topic).</span></span> 
  
-   <span data-ttu-id="bca27-131">FTP 配接器支援 FTP Request for Comments (RFC) 959。</span><span class="sxs-lookup"><span data-stu-id="bca27-131">The FTP adapter supports FTP Request for Comments (RFC) 959.</span></span> <span data-ttu-id="bca27-132">請參閱[World Wide Web Consortium (W3C)](http://go.microsoft.com/fwlink/p/?LinkId=24781) (http://go.microsoft.com/fwlink/p/?LinkId=24781)。</span><span class="sxs-lookup"><span data-stu-id="bca27-132">See the [World Wide Web Consortium (W3C)](http://go.microsoft.com/fwlink/p/?LinkId=24781) (http://go.microsoft.com/fwlink/p/?LinkId=24781).</span></span> <span data-ttu-id="bca27-133">FTP 配接器不支援「安全 FTP」(SFTP) 通訊協定。</span><span class="sxs-lookup"><span data-stu-id="bca27-133">The FTP adapter does not support the Secure FTP (SFTP) protocol.</span></span> <span data-ttu-id="bca27-134">請參閱[SFTP 配接器](../core/sftp-adapter.md)。</span><span class="sxs-lookup"><span data-stu-id="bca27-134">See the [SFTP adapter](../core/sftp-adapter.md).</span></span>
  
-   <span data-ttu-id="bca27-135">您可以跨防火牆使用 FTP 配接器。</span><span class="sxs-lookup"><span data-stu-id="bca27-135">You can use the FTP adapter across firewalls.</span></span> <span data-ttu-id="bca27-136">根據您所使用的防火牆類型，您可能要設定一個或多個下列防火牆屬性： 使用者名稱、 密碼、 電腦、 連接埠、 防火牆類型 (無、 socks 4、 socks 5)，和模式。</span><span class="sxs-lookup"><span data-stu-id="bca27-136">Depending on the type of firewall you use, you may have to configure one or more of the following firewall properties: username, password, computer, port, firewall type (none, socks 4, socks 5), and mode.</span></span>  
  
-   <span data-ttu-id="bca27-137">建議您將遠端 FTP 伺服器放在安全的位置。</span><span class="sxs-lookup"><span data-stu-id="bca27-137">We recommend you place the remote FTP server in a secure location.</span></span> <span data-ttu-id="bca27-138">您必須確定此伺服器的實體和網路安全性，讓惡意伺服器的攻擊降至最低。</span><span class="sxs-lookup"><span data-stu-id="bca27-138">You must ensure the physical and network security of this server to minimize rogue server attacks.</span></span>  
  
-   <span data-ttu-id="bca27-139">FTP 配接器支援使用「企業單一登入」(SSO)。</span><span class="sxs-lookup"><span data-stu-id="bca27-139">The FTP adapter supports the use of Enterprise Single Sign-On (SSO).</span></span> <span data-ttu-id="bca27-140">請參閱[實作企業單一登入](../core/implementing-enterprise-single-sign-on.md)。</span><span class="sxs-lookup"><span data-stu-id="bca27-140">See [Implementing Enterprise Single Sign-On](../core/implementing-enterprise-single-sign-on.md).</span></span>  
  
-   <span data-ttu-id="bca27-141">根據預設，FTP 接收配接器因為會在下載後，從伺服器刪除檔案，所以必須具有 FTP 伺服器的寫入權限。</span><span class="sxs-lookup"><span data-stu-id="bca27-141">By default, the FTP receive adapter must have write permissions in the FTP server because the adapter deletes the file from the server after download.</span></span> <span data-ttu-id="bca27-142">不過，FTP 配接器支援從唯讀位置下載檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-142">However, the FTP adapter supports downloading of files from read-only locations.</span></span> <span data-ttu-id="bca27-143">請參閱**增強功能**（在本主題中）。</span><span class="sxs-lookup"><span data-stu-id="bca27-143">See **Enhancements** (in this topic).</span></span>
  
- <span data-ttu-id="bca27-144">使用 FTP 傳送埠時，必須在設定傳送埠時指定和儲存使用者識別碼與密碼組合。</span><span class="sxs-lookup"><span data-stu-id="bca27-144">When using an FTP send port, you must specify and store a user ID and password combination when configuring the send port.</span></span> <span data-ttu-id="bca27-145">配接器會使用此資訊，連線到 FTP 伺服器。</span><span class="sxs-lookup"><span data-stu-id="bca27-145">The adapter uses this information to connect to the FTP server.</span></span> <span data-ttu-id="bca27-146">使用者認證是以純文字儲存於 SQL Server 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="bca27-146">The user credentials are stored in a SQL Server database in plain text.</span></span> <span data-ttu-id="bca27-147">在動態傳送埠中，認證會傳送到 FTP 伺服器。</span><span class="sxs-lookup"><span data-stu-id="bca27-147">In a dynamic send port, credentials are sent to the FTP server.</span></span> <span data-ttu-id="bca27-148">若生產環境需要較強的安全性，請對伺服器使用匿名認證。</span><span class="sxs-lookup"><span data-stu-id="bca27-148">If production environment requirements warrant stronger security, use anonymous credentials to the server.</span></span>  
  
-   <span data-ttu-id="bca27-149">當系統提示您的帳戶時，我們建議您輸入現有的使用者帳戶，而不是本機系統帳戶。</span><span class="sxs-lookup"><span data-stu-id="bca27-149">When the system prompts you for an account, we recommend that you enter an existing user account, and not the local system account.</span></span> <span data-ttu-id="bca27-150">如此可讓您實作較佳的安全性，並讓配接器以自動模式執行，而不需登入。</span><span class="sxs-lookup"><span data-stu-id="bca27-150">This enables you to implement better security, and allows the adapter to run in unattended mode, without logging on.</span></span>  

## <a name="enhancements"></a><span data-ttu-id="bca27-151">功能增強</span><span class="sxs-lookup"><span data-stu-id="bca27-151">Enhancements</span></span>

### <a name="transferring-data-to-and-from-a-secure-ftp-server"></a><span data-ttu-id="bca27-152">與安全的 FTP 伺服器傳輸資料</span><span class="sxs-lookup"><span data-stu-id="bca27-152">Transferring data to and from a secure FTP server</span></span>  
 <span data-ttu-id="bca27-153">FTP 配接器支援從 FTPS 伺服器傳輸檔案透過安全通訊端層 (SSL) / 傳輸層安全性 (TLS)。</span><span class="sxs-lookup"><span data-stu-id="bca27-153">The FTP adapter supports file transfers from an FTPS server over Secure Sockets Layer (SSL)/Transport Level Security (TLS).</span></span> <span data-ttu-id="bca27-154">SSL/TLS 可透過加密確保資料的機密性。</span><span class="sxs-lookup"><span data-stu-id="bca27-154">SSL/TLS ensures data confidentiality through encryption.</span></span> <span data-ttu-id="bca27-155">您必須設定配接器所提供的 SSL 特有屬性，以啟用安全模式。</span><span class="sxs-lookup"><span data-stu-id="bca27-155">You must enable the secure mode by configuring SSL-specific properties provided by the adapter.</span></span> <span data-ttu-id="bca27-156">由於配接器同時允許在安全 FTP 伺服器讀取及寫入資料，因此在設定傳送處理常式/傳送埠以及使用接收處理常式/接收位置時，也可使用 SSL 特有屬性。</span><span class="sxs-lookup"><span data-stu-id="bca27-156">Because the adapter allows for both reading and writing data from a secure FTP server, the SSL-specific properties are available when configuring send handlers/ports and also with receive handlers/locations.</span></span>  

<span data-ttu-id="bca27-157">從開始[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]，FTP 配接器已不再需要 SYST 命令：</span><span class="sxs-lookup"><span data-stu-id="bca27-157">Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)], the FTP adapter no longer requires the SYST command:</span></span> 

- <span data-ttu-id="bca27-158">**FTP 伺服器類型**屬性 – 設定此屬性，以使用不需要 SYST 命令的伺服器。</span><span class="sxs-lookup"><span data-stu-id="bca27-158">**FTP Server Type** property – Set this property to use a server that doesn't require the SYST command.</span></span>
   
 <span data-ttu-id="bca27-159">可用來設定 SSL 特有屬性的選項如下：</span><span class="sxs-lookup"><span data-stu-id="bca27-159">The following options are available for configuring the SSL-specific properties:</span></span>  

-   <span data-ttu-id="bca27-160">**使用 SSL**屬性 – 設定此屬性，所以 FTP 配接器必須使用 SSL，每個傳輸工作階段。</span><span class="sxs-lookup"><span data-stu-id="bca27-160">**Use SSL** property – Set this property so that FTP adapter must use SSL for each transfer session.</span></span>  
  
-   <span data-ttu-id="bca27-161">**啟用資料保護**屬性 – 設定此屬性，以開啟 資料加密。</span><span class="sxs-lookup"><span data-stu-id="bca27-161">**Enable Data Protection** property – Set this property to turn on data encryption.</span></span> <span data-ttu-id="bca27-162">FTPS 伺服器的安全性原則必須允許配接器使用安全 SSL 連線，此設定才可正常運作。</span><span class="sxs-lookup"><span data-stu-id="bca27-162">The security policies of the FTPS server must allow for secure SSL connections with the adapter in order for this setting to work.</span></span>  
  
-   <span data-ttu-id="bca27-163">**FTPS 連線模式**屬性 – 設定此屬性來判斷何時啟動安全性：</span><span class="sxs-lookup"><span data-stu-id="bca27-163">**FTPS Connection Mode** property – Set this property to determine when security is activated:</span></span>  
  
    -   <span data-ttu-id="bca27-164">在**隱含**模式中，安全性會自動開啟，因為介面卡連線到伺服器。</span><span class="sxs-lookup"><span data-stu-id="bca27-164">In **Implicit** mode, security is automatically turned on as soon as the adapter connects to the server.</span></span>  
  
    -   <span data-ttu-id="bca27-165">在**Explicit**模式中，配接器傳送至起始安全控制通道的命令。</span><span class="sxs-lookup"><span data-stu-id="bca27-165">In **Explicit** mode, the adapter sends a command to initiate a secure control channel.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bca27-166">FTP 配接器不支援對伺服器憑證進行撤銷檢查。</span><span class="sxs-lookup"><span data-stu-id="bca27-166">The FTP adapter does not support revocation checks on the server certificates.</span></span>  
  
### <a name="support-for-downloading-files-from-locations-marked-as-read-only"></a><span data-ttu-id="bca27-167">支援從標示為唯讀的位置下載檔案</span><span class="sxs-lookup"><span data-stu-id="bca27-167">Support for downloading files from locations marked as read-only</span></span>  
<span data-ttu-id="bca27-168">FTP 配接器支援從唯讀的檔案位置的檔案下載。</span><span class="sxs-lookup"><span data-stu-id="bca27-168">The FTP adapter supports download of files from read-only file locations.</span></span> <span data-ttu-id="bca27-169">配接器現在會將下載檔案的清單保存在資料庫中。</span><span class="sxs-lookup"><span data-stu-id="bca27-169">The adapter now maintains a list of downloaded files in a database.</span></span> <span data-ttu-id="bca27-170">下次下載時，FTP 伺服器上的檔案清單會與配接器所維護的檔案清單進行比較，而僅下載伺服器上多出的新檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-170">For the next download, the list of files on the FTP server is compared to the list of files maintained by the adapter, and only new files on the server are downloaded.</span></span> <span data-ttu-id="bca27-171">若要支援現有的檔案兩次下載之間的更新位置的情況下，您可以設定同時檢查檔案時間戳記，設定配接器**啟用時間戳記比較**屬性為 ftp 接收位置。</span><span class="sxs-lookup"><span data-stu-id="bca27-171">To support scenarios where an existing file is updated between two downloads, you can configure the adapter to also check file timestamps by setting the **Enable Timestamp Comparison** property for the FTP receive location.</span></span> <span data-ttu-id="bca27-172">在這種情況下，即使檔案名稱相同，但更新時間戳記時，配接器會下載檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-172">In such cases, even if the file name is same but the timestamp is updated, the adapter downloads the file.</span></span>  
  
 <span data-ttu-id="bca27-173">有時候 FTP 伺服器不支援讓修改過的時間戳記與檔案產生關聯。</span><span class="sxs-lookup"><span data-stu-id="bca27-173">Sometimes the FTP server does not support associating a modified timestamp with a file.</span></span> <span data-ttu-id="bca27-174">在這種情況下，配接器可讓您指定過了多少時間就要重新下載檔案的間隔。</span><span class="sxs-lookup"><span data-stu-id="bca27-174">In such cases, the adapter enables you to specify an interval after which the file will be downloaded again.</span></span> <span data-ttu-id="bca27-175">您可以設定此間隔設定**重新下載間隔**屬性為 ftp 接收位置。</span><span class="sxs-lookup"><span data-stu-id="bca27-175">You configure this interval by setting the **Redownload Interval** property for the FTP receive location.</span></span>  
  
 <span data-ttu-id="bca27-176">下表列出的 FTP 配接器預期的行為不同的值設定為**下載後刪除**，**啟用時間戳記比較**和**重新下載間隔**屬性。</span><span class="sxs-lookup"><span data-stu-id="bca27-176">The following table lists the expected behavior of the FTP adapter for different values set for the **Delete After Download**, **Enable Timestamp Comparison** and **Redownload Interval** properties.</span></span>  
  
|<span data-ttu-id="bca27-177">下載後刪除</span><span class="sxs-lookup"><span data-stu-id="bca27-177">Delete After Download</span></span>|<span data-ttu-id="bca27-178">啟用時間戳記比較</span><span class="sxs-lookup"><span data-stu-id="bca27-178">Enable Timestamp Comparison</span></span>|<span data-ttu-id="bca27-179">重新下載間隔</span><span class="sxs-lookup"><span data-stu-id="bca27-179">Redownload Interval</span></span>|<span data-ttu-id="bca27-180">配接器行為</span><span class="sxs-lookup"><span data-stu-id="bca27-180">Adapter Behavior</span></span>|  
|---|---|---|---|  
|<span data-ttu-id="bca27-181">是</span><span class="sxs-lookup"><span data-stu-id="bca27-181">Yes</span></span>|<span data-ttu-id="bca27-182">不適用</span><span class="sxs-lookup"><span data-stu-id="bca27-182">Not applicable</span></span>|<span data-ttu-id="bca27-183">不適用</span><span class="sxs-lookup"><span data-stu-id="bca27-183">Not applicable</span></span>|<span data-ttu-id="bca27-184">配接器會在下載檔案之後，從 FTP 伺服器刪除該檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-184">The adapter deletes a file from the FTP server after downloading it.</span></span> <span data-ttu-id="bca27-185">這是配接器的預設行為。</span><span class="sxs-lookup"><span data-stu-id="bca27-185">This is the default behavior of the adapter.</span></span>|  
|<span data-ttu-id="bca27-186">否</span><span class="sxs-lookup"><span data-stu-id="bca27-186">No</span></span>|<span data-ttu-id="bca27-187">是</span><span class="sxs-lookup"><span data-stu-id="bca27-187">Yes</span></span>|<span data-ttu-id="bca27-188">不適用</span><span class="sxs-lookup"><span data-stu-id="bca27-188">Not applicable</span></span>|<span data-ttu-id="bca27-189">配接器在下載檔案之後，不會從 FTP 伺服器刪除該檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-189">The adapter does not delete a file from the FTP server after downloading it.</span></span> <span data-ttu-id="bca27-190">但是配接器會使用 MDTM 命令，比較檔案的上次修改時間戳記。</span><span class="sxs-lookup"><span data-stu-id="bca27-190">Instead the adapter compares the file’s last modified timestamp using the MDTM command.</span></span> <span data-ttu-id="bca27-191">配接器會根據時間戳記重新下載檔案。</span><span class="sxs-lookup"><span data-stu-id="bca27-191">Depending on the timestamp, the adapter downloads the file again.</span></span>|  
|<span data-ttu-id="bca27-192">否</span><span class="sxs-lookup"><span data-stu-id="bca27-192">No</span></span>|<span data-ttu-id="bca27-193">否</span><span class="sxs-lookup"><span data-stu-id="bca27-193">No</span></span>|<span data-ttu-id="bca27-194">適用</span><span class="sxs-lookup"><span data-stu-id="bca27-194">Applicable</span></span>|<span data-ttu-id="bca27-195">FTP 配接器會在過了您指定的間隔之後從 FTP 伺服器下載檔案，無論檔案是否經過修改。</span><span class="sxs-lookup"><span data-stu-id="bca27-195">The FTP adapter downloads a file from the FTP server after the interval you specify, irrespective of whether the file has been modified or not.</span></span>|  
  
### <a name="support-for-atomic-file-transfer-in-ascii-mode"></a><span data-ttu-id="bca27-196">支援在 ASCII 模式下以不可部分完成的方式傳輸檔案</span><span class="sxs-lookup"><span data-stu-id="bca27-196">Support for atomic file transfer in ASCII mode</span></span>  
 <span data-ttu-id="bca27-197">FTP 配接器針對 ASCII 模式支援不可部分完成檔案傳輸。</span><span class="sxs-lookup"><span data-stu-id="bca27-197">The FTP adapter supports atomic file transfer for ASCII mode.</span></span> <span data-ttu-id="bca27-198">若要啟用針對 ASCII 模式的不可部分完成檔案傳輸，配接器使用**暫存資料夾**屬性。</span><span class="sxs-lookup"><span data-stu-id="bca27-198">To enable atomic file transfer for ASCII mode, the adapter uses the **Temporary Folder** property.</span></span> <span data-ttu-id="bca27-199">此屬性會定義檔案要先移至 FTP 伺服器上的哪個暫存位置。</span><span class="sxs-lookup"><span data-stu-id="bca27-199">This property defines a temporary location on the FTP server where the file is first moved to.</span></span> <span data-ttu-id="bca27-200">檔案在完整傳輸至暫存位置後，接著就會移至 FTP 伺服器上的相關位置。</span><span class="sxs-lookup"><span data-stu-id="bca27-200">After the file is completely transferred to the temporary location, the file is then moved to the relevant location on the FTP server.</span></span> <span data-ttu-id="bca27-201">這裡假設在 FTP 伺服器上的暫存位置與相關位置之間的檔案傳輸是以不可部分完成的方式進行。</span><span class="sxs-lookup"><span data-stu-id="bca27-201">Here, the assumption is that the file transfer is atomic between the temporary location and the relevant location on the FTP server.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bca27-202">使用 ASCII 檔案的暫存資料夾的擴充功能不只適用於**傳送**，並不適用於**接收**。</span><span class="sxs-lookup"><span data-stu-id="bca27-202">The extension of using temporary folder to ASCII file is applicable only for the **Send**, and does not apply to **Receive**.</span></span> <span data-ttu-id="bca27-203">實作這項功能的主要原因是，第三方應用程式會讀取檔案完全寫入之前。</span><span class="sxs-lookup"><span data-stu-id="bca27-203">The primary reason for implementing this feature is that, a third party application will not read a file until it is fully written.</span></span> <span data-ttu-id="bca27-204">在 BizTalk 中正在接收檔案，配接器會將檔案提交至 BizTalk 完整讀取之後，才。</span><span class="sxs-lookup"><span data-stu-id="bca27-204">In the case of BizTalk receiving the file, the adapter will submit the file to BizTalk only after it is completely read.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bca27-205">在二進位模式中，**暫存資料夾**屬性也可用來恢復檔案傳輸失敗時之間。</span><span class="sxs-lookup"><span data-stu-id="bca27-205">In binary mode, the **Temporary Folder** property can also be used to resume file transfer if there is a failure in between.</span></span> <span data-ttu-id="bca27-206">這並不適用於 ASCII 模式。</span><span class="sxs-lookup"><span data-stu-id="bca27-206">This is not applicable for ASCII mode.</span></span> <span data-ttu-id="bca27-207">針對 ASCII 模式**暫存資料夾**屬性只適用於不可部分完成檔案傳輸。</span><span class="sxs-lookup"><span data-stu-id="bca27-207">For ASCII mode, the **Temporary Folder** property is only used for atomic file transfer.</span></span>  
  
 
## <a name="next"></a><span data-ttu-id="bca27-208">下一個</span><span class="sxs-lookup"><span data-stu-id="bca27-208">Next</span></span> 
[<span data-ttu-id="bca27-209">設定 FTP 配接器</span><span class="sxs-lookup"><span data-stu-id="bca27-209">Configuring the FTP Adapter</span></span>](../core/configuring-the-ftp-adapter.md)  

## <a name="see-also"></a><span data-ttu-id="bca27-210">另請參閱</span><span class="sxs-lookup"><span data-stu-id="bca27-210">See Also</span></span>  
 <span data-ttu-id="bca27-211">[接收和傳送伺服器的連接埠](../core/ports-for-the-receive-and-send-servers.md) </span><span class="sxs-lookup"><span data-stu-id="bca27-211">[Ports for the Receive and Send Servers](../core/ports-for-the-receive-and-send-servers.md) </span></span>  
 [<span data-ttu-id="bca27-212">最小安全性使用者權限</span><span class="sxs-lookup"><span data-stu-id="bca27-212">Minimum Security User Rights</span></span>](../core/minimum-security-user-rights.md)
