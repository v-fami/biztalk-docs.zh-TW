---
title: "已知問題與 EDI 傳送處理 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1325dcd9-5dbb-48bb-b5a3-1502d1424d4e
caps.latest.revision: "31"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fbebfa213aa125252a8c58e246df376e2a36527d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="known-issues-with-edi-send-processing"></a><span data-ttu-id="c4a95-102">EDI 傳送處理的已知問題</span><span class="sxs-lookup"><span data-stu-id="c4a95-102">Known Issues with EDI Send Processing</span></span>
<span data-ttu-id="c4a95-103">本主題說明處理 EDI 傳送管線的已知問題。</span><span class="sxs-lookup"><span data-stu-id="c4a95-103">This topic describes known issues with processing in the EDI send pipeline.</span></span>  
  
## <a name="x12-implied-decimal-point-causes-length-validation-to-fail"></a><span data-ttu-id="c4a95-104">X12 隱含的小數點導致長度驗證失敗</span><span class="sxs-lookup"><span data-stu-id="c4a95-104">X12 Implied Decimal Point Causes Length Validation to Fail</span></span>  
 <span data-ttu-id="c4a95-105">**徵兆**</span><span class="sxs-lookup"><span data-stu-id="c4a95-105">**Symptom**</span></span>  
  
 <span data-ttu-id="c4a95-106">當 EDI 傳送管線在外寄的 EDI 交換中，將中繼 XML 中的 10 進制數值轉換成 Nn 格式的數字時，XML 交換的長度驗證程序失敗。</span><span class="sxs-lookup"><span data-stu-id="c4a95-106">When the EDI send pipeline converts a base-10 numeric value in the intermediate XML to a number in the format Nn in the outgoing EDI interchange, the XML interchange fails length validation.</span></span>  
  
 <span data-ttu-id="c4a95-107">**可能的原因**</span><span class="sxs-lookup"><span data-stu-id="c4a95-107">**Possible Cause**</span></span>  
  
 <span data-ttu-id="c4a95-108">在序列化 X12 編碼的 EDI 交換時，EDI 傳送管線永遠都會將 10 進制數值轉換成具有隱含小數點的 Nn 格式數字。</span><span class="sxs-lookup"><span data-stu-id="c4a95-108">When serializing an X12-encoded EDI interchange, the EDI send pipelines will always convert a base-10 numeric value to a number in the format Nn with an implied decimal point.</span></span> <span data-ttu-id="c4a95-109">例如，如果中繼 XML 檔案中有個值為 12.34，而其數字型別指定為 N2 時，EDI 傳送管線便會在 EDI 交換中將它轉換成 1234。</span><span class="sxs-lookup"><span data-stu-id="c4a95-109">For example, if there is a value in the intermediate XML file of 12.34, the EDI send pipeline will convert it in the EDI interchange to 1234 when it is specified as numeric type N2.</span></span> <span data-ttu-id="c4a95-110">10 進制數值的長度將比 Nn 格式的數字大一。</span><span class="sxs-lookup"><span data-stu-id="c4a95-110">The length of the base-10 numeric value will be one greater than the length of the number in the format Nn.</span></span> <span data-ttu-id="c4a95-111">如果 Nn 格式數字的長度是最大值，中繼 XML 中的 10 進制數值 XML 長度驗證可能會失敗。</span><span class="sxs-lookup"><span data-stu-id="c4a95-111">If the length of the number in the format Nn is the maximum, the base-10 numeric value in the intermediate XML could fail XML length validation.</span></span>  
  
 <span data-ttu-id="c4a95-112">這個問題只有在 X12 編碼的交換中才會發生。</span><span class="sxs-lookup"><span data-stu-id="c4a95-112">This is only an issue with X12-encoded interchanges.</span></span>  
  
 <span data-ttu-id="c4a95-113">**解決方式**</span><span class="sxs-lookup"><span data-stu-id="c4a95-113">**Resolution**</span></span>  
  
 <span data-ttu-id="c4a95-114">在 XML 數字的最大長度值加上 1 的值。</span><span class="sxs-lookup"><span data-stu-id="c4a95-114">Add a value of 1 to the maximum length value of the XML number.</span></span>  
  
## <a name="control-numbers-may-need-to-be-reset-archived-or-purged"></a><span data-ttu-id="c4a95-115">控制編號可能必須重設、封存或清除</span><span class="sxs-lookup"><span data-stu-id="c4a95-115">Control Numbers May Need to Be Reset, Archived, or Purged</span></span>  
 <span data-ttu-id="c4a95-116">如果有任何控制編號的長度已達到欄位長度限制的上限，BizTalk Server 會引發錯誤並擱置交換。</span><span class="sxs-lookup"><span data-stu-id="c4a95-116">If any control number reaches the length restriction limit for the field, BizTalk Server will raise an error and suspend the interchange.</span></span> <span data-ttu-id="c4a95-117">您必須重設輸入於 [EDI 屬性] 或 [EDI 全域屬性] 對話方塊中的控制編號。</span><span class="sxs-lookup"><span data-stu-id="c4a95-117">You will have to reset the control number entered in the EDI Properties or EDI Global Properties dialog box.</span></span>  
  
 <span data-ttu-id="c4a95-118">控制編號儲存在 BizTalk MessageBox 資料庫的 dbo.EdiSequenceNumbers 資料表中。</span><span class="sxs-lookup"><span data-stu-id="c4a95-118">Control numbers are saved in the dbo.EdiSequenceNumbers table of the BizTalk MessageBox database.</span></span> <span data-ttu-id="c4a95-119">您應該視情況清除資料表中的控制編號或是封存控制編號，以便管理這份資料庫資料表。</span><span class="sxs-lookup"><span data-stu-id="c4a95-119">You should manage this database table by purging the control numbers from the table or archiving the control numbers, as appropriate.</span></span>  
  
 <span data-ttu-id="c4a95-120">您也可以選取 啟用自動重設控制編號**重設為下限超出範圍時**EDI 屬性 對話方塊中。</span><span class="sxs-lookup"><span data-stu-id="c4a95-120">You can also enable automatic reset of control numbers by selecting **Reset to lower limit when out of bound** in the EDI Properties dialog box.</span></span>  
  
## <a name="the-data-element-name-in-a-context-property-name-contains-an-underscore-not-a-period"></a><span data-ttu-id="c4a95-121">內容屬性名稱中的資料元素名稱包含底線，而非句號</span><span class="sxs-lookup"><span data-stu-id="c4a95-121">The Data Element Name in a Context Property Name Contains an Underscore, Not a Period</span></span>  
 <span data-ttu-id="c4a95-122">EDI 區段內資料元素的名稱包含句號，例如 UNB2.1 (UNB2 Sender 區段的識別欄位)。</span><span class="sxs-lookup"><span data-stu-id="c4a95-122">The name of a data element within an EDI segment contains a period, for example, UNB2.1, which is the identification field for the UNB2 Sender segment.</span></span> <span data-ttu-id="c4a95-123">不過，當 EDI 內容屬性中包含資料元素名稱時 (例如，在傳送埠的篩選運算式中)，便會將句號取代為底線。</span><span class="sxs-lookup"><span data-stu-id="c4a95-123">However, when the data element name is included as part of an EDI context property (for example, in the filter expression of a send port), the period is replaced with an underscore.</span></span> <span data-ttu-id="c4a95-124">例如，Sender Identification 資料元素是 EDI.UNB2_1，不是 EDI.UNB2.1。</span><span class="sxs-lookup"><span data-stu-id="c4a95-124">For example, the context property for the Sender Identification data element is EDI.UNB2_1, not EDI.UNB2.1.</span></span> <span data-ttu-id="c4a95-125">這是因為內容屬性名稱不支援句號。</span><span class="sxs-lookup"><span data-stu-id="c4a95-125">The reason for this is that a period is not supported in a context property name.</span></span>  
  
## <a name="context-property-values-from-data-elements-must-not-contain-leading-or-trailing-spaces-in-filter-expressions"></a><span data-ttu-id="c4a95-126">資料元素中的內容屬性值在篩選運筫式中不能包含前置或尾端空格</span><span class="sxs-lookup"><span data-stu-id="c4a95-126">Context Property Values from Data Elements Must Not Contain Leading or Trailing Spaces in Filter Expressions</span></span>  
 <span data-ttu-id="c4a95-127">如果 EDI 交換的信封中的資料元素包含前置或尾端空格，而接收管線又以該資料元素的值升級內容屬性，則接收管線將會從內容屬性中移除前置或尾端空格。</span><span class="sxs-lookup"><span data-stu-id="c4a95-127">If a data element in the envelope of an EDI interchange contains leading or trailing spaces, and a receive pipeline promotes a context property with the value of that data element, the receive pipeline will remove the leading or trailing spaces from the context property.</span></span> <span data-ttu-id="c4a95-128">因此，使用該內容屬性建立篩選運算式時，您必須輸入不含前置或尾端空格的屬性值。</span><span class="sxs-lookup"><span data-stu-id="c4a95-128">As a result, if you create a filter expression with that context property, you must enter a value for the property that does not contain leading or trailing spaces.</span></span> <span data-ttu-id="c4a95-129">如果您的篩選運算式包含前置或尾端空格，則篩選運算式不會解析成與內容屬性相符的值，它將不會包含前置或尾端空格。</span><span class="sxs-lookup"><span data-stu-id="c4a95-129">If your filter expression were to contain leading or trailing spaces, the filter expression would not resolve in a match with the context property, which will not contain leading or trailing spaces.</span></span>  
  
## <a name="default-party-as-interchange-receiver-properties-for-preserved-interchange-will-cause-the-send-pipeline-to-fail"></a><span data-ttu-id="c4a95-130">以預設合作對象做為保留交換的交換接收者屬性將導致傳送管線失敗</span><span class="sxs-lookup"><span data-stu-id="c4a95-130">Default Party as Interchange Receiver Properties for Preserved Interchange Will Cause the Send Pipeline to Fail</span></span>  
 <span data-ttu-id="c4a95-131">如果 BizTalk Server 收到應該保留的批次交換 (交換因為發生錯誤而擱置)，若做為交換接收者之合作對象的屬性設定為其預設值，訂閱該交換的傳送管線將會失敗。</span><span class="sxs-lookup"><span data-stu-id="c4a95-131">If BizTalk Server receives a batched interchange that should be preserved (with the interchange suspended on error), the send pipeline that subscribes to the interchange will fail if the properties for the party as interchange receiver are set to their default values.</span></span> <span data-ttu-id="c4a95-132">這些屬性，例如 ISA5 (傳送者辨識符號) 和 ISA6 (傳送者識別項)，必須設定為有效的值。</span><span class="sxs-lookup"><span data-stu-id="c4a95-132">These properties, such as ISA5, Sender qualifier, and ISA6, Sender identifier, must be set to valid values.</span></span> <span data-ttu-id="c4a95-133">BizTalk Server 將會發佈錯誤，指出由於合作對象組態無效，因此無法序列化訊息。</span><span class="sxs-lookup"><span data-stu-id="c4a95-133">BizTalk Server will post an error indicating that the message could not be serialized due to an invalid party configuration.</span></span> <span data-ttu-id="c4a95-134">這種處理方式並不正確，因為保留的交換在其標頭中具有必要的組態設定，例如傳送者辨識符號和傳送者識別項。</span><span class="sxs-lookup"><span data-stu-id="c4a95-134">This processing is not correct, because a preserved interchange has the required configuration settings, such as Sender qualifier and Sender identifier, in its headers.</span></span>  
  
## <a name="the-decimal-notation-in-a-message-will-be-changed-if-the-send-side-party-or-global-setting-specifies-a-different-decimal-notation"></a><span data-ttu-id="c4a95-135">如果傳送端合作對象或全域設定指定不同的小數點標記，訊息中的小數點標記將會改變</span><span class="sxs-lookup"><span data-stu-id="c4a95-135">The Decimal Notation in a Message Will Be Changed If the Send-Side Party or Global Setting Specifies a Different Decimal Notation</span></span>  
 <span data-ttu-id="c4a95-136">如果交換中使用的小數點標記與 UNA3 合作對象屬性針對外寄訊息所指定的小數點標記不同，BizTalk Server 便會在序列化交換以便傳送時，變更該交換的信封中所使用的小數點標記。</span><span class="sxs-lookup"><span data-stu-id="c4a95-136">If the decimal notation used in an interchange is different from the decimal notation specified for outgoing messages by the UNA3 party property, BizTalk Server will change the decimal notation used in the envelope of the interchange when it serializes it for sending.</span></span> <span data-ttu-id="c4a95-137">如果使用的是 UNA3 全域屬性而非 UNA3 合作對象屬性，也會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="c4a95-137">This will also be the case if the UNA3 global property is used instead than the UNA3 party property.</span></span> <span data-ttu-id="c4a95-138">例如，如果內送訊息中使用的小數點標記是句號，而決定外寄訊息小數點標記的 UNA3 合作對象屬性或 UNA3 全域屬性指定的是逗號，BizTalk Server 便會將外寄訊息中的小數點標記改成逗號。</span><span class="sxs-lookup"><span data-stu-id="c4a95-138">For example, if the decimal notation used in an incoming message is a period, and the UNA3 party property or the UNA3 global property that determines the decimal notation of an outgoing message specifies a comma, BizTalk Server will change the decimal notation in the outgoing message to a comma.</span></span>  
  
## <a name="edi-send-pipelines-cannot-be-executed-from-within-an-orchestration"></a><span data-ttu-id="c4a95-139">EDI 傳送管線無法從協調流程內部執行</span><span class="sxs-lookup"><span data-stu-id="c4a95-139">EDI Send Pipelines Cannot Be Executed from within an Orchestration</span></span>  
 <span data-ttu-id="c4a95-140">在[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]，您通常可以執行 「 運算式 」 圖形內的傳送管線的協調流程。</span><span class="sxs-lookup"><span data-stu-id="c4a95-140">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you can normally execute send pipelines within an Expression shape in an orchestration.</span></span> <span data-ttu-id="c4a95-141">不過，這並不適用於 EDISend 管線或 AS2EdiSend 管線。</span><span class="sxs-lookup"><span data-stu-id="c4a95-141">However, this will not work with the EDISend pipeline or the AS2EdiSend pipeline.</span></span> <span data-ttu-id="c4a95-142">這些管線必須從傳送埠內部執行。</span><span class="sxs-lookup"><span data-stu-id="c4a95-142">These pipelines must be executed within a send port.</span></span> <span data-ttu-id="c4a95-143">如果您嘗試在協調流程中的「運算式」圖形中執行 EDISend 管線或 AS2EdiSend 管線，管線不會繫結至傳送埠，而且訊息也會擱置。</span><span class="sxs-lookup"><span data-stu-id="c4a95-143">If you attempt to execute the EDISend pipeline or the AS2EdiSend pipeline in an Expression shape in an orchestration, the pipeline will not be bound to a send port, and the message will be suspended.</span></span>  
  
## <a name="biztalk-edi-application-must-not-be-modified"></a><span data-ttu-id="c4a95-144">不得修改 BizTalk EDI 應用程式</span><span class="sxs-lookup"><span data-stu-id="c4a95-144">BizTalk EDI Application Must Not Be Modified</span></span>  
 <span data-ttu-id="c4a95-145">不得修改或刪除 BizTalk EDI 應用程式內的成品。</span><span class="sxs-lookup"><span data-stu-id="c4a95-145">Artifacts in the BizTalk EDI Application must not be modified or deleted.</span></span> <span data-ttu-id="c4a95-146">應用程式一經修改就無法還原，取消設定和重新設定 EDI 與 AS2 的功能也不行。</span><span class="sxs-lookup"><span data-stu-id="c4a95-146">If this application is modified, there is no way for you to revert to the original application by unconfiguring and reconfiguring the EDI and AS2 features.</span></span>  
  
## <a name="using-the-default-row-in-the-functional-group-header-grid-can-result-in-a-message-type-mismatch-between-the-interchange-header-and-the-group-header"></a><span data-ttu-id="c4a95-147">在功能群組標頭格線中使用預設資料列可能會導致訊息類型不相符之間交換標頭和群組標頭</span><span class="sxs-lookup"><span data-stu-id="c4a95-147">Using the Default Row in the Functional Group Header Grid can Result in a Message-Type Mismatch Between the Interchange Header and the Group Header</span></span>  
 <span data-ttu-id="c4a95-148">如果 UNH2.1 外寄 EDIFACT 編碼交換的值不符合方格中 UNG 和 UNH 區段定義頁面 針對訊息類型 UNH2.1 的值，UNG1 輸入訊息中的值可能無法對應至 UNH2.1 的值。</span><span class="sxs-lookup"><span data-stu-id="c4a95-148">If the value of UNH2.1 of an outgoing EDIFACT-encoded interchange does not match the value of "For message type UNH2.1" in the grid in the UNG and UNH Segment Definition page, the value of UNG1 entered in the message may not correspond to the value of UNH2.1.</span></span>  
  
 <span data-ttu-id="c4a95-149">這可能是因為 BizTalk 會填入訊息值 UNG1 方格的預設資料列中的即使訊息沒有與 UNH2.1 項目，該預設資料列的相符項目。</span><span class="sxs-lookup"><span data-stu-id="c4a95-149">This can occur because BizTalk will populate the message with the values for UNG1 in the default row of the grid even if the message does not have a match with the UNH2.1 element of that default row.</span></span>  
  
 <span data-ttu-id="c4a95-150">如果外寄 X12 編碼交換的 ST1 的值不符合方格中 GS 和 ST 區段定義頁面 針對 ST1 的值，訊息中所輸入的 GS1 的值將會動態地決定根據 ST1 的值。</span><span class="sxs-lookup"><span data-stu-id="c4a95-150">If the value of ST1 of an outgoing X12-encoded interchange does not match the value of “For ST1” in the grid in the GS and ST Segment Definition page, the value of GS1 entered in the message will be dynamically determined based on the value of ST1.</span></span>  
  
## <a name="invalid-character-in-data-element"></a><span data-ttu-id="c4a95-151">無效的字元資料元素中</span><span class="sxs-lookup"><span data-stu-id="c4a95-151">Invalid Character in Data Element</span></span>  
 <span data-ttu-id="c4a95-152">**徵兆**</span><span class="sxs-lookup"><span data-stu-id="c4a95-152">**Symptom**</span></span>  
  
 <span data-ttu-id="c4a95-153">傳送 EDI 交換使用 EDI 傳送管線，您可能會收到錯誤中的應用程式事件記錄檔，表示 '中資料元素 ' 有無效字元。</span><span class="sxs-lookup"><span data-stu-id="c4a95-153">When sending an EDI interchange using the EDI send pipeline, you may receive an error in the application event log stating that there is ‘Invalid character in data element’.</span></span>  
  
 <span data-ttu-id="c4a95-154">**可能的原因**</span><span class="sxs-lookup"><span data-stu-id="c4a95-154">**Possible Cause**</span></span>  
  
 <span data-ttu-id="c4a95-155">如果裝載資料中包含的字元也做為分隔符號，則會發生此錯誤。</span><span class="sxs-lookup"><span data-stu-id="c4a95-155">This error can occur if a character contained in the payload data is also used as a separator.</span></span> <span data-ttu-id="c4a95-156">比方說，如果您使用 ':' 字元為元件分隔符號，但裝載資料也包含 ':' 字元。</span><span class="sxs-lookup"><span data-stu-id="c4a95-156">For instance, if you are using the ‘:’ character as the component separator but the payload data also contains the ‘:’ character.</span></span>  
  
 <span data-ttu-id="c4a95-157">這個問題只有在 X12 編碼的交換中才會發生。</span><span class="sxs-lookup"><span data-stu-id="c4a95-157">This is only an issue with X12-encoded interchanges.</span></span>  
  
 <span data-ttu-id="c4a95-158">**解決方式**</span><span class="sxs-lookup"><span data-stu-id="c4a95-158">**Resolution**</span></span>  
  
 <span data-ttu-id="c4a95-159">使用**取代內容中的分隔符號**中設定**ISA 區段定義**應取代指定分隔字元是裝載資料中找到的 EDI 合作對象屬性頁面傳送的交換時，請指定取代字元。</span><span class="sxs-lookup"><span data-stu-id="c4a95-159">Use the **Replace separators in payload with** setting in the **ISA Segment Definition** page of the EDI party properties to specify that separator characters found in the payload data should be replaced by the specified replacement character when sending the interchange.</span></span>  
  
 <span data-ttu-id="c4a95-160">比方說，選取**取代內容中的分隔符號**並輸入 '（& s) #124;' 字元將會取代出現分隔符號字元與裝載資料中的任何' &#124;' 字元交換時使用 EDI 傳送管線傳送。</span><span class="sxs-lookup"><span data-stu-id="c4a95-160">For example, selecting **Replace separators in payload with** and entering the ‘&#124;’ character will replace any occurrence of a separator character in the payload data with the ‘&#124;’ character when the interchange is sent using the EDI send pipeline.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c4a95-161">另請參閱</span><span class="sxs-lookup"><span data-stu-id="c4a95-161">See Also</span></span>  
 <span data-ttu-id="c4a95-162">[EDI 處理的已知的問題](../core/known-issues-with-edi-processing.md) </span><span class="sxs-lookup"><span data-stu-id="c4a95-162">[Known Issues with EDI Processing](../core/known-issues-with-edi-processing.md) </span></span>  
 <span data-ttu-id="c4a95-163">[BizTalk Server 如何傳送 EDI 訊息](../core/how-biztalk-server-sends-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="c4a95-163">[How BizTalk Server Sends EDI Messages](../core/how-biztalk-server-sends-edi-messages.md) </span></span>  
 [<span data-ttu-id="c4a95-164">逐步解說 (X12)： 傳送 EDI 交換</span><span class="sxs-lookup"><span data-stu-id="c4a95-164">Walkthrough (X12): Sending EDI Interchanges</span></span>](../core/walkthrough-x12-sending-edi-interchanges.md)