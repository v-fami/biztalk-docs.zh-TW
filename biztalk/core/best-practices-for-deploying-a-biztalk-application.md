---
title: 部署 BizTalk 應用程式的最佳作法 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- best practices, deploying
- best practices, applications
- applications, best practices
- deploying, best practices
ms.assetid: 97ebf479-0dc5-4e95-b409-d3b6ad3d60d0
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e3b50ff0a6e64633090e562b6ca8e3ae66eb8683
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22233062"
---
# <a name="best-practices-for-deploying-a-biztalk-application"></a><span data-ttu-id="58df1-102">部署 BizTalk 應用程式的最佳作法</span><span class="sxs-lookup"><span data-stu-id="58df1-102">Best Practices for Deploying a BizTalk Application</span></span>
<span data-ttu-id="58df1-103">本主題說明部署 BizTalk 應用程式的最佳作法。</span><span class="sxs-lookup"><span data-stu-id="58df1-103">This topic describes best practices for deploying a BizTalk application.</span></span>  
  
## <a name="group-related-artifacts-together-in-a-single-application"></a><span data-ttu-id="58df1-104">將相關的成品分組到單一應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-104">Group related artifacts together in a single application</span></span>  
 <span data-ttu-id="58df1-105">盡可能將相關的成品放置在相同的 BizTalk 應用程式中。</span><span class="sxs-lookup"><span data-stu-id="58df1-105">As much as possible, place related artifacts in the same BizTalk application.</span></span> <span data-ttu-id="58df1-106">這可讓您將成品做為單一實體管理和部署，讓管理變的更容易。</span><span class="sxs-lookup"><span data-stu-id="58df1-106">This allows you to manage and deploy the artifacts as a single entity, making management easier.</span></span> <span data-ttu-id="58df1-107">您可將支援相同商務程序或執行類似功能的成品分組到單一應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-107">You can group artifacts that support the same business process or artifacts that perform similar functions into a single application.</span></span>  
  
## <a name="deploy-shared-artifacts-in-a-separate-application"></a><span data-ttu-id="58df1-108">將共用的成品部署到個別的應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-108">Deploy shared artifacts in a separate application</span></span>  
 <span data-ttu-id="58df1-109">如果成品將由兩個以上的應用程式共用，請將共用的成品部署到個別的應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-109">If artifacts are going to be shared by two or more applications, deploy the shared artifacts into a separate application.</span></span> <span data-ttu-id="58df1-110">例如，如果兩個應用程式共用某結構描述，請將該結構描述放置到個別的應用程式中。</span><span class="sxs-lookup"><span data-stu-id="58df1-110">For example, if two applications share a schema, place the schema in a separate application.</span></span> <span data-ttu-id="58df1-111">這是因為 BizTalk 群組中只能存在一個具有相同本機唯一識別碼 (LUID) 的成品，此識別碼是由成品名稱以及選擇性的其他屬性所組成。</span><span class="sxs-lookup"><span data-stu-id="58df1-111">This is because only one artifact having the same locally unique identifier (LUID) -- which consists of the artifact name and optionally other attributes -- can exist in a BizTalk group.</span></span> <span data-ttu-id="58df1-112">如果您將成品包含在一個應用程式中，然後從另一個應用程式建立其參考，可能會遇到一些問題，例如在停止包含該成品的應用程式時，參考的應用程式便無法正確運作。</span><span class="sxs-lookup"><span data-stu-id="58df1-112">If you include an artifact in one application, and then create a reference to it from another application, you may encounter problems such as the referring application not functioning correctly when you stop the application containing the artifact.</span></span>  
  
 <span data-ttu-id="58df1-113">這個最佳方法適用於所有成品類型，除了檔案之外，例如讀我檔案和指令碼，它們會做為成品的檔案類型新增至應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-113">This best practice applies to all artifact types except for files, such as Readme files and scripts, which are added to the application as a File type of artifact.</span></span> <span data-ttu-id="58df1-114">這是因為在 BizTalk 群組中可部署一個以上具有相同名稱的檔案成品。</span><span class="sxs-lookup"><span data-stu-id="58df1-114">This is because more than one file artifact having the same name can be deployed in a BizTalk group.</span></span> <span data-ttu-id="58df1-115">因此，您可使用在兩個以上的應用程式中具有相同名稱的檔案。</span><span class="sxs-lookup"><span data-stu-id="58df1-115">Therefore, you can use a file having the same name in two or more applications.</span></span> <span data-ttu-id="58df1-116">停止一個應用程式不會影響另一個應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-116">Stopping one application will not impact the other application.</span></span> <span data-ttu-id="58df1-117">如需有關如何新增檔案成品的詳細資訊，請參閱[如何將檔案新增至應用程式](../core/how-to-add-a-file-to-an-application.md)。</span><span class="sxs-lookup"><span data-stu-id="58df1-117">For more information about adding File artifacts, see [How to Add a File to an Application](../core/how-to-add-a-file-to-an-application.md).</span></span>  
  
 <span data-ttu-id="58df1-118">如需共用特定成品類型的最佳作法，請參閱本節中的＜將共用的網站部署到個別的應用程式＞、＜將共用的原則部署到個別的應用程式＞及＜將共用的憑證部署到個別的應用程式＞。</span><span class="sxs-lookup"><span data-stu-id="58df1-118">For best practices on sharing specific artifact types, see "Deploy a shared Web site in a separate application," "Deploy shared policies in a separate application," and "Deploy shared certificates in a separate application" in this section.</span></span>  
  
## <a name="deploy-a-shared-web-site-in-a-separate-application"></a><span data-ttu-id="58df1-119">將共用的網站部署到個別的應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-119">Deploy a shared Web site in a separate application</span></span>  
 <span data-ttu-id="58df1-120">如果網站將由一個以上的商務方案共用，請將網站部署到個別的應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-120">If a Web site will be shared by more than one business solution, deploy the Web site in a separate application.</span></span> <span data-ttu-id="58df1-121">這是因為當您解除安裝 BizTalk 應用程式時，任何屬於該應用程式的網站虛擬目錄都會被移除，即使該網站正在執行中也一樣。</span><span class="sxs-lookup"><span data-stu-id="58df1-121">This is because when you uninstall a BizTalk application, the virtual directory of any Web site that is part of the application is removed, even if the Web site is running.</span></span> <span data-ttu-id="58df1-122">如果另一個商務方案共用該網站，則其他商務方案將無法再正常運作。</span><span class="sxs-lookup"><span data-stu-id="58df1-122">If the Web site is shared with another business solution, the other business solution will no longer function correctly as a result.</span></span>  
  
## <a name="deploy-shared-policies-in-a-separate-application"></a><span data-ttu-id="58df1-123">將共用的原則部署到個別的應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-123">Deploy shared policies in a separate application</span></span>  
 <span data-ttu-id="58df1-124">如果兩個以上的應用程式使用一個原則，您應該將其部署到個別的應用程式，而不要從一個應用程式建立對另一個應用程式的參考。</span><span class="sxs-lookup"><span data-stu-id="58df1-124">If a policy is used by two or more applications, you should deploy it in a separate application rather than creating a reference from one application to another.</span></span> <span data-ttu-id="58df1-125">這是因為當您停止應用程式時，其原則也會被解除部署。</span><span class="sxs-lookup"><span data-stu-id="58df1-125">This is because when you stop an application, its policies are undeployed.</span></span> <span data-ttu-id="58df1-126">如果您停止的應用程式中包含另一個應用程式使用的原則，該原則在兩個應用程式都將無法再運作。</span><span class="sxs-lookup"><span data-stu-id="58df1-126">If you stop an application that includes a policy used by another application, the policy will no longer function in either application.</span></span>  
  
## <a name="deploy-shared-certificates-in-a-separate-application"></a><span data-ttu-id="58df1-127">將共用的憑證部署到個別的應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-127">Deploy shared certificates in a separate application</span></span>  
 <span data-ttu-id="58df1-128">如果憑證由兩個以上之應用程式中的傳送埠或接收位置使用，您應該將該憑證部署到個別的應用程式中，然後從需要使用該憑證的應用程式參考此應用程式。</span><span class="sxs-lookup"><span data-stu-id="58df1-128">If a certificate is used by a send port or receive location in two or more applications, you should deploy the certificate in a separate application, and then reference this application from the applications that need to use the certificate.</span></span> <span data-ttu-id="58df1-129">這是因為 BizTalk 群組中只能存在一個具有特定 LUID 的成品，所以您將無法在兩個不同的應用程式中匯入相同的憑證。</span><span class="sxs-lookup"><span data-stu-id="58df1-129">This is because only one artifact having a particular LUID can exist in the BizTalk group, so you will not be able to import the same certificate in two different applications.</span></span> <span data-ttu-id="58df1-130">如果您嘗試匯入使用相同憑證的兩個應用程式，第一個匯入會成功，第二個匯入則會失敗。</span><span class="sxs-lookup"><span data-stu-id="58df1-130">If you attempt to import two applications that each use the same certificate, the first import will succeed, and the second will not.</span></span> <span data-ttu-id="58df1-131">在此情況下，使用覆寫匯入選項無法修正此問題，因為您想要覆寫的現有憑證包含在另一個應用程式中。</span><span class="sxs-lookup"><span data-stu-id="58df1-131">In this case, using the Overwrite import option does not correct the problem, as the existing certificate that you want to overwrite is contained in another application.</span></span>  
  
## <a name="never-deploy-an-assembly-from-visual-studio-on-a-production-computer"></a><span data-ttu-id="58df1-132">絕對不要在實際執行電腦上從 Visual Studio 部署組件</span><span class="sxs-lookup"><span data-stu-id="58df1-132">Never deploy an assembly from Visual Studio on a production computer</span></span>  
 <span data-ttu-id="58df1-133">在開發過程中，開發人員通常必須從 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 重新部署組件。</span><span class="sxs-lookup"><span data-stu-id="58df1-133">During the development process, the developer often must redeploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="58df1-134">為了重新部署，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 可以解除部署、解除繫結、停止及取消登錄組件中包含的成品。</span><span class="sxs-lookup"><span data-stu-id="58df1-134">To enable the redeployment, [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] may undeploy, unbind, stop, and unenlist artifacts included in the assemblies.</span></span> <span data-ttu-id="58df1-135">雖然這在開發環境中是必要且適當的動作，但卻可能在實際執行環境中造成無法預期的嚴重後果。</span><span class="sxs-lookup"><span data-stu-id="58df1-135">Although this is necessary and appropriate in the development environment, it can cause unexpected and undesired consequences in a production environment.</span></span> <span data-ttu-id="58df1-136">基於這個理由，以及避免任何人嘗試在實際執行電腦上從 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 部署組件的可能性，我們建議您絕對不要在實際執行電腦上安裝 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="58df1-136">For this reason, as well as to avoid the possibility of anyone's attempting to deploy an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer, we recommend that you never install [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer.</span></span>  
  
 <span data-ttu-id="58df1-137">此外，也絕對不要從執行 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 的電腦參考實際執行資料庫。</span><span class="sxs-lookup"><span data-stu-id="58df1-137">In addition, never refer to a production database from a computer running [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
## <a name="when-deploying-large-msi-files-you-may-need-to-increase-the-default-transaction-timeout-of-the-com-components-used-by-biztalk-to-deploy-applications"></a><span data-ttu-id="58df1-138">在部署大型 MSI 檔案時，您可能需要增加 BizTalk 用來部署應用程式的 COM+ 元件預設交易逾時。</span><span class="sxs-lookup"><span data-stu-id="58df1-138">When deploying large MSI files, you may need to increase the default transaction timeout of the COM+ components used by BizTalk to deploy applications</span></span>  
 <span data-ttu-id="58df1-139">如果正在部署的 MSI 檔案非常大 (超過 100 MB)，則應用程式可能無法在 BizTalk 在應用程式部署期間所使用的 COM+ 元件預設交易逾時內完成部署。</span><span class="sxs-lookup"><span data-stu-id="58df1-139">If the MSI file being deployed is very large (over 100 MB) then the application may not be deployed within the default transaction timeout of the COM+ components that are used by BizTalk during application deployment.</span></span> <span data-ttu-id="58df1-140">如果在部署完成之前，與這些 COM+ 元件關聯的交易逾時，部署將會失敗。</span><span class="sxs-lookup"><span data-stu-id="58df1-140">If the transactions associated with these COM+ components time out before the deployment is completed then the deployment will fail.</span></span> <span data-ttu-id="58df1-141">如果您正在部署非常大的 MSI 檔案，可考慮使用下列其中一個方式減輕這個問題：</span><span class="sxs-lookup"><span data-stu-id="58df1-141">If you are deploying very large MSI files then consider taking one of these approaches to mitigate this problem:</span></span>  
  
1.  <span data-ttu-id="58df1-142">部署數個較小的 MSI 檔案取代一個大型 MSI 檔案。</span><span class="sxs-lookup"><span data-stu-id="58df1-142">Deploy several smaller MSI files instead of one large MSI file.</span></span>  
  
2.  <span data-ttu-id="58df1-143">增加與關聯的 3000 秒預設交易逾時**元件服務**和**Microsoft.biztalk.applicationdeployment.group**中的元件**元件服務**管理介面。</span><span class="sxs-lookup"><span data-stu-id="58df1-143">Increase the default transaction timeout of 3000 seconds associated with the **Microsoft.BizTalk.ApplicationDeployment.Group** and the **Microsoft.BizTalk.Deployment.DeployerComponent** components in the **Component Services** management interface.</span></span> <span data-ttu-id="58df1-144">這些元件屬於**Microsoft.BizTalk.ApplicationDeployment.Engine**和**Microsoft.Biztalk.Deployment** COM + 應用程式分別。</span><span class="sxs-lookup"><span data-stu-id="58df1-144">These components belong to the **Microsoft.BizTalk.ApplicationDeployment.Engine** and **Microsoft.Biztalk.Deployment** COM+ applications respectively.</span></span> <span data-ttu-id="58df1-145">如需有關如何變更交易逾時值的 COM + 元件請參閱[如何變更 MTS 或 COM + 交易逾時值](http://go.microsoft.com/fwlink/?LinkId=67691)。</span><span class="sxs-lookup"><span data-stu-id="58df1-145">For more information about how to change the transaction time out value for a COM+ component see [How To Change the Transaction Time-Out Value for MTS or COM+](http://go.microsoft.com/fwlink/?LinkId=67691).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="58df1-146">另請參閱</span><span class="sxs-lookup"><span data-stu-id="58df1-146">See Also</span></span>  
 [<span data-ttu-id="58df1-147">部署和管理 BizTalk 應用程式</span><span class="sxs-lookup"><span data-stu-id="58df1-147">Deploying and Managing BizTalk Applications</span></span>](../core/deploying-and-managing-biztalk-applications.md)