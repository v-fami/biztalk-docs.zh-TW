---
title: "WCF 配接器 FAQ： 一般概念 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bbeac135-3ba8-4b0b-a8ca-4eb5eb3d3ca3
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5f5acc3cb968ab35436fe684edd0eb41088b48a2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="wcf-adapter-faq-general-conceptual"></a><span data-ttu-id="8c078-102">WCF 配接器 FAQ： 一般概念</span><span class="sxs-lookup"><span data-stu-id="8c078-102">WCF Adapter FAQ: General Conceptual</span></span>
<span data-ttu-id="8c078-103">以下是一些常見問題一般和概念性關於 Windows® Communication Foundation (WCF) 配接器。</span><span class="sxs-lookup"><span data-stu-id="8c078-103">Below are some frequently asked general and conceptual questions about Windows® Communication Foundation (WCF) adapters.</span></span>  
  
## <a name="what-is-a-wcf-adapter"></a><span data-ttu-id="8c078-104">何謂 WCF 配接器？</span><span class="sxs-lookup"><span data-stu-id="8c078-104">What is a WCF adapter?</span></span>  
 <span data-ttu-id="8c078-105">BizTalk 配接器是方式的 Microsoft® BizTalk® Server 會與外界通訊的重要部分。</span><span class="sxs-lookup"><span data-stu-id="8c078-105">A BizTalk adapter is a key part of the way Microsoft® BizTalk® Server communicates with the outside world.</span></span> <span data-ttu-id="8c078-106">WCF 配接器是一種元件，管理 BizTalk 應用程式與它需要傳送和接收訊息，WCF 端點之間的通訊程序。</span><span class="sxs-lookup"><span data-stu-id="8c078-106">A WCF adapter is a component that manages the communication process between a BizTalk application and its need to send messages to, and receive messages from, a WCF endpoint.</span></span> <span data-ttu-id="8c078-107">在 [!INCLUDE[prague](../includes/prague-md.md)] 中，WCF 配接器會公開為 WCF 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-107">With the [!INCLUDE[prague](../includes/prague-md.md)], WCF adapters are exposed as WCF bindings.</span></span> <span data-ttu-id="8c078-108">這表示可以使用 WCF 繫結任何 WCF 應用程式可以直接通訊，WCF 配接器而不需要介入的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="8c078-108">This means that any WCF application that can use a WCF binding can communicate with the WCF adapters directly, without needing BizTalk Server to intervene.</span></span> <span data-ttu-id="8c078-109">不過，使用 WCF 配接器透過 BizTalk Server 可讓您的應用程式基礎結構的優點，BizTalk Server 提供許多。</span><span class="sxs-lookup"><span data-stu-id="8c078-109">However, using the WCF adapters through BizTalk Server gives you many of the application infrastructure benefits that BizTalk Server provides.</span></span> <span data-ttu-id="8c078-110">這些常見問題集焦點主要使用 WCF 配接器從 BizTalk Server 環境內。</span><span class="sxs-lookup"><span data-stu-id="8c078-110">The focus of these FAQs is primarily using the WCF adapters from within the BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="8c078-111">WCF 配接器可讓 BizTalk Server 傳送和接收 WCF 訊息中使用的 WCF 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-111">A WCF adapter allows BizTalk Server to use the WCF bindings to send and receive WCF messages.</span></span> <span data-ttu-id="8c078-112">WCF 用戶端應用程式可以的傳送 WCF 訊息至 BizTalk 接收的訊息由 WCF 接收的位置接收配接器。</span><span class="sxs-lookup"><span data-stu-id="8c078-112">A WCF client application can send a WCF message to a BizTalk receive location, where the message is received by a WCF receive adapter.</span></span> <span data-ttu-id="8c078-113">配接器使用 WCF 訊息，並將它轉換成 BizTalk 訊息。</span><span class="sxs-lookup"><span data-stu-id="8c078-113">The adapter takes the WCF message and converts it to a BizTalk message.</span></span> <span data-ttu-id="8c078-114">轉換發生的方式，取決於它使用 BizTalk Server 管理主控台來設定特定配接器組態設定。</span><span class="sxs-lookup"><span data-stu-id="8c078-114">How the conversion takes place depends upon certain adapter configuration settings which are configured using the BizTalk Server Administration console.</span></span> <span data-ttu-id="8c078-115">配接器將提交到 BizTalk MessageBox 資料庫內部的 BizTalk 訊息。</span><span class="sxs-lookup"><span data-stu-id="8c078-115">The adapter submits the BizTalk message to the internal BizTalk MessageBox database.</span></span> <span data-ttu-id="8c078-116">相對的 BizTalk 傳送埠使用 WCF 配接器可以訂閱此訊息類型、 取得 BizTalk 訊息、 將它轉換成 WCF 訊息，和 WCF 訊息傳送至使用其中一種支援的 WCF 通訊協定的 WCF 服務端點。</span><span class="sxs-lookup"><span data-stu-id="8c078-116">Correspondingly, a BizTalk send port using a WCF adapter can subscribe to this message type, obtain the BizTalk message, convert it to a WCF message, and transmit the WCF message to a WCF service endpoint using one of the supported WCF protocols.</span></span>  
  
 <span data-ttu-id="8c078-117">使用 WCF 配接器從 BizTalk Server 中的擷取 BizTalk WCF 應用程式解決方案，例如選擇與實作通訊協定、 安全性問題，以及交易作業為隱藏的複雜性。</span><span class="sxs-lookup"><span data-stu-id="8c078-117">Using the WCF adapters from within BizTalk Server abstracts the hidden complexities of a BizTalk-WCF application solution, such as the choice and implementation of communication protocols, security issues, and transactional operations.</span></span>  
  
## <a name="what-are-the-wcf-adapter-bindings"></a><span data-ttu-id="8c078-118">WCF 配接器繫結有哪些？</span><span class="sxs-lookup"><span data-stu-id="8c078-118">What are the WCF adapter bindings?</span></span>  
 <span data-ttu-id="8c078-119">WCF 繫結分為兩類：</span><span class="sxs-lookup"><span data-stu-id="8c078-119">WCF bindings fall into one of two categories:</span></span>  
  
-   <span data-ttu-id="8c078-120">**自訂繫結：**特殊的自訂繫結的繫結彈性增加時，存在。</span><span class="sxs-lookup"><span data-stu-id="8c078-120">**Custom Bindings:** For increased binding flexibility, the special custom binding exists.</span></span> <span data-ttu-id="8c078-121">這包含需要偏離標準的繫結的通訊狀況。</span><span class="sxs-lookup"><span data-stu-id="8c078-121">This covers communication situations that require deviations from the standard bindings.</span></span> <span data-ttu-id="8c078-122">Wcf-custom 和 Wcf-customisolated 配接器可讓開發的廣泛的繫結的自訂項目。</span><span class="sxs-lookup"><span data-stu-id="8c078-122">The WCF-Custom and WCF-CustomIsolated adapters allow development of extensive binding customizations.</span></span> <span data-ttu-id="8c078-123">這是藉由使用現有的繫結項目 （BindingElement 類別） 的組合和應用程式的行為 （Behavior 類別）。</span><span class="sxs-lookup"><span data-stu-id="8c078-123">This is done by allowing the composition of existing binding elements (the BindingElement class) and the application of behaviors (the Behavior class).</span></span>  
  
-   <span data-ttu-id="8c078-124">**標準繫結：** Microsoft 的目標是要開發著重於最常見的通訊案例的配接器。</span><span class="sxs-lookup"><span data-stu-id="8c078-124">**Standard bindings:** Microsoft’s goal is to develop adapters focused on the most common communication scenarios.</span></span> <span data-ttu-id="8c078-125">使用標準繫結，藉以隱藏許多通訊協定的細節簡化開發人員的體驗。</span><span class="sxs-lookup"><span data-stu-id="8c078-125">Using standard bindings simplifies the developer’s experience by hiding many details of the communication protocols.</span></span> <span data-ttu-id="8c078-126">[!INCLUDE[prague](../includes/prague-md.md)] 中的這一組 WCF 配接器會反映 .NET Framework 4.0 WCF 程式庫中提供的那一組繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-126">The set of WCF adapters in [!INCLUDE[prague](../includes/prague-md.md)] reflects the set of bindings available in the .NET Framework 4.0 WCF libraries.</span></span> <span data-ttu-id="8c078-127">標準繫結是導入.NET WCF 程式庫，讓您更輕鬆地使用一般的繫結模式。</span><span class="sxs-lookup"><span data-stu-id="8c078-127">Standard bindings were introduced to the .NET WCF libraries to make typical binding patterns easier to use.</span></span> <span data-ttu-id="8c078-128">它們會配合一些最常用的通訊案例，包括：</span><span class="sxs-lookup"><span data-stu-id="8c078-128">They cover the most commonly used communication scenarios and include:</span></span>  
  
    -   <span data-ttu-id="8c078-129">Wcf-wshttp</span><span class="sxs-lookup"><span data-stu-id="8c078-129">WCF-WsHttp</span></span>  
  
    -   <span data-ttu-id="8c078-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="8c078-130">WCF-BasicHttp</span></span>  
  
    -   <span data-ttu-id="8c078-131">WCF-NetTcp</span><span class="sxs-lookup"><span data-stu-id="8c078-131">WCF-NetTcp</span></span>  
  
    -   <span data-ttu-id="8c078-132">WCF NetMsmg</span><span class="sxs-lookup"><span data-stu-id="8c078-132">WCF-NetMsmg</span></span>  
  
    -   <span data-ttu-id="8c078-133">WCF-NetNamedPipe</span><span class="sxs-lookup"><span data-stu-id="8c078-133">WCF-NetNamedPipe</span></span>  
  
 <span data-ttu-id="8c078-134">BizTalk Server R2 隨附下列 WCF 配接器：</span><span class="sxs-lookup"><span data-stu-id="8c078-134">BizTalk Server R2 ships with the following WCF adapters:</span></span>  
  
1.  <span data-ttu-id="8c078-135">**Wcf-wshttp 配接器：**提供 WS-* 標準支援透過 HTTP 傳輸。</span><span class="sxs-lookup"><span data-stu-id="8c078-135">**WCF-WSHttp adapter:**  Provides the WS-* standards support over the HTTP transport.</span></span> <span data-ttu-id="8c078-136">WCF-WSHttp 配接器會實作下列規格：外部應用程式和 MessageBox 資料庫之間的交易式互動適用的 WS-Transaction，以及訊息安全性和驗證適用的 WS-Security。</span><span class="sxs-lookup"><span data-stu-id="8c078-136">The WCF-WSHttp adapter implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="8c078-137">傳輸方式是 HTTP 或 HTTPS，訊息編碼方式則是文字或 Message Transmission Optimization Mechanism (MTOM) 編碼。</span><span class="sxs-lookup"><span data-stu-id="8c078-137">The transport is HTTP or HTTPS, and message encoding is a text or Message Transmission Optimization Mechanism (MTOM) encoding.</span></span>  
  
2.  <span data-ttu-id="8c078-138">**Wcf-basichttp 配接器：**通訊與 ASMX 架構 Web 服務和用戶端和其他符合 WS-I-Basic Profile 1.1。</span><span class="sxs-lookup"><span data-stu-id="8c078-138">**WCF-BasicHttp adapter:** Communicates with ASMX-based Web services and clients and other services that conform to the WS-I Basic Profile 1.1.</span></span> <span data-ttu-id="8c078-139">傳輸方式是 HTTP 或 HTTPS，訊息編碼方式則是文字編碼。</span><span class="sxs-lookup"><span data-stu-id="8c078-139">The transport is HTTP or HTTPS, and message encoding is a text encoding.</span></span>  
  
3.  <span data-ttu-id="8c078-140">**Wcf-nettcp 配接器：**提供 WS-* 標準支援透過 TCP 傳輸。</span><span class="sxs-lookup"><span data-stu-id="8c078-140">**WCF-NetTcp adapter:** Provides the WS-* standards support over the TCP transport.</span></span> <span data-ttu-id="8c078-141">WCF-NetTcp 配接器會提供有效率的通訊並實作下列規格：外部應用程式和 MessageBox 資料庫之間的交易式互動適用的 WS-Transaction，以及訊息安全性和驗證適用的 WS-Security。</span><span class="sxs-lookup"><span data-stu-id="8c078-141">The WCF-NetTcp adapter provides efficient communication and implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="8c078-142">傳輸方式是 TCP，訊息編碼方式則是二進位編碼。</span><span class="sxs-lookup"><span data-stu-id="8c078-142">The transport is TCP, and message encoding is binary encoding.</span></span>  
  
4.  <span data-ttu-id="8c078-143">**Wcf-netmsmq 配接器：**提供支援佇列利用 Message Queuing (也稱為 MSMQ) 做為傳輸並支援鬆散偶合的應用程式、 失敗隔離、 負載調節，以及中斷連線的作業。</span><span class="sxs-lookup"><span data-stu-id="8c078-143">**WCF-NetMsmq adapter:** Provides support for queuing by leveraging Message Queuing (also known as MSMQ) as a transport and enables support for loosely coupled applications, failure isolation, load-leveling, and disconnected operations.</span></span>  
  
5.  <span data-ttu-id="8c078-144">**Wcf-netnamedpipe 配接器：**提供安全的最佳化，針對機器上跨處理序通訊。</span><span class="sxs-lookup"><span data-stu-id="8c078-144">**WCF-NetNamedPipe adapter:** Provides secure optimization for on-machine cross-process communication.</span></span> <span data-ttu-id="8c078-145">WCF-NetNamedPipe 配接器會針對傳輸安全性使用轉送安全性，針對訊息傳遞使用具名管線，並使用二進位訊息編碼。</span><span class="sxs-lookup"><span data-stu-id="8c078-145">The WCF-NetNamedPipe adapter uses transport security for transfer security, named pipes for message delivery, and binary message encoding.</span></span>  
  
     <span data-ttu-id="8c078-146">每個剛才所提到的五個配接器會對應至一個 1:1 關聯性中的 WCF 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-146">Each of the five adapters just mentioned correspond to one WCF binding in a 1:1 relationship.</span></span> <span data-ttu-id="8c078-147">兩個自訂配接器的結構，我們將討論稍微符號與 WCF 模型中，以產生實際兩個相異自訂配接器，對應至單一 WCF CustomBinding。</span><span class="sxs-lookup"><span data-stu-id="8c078-147">The structure of the two custom adapters we are about to discuss slightly breaks with the WCF model in that there are actually two distinct custom adapters that correspond to the single WCF CustomBinding.</span></span>  
  
6.  <span data-ttu-id="8c078-148">**Wcf-custom 配接器：**可讓您使用 WCF 擴充性功能。</span><span class="sxs-lookup"><span data-stu-id="8c078-148">**WCF-Custom adapter:** Enables the use of WCF extensibility features.</span></span> <span data-ttu-id="8c078-149">配接器可讓您選取及設定 WCF 繫結以及接收位置或傳送埠裝載於 BizTalk Server 處理序的行為資訊。</span><span class="sxs-lookup"><span data-stu-id="8c078-149">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location or a send port hosted in the BizTalk Server process.</span></span>  
  
7.  <span data-ttu-id="8c078-150">**Wcf-customisolated 配接器：**透過 HTTP 傳輸啟用 WCF 擴充性功能。</span><span class="sxs-lookup"><span data-stu-id="8c078-150">**WCF-CustomIsolated adapter:** Enables the use of WCF extensibility features over the HTTP transport.</span></span> <span data-ttu-id="8c078-151">配接器可讓您選取及設定 WCF 繫結和行為資訊在外掛式主控件的網際網路資訊服務 (IIS) 中執行的接收位置。</span><span class="sxs-lookup"><span data-stu-id="8c078-151">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location running in the isolated host of Internet Information Services (IIS).</span></span>  
  
## <a name="what-is-the-difference-between-the-wcf-xxx-adapter-and-the-wcf-xxx-binding"></a><span data-ttu-id="8c078-152">WCF xxx 配接器和 WCF xxx 繫結之間的差異為何？</span><span class="sxs-lookup"><span data-stu-id="8c078-152">What is the difference between the WCF-xxx adapter and the WCF-xxx binding?</span></span>  
 <span data-ttu-id="8c078-153">每個 WCF 配接器都會對應至其中一個內建的 WCF 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-153">Each of the WCF adapters corresponds to one of the built-in WCF bindings.</span></span> <span data-ttu-id="8c078-154">在較高層級，這些條款是幾乎交換時使用說 WCF xxx 配接器使用 WCF xxx 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-154">At a higher level, these terms are used almost interchangeably when saying that the WCF-xxx adapter uses the WCF-xxx binding.</span></span> <span data-ttu-id="8c078-155">例如，Wcf-basichttp 配接器使用 WCF BasicHttpBinding 類別。</span><span class="sxs-lookup"><span data-stu-id="8c078-155">For example, the WCF-BasicHttp adapter uses the WCF BasicHttpBinding class.</span></span> <span data-ttu-id="8c078-156">WCF 繫結是 WCF 端點定義的一部分。</span><span class="sxs-lookup"><span data-stu-id="8c078-156">A WCF binding is part of the definition of a WCF Endpoint.</span></span> <span data-ttu-id="8c078-157">這被指中"ABC"的 WCF 端點，其中這些字母獨立位址、 繫結和合約。</span><span class="sxs-lookup"><span data-stu-id="8c078-157">This is referred to in the “ABC” of a WCF endpoint, where these letters stand for Address, Binding and Contract.</span></span>  
  
 <span data-ttu-id="8c078-158">繫結是由繫結項目集合所組成。</span><span class="sxs-lookup"><span data-stu-id="8c078-158">A binding is made up of a collection of binding elements.</span></span> <span data-ttu-id="8c078-159">用戶端與端點通訊的方式稍加描述每個項目。</span><span class="sxs-lookup"><span data-stu-id="8c078-159">Each element describes some aspect of how the endpoint communicates with clients.</span></span> <span data-ttu-id="8c078-160">繫結必須包含：</span><span class="sxs-lookup"><span data-stu-id="8c078-160">A binding must include:</span></span>  
  
-   <span data-ttu-id="8c078-161">至少一個傳輸繫結項目。</span><span class="sxs-lookup"><span data-stu-id="8c078-161">At least one transport binding element.</span></span>  
  
-   <span data-ttu-id="8c078-162">至少一個訊息編碼繫結項目 （由傳輸繫結項目來提供預設）。</span><span class="sxs-lookup"><span data-stu-id="8c078-162">At least one message-encoding binding element (which the transport binding element can provide by default).</span></span>  
  
-   <span data-ttu-id="8c078-163">任何數目的其他通訊協定繫結項目。</span><span class="sxs-lookup"><span data-stu-id="8c078-163">Any number of other protocol binding elements.</span></span>  
  
 <span data-ttu-id="8c078-164">由此描述在執行階段環境的建置程序可讓每個程式碼撰寫到該環境的繫結項目。</span><span class="sxs-lookup"><span data-stu-id="8c078-164">The process that builds a runtime environment out of this description allows each binding element to contribute code to that environment.</span></span> <span data-ttu-id="8c078-165">通常需要符合相同的繫結型別和被呼叫的 WCF 服務支援的配接器用戶端。</span><span class="sxs-lookup"><span data-stu-id="8c078-165">It is generally required for a client to match the same binding types and adapter that the called WCF Service supports.</span></span> <span data-ttu-id="8c078-166">在 WCF 層級，在組態檔中，或明確地執行程式碼，則可以以宣告方式定義繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-166">At the WCF level, a binding can be defined declaratively in a configuration file or explicitly through code.</span></span> <span data-ttu-id="8c078-167">WCF 配接器，協助使用特定 WCF 繫結的通訊，因此詞彙 「 配接器 」 和 「 繫結 」 通常會成為在其使用方式幾乎完全相同。</span><span class="sxs-lookup"><span data-stu-id="8c078-167">A WCF adapter facilitates communication using a specific WCF binding, and thus the terms “adapter” and “binding” tend to become almost identical in their usage.</span></span>  
  
## <a name="when-using-the-wcf-adapters-how-do-you-decide-which-wcf-binding-to-use"></a><span data-ttu-id="8c078-168">使用 WCF 配接器，當您要如何決定要使用的 WCF 繫結？</span><span class="sxs-lookup"><span data-stu-id="8c078-168">When using the WCF adapters, how do you decide which WCF binding to use?</span></span>  
 <span data-ttu-id="8c078-169">您可以進行這項決定傳訊模式、 外部的條件約束和效能，依序為基礎。</span><span class="sxs-lookup"><span data-stu-id="8c078-169">You can make this decision based upon the messaging pattern, external constraints, and performance, in that order.</span></span>  
  
1.  <span data-ttu-id="8c078-170">**訊息模式：**如何進行根據訊息的流程通訊的通訊模式。</span><span class="sxs-lookup"><span data-stu-id="8c078-170">**Messaging pattern:** The pattern of communication is how the communication occurs based on the flow of the message.</span></span> <span data-ttu-id="8c078-171">例如，訊息可能是單向 （要求） 或雙向 （要求-回應），可能交易處理，它可能會排入佇列，依此類推。</span><span class="sxs-lookup"><span data-stu-id="8c078-171">For example, the message may be one-way (request) or two-way (request-response), it may be transacted, it may be queued, and so on.</span></span>  
  
    -   <span data-ttu-id="8c078-172">如果會排入佇列，您需要使用 Wcf-netmsmq 配接器，可支援單向排入佇列的交易的通訊。</span><span class="sxs-lookup"><span data-stu-id="8c078-172">If it is queued, you need to use the WCF-NetMsmq adapter, which supports one-way queued transacted communication.</span></span>  
  
    -   <span data-ttu-id="8c078-173">如果模式是雙向要求-回應和兩部電腦之間的流程，您會使用 HTTP （如果您擔心盡可能有彈性的） 或 WCF NetTcp （如果您是在意效能）。</span><span class="sxs-lookup"><span data-stu-id="8c078-173">If the pattern is a two-way request-response and flows between two computers, you would use HTTP (if you are concerned about being as flexible as possible), or WCF-NetTcp (if you are concerned about performance).</span></span>  
  
    -   <span data-ttu-id="8c078-174">如果訊息維持在單一電腦上，而且只是處理序之間流動，您可以使用 Wcf-netnamedpipe 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-174">If the message remains on a single computer and flows simply between processes, you can use the WCF-NetNamedPipe binding.</span></span>  
  
2.  <span data-ttu-id="8c078-175">**外部條件約束：**可能會要求您使用特定的繫結的問題。</span><span class="sxs-lookup"><span data-stu-id="8c078-175">**External constraints:** There may be issues that dictate you use a specific binding.</span></span> <span data-ttu-id="8c078-176">比方說，假設在外部系統要求 SOAP Web 服務版本 1.2 與定址 1.0。</span><span class="sxs-lookup"><span data-stu-id="8c078-176">For instance, suppose the external system requires SOAP Web Services version 1.2 and Addressing 1.0.</span></span> <span data-ttu-id="8c078-177">在此情況下，繫結是最佳選擇使用 Wcf-wshttp 配接器的 WSHttpBinding。</span><span class="sxs-lookup"><span data-stu-id="8c078-177">In this case, the best binding choice is WSHttpBinding using the WCF-WsHttp adapter.</span></span> <span data-ttu-id="8c078-178">在所有的可能性，外部系統也必須設定需求的特定安全性模式。</span><span class="sxs-lookup"><span data-stu-id="8c078-178">In all likelihood, the external system would also have requirements around the particular security mode to configure.</span></span> <span data-ttu-id="8c078-179">如果外部系統所需的 Soap Web 服務 1.1 HTTP 繫結使用 Wcf-basichttp 配接器 」。</span><span class="sxs-lookup"><span data-stu-id="8c078-179">If the external system required Soap Web Services 1.1 you would use the WCF-BasicHttp adapter for the HTTP binding.</span></span>  
  
3.  <span data-ttu-id="8c078-180">**效能：**進行呼叫，速度可能會在哪一個繫結您選擇使用您的應用程式中的決定因素：</span><span class="sxs-lookup"><span data-stu-id="8c078-180">**Performance:** How fast the call is made may be a deciding factor in which binding you choose to use in your application:</span></span>  
  
    -   <span data-ttu-id="8c078-181">如果 WCF 服務是與 BizTalk Server 在相同電腦上，使用 Wcf-netnamedpipe 配接器是最佳的效能選項。</span><span class="sxs-lookup"><span data-stu-id="8c078-181">If the WCF service is on the same computer as BizTalk Server, using the WCF-NetNamedPipe adapter is the best performance choice.</span></span>  
  
    -   <span data-ttu-id="8c078-182">如果 WCF 服務，本機網路上 Wcf-nettcp 得到最佳效能。</span><span class="sxs-lookup"><span data-stu-id="8c078-182">If the WCF service is on your local network, WCF-NetTcp yields the best performance.</span></span>  
  
    -   <span data-ttu-id="8c078-183">如果效能並不是主要的考量，且呼叫會透過網際網路，其中一個 HTTP 配接器 （Wcf-wshttp 或 Wcf-basichttp） 是正確的介面卡。</span><span class="sxs-lookup"><span data-stu-id="8c078-183">If performance is not a major concern and the call is going across the Internet, either of the HTTP-based adapters (WCF-WsHttp or WCF-BasicHttp) is the right adapter.</span></span>  
  
         <span data-ttu-id="8c078-184">您使用任何進階的 HTTP 功能 (Wcf-wshttp) 還是基本功能 (Wcf-basichttp) 會規定哪些 HTTP 為基礎配接器是使用最佳的選擇。</span><span class="sxs-lookup"><span data-stu-id="8c078-184">Whether you are using any advanced HTTP functionality (WCF-WsHttp) or just basic functionality (WCF-BasicHttp) will dictate which HTTP-based adapter is the best choice to use.</span></span>  
  
## <a name="when-do-you-use-one-of-the-two-custom-wcf-adapters"></a><span data-ttu-id="8c078-185">何時您使用其中兩個自訂 WCF 配接器？</span><span class="sxs-lookup"><span data-stu-id="8c078-185">When do you use one of the two custom WCF adapters?</span></span>  
 <span data-ttu-id="8c078-186">有兩個自訂 WCF 配接器隨附[!INCLUDE[prague](../includes/prague-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="8c078-186">There are two custom WCF adapters that ship with [!INCLUDE[prague](../includes/prague-md.md)].</span></span> <span data-ttu-id="8c078-187">發生的原因是兩個自訂配接器是因為 BizTalk Server 需要的裝載特定配接器類型必須是系統向其註冊的一部分。</span><span class="sxs-lookup"><span data-stu-id="8c078-187">The reason there are two custom adapters is because BizTalk Server requires that the hosting of a particular adapter type needs to be part of its registration with the system.</span></span> <span data-ttu-id="8c078-188">雖然 WCF Framework 中只有一個 CustomBinding 型別，但有兩個自訂配接器以配合這項限制預先存在的 BizTalk 配接器模型中的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="8c078-188">Although there is only one CustomBinding type in the WCF  Framework, there are two custom adapters in BizTalk Server to accommodate this limitation in the pre-existing BizTalk adapter model.</span></span> <span data-ttu-id="8c078-189">實際上，這些配接器其實是唯一的配接器需要因為它允許 WCF 通道堆疊設定的完整控制權。</span><span class="sxs-lookup"><span data-stu-id="8c078-189">In reality, these adapters are really the only adapters you ever need because they allow complete control over the WCF channel stack configuration.</span></span>  
  
 <span data-ttu-id="8c078-190">自訂配接器的唯一缺點是，它們也需要您必須非常了解 WCF 組態和各種擴充性的技巧。</span><span class="sxs-lookup"><span data-stu-id="8c078-190">The only drawback to custom adapters is that they also require you to be very knowledgeable about WCF configuration and the various extensibility techniques.</span></span>  <span data-ttu-id="8c078-191">簡化的組態就是為什麼 Microsoft 配接器提供標準的 WCF 繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-191">Simplifying configuration is why Microsoft provides adapters for standard WCF bindings.</span></span> <span data-ttu-id="8c078-192">標準繫結是預先定義來涵蓋大部分的常見使用案例，並讓傳送和接收訊息透過 BizTalk Server 越簡單越好。</span><span class="sxs-lookup"><span data-stu-id="8c078-192">The standard bindings are predefined to cover most of the common use cases and to make sending and receiving messages through BizTalk Server as simple as possible.</span></span> <span data-ttu-id="8c078-193">若要使用其中一個這些自訂的配接器通常需要才會發生完全精確地符合您的傳送埠或接收位置的標準繫結失敗。</span><span class="sxs-lookup"><span data-stu-id="8c078-193">The need to use one of these custom adapters typically occurs only when the standard bindings fail to completely or precisely meet the requirements for your send port or receive location.</span></span> <span data-ttu-id="8c078-194">例如，可能是使用專屬的壓縮配置其訊息的應用程式。</span><span class="sxs-lookup"><span data-stu-id="8c078-194">For example, there may be an application using a proprietary compression scheme for its messages.</span></span> <span data-ttu-id="8c078-195">若要支援此功能，自訂繫結項目必須寫入。</span><span class="sxs-lookup"><span data-stu-id="8c078-195">To support this, a custom binding element will have to be written.</span></span> <span data-ttu-id="8c078-196">使用其中兩個標準自訂配接器可讓處理傳輸需求此自訂繫結的組態。</span><span class="sxs-lookup"><span data-stu-id="8c078-196">Using one of the two standard custom adapters allows configuration of this custom binding to handle the transmission requirement.</span></span> <span data-ttu-id="8c078-197">因此，自訂配接器可讓較高層級的通訊程序透過通道堆疊的繫結的組態控制。</span><span class="sxs-lookup"><span data-stu-id="8c078-197">Thus, a custom adapter allows a higher level of control over the configuration of the bindings for that communication process through the channel stack.</span></span>  
  
 <span data-ttu-id="8c078-198">自訂和自訂外掛式配接器之間的主要差異是其中一個裝載，而且裝載只會影響 BizTalk server 接收端。</span><span class="sxs-lookup"><span data-stu-id="8c078-198">The primary difference between the Custom and Custom Isolated adapters is one of hosting, and hosting only impacts the receive side of BizTalk Server.</span></span> <span data-ttu-id="8c078-199">Wcf-customisolated 配接器會使用與只接收位置，而不是與傳送埠。</span><span class="sxs-lookup"><span data-stu-id="8c078-199">The WCF-CustomIsolated adapter is used with a receive location only and not with a send port.</span></span> <span data-ttu-id="8c078-200">「 外掛式 」 一詞是指的是裝載在 BizTalk Server 的 BtsNtSvc.exe 程序之外的 BizTalk 片語。</span><span class="sxs-lookup"><span data-stu-id="8c078-200">The term “Isolated” is a BizTalk phrase that refers to being hosted outside of the BizTalk Server BtsNtSvc.exe process.</span></span> <span data-ttu-id="8c078-201">因此，當傳輸裝載在標準的 BtsNtSvc.exe 處理序內網際網路資訊服務 (IIS) 使用 HTTP 傳輸之外，會使用 Wcf-customisolated 配接器。</span><span class="sxs-lookup"><span data-stu-id="8c078-201">Therefore, the WCF-CustomIsolated adapter is used when the transport is hosted outside the standard BtsNtSvc.exe process within Internet Information Services (IIS) using the HTTP transport.</span></span> <span data-ttu-id="8c078-202">Wcf-custom 配接器可以搭配接收位置或傳送埠。</span><span class="sxs-lookup"><span data-stu-id="8c078-202">The WCF-Custom adapter can be used with either a receive location or a send port.</span></span> <span data-ttu-id="8c078-203">它用於裝載在標準的 BtsNtSvc.exe 程序內，傳輸。</span><span class="sxs-lookup"><span data-stu-id="8c078-203">It is used when the transport is hosted inside the standard BtsNtSvc.exe process.</span></span>  
  
## <a name="how-does-a-wcf-endpoint-relate-to-biztalk-server"></a><span data-ttu-id="8c078-204">WCF 端點如何與 BizTalk server？</span><span class="sxs-lookup"><span data-stu-id="8c078-204">How does a WCF endpoint relate to BizTalk Server?</span></span>  
 <span data-ttu-id="8c078-205">WCF 端點是由位址、 繫結和合約 (ABC) 所組成。</span><span class="sxs-lookup"><span data-stu-id="8c078-205">A WCF endpoint is composed of an address, a binding, and a contract (ABC).</span></span> <span data-ttu-id="8c078-206">BizTalk Server 中的使用者接收位置中指定的位址，或傳送埠。</span><span class="sxs-lookup"><span data-stu-id="8c078-206">Within BizTalk Server, the user specifies the address in the receive location or send port.</span></span> <span data-ttu-id="8c078-207">WCF 配接器，使用者已選擇取決於繫結。</span><span class="sxs-lookup"><span data-stu-id="8c078-207">The binding is dictated by the WCF adapter the user has chosen.</span></span> <span data-ttu-id="8c078-208">合約是程式設計人員導向，它會指定端點所公開的介面。</span><span class="sxs-lookup"><span data-stu-id="8c078-208">The contract is programmer-driven in that it specifies the interface exposed by the endpoint.</span></span>  
  
 <span data-ttu-id="8c078-209">實際的端點存在，為傳送訊息之 WCF 接收位置。</span><span class="sxs-lookup"><span data-stu-id="8c078-209">The actual endpoint exists as a receive location to which WCF messages are sent.</span></span>  <span data-ttu-id="8c078-210">有多種方式可以在 BizTalk Server 應用程式的 WCF 端點公開 （expose）：</span><span class="sxs-lookup"><span data-stu-id="8c078-210">There are multiple ways to expose a WCF endpoint in a BizTalk Server application:</span></span>  
  
-   <span data-ttu-id="8c078-211">您可以使用 BizTalk WCF 服務發佈精靈發佈 BizTalk 協調流程做為 WCF 端點。</span><span class="sxs-lookup"><span data-stu-id="8c078-211">You can use the BizTalk WCF Service Publishing Wizard to publish a BizTalk orchestration as a WCF endpoint.</span></span>  
  
-   <span data-ttu-id="8c078-212">您可以使用 BizTalk WCF 服務發佈精靈來建立接收位置中現有的 BizTalk 應用程式。</span><span class="sxs-lookup"><span data-stu-id="8c078-212">You can use the BizTalk WCF Service Publishing Wizard to create a receive location in an existing BizTalk application.</span></span>  
  
-   <span data-ttu-id="8c078-213">您可以在程式碼中設定接收位置的繫結和位址，手動建立的 WCF 端點。</span><span class="sxs-lookup"><span data-stu-id="8c078-213">You can manually create a WCF endpoint by configuring a receive location’s binding and address in code.</span></span>  <span data-ttu-id="8c078-214">在此情況下接收位置是實際上不具型別。</span><span class="sxs-lookup"><span data-stu-id="8c078-214">In this case the receive location is actually un-typed.</span></span>  <span data-ttu-id="8c078-215">它有指定完全根據 WCF 訊息類別，讓它能夠接收至 MessageBox 資料庫的任何訊息格式的合約。</span><span class="sxs-lookup"><span data-stu-id="8c078-215">It has a contract that is specified purely in terms of the WCF Message class, allowing it to receive any message format into the MessageBox database.</span></span>  
  
 <span data-ttu-id="8c078-216">每個 BizTalk 接收位置使用 WCF 配接器會公開為 WCF 用戶端能夠在其中進行呼叫的 WCF 端點。</span><span class="sxs-lookup"><span data-stu-id="8c078-216">Each BizTalk receive location that uses a WCF adapter is exposed as a WCF endpoint into which a WCF client can make a call.</span></span>  <span data-ttu-id="8c078-217">接收位置在內部使用它自己的 WCF ServiceHost 允許啟用或停用各自不同的接收位置。</span><span class="sxs-lookup"><span data-stu-id="8c078-217">A receive location internally uses its own WCF ServiceHost to allow the different receive locations to be enabled or disabled independently of each other.</span></span> <span data-ttu-id="8c078-218">服務端點的存留期間存在，只要接收位置已啟用。</span><span class="sxs-lookup"><span data-stu-id="8c078-218">The lifetime of the service endpoint exists as long as that receive location is enabled.</span></span> <span data-ttu-id="8c078-219">它是由於此存留期問題 WCF ServiceHosts 對應到接收位置而不是至接收埠。</span><span class="sxs-lookup"><span data-stu-id="8c078-219">It is because of this lifetime issue that WCF ServiceHosts correspond to receive locations rather than to receive ports.</span></span> <span data-ttu-id="8c078-220">WCF 的設計可確保個別 ServiceHosts 不會耗用大量資源執行階段，並有許多可以執行相同的可執行檔沒有任何問題。</span><span class="sxs-lookup"><span data-stu-id="8c078-220">The design of WCF ensures that individual ServiceHosts are not expensive in terms of runtime resources and many can be run within the same executable without any trouble.</span></span>  
  
 <span data-ttu-id="8c078-221">每個使用 WCF 配接器的 BizTalk 傳送埠會對應至對 WCF 服務進行呼叫。</span><span class="sxs-lookup"><span data-stu-id="8c078-221">Each BizTalk send port that uses a WCF adapter corresponds to a call made to a WCF service.</span></span> <span data-ttu-id="8c078-222">要傳送的訊息時，BizTalk Server 可讓配接器對應的訊息建立 BizTalk WCF 配接器內的 WCF 用戶端 proxy。</span><span class="sxs-lookup"><span data-stu-id="8c078-222">When there are messages to be sent, BizTalk Server gives the adapter those messages that correspond to the creation of the WCF client proxy within the BizTalk WCF adapter.</span></span> <span data-ttu-id="8c078-223">這些訊息會傳送之後會釋出 WCF 用戶端 proxy。</span><span class="sxs-lookup"><span data-stu-id="8c078-223">After the messages are sent the WCF client proxy is released.</span></span> <span data-ttu-id="8c078-224">傳送埠上的 WCF 存留期不斷出現，且會建立、 使用，以及終止 proxy。</span><span class="sxs-lookup"><span data-stu-id="8c078-224">The WCF lifetime on a send port constantly comes and goes as a proxy is created, used, and torn down.</span></span>