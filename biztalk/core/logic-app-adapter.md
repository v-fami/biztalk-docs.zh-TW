---
title: 在 BizTalk Server 中的使用邏輯應用程式配接器 |Microsoft 文件
description: 安裝和設定邏輯應用程式配接器來建立接收埠、 接收位置，在 BizTalk Server 傳送埠
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 72f2a5ac-a1f6-4bdb-8c29-8267ede75b17
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: faa43c187df7a8eb9fccd2f02f23f16e86b97ce0
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/20/2018
---
# <a name="logic-app-adapter"></a><span data-ttu-id="aeb68-103">邏輯應用程式配接器</span><span class="sxs-lookup"><span data-stu-id="aeb68-103">Logic App Adapter</span></span>

## <a name="overview"></a><span data-ttu-id="aeb68-104">概觀</span><span class="sxs-lookup"><span data-stu-id="aeb68-104">Overview</span></span>
<span data-ttu-id="aeb68-105">BizTalk Server 會使用邏輯應用程式配接器接收訊息從 Azure 邏輯應用程式，或將訊息傳送至 Azure 邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-105">BizTalk Server uses the Logic Apps adapter to receive messages from an Azure logic app, or send messages to an Azure logic app.</span></span> 

<span data-ttu-id="aeb68-106">在 Azure 中，我們會建立邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-106">In Azure, we create a logic app.</span></span> <span data-ttu-id="aeb68-107">此邏輯應用程式會使用 BizTalk 連接器來連接到您在 BizTalk Server 建立的接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-107">This logic app uses the BizTalk Connector to connect to a receive location that you create on your BizTalk Server.</span></span> <span data-ttu-id="aeb68-108">本主題假設您已熟悉 Azure 邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-108">This topic assumes you have some familiarity with Azure Logic Apps.</span></span> <span data-ttu-id="aeb68-109">如果您是新手邏輯應用程式，我們建議您 [深入了解它們](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/), ，甚至 [建立邏輯應用程式](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-109">If you're new to logic apps, we suggest [learning more about them](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/), and even [creating your own logic app](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/).</span></span>

<span data-ttu-id="aeb68-110">本主題中，我們會列出在 BizTalk Server 接收訊息的邏輯應用程式中的步驟。</span><span class="sxs-lookup"><span data-stu-id="aeb68-110">In this topic, we list the steps to receive a message in BizTalk Server from a logic app.</span></span> <span data-ttu-id="aeb68-111">換句話說，邏輯應用程式將訊息傳送至 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="aeb68-111">Put another way, the logic app sends messages to a BizTalk Server.</span></span> <span data-ttu-id="aeb68-112">接收端會使用應用程式在 IIS 中處理 Azure 的服務通訊。</span><span class="sxs-lookup"><span data-stu-id="aeb68-112">The receive-side uses applications in IIS to handle the communication with the Azure service.</span></span> <span data-ttu-id="aeb68-113">如果 BizTalk Server 在內部，您也在 BizTalk 伺服器上安裝資料閘道，並在 Azure 中建立的閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-113">If BizTalk Server is on-premises, you also install a data gateway on the BizTalk Server, and create a gateway in Azure.</span></span> 

<span data-ttu-id="aeb68-114">如果 BizTalk 伺服器安裝在 Azure 虛擬機器 (VM)，則您可以選擇將 VM 公開為 HTTP 端點 （您取得的 URL），或不公開 HTTP 端點。</span><span class="sxs-lookup"><span data-stu-id="aeb68-114">If BizTalk Server is installed on an Azure virtual machine (VM), then you can choose to expose the VM as an HTTP endpoint (you get a URL), or don't expose it as an HTTP endpoint.</span></span> <span data-ttu-id="aeb68-115">如果您將它公開時，您不需要使用閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-115">If you expose it, then you don't need to use the gateway.</span></span> <span data-ttu-id="aeb68-116">您可以在邏輯應用程式中，BizTalk 連接器中輸入您的 URL。</span><span class="sxs-lookup"><span data-stu-id="aeb68-116">You can enter your URL in the BizTalk Connector in your logic app.</span></span> <span data-ttu-id="aeb68-117">如果您不要公開 VM (沒有 URL)，您必須使用閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-117">If you don't expose the VM (no URL), then you need to use the gateway.</span></span> <span data-ttu-id="aeb68-118">本主題列出這些步驟。</span><span class="sxs-lookup"><span data-stu-id="aeb68-118">These steps are listed in this topic.</span></span>

<span data-ttu-id="aeb68-119">我們也顯示如何從 BizTalk Server 傳送訊息至 Azure 邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-119">We also show you how to send messages from BizTalk Server to an Azure logic app.</span></span> <span data-ttu-id="aeb68-120">邏輯應用程式放在另一種方式，從 BizTalk Server 接收訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-120">Put another way, the logic app receives messages from BizTalk Server.</span></span> <span data-ttu-id="aeb68-121">本主題中，您會發現，就相當簡單，傳送端。</span><span class="sxs-lookup"><span data-stu-id="aeb68-121">The send side is fairly straightforward, as you will see in this topic.</span></span>

<span data-ttu-id="aeb68-122">您可以使用本主題來建立接收位置和傳送埠使用邏輯應用程式配接器。</span><span class="sxs-lookup"><span data-stu-id="aeb68-122">Use this topic to create a receive location and a send port using the Logic Apps adapter.</span></span> <span data-ttu-id="aeb68-123">您可以使用 LogicApp 配接器在內部部署 （加入至您的網域） 的 BizTalk Server 中或執行 BizTalk Server 的 Azure 虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="aeb68-123">You can use the LogicApp adapter in a on-premises (joined to your domain) BizTalk Server, or an Azure virtual machine running BizTalk Server.</span></span> 

## <a name="requirements"></a><span data-ttu-id="aeb68-124">需求</span><span class="sxs-lookup"><span data-stu-id="aeb68-124">Requirements</span></span>

- <span data-ttu-id="aeb68-125">Azure 訂閱，才能登入 Azure 入口網站，然後建立邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-125">An Azure subscription to sign-in to the Azure portal, and create a logic app.</span></span>
- <span data-ttu-id="aeb68-126">選擇性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-126">Optional.</span></span> <span data-ttu-id="aeb68-127">若要將測試訊息傳送至您的邏輯應用程式，安裝 HTTP 的測試工具，例如 [Fiddler](http://www.telerik.com/fiddler) 或 [Postman](https://www.getpostman.com/)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-127">To send a test message to your logic app, install an HTTP testing tool, such as [Fiddler](http://www.telerik.com/fiddler) or [Postman](https://www.getpostman.com/).</span></span> <span data-ttu-id="aeb68-128">如果您使用另一種方法將訊息傳送至邏輯應用程式時，您不必使用這些工具。</span><span class="sxs-lookup"><span data-stu-id="aeb68-128">If you use another method to send a message to a logic app, you don't have to use these tools.</span></span> 

## <a name="receive-messages-from-a-logic-app"></a><span data-ttu-id="aeb68-129">從邏輯應用程式接收訊息</span><span class="sxs-lookup"><span data-stu-id="aeb68-129">Receive messages from a logic app</span></span>

<span data-ttu-id="aeb68-130">有幾個步驟的邏輯應用程式中接收訊息的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="aeb68-130">There are a few steps involved for BizTalk Server to receive messages from a logic app.</span></span> <span data-ttu-id="aeb68-131">此區段會列出這些步驟。</span><span class="sxs-lookup"><span data-stu-id="aeb68-131">This section lists these steps.</span></span> <span data-ttu-id="aeb68-132">就 Azure 的變更，因此某些步驟中的使用者介面可能無法完全如下所列。</span><span class="sxs-lookup"><span data-stu-id="aeb68-132">It's possible the user interface in Azure changes, so some of the steps may not be exactly as listed.</span></span> 

#### <a name="prerequisites"></a><span data-ttu-id="aeb68-133">必要條件</span><span class="sxs-lookup"><span data-stu-id="aeb68-133">Prerequisites</span></span>

- <span data-ttu-id="aeb68-134">如果 BizTalk Server 會在內部，安裝並設定 [內部資料閘道](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) 為邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-134">If BizTalk Server is on-premises, install and configure the [on-premises data gateway](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) for Logic Apps.</span></span> <span data-ttu-id="aeb68-135">然後，在 Azure 中， [建立資料閘道資源](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) 連接到您的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="aeb68-135">Then, in Azure, [create the data gateway resource](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) to connect to your BizTalk Server.</span></span>
- <span data-ttu-id="aeb68-136">如果在 Azure VM 上安裝 BizTalk Server VM 不會公開為 HTTP 端點，然後安裝及設定 [內部資料閘道](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) 為邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-136">If BizTalk Server is installed on an Azure VM, and the VM is not exposed as an HTTP endpoint, then install and configure the [on-premises data gateway](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) for Logic Apps.</span></span> <span data-ttu-id="aeb68-137">然後，在 Azure 中， [建立資料閘道資源](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) 連接到您的 BizTalk Server。</span><span class="sxs-lookup"><span data-stu-id="aeb68-137">Then, in Azure, [create the data gateway resource](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) to connect to your BizTalk Server.</span></span>
- <span data-ttu-id="aeb68-138">如果在 Azure VM 上安裝 BizTalk Server，而且 VM 會公開為 HTTP 端點，然後閘道與不需要或使用。</span><span class="sxs-lookup"><span data-stu-id="aeb68-138">If BizTalk Server is installed on an Azure VM, and the VM is exposed as an HTTP endpoint, then the gateway is not needed or used.</span></span> 

### <a name="step-1-install-the-logic-app-adapter"></a><span data-ttu-id="aeb68-139">步驟 1︰ 安裝邏輯應用程式配接器</span><span class="sxs-lookup"><span data-stu-id="aeb68-139">Step 1: Install the Logic App adapter</span></span>

<span data-ttu-id="aeb68-140">邏輯應用程式配接器是不同的下載，並不是隨附於 BizTalk Server 安裝。</span><span class="sxs-lookup"><span data-stu-id="aeb68-140">The Logic App adapter is a separate download, and is not included with the BizTalk Server installation.</span></span> 

> [!IMPORTANT] 
> <span data-ttu-id="aeb68-141">若要下載 LogicAppAdapter.iso:</span><span class="sxs-lookup"><span data-stu-id="aeb68-141">To download the LogicAppAdapter.iso:</span></span>
> 
> 1. <span data-ttu-id="aeb68-142">移至 [邏輯應用程式的 Microsoft BizTalk Server 配接器](https://www.microsoft.com/download/details.aspx?id=54287), ，並儲存。</span><span class="sxs-lookup"><span data-stu-id="aeb68-142">Go to [Microsoft BizTalk Server Adapter for Logic Apps](https://www.microsoft.com/download/details.aspx?id=54287), and save.</span></span> 
> 2. <span data-ttu-id="aeb68-143">開啟 LogicAppAdapter.iso，並執行 **LogicApp Adapter.msi** 檔案來安裝。</span><span class="sxs-lookup"><span data-stu-id="aeb68-143">Open the LogicAppAdapter.iso, and run the **LogicApp Adapter.msi** file to install.</span></span>

1. <span data-ttu-id="aeb68-144">BizTalk Server 中，下載並安裝邏輯應用程式配接器。</span><span class="sxs-lookup"><span data-stu-id="aeb68-144">On your BizTalk Server, download and install the Logic App adapter.</span></span> 

2. <span data-ttu-id="aeb68-145">按兩下以選取 **LogicApp Adapter.msi** 安裝。</span><span class="sxs-lookup"><span data-stu-id="aeb68-145">Double-select **LogicApp Adapter.msi** to install.</span></span> <span data-ttu-id="aeb68-146">接受授權合約，以及 **安裝**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-146">Accept the license agreement, and **Install**.</span></span>
3. <span data-ttu-id="aeb68-147">**完成** 安裝、 d 的重新啟動 **BizTalkServerApplication** 和 **BizTalkServerIsolatedHost** 主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="aeb68-147">**Finish** the install, an   d restart the **BizTalkServerApplication** and **BizTalkServerIsolatedHost** host instances.</span></span>

<span data-ttu-id="aeb68-148">安裝之後，您具有下列項目︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-148">Once installed, you have the following:</span></span>

- <span data-ttu-id="aeb68-149">LogicApp 配接器會新增至 BizTalk 管理。</span><span class="sxs-lookup"><span data-stu-id="aeb68-149">The LogicApp adapter is added to BizTalk Administration.</span></span>
- <span data-ttu-id="aeb68-150">傳送處理常式會建立，並使用 biztalkserverapplication 主控件。</span><span class="sxs-lookup"><span data-stu-id="aeb68-150">The send handler is created, and uses the BizTalkServerApplication host.</span></span>
- <span data-ttu-id="aeb68-151">接收處理常式做為 WCF 服務，會建立，並使用 biztalkserverisolatedhost 主控件。</span><span class="sxs-lookup"><span data-stu-id="aeb68-151">The receive handler is created as a WCF service, and uses the BizTalkServerIsolatedHost host.</span></span>
- <span data-ttu-id="aeb68-152">`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter`資料夾已建立，且包含兩個服務： 管理和 ReceiveService。</span><span class="sxs-lookup"><span data-stu-id="aeb68-152">The `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter` folder is created, and includes two services: Management and ReceiveService.</span></span> 

    <span data-ttu-id="aeb68-153">**管理**BizTalk 連接器邏輯應用程式中用來連接至 BizTalk Server 使用的資料閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-153">The **Management** is used by the BizTalk Connector in a logic app to connect to BizTalk Server using the data gateway.</span></span> <span data-ttu-id="aeb68-154">此管理服務可讓 BizTalk Server 接收訊息從 Azure 邏輯應用程式使用資料閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-154">This management service allows BizTalk Server to receive messages from an Azure logic app using the data gateway.</span></span> <span data-ttu-id="aeb68-155">在 BizTalk 接收端只使用這項服務。</span><span class="sxs-lookup"><span data-stu-id="aeb68-155">This service is only used on the receive-side of BizTalk.</span></span> <span data-ttu-id="aeb68-156">它不是由傳送端。</span><span class="sxs-lookup"><span data-stu-id="aeb68-156">It is not used by the send-side.</span></span>

    <span data-ttu-id="aeb68-157">**ReceiveService**輸入接收位置時，由 BizTalk 連接器，在邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-157">The **ReceiveService** is used by the BizTalk Connector in a logic app when you enter the receive location.</span></span> <span data-ttu-id="aeb68-158">**ReceiveService**負責從邏輯應用程式傳送訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-158">The **ReceiveService** is responsible for sending the messages from the logic app.</span></span> <span data-ttu-id="aeb68-159">在 BizTalk 接收端只使用這項服務。</span><span class="sxs-lookup"><span data-stu-id="aeb68-159">This service is only used on the receive-side of BizTalk.</span></span> <span data-ttu-id="aeb68-160">它不是由傳送端。</span><span class="sxs-lookup"><span data-stu-id="aeb68-160">It is not used by the send-side.</span></span>


### <a name="step-2-create-the-iis-applications"></a><span data-ttu-id="aeb68-161">步驟 2︰ 建立 IIS 應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-161">Step 2: Create the IIS applications</span></span>

<span data-ttu-id="aeb68-162">IIS 應用程式使用的管理和 ReceiveService 服務。</span><span class="sxs-lookup"><span data-stu-id="aeb68-162">The IIS applications use the Management and ReceiveService services.</span></span>

<span data-ttu-id="aeb68-163">您可以執行使用新的應用程式集區或現有的應用程式集區的 IIS 應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-163">You can run the IIS applications using a new application pool, or an existing application pool.</span></span> <span data-ttu-id="aeb68-164">AppPool 識別需要執行 BizTalk 服務，例如 「 BizTalk 應用程式使用者 」 和 「 BizTalk 外掛式主控件使用者群組的帳戶相同群組的成員資格。</span><span class="sxs-lookup"><span data-stu-id="aeb68-164">The identity of the AppPool requires membership to the same groups as the account that runs the BizTalk services, such as the BizTalk Application Users and BizTalk Isolated Host Users groups.</span></span>  

> [!TIP] 
> <span data-ttu-id="aeb68-165">如果您建立新的應用程式集區，那麼請保留預設的.NET CLR 版本，與受管理的管線。</span><span class="sxs-lookup"><span data-stu-id="aeb68-165">If you create a new application pool, then keep the default .NET CLR version, and managed pipeline.</span></span> <span data-ttu-id="aeb68-166">請記住，選擇 身分識別 （進階設定） 具有相同的 BizTalk 群組與 BizTalk 服務帳戶的成員資格。</span><span class="sxs-lookup"><span data-stu-id="aeb68-166">Remember, choose an identity (Advanced Settings) that has membership to the same BizTalk groups as your BizTalk service account.</span></span> 

#### <a name="create-the-management-iis-application"></a><span data-ttu-id="aeb68-167">建立管理 IIS 應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-167">Create the Management IIS application</span></span>
<span data-ttu-id="aeb68-168">此 IIS 應用程式的 URL 供 BizTalk 中的連接器 （在邏輯應用程式），來使用 BizTalk Server 上的資料閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-168">The URL of this IIS application is used by the BizTalk Connector (in your logic app) to use the data gateway on your BizTalk Server.</span></span>

1. <span data-ttu-id="aeb68-169">開啟網際網路資訊服務 (IIS) 管理員。</span><span class="sxs-lookup"><span data-stu-id="aeb68-169">Open the Internet Information Services (IIS) Manager.</span></span>
2. <span data-ttu-id="aeb68-170">以滑鼠右鍵按一下 **預設的網站**, ，和 **新增應用程式**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-170">Right-click **Default Web Site**, and **Add Application**.</span></span> <span data-ttu-id="aeb68-171">在這個新的應用程式︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-171">In this new application:</span></span> 

    1. <span data-ttu-id="aeb68-172">輸入 **別名** （名稱） 的應用程式，例如 **IISLogicApp**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-172">Enter the **Alias** (name) for your application, such as **IISLogicApp**.</span></span> 
    2. <span data-ttu-id="aeb68-173">**選取** 應用程式集區。</span><span class="sxs-lookup"><span data-stu-id="aeb68-173">**Select** the application pool.</span></span>
    3. <span data-ttu-id="aeb68-174">設定**實體路徑**至`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\Management`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-174">Set the **Physical path** to `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\Management`.</span></span> 
    3. <span data-ttu-id="aeb68-175">**測試設定** 確認應用程式集區身分識別通過驗證，並測試授權。</span><span class="sxs-lookup"><span data-stu-id="aeb68-175">**Test Settings** to confirm the application pool identity passes the Authentication and Authorization tests.</span></span>

3. <span data-ttu-id="aeb68-176">選取 **確定** 以儲存變更。</span><span class="sxs-lookup"><span data-stu-id="aeb68-176">Select **OK** to save your changes.</span></span>
4. <span data-ttu-id="aeb68-177">開啟網頁瀏覽器，並移至`http://localhost/YourApplicationAlias/schemas?api-version=2016-10-26`，例如`http://localhost/IISLogicApp/Schemas?api-version=2016-10-26`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-177">Open a web browser, and go to `http://localhost/YourApplicationAlias/schemas?api-version=2016-10-26`, such as `http://localhost/IISLogicApp/Schemas?api-version=2016-10-26`.</span></span> <span data-ttu-id="aeb68-178">可能是結構描述顯示的清單，或提示開啟/儲存 `schemas.json`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-178">Either a list of schemas display, or you are prompted to open/save `schemas.json`.</span></span> <span data-ttu-id="aeb68-179">實際的結果取決於您的 web 瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="aeb68-179">The actual result depends on your web browser.</span></span> <span data-ttu-id="aeb68-180">如果發生上述任一種情況，然後 AppPool 識別可能會遺失的 BizTalk 群組的成員資格。</span><span class="sxs-lookup"><span data-stu-id="aeb68-180">If neither of these happens, then your AppPool identity may be missing membership to the BizTalk groups.</span></span>

#### <a name="create-the-biztalk-receiveservice-iis-application"></a><span data-ttu-id="aeb68-181">建立 BizTalk ReceiveService IIS 應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-181">Create the BizTalk ReceiveService IIS application</span></span>
<span data-ttu-id="aeb68-182">此 IIS 應用程式的 URL 由 BizTalk 中的連接器 （在邏輯應用程式） 當您選擇接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-182">The URL of this IIS application is used by the BizTalk Connector (in your logic app) when you choose the receive location.</span></span> 

1. <span data-ttu-id="aeb68-183">開啟網際網路資訊服務 (IIS) 管理員。</span><span class="sxs-lookup"><span data-stu-id="aeb68-183">Open the Internet Information Services (IIS) Manager.</span></span>
2. <span data-ttu-id="aeb68-184">以滑鼠右鍵按一下 **預設的網站**, ，和 **新增應用程式**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-184">Right-click **Default Web Site**, and **Add Application**.</span></span> <span data-ttu-id="aeb68-185">在這個新的應用程式︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-185">In this new application:</span></span> 

    1. <span data-ttu-id="aeb68-186">輸入 **別名** （名稱） 的應用程式，例如 **ReceiveWCFService**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-186">Enter the **Alias** (name) for your application, such as **ReceiveWCFService**.</span></span> 
    2. <span data-ttu-id="aeb68-187">**選取** 與先前的 IIS 應用程式相同的應用程式集區。</span><span class="sxs-lookup"><span data-stu-id="aeb68-187">**Select** the same application pool as the previous IIS application.</span></span>
    3. <span data-ttu-id="aeb68-188">設定**實體路徑**至`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\ReceiveService`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-188">Set the **Physical path** to `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\ReceiveService`.</span></span> 
    3. <span data-ttu-id="aeb68-189">**測試設定** 確認應用程式集區身分識別通過驗證，並測試授權。</span><span class="sxs-lookup"><span data-stu-id="aeb68-189">**Test Settings** to confirm the application pool identity passes the Authentication and Authorization tests.</span></span>

3. <span data-ttu-id="aeb68-190">選取 **確定** 以儲存變更。</span><span class="sxs-lookup"><span data-stu-id="aeb68-190">Select **OK** to save your changes.</span></span>


### <a name="step-3-create-a-logic-app"></a><span data-ttu-id="aeb68-191">步驟 3︰ 建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-191">Step 3: Create a logic app</span></span>

1. <span data-ttu-id="aeb68-192">在 [Azure 入口網站](https://portal.azure.com), ，建立新的邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-192">In the [Azure portal](https://portal.azure.com), create a new logic app.</span></span>
2. <span data-ttu-id="aeb68-193">新增 **收到時的 HTTP 要求** 觸發程序。</span><span class="sxs-lookup"><span data-stu-id="aeb68-193">Add the **When an HTTP request is received** trigger.</span></span>
3. <span data-ttu-id="aeb68-194">新增 **BizTalk Server 做為準備從 JSON 訊息** 動作。</span><span class="sxs-lookup"><span data-stu-id="aeb68-194">Add the **BizTalk Server - Prepare message from JSON** action.</span></span> 
4. <span data-ttu-id="aeb68-195">**選擇性**︰ 選取 **連線透過內部資料閘道**, ，並輸入下列命令︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-195">**Optional**: Select **Connect via on-premise data gateway**, and enter the following:</span></span> 

    | <span data-ttu-id="aeb68-196">屬性</span><span class="sxs-lookup"><span data-stu-id="aeb68-196">Property</span></span> | <span data-ttu-id="aeb68-197">Description</span><span class="sxs-lookup"><span data-stu-id="aeb68-197">Description</span></span> |
   | --- | --- |
    | <span data-ttu-id="aeb68-198">BizTalk Server URL</span><span class="sxs-lookup"><span data-stu-id="aeb68-198">BizTalk Server URL</span></span> | <span data-ttu-id="aeb68-199">BizTalk 管理中 IIS 應用程式 URL，請輸入完整的網域名稱 (FQDN)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-199">Enter the fully qualified domain name (FQDN) of the BizTalk Management in IIS application URL.</span></span> <span data-ttu-id="aeb68-200">例如，輸入`http://BizTalkServerName.corp.contoso.com/IISLogicApp/`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-200">For example, enter `http://BizTalkServerName.corp.contoso.com/IISLogicApp/`.</span></span> |
    | <span data-ttu-id="aeb68-201">驗證類型</span><span class="sxs-lookup"><span data-stu-id="aeb68-201">Authentication Type</span></span> | <span data-ttu-id="aeb68-202">選取 **Windows**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-202">Select **Windows**.</span></span> |
   | <span data-ttu-id="aeb68-203">使用者名稱</span><span class="sxs-lookup"><span data-stu-id="aeb68-203">Username</span></span> | <span data-ttu-id="aeb68-204">輸入 IIS 應用程式集區識別。</span><span class="sxs-lookup"><span data-stu-id="aeb68-204">Enter the identity of the IIS application pool.</span></span> |
   | <span data-ttu-id="aeb68-205">密碼</span><span class="sxs-lookup"><span data-stu-id="aeb68-205">Password</span></span> | <span data-ttu-id="aeb68-206">輸入 IIS 應用程式集區的密碼。</span><span class="sxs-lookup"><span data-stu-id="aeb68-206">Enter the password of the IIS application pool.</span></span> |
   | <span data-ttu-id="aeb68-207">閘道</span><span class="sxs-lookup"><span data-stu-id="aeb68-207">Gateway</span></span> | <span data-ttu-id="aeb68-208">選取您建立的閘道。</span><span class="sxs-lookup"><span data-stu-id="aeb68-208">Select the gateway you created.</span></span> |

    > [!TIP] 
    > <span data-ttu-id="aeb68-209">請記住，只是資料閘道器才需要︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-209">Remember, the data gateway is only required if:</span></span>
    > - <span data-ttu-id="aeb68-210">您使用內部部署 BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="aeb68-210">You're using an on-premises BizTalk Server</span></span>
    > - <span data-ttu-id="aeb68-211">您使用 BizTalk Server 的 Azure 虛擬機器 *和* VM 不會公開為 HTTP 端點 (沒有 URL)</span><span class="sxs-lookup"><span data-stu-id="aeb68-211">You're using a BizTalk Server Azure virtual machine *and* the VM is NOT exposed as an HTTP endpoint (no URL)</span></span>

5. <span data-ttu-id="aeb68-212">選取 [建立]。</span><span class="sxs-lookup"><span data-stu-id="aeb68-212">Select **Create**.</span></span> 
6. <span data-ttu-id="aeb68-213">設定動作。</span><span class="sxs-lookup"><span data-stu-id="aeb68-213">Configure the action.</span></span> <span data-ttu-id="aeb68-214">如 **主體**, ，選取 HTTP 主體輸出。</span><span class="sxs-lookup"><span data-stu-id="aeb68-214">For **Body**, select the HTTP body output.</span></span> <span data-ttu-id="aeb68-215">如 **結構描述**, ，選取您想要使用的結構描述。</span><span class="sxs-lookup"><span data-stu-id="aeb68-215">For **Schema**, select the schema you want to use.</span></span> 

    > [!NOTE] 
    > <span data-ttu-id="aeb68-216">這個步驟假設您已熟悉 biztalk 結構描述，而且知道您想要的結構描述。</span><span class="sxs-lookup"><span data-stu-id="aeb68-216">This step assumes you are familiar with schemas in BizTalk, and know which schema you want.</span></span> <span data-ttu-id="aeb68-217">如果您不確定，然後部署 HelloWorld SDK 範例，更新使用邏輯應用程式配接器，其成品和使用其結構描述和範例訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-217">If you're not sure, then deploy the HelloWorld SDK sample, update its artifacts to use the Logic App adapter, and use its schema and sample message.</span></span> 

7. <span data-ttu-id="aeb68-218">加入新的步驟，然後選取 **BizTalk Server 做為傳送訊息** 動作。</span><span class="sxs-lookup"><span data-stu-id="aeb68-218">Add a new step, and select the **BizTalk Server - Send message** action.</span></span> <span data-ttu-id="aeb68-219">如**接收位置**、 從下拉式清單中，選取 URL，或輸入 ReceiveService IIS 應用程式 URL 的完整的網域名稱 (FQDN)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-219">For  **Receive Location**, select the URL from the drop-down list, or enter the fully qualified domain name (FQDN) of the ReceiveService IIS application URL.</span></span> <span data-ttu-id="aeb68-220">例如，輸入 `http://BizTalkServerName.corp.contoso.com/ReceiveWCFService/Service1.svc`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-220">For example, enter `http://BizTalkServerName.corp.contoso.com/ReceiveWCFService/Service1.svc`.</span></span>

    > [!TIP] 
    > <span data-ttu-id="aeb68-221">當您建立的接收位置時，將也做為接收位置傳輸屬性中輸入確切的 URL **公用位址** （一般索引標籤）。</span><span class="sxs-lookup"><span data-stu-id="aeb68-221">When you create the receive location, this exact URL will also be entered in the receive location transport properties as the **Public Address** (General tab).</span></span>

    <span data-ttu-id="aeb68-222">如 **主體**, ，從上一個 BizTalk Server 動作選取主體輸出。</span><span class="sxs-lookup"><span data-stu-id="aeb68-222">For **Body**, select the body output from the previous BizTalk Server action.</span></span> 

8. <span data-ttu-id="aeb68-223">**儲存** 您的變更。</span><span class="sxs-lookup"><span data-stu-id="aeb68-223">**Save** your changes.</span></span> 

<span data-ttu-id="aeb68-224">當您儲存時，HTTP 要求觸發程序會自動建立的 URL。</span><span class="sxs-lookup"><span data-stu-id="aeb68-224">When you save, the HTTP Request trigger automatically creates a URL.</span></span> <span data-ttu-id="aeb68-225">複製這個 URL。您需要在 **步驟 5︰ 將訊息傳送**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-225">Copy this URL; you need it in **Step 5: Send a message**.</span></span>

### <a name="step-4-create-a-receive-port-and-a-receive-location"></a><span data-ttu-id="aeb68-226">步驟 4︰ 建立接收埠和接收位置</span><span class="sxs-lookup"><span data-stu-id="aeb68-226">Step 4: Create a receive port and a receive location</span></span>

> [!NOTE] 
> <span data-ttu-id="aeb68-227">而不是建立您自己的接收埠和接收位置，您可以部署 HelloWorld SDK 範例。</span><span class="sxs-lookup"><span data-stu-id="aeb68-227">Instead of creating your own receive ports and receive location, you can deploy the HelloWorld SDK sample.</span></span> <span data-ttu-id="aeb68-228">更新要使用邏輯應用程式配接器的成品。</span><span class="sxs-lookup"><span data-stu-id="aeb68-228">Update the artifacts to use the Logic Apps adapter.</span></span> 
 
<span data-ttu-id="aeb68-229">本節列出的步驟來建立您自己的成品。</span><span class="sxs-lookup"><span data-stu-id="aeb68-229">This section lists the steps to create your own artifacts.</span></span> 

1. <span data-ttu-id="aeb68-230">在 BizTalk Server 管理，依序展開 **BizTalk Server 管理**, ，依序展開 **BizTalk 群組**, ，依序展開 **應用程式**, ，然後展開您想要執行的接收位置的應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-230">In BizTalk Server Administration, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to run the receive location.</span></span> <span data-ttu-id="aeb68-231">例如，展開  **BizTalk Application 1**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-231">For example, expand **BizTalk Application 1**.</span></span>
2. <span data-ttu-id="aeb68-232">右邊選取 **接收埠**, ，請選取 **新增**, ，然後選取 **單向接收埠**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-232">Right-select **Receive Ports**, select **New**, and select **One-way Receive Port**.</span></span>
3. <span data-ttu-id="aeb68-233">在接收埠屬性中，輸入下列資訊︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-233">In the Receive Port properties, enter the following:</span></span>  

    | <span data-ttu-id="aeb68-234">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-234">Use this</span></span> | <span data-ttu-id="aeb68-235">動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-235">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="aeb68-236">**名稱**</span><span class="sxs-lookup"><span data-stu-id="aeb68-236">**Name**</span></span> | <span data-ttu-id="aeb68-237">輸入接收埠的名稱。</span><span class="sxs-lookup"><span data-stu-id="aeb68-237">Enter a name for the receive port.</span></span> <span data-ttu-id="aeb68-238">例如，輸入 **LAReceivePort**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-238">For example, enter **LAReceivePort**.</span></span> |
    | <span data-ttu-id="aeb68-239">**驗證**</span><span class="sxs-lookup"><span data-stu-id="aeb68-239">**Authentication**</span></span> | <span data-ttu-id="aeb68-240">選項：</span><span class="sxs-lookup"><span data-stu-id="aeb68-240">Options:</span></span> <br/><ul><li><span data-ttu-id="aeb68-241">不需要驗證︰ 預設值。</span><span class="sxs-lookup"><span data-stu-id="aeb68-241">No Authentication: Default.</span></span> <span data-ttu-id="aeb68-242">停用驗證。</span><span class="sxs-lookup"><span data-stu-id="aeb68-242">Disables authentication.</span></span></li><li><span data-ttu-id="aeb68-243">驗證失敗時捨棄訊息︰ 啟用驗證，但若要卸除未驗證的訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-243">Drop messages if authentication fails: Enables authentication but to drop unauthenticated messages.</span></span></li><li><span data-ttu-id="aeb68-244">驗證失敗時保留訊息︰ 按一下此選項以啟用驗證並保留未驗證的訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-244">Keep messages if authentication fails: Click this option to enable authentication and keep unauthenticated messages.</span></span> </li></ul>|
    | <span data-ttu-id="aeb68-245">**啟用失敗訊息的路由**</span><span class="sxs-lookup"><span data-stu-id="aeb68-245">**Enable routing for failed messages**</span></span> | <span data-ttu-id="aeb68-246">將路由至訂閱應用程式的處理失敗的任何訊息 （例如其他接收埠或協調流程排程）。</span><span class="sxs-lookup"><span data-stu-id="aeb68-246">Routes any message that fails processing to a subscribing application (such as another receive port or orchestration schedule).</span></span> <span data-ttu-id="aeb68-247">取消選取此選項以擱置失敗的訊息，並產生負值通知 (NACK)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-247">Uncheck this option to suspend failed messages and generate a negative acknowledgment (NACK).</span></span> <span data-ttu-id="aeb68-248">預設值為清除核取方塊。</span><span class="sxs-lookup"><span data-stu-id="aeb68-248">The default value is cleared.</span></span> <span data-ttu-id="aeb68-249">如需詳細資訊，請參閱[如何啟用接收埠的失敗訊息路由](../core/how-to-enable-routing-for-failed-messages-for-a-receive-port.md)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-249">For more information, see [How to Enable Routing for Failed Messages for a Receive Port](../core/how-to-enable-routing-for-failed-messages-for-a-receive-port.md).</span></span>|

4. <span data-ttu-id="aeb68-250">選取 **接收位置**, ，然後選取 **新增**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-250">Select **Receive Locations**, and select **New**.</span></span> 
5. <span data-ttu-id="aeb68-251">輸入 **名稱** 接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-251">Enter a **Name** for the receive location.</span></span> <span data-ttu-id="aeb68-252">例如，輸入 **LAReceiveLoc**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-252">For example, enter **LAReceiveLoc**.</span></span>
6. <span data-ttu-id="aeb68-253">如 **類型**, ，請選取 **LogicApp** 從清單中，然後選取 **設定 按鈕**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-253">For the **Type**, select **LogicApp** from the list, and select the **Configure button**.</span></span> 
7. <span data-ttu-id="aeb68-254">在 **一般** 索引標籤上，設定端點位址，以便在邏輯應用程式︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-254">In the **General** tab, configure the endpoint address for your logic app:</span></span>

    | <span data-ttu-id="aeb68-255">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-255">Use this</span></span> | <span data-ttu-id="aeb68-256">動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-256">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="aeb68-257">**位址 (URI)**</span><span class="sxs-lookup"><span data-stu-id="aeb68-257">**Address (URI)**</span></span> | <span data-ttu-id="aeb68-258">必要。</span><span class="sxs-lookup"><span data-stu-id="aeb68-258">Required.</span></span> <span data-ttu-id="aeb68-259">輸入 BizTalk ReceiveService IIS 應用程式 URL (`/YourIISApp2Name/Service1.svc`)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-259">Enter the BizTalk ReceiveService IIS application URL (`/YourIISApp2Name/Service1.svc`).</span></span> <span data-ttu-id="aeb68-260">例如，輸入 `/ReceiveWCFService/Service1.svc`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-260">For example, enter `/ReceiveWCFService/Service1.svc`.</span></span> |
    | <span data-ttu-id="aeb68-261">**公用位址**</span><span class="sxs-lookup"><span data-stu-id="aeb68-261">**Public Address**</span></span> | <span data-ttu-id="aeb68-262">必要。</span><span class="sxs-lookup"><span data-stu-id="aeb68-262">Required.</span></span> <span data-ttu-id="aeb68-263">輸入 `http://<your fully qualified machine name>/YourIISApp2Name/Service1.svc`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-263">Enter `http://<your fully qualified machine name>/YourIISApp2Name/Service1.svc`.</span></span> <span data-ttu-id="aeb68-264">例如，輸入 `http://btsProd.northamerica.corp.contoso.com/ReceiveWCFService/Service1.svc`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-264">For example, enter `http://btsProd.northamerica.corp.contoso.com/ReceiveWCFService/Service1.svc`.</span></span> <br/><br/><span data-ttu-id="aeb68-265">確切的 URL 也會列在邏輯應用程式中接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-265">This exact URL is also listed in your logic app in the receive location.</span></span>|

8. <span data-ttu-id="aeb68-266">**選擇性**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-266">**Optional**.</span></span> <span data-ttu-id="aeb68-267">在 **繫結** 索引標籤上，設定任何逾時和編碼相關基礎 Wcf-webhttp 繫結的屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-267">In the **Binding** tab, configure any timeout and encoding-related properties of the underlying WCF-WebHttp binding.</span></span> <span data-ttu-id="aeb68-268">處理大型訊息時，這些屬性是很有幫助。</span><span class="sxs-lookup"><span data-stu-id="aeb68-268">These properties are helpful when dealing with large messages.</span></span>

    | <span data-ttu-id="aeb68-269">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-269">Use this</span></span> | <span data-ttu-id="aeb68-270">動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-270">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="aeb68-271">開啟逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-271">Open timeout</span></span> | <span data-ttu-id="aeb68-272">輸入應該才會完成通道開啟作業的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-272">Enter the time interval it should take for the channel open operation to complete.</span></span> <span data-ttu-id="aeb68-273">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-273">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="aeb68-274">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-274">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-275">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-275">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="aeb68-276">傳送逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-276">Send timeout</span></span> |<span data-ttu-id="aeb68-277">輸入應該針對完成傳送作業的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-277">Enter the time interval it should take for the send operation to complete.</span></span> <span data-ttu-id="aeb68-278">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-278">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <span data-ttu-id="aeb68-279">如果您使用要求-回應接收埠，這個值會指定，才能完成整個互動的時間長度，即使在用戶端傳回很大的訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-279">If you use a request-response receive port, this value specifies a time span for the entire interaction to complete, even if the client returns a large message.</span></span> <br/><br/><span data-ttu-id="aeb68-280">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-280">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-281">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-281">Maximum value: 23:59:59</span></span>|
    | <span data-ttu-id="aeb68-282">關閉逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-282">Close timeout</span></span> | <span data-ttu-id="aeb68-283">輸入所需的通道關閉作業完成的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-283">Enter the time interval it should take for the channel close operation to complete.</span></span> <span data-ttu-id="aeb68-284">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-284">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="aeb68-285">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-285">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-286">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-286">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="aeb68-287">接收訊息大小上限 (以位元組為單位)</span><span class="sxs-lookup"><span data-stu-id="aeb68-287">Maximum received message size (bytes)</span></span> | <span data-ttu-id="aeb68-288">輸入的最大的大小，以位元組為單位，包括標頭，在網路上接收訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-288">Enter the maximum size, in bytes, for a message including headers, to be received on the wire.</span></span> <span data-ttu-id="aeb68-289">訊息大小受限於配置給各訊息的記憶體數量。</span><span class="sxs-lookup"><span data-stu-id="aeb68-289">The size of the messages is bound by the amount of memory allocated for each message.</span></span> <span data-ttu-id="aeb68-290">您可以使用這個屬性來限制遭受拒絕服務 (DoS) 攻擊的風險程度。</span><span class="sxs-lookup"><span data-stu-id="aeb68-290">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span> <br/><br/><span data-ttu-id="aeb68-291">預設值：65536</span><span class="sxs-lookup"><span data-stu-id="aeb68-291">Default value: 65536</span></span><br/><span data-ttu-id="aeb68-292">最大值：2147483647</span><span class="sxs-lookup"><span data-stu-id="aeb68-292">Maximum value: 2147483647</span></span>|
    | <span data-ttu-id="aeb68-293">同時呼叫數目上限</span><span class="sxs-lookup"><span data-stu-id="aeb68-293">Maximum concurrent calls</span></span> | <span data-ttu-id="aeb68-294">輸入單一服務執行個體的並行呼叫數。</span><span class="sxs-lookup"><span data-stu-id="aeb68-294">Enter the number of concurrent calls to a single service instance.</span></span> <span data-ttu-id="aeb68-295">超出上限的呼叫將排入佇列。</span><span class="sxs-lookup"><span data-stu-id="aeb68-295">Calls in excess of the limit are queued.</span></span> <span data-ttu-id="aeb68-296">將此值設定為 0 相當於設定為 Int32.MaxValue。</span><span class="sxs-lookup"><span data-stu-id="aeb68-296">Setting this value to 0 is equivalent to setting it to Int32.MaxValue.</span></span> <br/><br/><span data-ttu-id="aeb68-297">預設值是 200。</span><span class="sxs-lookup"><span data-stu-id="aeb68-297">The default is 200.</span></span>|

9. <span data-ttu-id="aeb68-298">**選擇性**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-298">**Optional**.</span></span> <span data-ttu-id="aeb68-299">在 **安全性** 索引標籤上，設定任何安全性屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-299">In the **Security** tab, configure any security properties.</span></span> <span data-ttu-id="aeb68-300">為開發用途，您可以選擇 無︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-300">For development purposes, you can choose None:</span></span>

    | <span data-ttu-id="aeb68-301">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-301">Use this</span></span> | <span data-ttu-id="aeb68-302">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-302">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="aeb68-303">安全性模式</span><span class="sxs-lookup"><span data-stu-id="aeb68-303">Security mode</span></span> | <span data-ttu-id="aeb68-304">選項：</span><span class="sxs-lookup"><span data-stu-id="aeb68-304">Options:</span></span>  <br/><br/><ul><li><span data-ttu-id="aeb68-305">None︰ 不保護訊息傳輸期間。</span><span class="sxs-lookup"><span data-stu-id="aeb68-305">None: Messages are not secured during transfer.</span></span></li><li><span data-ttu-id="aeb68-306">傳輸︰ 安全性提供使用 HTTPS 傳輸。</span><span class="sxs-lookup"><span data-stu-id="aeb68-306">Transport: Security is provided using the HTTPS transport.</span></span> <span data-ttu-id="aeb68-307">使用 HTTPS 來維護 SOAP 訊息的安全。</span><span class="sxs-lookup"><span data-stu-id="aeb68-307">The SOAP messages are secured using HTTPS.</span></span> <span data-ttu-id="aeb68-308">若要使用此模式中，您必須設定設定安全通訊端層 (SSL) 在網際網路資訊服務 (IIS)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-308">To use this mode, you must set up Secure Sockets Layer (SSL) in Internet Information Services (IIS).</span></span> </li><li><span data-ttu-id="aeb68-309">TransportCredentialOnly︰ 預設值。</span><span class="sxs-lookup"><span data-stu-id="aeb68-309">TransportCredentialOnly: Default.</span></span> </li></ul> |
    | <span data-ttu-id="aeb68-310">傳輸用戶端認證類型</span><span class="sxs-lookup"><span data-stu-id="aeb68-310">Transport client credential types</span></span> | <span data-ttu-id="aeb68-311">使用用戶端驗證時，請選擇認證類型。</span><span class="sxs-lookup"><span data-stu-id="aeb68-311">Choose the credential type when using client authentication.</span></span> <span data-ttu-id="aeb68-312">選項：</span><span class="sxs-lookup"><span data-stu-id="aeb68-312">Options:</span></span>  <br/><br/><ul><li><span data-ttu-id="aeb68-313">None︰ 不需要驗證就會發生在傳輸層級。</span><span class="sxs-lookup"><span data-stu-id="aeb68-313">None: No authentication occurs at the transport level.</span></span></li><li><span data-ttu-id="aeb68-314">Basic︰ 使用基本驗證透過網路以純文字傳送使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="aeb68-314">Basic: Uses Basic authentication to send user names and passwords in plain text over the network.</span></span> <span data-ttu-id="aeb68-315">您必須建立對應到認證的網域或本機使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="aeb68-315">You must create the domain or local user accounts corresponding to the credentials.</span></span></li><li><span data-ttu-id="aeb68-316">若要透過網路傳送密碼以雜湊值的摘要︰ 使用摘要式驗證。</span><span class="sxs-lookup"><span data-stu-id="aeb68-316">Digest: Uses Digest authentication to send passwords as a hash value over the network.</span></span> <span data-ttu-id="aeb68-317">僅適用於執行 Windows Server 作業系統驗證網域控制站的定義域。</span><span class="sxs-lookup"><span data-stu-id="aeb68-317">Only available on domains with domain controllers running Windows Server operating systems authentication.</span></span> <span data-ttu-id="aeb68-318">您必須建立對應到用戶端認證的網域或本機使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="aeb68-318">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="aeb68-319">Ntlm︰ 預設值。</span><span class="sxs-lookup"><span data-stu-id="aeb68-319">Ntlm: Default.</span></span> <span data-ttu-id="aeb68-320">用戶端傳送的認證，而不需要密碼傳送至這個接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-320">Clients sends the credentials without sending a password to this receive location.</span></span> <span data-ttu-id="aeb68-321">您必須建立對應到用戶端認證的網域或本機使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="aeb68-321">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="aeb68-322">Windows: Windows 整合式的驗證會交涉 Kerberos 或 NTLM，如果網域存在，則偏好 Kerberos。</span><span class="sxs-lookup"><span data-stu-id="aeb68-322">Windows: Windows integrated authentication negotiates Kerberos or NTLM, preferring Kerberos if a domain is present.</span></span> <span data-ttu-id="aeb68-323">若要使用 Kerberos，是讓用戶端與服務主要名稱 (SPN) 識別服務。</span><span class="sxs-lookup"><span data-stu-id="aeb68-323">To use Kerberos, it is important to have the client identify the service with a service principal name (SPN).</span></span> <span data-ttu-id="aeb68-324">您必須建立對應到用戶端認證的網域或本機使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="aeb68-324">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="aeb68-325">憑證︰ 使用用戶端憑證。</span><span class="sxs-lookup"><span data-stu-id="aeb68-325">Certificate: Uses a client certificate.</span></span> <span data-ttu-id="aeb68-326">CA 憑證鏈結的用戶端 X.509 憑證必須安裝在這部電腦的受信任的根憑證授權單位憑證存放區，讓用戶端可以驗證此接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-326">The CA certificate chain for the client X.509 certificates must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the clients can authenticate to this receive location.</span></span></li><li><span data-ttu-id="aeb68-327">InheritedFromHost</span><span class="sxs-lookup"><span data-stu-id="aeb68-327">InheritedFromHost</span></span></li></ul> |
    | <span data-ttu-id="aeb68-328">使用單一登入</span><span class="sxs-lookup"><span data-stu-id="aeb68-328">Use Single Sign-On</span></span> | |


10. <span data-ttu-id="aeb68-329">**選擇性**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-329">**Optional**.</span></span> <span data-ttu-id="aeb68-330">在 **訊息** 索引標籤上，使用 **傳出的 HTTP 標頭** 屬性加入任何自訂標頭，並使用其他屬性來幫助的錯誤︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-330">In the **Messages** tab, use the **Outbound HTTP Headers** property to add any custom headers, and use the additional properties to help with faults:</span></span> 

    | <span data-ttu-id="aeb68-331">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-331">Use this</span></span> | <span data-ttu-id="aeb68-332">以進行此動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-332">To do this</span></span> |
    | --- | --- |
    |<span data-ttu-id="aeb68-333">輸出 HTTP 標頭</span><span class="sxs-lookup"><span data-stu-id="aeb68-333">Outbound HTTP Headers</span></span> | <span data-ttu-id="aeb68-334">輸入您想要的回應訊息中加上任何 HTTP 標頭。</span><span class="sxs-lookup"><span data-stu-id="aeb68-334">Enter any HTTP headers that you want stamped on the response message.</span></span> | 
    | <span data-ttu-id="aeb68-335">失敗時停用位置</span><span class="sxs-lookup"><span data-stu-id="aeb68-335">Disable location on failure</span></span> | <span data-ttu-id="aeb68-336">如果輸入的處理失敗，因為接收管線失敗或路由失敗，會停用接收位置。</span><span class="sxs-lookup"><span data-stu-id="aeb68-336">Disables the receive location if inbound processing fails due to a receive pipeline failure or a routing failure.</span></span> <span data-ttu-id="aeb68-337">預設為核取。</span><span class="sxs-lookup"><span data-stu-id="aeb68-337">Default is unchecked.</span></span>|
    | <span data-ttu-id="aeb68-338">失敗時擱置的要求訊息</span><span class="sxs-lookup"><span data-stu-id="aeb68-338">Suspend request message on failure</span></span> | <span data-ttu-id="aeb68-339">如果輸入的處理失敗，因為接收管線失敗或路由失敗而，擱置的要求訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-339">Suspends the request message if inbound processing fails due to a receive pipeline failure or a routing failure.</span></span> <span data-ttu-id="aeb68-340">預設為核取。</span><span class="sxs-lookup"><span data-stu-id="aeb68-340">Default is unchecked.</span></span>|
    | <span data-ttu-id="aeb68-341">錯誤中包含例外狀況詳細資料</span><span class="sxs-lookup"><span data-stu-id="aeb68-341">Include exception detail in faults</span></span> | <span data-ttu-id="aeb68-342">發生錯誤時，會傳回任何 SOAP 錯誤，以協助偵錯。</span><span class="sxs-lookup"><span data-stu-id="aeb68-342">When an error occurs, returns any SOAP faults to help debugging.</span></span> <span data-ttu-id="aeb68-343">預設為核取。</span><span class="sxs-lookup"><span data-stu-id="aeb68-343">Default is unchecked.</span></span>|

<span data-ttu-id="aeb68-344">[管理接收位置](../core/managing-receive-locations.md)描述其他屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-344">[Managing Receive Locations](../core/managing-receive-locations.md) describes the additional properties.</span></span> 

### <a name="step-5-send-a-message"></a><span data-ttu-id="aeb68-345">步驟 5︰ 將訊息傳送。</span><span class="sxs-lookup"><span data-stu-id="aeb68-345">Step 5: Send a message</span></span>

1. <span data-ttu-id="aeb68-346">開啟 Fiddler 或 Postman （或您偏好的任何內容）。</span><span class="sxs-lookup"><span data-stu-id="aeb68-346">Open Fiddler or Postman (or whatever you prefer).</span></span>
2. <span data-ttu-id="aeb68-347">貼上 URL，從邏輯應用程式的要求觸發程序。</span><span class="sxs-lookup"><span data-stu-id="aeb68-347">Paste the URL of the Request trigger from your logic app.</span></span> <span data-ttu-id="aeb68-348">您在步驟 3 中複製此 URL。</span><span class="sxs-lookup"><span data-stu-id="aeb68-348">You copied this URL in Step 3.</span></span> 
3. <span data-ttu-id="aeb68-349">選取 **POST** 做為 HTTP 動詞命令，並將 **content-type** 標頭以 `application/json`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-349">Select **POST** as the HTTP verb, and set the **Content-type** header to `application/json`.</span></span> <span data-ttu-id="aeb68-350">在本文中，貼上下列 JSON:</span><span class="sxs-lookup"><span data-stu-id="aeb68-350">In the body, paste the following JSON:</span></span>  

    ```json
    {“hello”:”world”}
    ```

4. <span data-ttu-id="aeb68-351">因為這是 BizTalk 的單向呼叫時，結果應該是 HTTP 202。</span><span class="sxs-lookup"><span data-stu-id="aeb68-351">Because this is a one-way call to BizTalk, the result should be an HTTP 202.</span></span> <span data-ttu-id="aeb68-352">如果您使用 HelloWorld SDK 範例，請移至您的 BizTalk server。</span><span class="sxs-lookup"><span data-stu-id="aeb68-352">If you're using the HelloWorld SDK sample, go to your BizTalk server.</span></span> <span data-ttu-id="aeb68-353">傳送資料夾中可能是檔案。</span><span class="sxs-lookup"><span data-stu-id="aeb68-353">There may be a file in your send folder.</span></span> 


## <a name="send-messages-to-a-logic-app"></a><span data-ttu-id="aeb68-354">將訊息傳送至邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-354">Send messages to a logic app</span></span>

### <a name="step-1-install-the-logic-apps-adapter"></a><span data-ttu-id="aeb68-355">步驟 1︰ 安裝邏輯應用程式配接器</span><span class="sxs-lookup"><span data-stu-id="aeb68-355">Step 1: Install the Logic Apps adapter</span></span>

<span data-ttu-id="aeb68-356">邏輯應用程式配接器是不同的下載，並不是隨附於 BizTalk Server 安裝。</span><span class="sxs-lookup"><span data-stu-id="aeb68-356">The Logic Apps adapter is a separate download, and is not included with the BizTalk Server installation.</span></span>

1. <span data-ttu-id="aeb68-357">移至 [邏輯應用程式的 Microsoft BizTalk Server 配接器](https://www.microsoft.com/download/details.aspx?id=54287), ，並儲存。</span><span class="sxs-lookup"><span data-stu-id="aeb68-357">Go to [Microsoft BizTalk Server Adapter for Logic Apps](https://www.microsoft.com/download/details.aspx?id=54287), and save.</span></span> 
2. <span data-ttu-id="aeb68-358">開啟 LogicAppAdapter.iso，並執行 **LogicApp Adapter.msi** 檔案來安裝。</span><span class="sxs-lookup"><span data-stu-id="aeb68-358">Open the LogicAppAdapter.iso, and run the **LogicApp Adapter.msi** file to install.</span></span>
3. <span data-ttu-id="aeb68-359">**完成** 安裝和重新啟動 **BizTalkServerApplication** 和 **BizTalkServerIsolatedHost** 主控件執行個體。</span><span class="sxs-lookup"><span data-stu-id="aeb68-359">**Finish** the install, and restart the **BizTalkServerApplication** and **BizTalkServerIsolatedHost** host instances.</span></span>

<span data-ttu-id="aeb68-360">安裝之後，您具有下列項目︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-360">Once installed, you have the following:</span></span>

- <span data-ttu-id="aeb68-361">LogicApp 配接器新增至 BizTalk 管理</span><span class="sxs-lookup"><span data-stu-id="aeb68-361">The LogicApp adapter is added to BizTalk Administration</span></span>
- <span data-ttu-id="aeb68-362">傳送處理常式會建立，並使用 biztalkserverapplication 主控件。</span><span class="sxs-lookup"><span data-stu-id="aeb68-362">The send handler is created, and uses the BizTalkServerApplication host.</span></span>
- <span data-ttu-id="aeb68-363">接收處理常式做為 WCF 服務，會建立，並使用 biztalkserverisolatedhost 主控件。</span><span class="sxs-lookup"><span data-stu-id="aeb68-363">The receive handler is created as a WCF service, and uses the BizTalkServerIsolatedHost host.</span></span>
- <span data-ttu-id="aeb68-364">`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter`資料夾已建立，且包含兩個服務： 管理和 ReceiveService。</span><span class="sxs-lookup"><span data-stu-id="aeb68-364">The `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter` folder is created, and includes two services: Management and ReceiveService.</span></span> <span data-ttu-id="aeb68-365">這些服務不會用於將訊息傳送至邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-365">These services are not used to send messages to a logic app.</span></span> 


### <a name="step-2-create-a-logic-app"></a><span data-ttu-id="aeb68-366">步驟 2︰ 建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-366">Step 2: Create a logic app</span></span>

1. <span data-ttu-id="aeb68-367">在 [Azure 入口網站](https://portal.azure.com), ，建立新的邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-367">In the [Azure portal](https://portal.azure.com), create a new logic app.</span></span>
2. <span data-ttu-id="aeb68-368">新增 **收到時的 HTTP 要求** 觸發程序</span><span class="sxs-lookup"><span data-stu-id="aeb68-368">Add the **When an HTTP request is received** trigger</span></span>
3. <span data-ttu-id="aeb68-369">新增 **Office 365 Outlook 的電子郵件傳送** 動作。</span><span class="sxs-lookup"><span data-stu-id="aeb68-369">Add the **Office 365 Outlook - Send an email** action.</span></span> <span data-ttu-id="aeb68-370">如 **至** 位址，請輸入您的 Office 365 地址。</span><span class="sxs-lookup"><span data-stu-id="aeb68-370">For the **To** address, enter your Office 365 address.</span></span> <span data-ttu-id="aeb68-371">如 **主體**, ，輸入 `Sending from BizTalk`。</span><span class="sxs-lookup"><span data-stu-id="aeb68-371">For the **Subject**, enter `Sending from BizTalk`.</span></span> <span data-ttu-id="aeb68-372">如 **主體**, ，選擇  *主體* 輸出從 **收到時的 HTTP 要求** 觸發程序。</span><span class="sxs-lookup"><span data-stu-id="aeb68-372">For **Body**, choose the *Body* output from the **When an HTTP request is received** trigger.</span></span> 
4. <span data-ttu-id="aeb68-373">在邏輯應用程式看起來類似︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-373">Your logic app looks similar to:</span></span> 

    ![LogicAppExample](../core/media/logicappexample.gif)

5. <span data-ttu-id="aeb68-375">複製儲存在邏輯應用程式中，會自動建立的 HTTP POST URL您需要此 URL 在下一個步驟。</span><span class="sxs-lookup"><span data-stu-id="aeb68-375">Copy the HTTP POST URL that is automatically created when you save the logic app; you need this URL in the next step.</span></span> <span data-ttu-id="aeb68-376">您可能要關閉並重新開啟邏輯應用程式看到的 URL。</span><span class="sxs-lookup"><span data-stu-id="aeb68-376">You may have to close and reopen the logic app to see the URL.</span></span>  


### <a name="step-3-create-a-send-port"></a><span data-ttu-id="aeb68-377">步驟 3︰ 建立傳送埠</span><span class="sxs-lookup"><span data-stu-id="aeb68-377">Step 3: Create a Send Port</span></span>

<span data-ttu-id="aeb68-378">BizTalk Server 將訊息傳送至邏輯應用程式中，邏輯應用程式必須有 **手動** 觸發，例如 **Manual-時的 HTTP 要求收到**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-378">For BizTalk Server to send messages to a logic app, the logic app must have a **Manual** trigger, such as **Manual - When an HTTP request is received**.</span></span> 

1. <span data-ttu-id="aeb68-379">在 BizTalk Server 管理，依序展開 **BizTalk Server 管理**, ，依序展開 **BizTalk 群組**, ，依序展開 **應用程式**, ，然後展開您想要執行的傳送埠的應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-379">In BizTalk Server Administration, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to run the send port.</span></span> <span data-ttu-id="aeb68-380">例如，展開  **BizTalk Application 1**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-380">For example, expand **BizTalk Application 1**.</span></span>
2. <span data-ttu-id="aeb68-381">右邊選取 **傳送埠**, ，請選取 **新增**, ，然後選取 **靜態單向傳送埠**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-381">Right-select **Send Ports**, select **New**, and select **Static One-way Send Port**.</span></span>
3. <span data-ttu-id="aeb68-382">輸入 **名稱** 傳送埠。</span><span class="sxs-lookup"><span data-stu-id="aeb68-382">Enter a **Name** for the send port.</span></span> <span data-ttu-id="aeb68-383">例如，輸入 **LASendPort**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-383">For example, enter **LASendPort**.</span></span>
4. <span data-ttu-id="aeb68-384">如 **類型**, ，請選取 **LogicApp** 從清單中，然後選取 **設定**  按鈕。</span><span class="sxs-lookup"><span data-stu-id="aeb68-384">For the **Type**, select **LogicApp** from the list, and select the **Configure** button.</span></span> 
5. <span data-ttu-id="aeb68-385">在 **一般** 索引標籤上，設定 **回呼 URI** 的邏輯應用程式觸發程序。</span><span class="sxs-lookup"><span data-stu-id="aeb68-385">In the **General** tab, configure the **Callback URI** of your logic app trigger.</span></span> <span data-ttu-id="aeb68-386">有兩種方式可以執行此動作：</span><span class="sxs-lookup"><span data-stu-id="aeb68-386">There are two ways to do this:</span></span> 

    <span data-ttu-id="aeb68-387">**選項 1** ︰ 貼上您在上一個步驟中複製的 HTTP POST URL **觸發程序 (回呼 URI)** 屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-387">**Option 1** : Paste the HTTP POST URL you copied in the previous step in the **Trigger (Callback URI)** property.</span></span> <span data-ttu-id="aeb68-388">您也可以複製 URI 使用下列步驟︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-388">You can also copy the URI using the following steps:</span></span>  
  
      1. <span data-ttu-id="aeb68-389">在 [Azure 入口網站](https://portal.azure.com), ，在邏輯應用程式設計工具 （編輯模式） 中開啟邏輯應用程式。</span><span class="sxs-lookup"><span data-stu-id="aeb68-389">In the [Azure portal](https://portal.azure.com), open your logic app in the Logic Apps designer (edit mode).</span></span> 
      2. <span data-ttu-id="aeb68-390">選取 **收到時的 HTTP 要求** 介面卡，並複製 **URL**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-390">Select the **When an HTTP request is received** card, and copy the **URL**.</span></span> 
      3. <span data-ttu-id="aeb68-391">在傳送埠中，貼上此 URL **觸發程序 (回呼 URI)** 屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-391">In your send port, paste this URL in the **Trigger (Callback URI)** property.</span></span>

    > [!TIP] 
    > <span data-ttu-id="aeb68-392">您也可以使用管理 Api 來取得這個 URI。</span><span class="sxs-lookup"><span data-stu-id="aeb68-392">You can also use your management APIs to get this URI.</span></span>

    <span data-ttu-id="aeb68-393">**選項 2** ︰ 如果您不知道回呼 URI 到觸發程序，選取 **設定**, ，並登入 Azure。</span><span class="sxs-lookup"><span data-stu-id="aeb68-393">**Option 2** : If you don't know the Callback URI for your trigger, select **Configure**, and sign-in to Azure.</span></span> <span data-ttu-id="aeb68-394">然後，使用下拉式清單選取您 **訂閱**, ，**資源群組**, ，**邏輯應用程式**, ，和 **觸發程序**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-394">Then, use the drop-down lists to choose your **Subscription**, **Resource Group**, **Logic App**, and **Trigger**.</span></span>
 
6. <span data-ttu-id="aeb68-395">**選擇性**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-395">**Optional**.</span></span> <span data-ttu-id="aeb68-396">在 **繫結** 索引標籤上，設定任何逾時和編碼相關基礎 Wcf-webhttp 繫結的屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-396">In the **Binding** tab, configure any timeout and encoding-related properties of the underlying WCF-WebHttp binding.</span></span> <span data-ttu-id="aeb68-397">處理大型訊息時，這些屬性是很有幫助。</span><span class="sxs-lookup"><span data-stu-id="aeb68-397">These properties are helpful when dealing with large messages.</span></span>

    | <span data-ttu-id="aeb68-398">使用</span><span class="sxs-lookup"><span data-stu-id="aeb68-398">Use this</span></span> | <span data-ttu-id="aeb68-399">動作</span><span class="sxs-lookup"><span data-stu-id="aeb68-399">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="aeb68-400">開啟逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-400">Open timeout</span></span> | <span data-ttu-id="aeb68-401">輸入應該才會完成通道開啟作業的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-401">Enter the time interval it should take for the channel open operation to complete.</span></span> <span data-ttu-id="aeb68-402">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-402">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="aeb68-403">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-403">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-404">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-404">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="aeb68-405">傳送逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-405">Send timeout</span></span> |<span data-ttu-id="aeb68-406">輸入應該針對完成傳送作業的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-406">Enter the time interval it should take for the send operation to complete.</span></span> <span data-ttu-id="aeb68-407">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-407">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <span data-ttu-id="aeb68-408">如果您使用要求-回應接收埠，這個值會指定，才能完成整個互動的時間長度，即使在用戶端傳回很大的訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-408">If you use a request-response receive port, this value specifies a time span for the entire interaction to complete, even if the client returns a large message.</span></span> <br/><br/><span data-ttu-id="aeb68-409">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-409">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-410">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-410">Maximum value: 23:59:59</span></span>|
    | <span data-ttu-id="aeb68-411">關閉逾時</span><span class="sxs-lookup"><span data-stu-id="aeb68-411">Close timeout</span></span> | <span data-ttu-id="aeb68-412">輸入所需的通道關閉作業完成的時間間隔。</span><span class="sxs-lookup"><span data-stu-id="aeb68-412">Enter the time interval it should take for the channel close operation to complete.</span></span> <span data-ttu-id="aeb68-413">這個值應該大於或等於 System.TimeSpan.Zero。</span><span class="sxs-lookup"><span data-stu-id="aeb68-413">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="aeb68-414">預設值：00:01:00</span><span class="sxs-lookup"><span data-stu-id="aeb68-414">Default value: 00:01:00</span></span><br/><span data-ttu-id="aeb68-415">最大值︰ 23:59:59</span><span class="sxs-lookup"><span data-stu-id="aeb68-415">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="aeb68-416">接收訊息大小上限 (以位元組為單位)</span><span class="sxs-lookup"><span data-stu-id="aeb68-416">Maximum received message size (bytes)</span></span> | <span data-ttu-id="aeb68-417">輸入的最大的大小，以位元組為單位，包括標頭，在網路上接收訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-417">Enter the maximum size, in bytes, for a message including headers, to be received on the wire.</span></span> <span data-ttu-id="aeb68-418">訊息大小受限於配置給各訊息的記憶體數量。</span><span class="sxs-lookup"><span data-stu-id="aeb68-418">The size of the messages is bound by the amount of memory allocated for each message.</span></span> <span data-ttu-id="aeb68-419">您可以使用這個屬性來限制遭受拒絕服務 (DoS) 攻擊的風險程度。</span><span class="sxs-lookup"><span data-stu-id="aeb68-419">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span> <br/><br/><span data-ttu-id="aeb68-420">邏輯 appa 配接器會利用 [WebHttpBinding 類別](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) 處於緩衝的傳輸模式，才能與端點進行通訊。</span><span class="sxs-lookup"><span data-stu-id="aeb68-420">The logic appa adapter leverages the [WebHttpBinding class](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) in the buffered transfer mode to communicate with an endpoint.</span></span> <span data-ttu-id="aeb68-421">緩衝的傳輸模式下， [WebHttpBinding.MaxBufferSize](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) 屬性會一律等於這個屬性的值。</span><span class="sxs-lookup"><span data-stu-id="aeb68-421">For the buffered transport mode, the [WebHttpBinding.MaxBufferSize](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) property is always equal to the value of this property.</span></span>  <br/><br/><span data-ttu-id="aeb68-422">預設值：65536</span><span class="sxs-lookup"><span data-stu-id="aeb68-422">Default value: 65536</span></span><br/><span data-ttu-id="aeb68-423">最大值：2147483647</span><span class="sxs-lookup"><span data-stu-id="aeb68-423">Maximum value: 2147483647</span></span> |


7. <span data-ttu-id="aeb68-424">**選擇性**。</span><span class="sxs-lookup"><span data-stu-id="aeb68-424">**Optional**.</span></span> <span data-ttu-id="aeb68-425">在 **訊息** 索引標籤上，使用 **傳出的 HTTP 標頭** 屬性來加入傳出訊息上的任何自訂標頭。</span><span class="sxs-lookup"><span data-stu-id="aeb68-425">In the **Messages** tab, use the **Outbound HTTP Headers** property to add any custom headers on the outgoing message.</span></span> 
8. <span data-ttu-id="aeb68-426">選取 **確定** 來儲存組態。</span><span class="sxs-lookup"><span data-stu-id="aeb68-426">Select **OK** to save your configuration.</span></span> 

<span data-ttu-id="aeb68-427">[管理傳送埠與傳送埠群組](../core/managing-send-ports-and-send-port-groups.md)描述的其他傳送埠屬性。</span><span class="sxs-lookup"><span data-stu-id="aeb68-427">[Managing Send Ports and Send Port Groups](../core/managing-send-ports-and-send-port-groups.md) describes the additional send port properties.</span></span> 

### <a name="step-4-send-some-messages"></a><span data-ttu-id="aeb68-428">步驟 4︰ 傳送一些訊息</span><span class="sxs-lookup"><span data-stu-id="aeb68-428">Step 4: Send some messages</span></span>

<span data-ttu-id="aeb68-429">您可以建立接收埠和接收位置使用 File 配接器。</span><span class="sxs-lookup"><span data-stu-id="aeb68-429">You can create a receive port and receive location using the File adapter.</span></span> <span data-ttu-id="aeb68-430">請務必在邏輯應用程式已啟用。</span><span class="sxs-lookup"><span data-stu-id="aeb68-430">Be sure your logic app is enabled.</span></span>

1. <span data-ttu-id="aeb68-431">建立接收埠，例如 *FileSendPort*,，</span><span class="sxs-lookup"><span data-stu-id="aeb68-431">Create a receive port, such as *FileSendPort*,</span></span>
2. <span data-ttu-id="aeb68-432">建立接收位置，並設定屬性類似於︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-432">Create a receive location, and set the properties similar to:</span></span>  

    | <span data-ttu-id="aeb68-433">屬性</span><span class="sxs-lookup"><span data-stu-id="aeb68-433">Property</span></span> | <span data-ttu-id="aeb68-434">範例輸入</span><span class="sxs-lookup"><span data-stu-id="aeb68-434">Sample input</span></span> |
    | --- | --- |
   | <span data-ttu-id="aeb68-435">接收資料夾</span><span class="sxs-lookup"><span data-stu-id="aeb68-435">Receive folder</span></span> | <span data-ttu-id="aeb68-436">C:\temp\In\\</span><span class="sxs-lookup"><span data-stu-id="aeb68-436">C:\temp\In\\</span></span> |
   | <span data-ttu-id="aeb68-437">檔案遮罩</span><span class="sxs-lookup"><span data-stu-id="aeb68-437">File mask</span></span> | <span data-ttu-id="aeb68-438">\*.txt</span><span class="sxs-lookup"><span data-stu-id="aeb68-438">\*.txt</span></span> |
   | <span data-ttu-id="aeb68-439">管線</span><span class="sxs-lookup"><span data-stu-id="aeb68-439">Pipeline</span></span> | <span data-ttu-id="aeb68-440">PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="aeb68-440">PassThruReceive</span></span> |

3. <span data-ttu-id="aeb68-441">在您所建立的傳送埠，設定 **篩選** 至︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-441">In the send port you created, set the **Filter** to:</span></span>

    | <span data-ttu-id="aeb68-442">屬性</span><span class="sxs-lookup"><span data-stu-id="aeb68-442">Property</span></span> | <span data-ttu-id="aeb68-443">運算子</span><span class="sxs-lookup"><span data-stu-id="aeb68-443">Operator</span></span> | <span data-ttu-id="aeb68-444">Value</span><span class="sxs-lookup"><span data-stu-id="aeb68-444">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="aeb68-445">BTS.ReceivePortName</span><span class="sxs-lookup"><span data-stu-id="aeb68-445">BTS.ReceivePortName</span></span> |  == | <span data-ttu-id="aeb68-446">*FileSendPort*</span><span class="sxs-lookup"><span data-stu-id="aeb68-446">*FileSendPort*</span></span> |

4. <span data-ttu-id="aeb68-447">建立包含下列文字的文字檔案 (FileName.txt)。</span><span class="sxs-lookup"><span data-stu-id="aeb68-447">Create a text file (FileName.txt) with the following text.</span></span> <span data-ttu-id="aeb68-448">使用這個文字檔做為範例訊息︰</span><span class="sxs-lookup"><span data-stu-id="aeb68-448">Use this text file as your sample message:</span></span> 

    ```
    <Data>
      <DataID>DataID_0</DataID>
      <DataDetails>DataDetails_0</DataDetails>
    </Data>
    ```

5. <span data-ttu-id="aeb68-449">將您的範例訊息 (FileName.txt) 複製到接收資料夾。</span><span class="sxs-lookup"><span data-stu-id="aeb68-449">Copy your sample message (FileName.txt) into the receive folder.</span></span> <span data-ttu-id="aeb68-450">傳送埠會將邏輯應用程式使用您所輸入的 URI 中的.txt 檔案。</span><span class="sxs-lookup"><span data-stu-id="aeb68-450">The send port sends the .txt file to the logic app using the URI you entered.</span></span> <span data-ttu-id="aeb68-451">在邏輯應用程式接收檔案。</span><span class="sxs-lookup"><span data-stu-id="aeb68-451">Your logic app receive the files.</span></span> <span data-ttu-id="aeb68-452">如果您使用 Office 365 的 Outlook 連接器，您 *至* 電子郵件地址應該會收到電子郵件的範例訊息。</span><span class="sxs-lookup"><span data-stu-id="aeb68-452">If you used the Office 365 Outlook connector, your *To* email address should receive the email, with the sample message.</span></span>

## <a name="next"></a><span data-ttu-id="aeb68-453">下一個</span><span class="sxs-lookup"><span data-stu-id="aeb68-453">Next</span></span>
[<span data-ttu-id="aeb68-454">什麼是邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-454">What are Logic Apps</span></span>](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/)  

[<span data-ttu-id="aeb68-455">建立邏輯應用程式</span><span class="sxs-lookup"><span data-stu-id="aeb68-455">Create a logic app</span></span>](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/)

[<span data-ttu-id="aeb68-456">BizTalk Server 中使用配接器</span><span class="sxs-lookup"><span data-stu-id="aeb68-456">Using adapters in BizTalk Server</span></span>](../core/using-adapters.md)