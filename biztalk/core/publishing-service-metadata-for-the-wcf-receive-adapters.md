---
title: WCF 接收配接器發佈服務中繼資料 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4df09e8f-e0c9-41c5-bd71-13bb0e96cd97
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 809d3ab348981ada35bf93ea46d78808bf280c6c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37014391"
---
# <a name="publishing-service-metadata-for-the-wcf-receive-adapters"></a>發佈 WCF 接收配接器的服務中繼資料
您可以使用「BizTalk WCF 服務發佈精靈」建立 WCF 服務，以發佈現有 WCF 接收位置的服務中繼資料。 若要從已發行的中繼資料文件產生用戶端服務模型程式碼中，您可以使用 Windows 軟體開發套件 (SDK) 和.NET Framework 執行階段元件中包含 Service Model Metadata Utility 工具 (SvcUtil.exe)。  

> [!NOTE]
>  發佈為 WCF 配接器的服務中繼資料之前，您必須建立 WCF 接收位置使用 BizTalk 管理主控台或 BizTalk Server 隨附的 BTSTask 命令列工具。 如需有關如何建立 WCF 接收位置，請參閱中的每個 WCF 配接器的適當主題[WCF 配接器](../core/wcf-adapters.md)。  

## <a name="iis-versions"></a>IIS 版本

 發佈服務中繼資料的 WCF 服務可以在隨附於作業系統的 IIS 版本。

-   **IIS**提供進階的處理模型。 已發佈的 BizTalk WCF 服務必須在 ASP.NET 相容性模式中執行。 WCF 接收配接器，在 IIS 中的 Web 應用程式所發行之服務中繼資料可經由 HTTP 傳輸來存取。  

## <a name="publish-service-metadata-for-the-wcf-receive-locations"></a>發佈 WCF 接收位置的服務中繼資料

 若要發佈 WCF 接收位置的服務中繼資料，您必須使用「BizTalk WCF 服務發佈精靈」建立 Web 應用程式，以裝載提供服務中繼資料的 WCF 服務。 這樣可允許以 WCF 服務的形式呼叫接收位置。  「BizTalk WCF 服務發佈精靈」會在所建立 Web 應用程式的根資料夾中產生下列檔案：  


|             檔案             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        資料夾                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                          描述                                                                                                                          |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  WCF 服務 (.svc 檔案)   |                                                                                                                                                                                                                                                                                                                                                                                                                                            \|WCF 服務發佈服務中繼資料之 wcf 接收位置。 WCF 服務會使用 HTTP/GET 要求發佈服務中繼資料以供擷取。                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                               |
|          Web.config          | \|ASP.NET 組態檔，其中包含資訊的 ASP.NET Web 應用程式行為、 已發佈的 WCF 服務行為、 中繼資料端點，以及 BizTalk 相關設定。 精靈會產生 Web.config 時**httpGetEnabled**屬性**\<serviceMetadata\>** 元素設定為**true**。 您可以在開發環境中使用中繼資料匯入工具 (例如 SvcUtil.exe) 產生呼叫此服務所需的用戶端程式碼。 中繼資料發行的位址是 WCF 服務的端點位址加上 **？ wsdl**查詢字串。 **注意：** BizTalk WCF 發佈精靈所產生的預設中繼資料繫結項目並不安全，它允許匿名存取中繼資料。 服務中繼資料包含關於服務的詳細描述，因此可能會在有意或無意之間包含機密資訊。 若要防止未經授權存取服務中繼資料，您可以修改 Web.config，為中繼資料結束點使用安全繫結。 |                                                                                                                                                                                                                                                               |
|    ServiceDescription.xml    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \|XML 檔案，其中描述所發佈的 WCF 服務合約，包括訊息類型。                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                               |
| BizTalk 結構描述 (.xsd 檔案) |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \App_Data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                           定義 XML 執行個體訊息結構的 XML 結構描述，在 WCF 接收位置中使用。                                                                            |
|       SchemaIndex.xml        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \App_Data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                        表示在 WCF 接收位置中使用之 XML 結構描述檔案的 XML 檔案。                                                                                         |
|      Serialization.xsd       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       \App_Data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 所匯出的 XML 結構描述[DataContractSerializer](https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx)的型別、 元素和屬性的命名空間中，從http://schemas.microsoft.com/2003/10/Serialization/。 |
|       BindingInfo.xml        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \App_Data\Temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                         可由開發命令列工具或精靈匯入的 BizTalk 繫結檔案，以設定接收位置。 已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。                         |
|  WcfServiceDescription.xml   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \App_Data\Temp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                      摘要描述您搭配「BizTalk WCF 服務發佈精靈」來建立此 Web 應用程式之設定的 XML 檔案。 已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。                      |

## <a name="next-steps"></a>後續的步驟

-   [使用 BizTalk WCF 服務發佈精靈來發佈根據訊息內容決定路由之 WCF 接收位置的服務中繼資料](../core/publish-service-metadata-for-a-wcf-receive-location-for-content-based-routing.md)  

-   [使用 BizTalk WCF 服務發佈精靈來發佈繫結至協調流程連接埠之 WCF 接收位置的服務中繼資料](../core/publish-receive-location-service-metadata-biztalk-wcf-service-publishing-wizard.md)  

## <a name="see-also"></a>另請參閱  
 [逐步解說：使用 WCF-NetMsmq 配接器發佈 WCF 服務](../core/walkthrough-publishing-wcf-services-with-the-wcf-netmsmq-adapter.md)