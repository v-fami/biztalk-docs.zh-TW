---
title: "發行服務中繼資料之 wcf 接收配接器 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- publishing, WCF services
- WCF services, publishing
ms.assetid: 4df09e8f-e0c9-41c5-bd71-13bb0e96cd97
caps.latest.revision: "15"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d922c0acecf81a96b0e40cebf739e7b56c5ffd3e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="publishing-service-metadata-for-the-wcf-receive-adapters"></a><span data-ttu-id="84e52-102">發佈 WCF 接收配接器的服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="84e52-102">Publishing Service Metadata for the WCF Receive Adapters</span></span>
<span data-ttu-id="84e52-103">您可以使用「BizTalk WCF 服務發佈精靈」建立 WCF 服務，以發佈現有 WCF 接收位置的服務中繼資料。</span><span class="sxs-lookup"><span data-stu-id="84e52-103">You can use the BizTalk WCF Service Publishing Wizard to create WCF services for publishing service metadata for existing WCF receive locations.</span></span> <span data-ttu-id="84e52-104">若要從已發行中繼資料文件產生用戶端服務模型程式碼中，您可以使用隨附的 Service Model Metadata Utility 工具 (SvcUtil.exe) [!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)]軟體開發套件 (SDK) for[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]和[!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)]執行階段元件。</span><span class="sxs-lookup"><span data-stu-id="84e52-104">To generate client service model code from the published metadata documents you can use the Service Model Metadata Utility tool (SvcUtil.exe) included in the [!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsWinNoVersion](../includes/btswinnoversion-md.md)] Software Development Kit (SDK) for [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] and [!INCLUDE[btsDotNetFramework](../includes/btsdotnetframework-md.md)] Runtime Components.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="84e52-105">發佈 WCF 配接器的服務中繼資料之前，您必須建立 WCF 接收位置使用 BizTalk 管理主控台或 BTSTask 命令列工具隨附[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="84e52-105">Before you publish service metadata for the WCF adapters, you must create the WCF receive locations by using the BizTalk Administration console or the BTSTask command-line tool included with [!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="84e52-106">如需有關如何建立 WCF 接收位置，請參閱中的每個 WCF 配接器的適當主題[WCF 配接器](../core/wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="84e52-106">For more information about how to create a WCF receive location, see the appropriate topic for each WCF adapter in [WCF Adapters](../core/wcf-adapters.md).</span></span>  
  
 <span data-ttu-id="84e52-107">**IIS 版本**</span><span class="sxs-lookup"><span data-stu-id="84e52-107">**Versions of IIS**</span></span>  
  
 <span data-ttu-id="84e52-108">發佈服務中繼資料的 WCF 服務可以在以下作業系統的下列 Internet Information Services (IIS) 版本上執行：</span><span class="sxs-lookup"><span data-stu-id="84e52-108">The WCF service that publishes service metadata can be running on the following versions of Internet Information Services (IIS) on the following operating systems:</span></span>  
  
-   <span data-ttu-id="84e52-109">**Windows Vista、 Windows Server 2008 SP2 和 Windows Server 2008 R2 上的 IIS 7.0/7.5。**</span><span class="sxs-lookup"><span data-stu-id="84e52-109">**IIS 7.0/7.5 on Windows Vista, Windows Server 2008 SP2, and Windows Server 2008 R2.**</span></span> <span data-ttu-id="84e52-110">IIS 7.0/7.5 提供與 IIS 6.0 相同的進階的處理模型。</span><span class="sxs-lookup"><span data-stu-id="84e52-110">IIS 7.0/7.5 provide the same advanced process model as IIS 6.0.</span></span> <span data-ttu-id="84e52-111">已發佈的 BizTalk WCF 服務必須執行在 ASP.NET 相容性模式的 IIS 7.0/7.5。</span><span class="sxs-lookup"><span data-stu-id="84e52-111">The published BizTalk WCF services must run in ASP.NET Compatibility Mode of IIS 7.0/7.5.</span></span> <span data-ttu-id="84e52-112">WCF 接收配接器發佈的 Web 應用程式在 IIS 7.0/7.5 中的服務中繼資料可透過 HTTP 傳輸存取。</span><span class="sxs-lookup"><span data-stu-id="84e52-112">The service metadata published by Web applications in IIS 7.0/7.5 for the WCF receive adapters can be accessed over the HTTP transport.</span></span>  
  
 <span data-ttu-id="84e52-113">**發行服務中繼資料的 WCF 接收位置**</span><span class="sxs-lookup"><span data-stu-id="84e52-113">**Publishing service metadata for the WCF receive locations**</span></span>  
  
 <span data-ttu-id="84e52-114">若要發佈 WCF 接收位置的服務中繼資料，您必須使用「BizTalk WCF 服務發佈精靈」建立 Web 應用程式，以裝載提供服務中繼資料的 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="84e52-114">To publish service metadata for the WCF receive locations, you must use the BizTalk WCF Service Publishing Wizard to create a Web application to host WCF services that provide the service metadata.</span></span> <span data-ttu-id="84e52-115">這樣可允許以 WCF 服務的形式呼叫接收位置。</span><span class="sxs-lookup"><span data-stu-id="84e52-115">This allows a receive location to be called as if it were a WCF service.</span></span>  <span data-ttu-id="84e52-116">「BizTalk WCF 服務發佈精靈」會在所建立 Web 應用程式的根資料夾中產生下列檔案：</span><span class="sxs-lookup"><span data-stu-id="84e52-116">The BizTalk WCF Service Publishing Wizard generates the following files in the root folder of the created Web application:</span></span>  
  
|<span data-ttu-id="84e52-117">檔案</span><span class="sxs-lookup"><span data-stu-id="84e52-117">File</span></span>|<span data-ttu-id="84e52-118">資料夾</span><span class="sxs-lookup"><span data-stu-id="84e52-118">Folder</span></span>|<span data-ttu-id="84e52-119">Description</span><span class="sxs-lookup"><span data-stu-id="84e52-119">Description</span></span>|  
|----------|------------|-----------------|  
|<span data-ttu-id="84e52-120">WCF 服務 (.svc 檔案)</span><span class="sxs-lookup"><span data-stu-id="84e52-120">WCF services (.svc files)</span></span>|\|<span data-ttu-id="84e52-121">發佈 WCF 接收位置之服務中繼資料的 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="84e52-121">WCF services that publish service metadata for the WCF receive locations.</span></span> <span data-ttu-id="84e52-122">WCF 服務會使用 HTTP/GET 要求發佈服務中繼資料以供擷取。</span><span class="sxs-lookup"><span data-stu-id="84e52-122">The WCF services publish service metadata for retrieval using an HTTP/GET request.</span></span>|  
|<span data-ttu-id="84e52-123">Web.config</span><span class="sxs-lookup"><span data-stu-id="84e52-123">Web.config</span></span>|\|<span data-ttu-id="84e52-124">ASP.NET 組態檔，其中包含 ASP.NET Web 應用程式行為、已發佈的 WCF 服務行為、中繼資料端點以及 BizTalk 相關設定的資訊。</span><span class="sxs-lookup"><span data-stu-id="84e52-124">ASP.NET configuration file that contains information for the ASP.NET Web application behaviors, the published WCF service behaviors, the metadata endpoint, and the BizTalk-specific settings.</span></span> <span data-ttu-id="84e52-125">精靈會產生 Web.config 時**httpGetEnabled**屬性 **\<serviceMetadata >**元素設定為**true**。</span><span class="sxs-lookup"><span data-stu-id="84e52-125">The wizard generates Web.config when the **httpGetEnabled** attribute of the **\<serviceMetadata>** element is set to **true**.</span></span> <span data-ttu-id="84e52-126">您可以在開發環境中使用中繼資料匯入工具 (例如 SvcUtil.exe) 產生呼叫此服務所需的用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="84e52-126">You can use a metadata import tool (such as SvcUtil.exe) to generate the client code required to call this service in the development environment.</span></span> <span data-ttu-id="84e52-127">中繼資料發行的位址是 WCF 服務的端點位址加上一個**？ wsdl**查詢字串。</span><span class="sxs-lookup"><span data-stu-id="84e52-127">The address at which the metadata is published is the endpoint address of the WCF service plus a **?wsdl** query string.</span></span> <span data-ttu-id="84e52-128">**注意：** BizTalk WCF 發佈精靈所產生的預設中繼資料繫結並不安全，它允許匿名存取中繼資料。</span><span class="sxs-lookup"><span data-stu-id="84e52-128">**Note:**  The default metadata binding generated by the BizTalk WCF Publishing Wizard is not secure and it allows anonymous access to the metadata.</span></span> <span data-ttu-id="84e52-129">服務中繼資料包含關於服務的詳細描述，因此可能會在有意或無意之間包含機密資訊。</span><span class="sxs-lookup"><span data-stu-id="84e52-129">The service metadata contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="84e52-130">若要防止未經授權存取服務中繼資料，您可以修改 Web.config，為中繼資料結束點使用安全繫結。</span><span class="sxs-lookup"><span data-stu-id="84e52-130">To protect service metadata from unauthorized access, you can modify Web.config to use a secure binding for your metadata endpoint.</span></span>|  
|<span data-ttu-id="84e52-131">ServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="84e52-131">ServiceDescription.xml</span></span>|\|<span data-ttu-id="84e52-132">描述已發佈之 WCF 服務合約 (包括訊息類型) 的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="84e52-132">XML file that describes the published WCF service contracts including the message types.</span></span>|  
|<span data-ttu-id="84e52-133">BizTalk 結構描述 (.xsd 檔案)</span><span class="sxs-lookup"><span data-stu-id="84e52-133">BizTalk schemas (.xsd files)</span></span>|<span data-ttu-id="84e52-134">\App_Data</span><span class="sxs-lookup"><span data-stu-id="84e52-134">\App_Data</span></span>|<span data-ttu-id="84e52-135">定義 XML 執行個體訊息結構的 XML 結構描述，在 WCF 接收位置中使用。</span><span class="sxs-lookup"><span data-stu-id="84e52-135">XML schemas defining the structure of XML instance messages, which are used in the WCF receive location.</span></span>|  
|<span data-ttu-id="84e52-136">SchemaIndex.xml</span><span class="sxs-lookup"><span data-stu-id="84e52-136">SchemaIndex.xml</span></span>|<span data-ttu-id="84e52-137">\App_Data</span><span class="sxs-lookup"><span data-stu-id="84e52-137">\App_Data</span></span>|<span data-ttu-id="84e52-138">表示在 WCF 接收位置中使用之 XML 結構描述檔案的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="84e52-138">XML file that indicates the XML schema files used in the WCF receive location.</span></span>|  
|<span data-ttu-id="84e52-139">Serialization.xsd</span><span class="sxs-lookup"><span data-stu-id="84e52-139">Serialization.xsd</span></span>|<span data-ttu-id="84e52-140">\App_Data</span><span class="sxs-lookup"><span data-stu-id="84e52-140">\App_Data</span></span>|<span data-ttu-id="84e52-141">XML 結構描述所匯出[DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722)類型、 項目和命名空間中，屬性 http://schemas.microsoft.com/2003/10/Serialization/。</span><span class="sxs-lookup"><span data-stu-id="84e52-141">XML schema exported by [DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722) for the types, elements, and attributes from the namespace, http://schemas.microsoft.com/2003/10/Serialization/.</span></span>|  
|<span data-ttu-id="84e52-142">BindingInfo.xml</span><span class="sxs-lookup"><span data-stu-id="84e52-142">BindingInfo.xml</span></span>|<span data-ttu-id="84e52-143">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="84e52-143">\App_Data\Temp</span></span>|<span data-ttu-id="84e52-144">可由開發命令列工具或精靈匯入的 BizTalk 繫結檔案，以設定接收位置。</span><span class="sxs-lookup"><span data-stu-id="84e52-144">BizTalk binding file that can be imported by the development command-line tool or wizard to configure the receive locations.</span></span> <span data-ttu-id="84e52-145">已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。</span><span class="sxs-lookup"><span data-stu-id="84e52-145">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
|<span data-ttu-id="84e52-146">WcfServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="84e52-146">WcfServiceDescription.xml</span></span>|<span data-ttu-id="84e52-147">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="84e52-147">\App_Data\Temp</span></span>|<span data-ttu-id="84e52-148">摘要描述您搭配「BizTalk WCF 服務發佈精靈」來建立此 Web 應用程式之設定的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="84e52-148">XML file that summarizes the settings that you used with the BizTalk WCF Service Publishing Wizard to create this Web application.</span></span> <span data-ttu-id="84e52-149">已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。</span><span class="sxs-lookup"><span data-stu-id="84e52-149">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
  
## <a name="in-this-section"></a><span data-ttu-id="84e52-150">本節內容</span><span class="sxs-lookup"><span data-stu-id="84e52-150">In This Section</span></span>  
  
-   [<span data-ttu-id="84e52-151">如何使用 BizTalk WCF 服務發佈精靈來發佈 WCF 接收位置的內容為基礎的路由服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="84e52-151">How to Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location for Content-Based Routing</span></span>](../core/publish-service-metadata-for-a-wcf-receive-location-for-content-based-routing.md)  
  
-   [<span data-ttu-id="84e52-152">如何使用 BizTalk WCF 服務發佈精靈發佈之 WCF 接收位置的服務中繼資料繫結至協調流程連接埠</span><span class="sxs-lookup"><span data-stu-id="84e52-152">How to Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location Bound to an Orchestration Port</span></span>](../core/publish-receive-location-service-metadata-biztalk-wcf-service-publishing-wizard.md)  
  
## <a name="see-also"></a><span data-ttu-id="84e52-153">另請參閱</span><span class="sxs-lookup"><span data-stu-id="84e52-153">See Also</span></span>  
 [<span data-ttu-id="84e52-154">逐步解說： 使用發佈 WCF 服務 Wcf-netmsmq 配接器</span><span class="sxs-lookup"><span data-stu-id="84e52-154">Walkthrough: Publishing WCF Services with the WCF-NetMsmq Adapter</span></span>](../core/walkthrough-publishing-wcf-services-with-the-wcf-netmsmq-adapter.md)