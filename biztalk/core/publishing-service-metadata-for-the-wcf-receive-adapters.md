---
title: WCF 接收配接器發佈服務中繼資料 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4df09e8f-e0c9-41c5-bd71-13bb0e96cd97
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5817ac423056c030b452561db624a663791cd133
ms.sourcegitcommit: 53b16fe6c1b1707ecf233dbd05f780653eb19419
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/01/2018
ms.locfileid: "50752990"
---
# <a name="publishing-service-metadata-for-the-wcf-receive-adapters"></a><span data-ttu-id="5430f-102">發佈 WCF 接收配接器的服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="5430f-102">Publishing Service Metadata for the WCF Receive Adapters</span></span>
<span data-ttu-id="5430f-103">您可以使用「BizTalk WCF 服務發佈精靈」建立 WCF 服務，以發佈現有 WCF 接收位置的服務中繼資料。</span><span class="sxs-lookup"><span data-stu-id="5430f-103">You can use the BizTalk WCF Service Publishing Wizard to create WCF services for publishing service metadata for existing WCF receive locations.</span></span> <span data-ttu-id="5430f-104">若要從已發行的中繼資料文件產生用戶端服務模型程式碼中，您可以使用 Windows 軟體開發套件 (SDK) 和.NET Framework 執行階段元件中包含 Service Model Metadata Utility 工具 (SvcUtil.exe)。</span><span class="sxs-lookup"><span data-stu-id="5430f-104">To generate client service model code from the published metadata documents you can use the Service Model Metadata Utility tool (SvcUtil.exe) included in the Windows Software Development Kit (SDK) and .NET Framework Runtime Components.</span></span>  

> [!NOTE]
>  <span data-ttu-id="5430f-105">發佈為 WCF 配接器的服務中繼資料之前，您必須建立 WCF 接收位置使用 BizTalk 管理主控台或 BizTalk Server 隨附的 BTSTask 命令列工具。</span><span class="sxs-lookup"><span data-stu-id="5430f-105">Before you publish service metadata for the WCF adapters, you must create the WCF receive locations by using the BizTalk Administration console or the BTSTask command-line tool included with BizTalk Server.</span></span> <span data-ttu-id="5430f-106">如需有關如何建立 WCF 接收位置，請參閱中的每個 WCF 配接器的適當主題[WCF 配接器](../core/wcf-adapters.md)。</span><span class="sxs-lookup"><span data-stu-id="5430f-106">For more information about how to create a WCF receive location, see the appropriate topic for each WCF adapter in [WCF Adapters](../core/wcf-adapters.md).</span></span>  

## <a name="iis-versions"></a><span data-ttu-id="5430f-107">IIS 版本</span><span class="sxs-lookup"><span data-stu-id="5430f-107">IIS versions</span></span>

 <span data-ttu-id="5430f-108">發佈服務中繼資料的 WCF 服務可以執行隨附於作業系統的 IIS 版本。</span><span class="sxs-lookup"><span data-stu-id="5430f-108">The WCF service that publishes service metadata can be running on the IIS version included with the operating system.</span></span>

-   <span data-ttu-id="5430f-109">**IIS**提供進階的處理模型。</span><span class="sxs-lookup"><span data-stu-id="5430f-109">**IIS** provides the advanced process model.</span></span> <span data-ttu-id="5430f-110">已發佈的 BizTalk WCF 服務必須在 ASP.NET 相容性模式中執行。</span><span class="sxs-lookup"><span data-stu-id="5430f-110">The published BizTalk WCF services must run in ASP.NET Compatibility Mode.</span></span> <span data-ttu-id="5430f-111">WCF 接收配接器，在 IIS 中的 Web 應用程式所發行之服務中繼資料可經由 HTTP 傳輸來存取。</span><span class="sxs-lookup"><span data-stu-id="5430f-111">The service metadata published by Web applications in IIS for the WCF receive adapters can be accessed over the HTTP transport.</span></span>  

## <a name="publish-service-metadata-for-the-wcf-receive-locations"></a><span data-ttu-id="5430f-112">發佈 WCF 接收位置的服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="5430f-112">Publish service metadata for the WCF receive locations</span></span>

 <span data-ttu-id="5430f-113">若要發佈 WCF 接收位置的服務中繼資料，您必須使用「BizTalk WCF 服務發佈精靈」建立 Web 應用程式，以裝載提供服務中繼資料的 WCF 服務。</span><span class="sxs-lookup"><span data-stu-id="5430f-113">To publish service metadata for the WCF receive locations, you must use the BizTalk WCF Service Publishing Wizard to create a Web application to host WCF services that provide the service metadata.</span></span> <span data-ttu-id="5430f-114">這樣可允許以 WCF 服務的形式呼叫接收位置。</span><span class="sxs-lookup"><span data-stu-id="5430f-114">This allows a receive location to be called as if it were a WCF service.</span></span>  <span data-ttu-id="5430f-115">「BizTalk WCF 服務發佈精靈」會在所建立 Web 應用程式的根資料夾中產生下列檔案：</span><span class="sxs-lookup"><span data-stu-id="5430f-115">The BizTalk WCF Service Publishing Wizard generates the following files in the root folder of the created Web application:</span></span>  


|             <span data-ttu-id="5430f-116">檔案</span><span class="sxs-lookup"><span data-stu-id="5430f-116">File</span></span>             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="5430f-117">資料夾</span><span class="sxs-lookup"><span data-stu-id="5430f-117">Folder</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                          <span data-ttu-id="5430f-118">描述</span><span class="sxs-lookup"><span data-stu-id="5430f-118">Description</span></span>                                                                                                                          |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="5430f-119">WCF 服務 (.svc 檔案)</span><span class="sxs-lookup"><span data-stu-id="5430f-119">WCF services (.svc files)</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="5430f-120">\|WCF 服務發佈服務中繼資料之 wcf 接收位置。</span><span class="sxs-lookup"><span data-stu-id="5430f-120">\|WCF services that publish service metadata for the WCF receive locations.</span></span> <span data-ttu-id="5430f-121">WCF 服務會使用 HTTP/GET 要求發佈服務中繼資料以供擷取。</span><span class="sxs-lookup"><span data-stu-id="5430f-121">The WCF services publish service metadata for retrieval using an HTTP/GET request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                               |
|          <span data-ttu-id="5430f-122">Web.config</span><span class="sxs-lookup"><span data-stu-id="5430f-122">Web.config</span></span>          | <span data-ttu-id="5430f-123">\|ASP.NET 組態檔，其中包含資訊的 ASP.NET Web 應用程式行為、 已發佈的 WCF 服務行為、 中繼資料端點，以及 BizTalk 相關設定。</span><span class="sxs-lookup"><span data-stu-id="5430f-123">\|ASP.NET configuration file that contains information for the ASP.NET Web application behaviors, the published WCF service behaviors, the metadata endpoint, and the BizTalk-specific settings.</span></span> <span data-ttu-id="5430f-124">精靈會產生 Web.config 時 **httpGetEnabled** 屬性 **\<serviceMetadata\>** 元素設定為 **true** 。</span><span class="sxs-lookup"><span data-stu-id="5430f-124">The wizard generates Web.config when the **httpGetEnabled** attribute of the **\<serviceMetadata\>** element is set to **true**.</span></span> <span data-ttu-id="5430f-125">您可以在開發環境中使用中繼資料匯入工具 (例如 SvcUtil.exe) 產生呼叫此服務所需的用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="5430f-125">You can use a metadata import tool (such as SvcUtil.exe) to generate the client code required to call this service in the development environment.</span></span> <span data-ttu-id="5430f-126">中繼資料發行的位址是 WCF 服務的端點位址加上 **？ wsdl**查詢字串。</span><span class="sxs-lookup"><span data-stu-id="5430f-126">The address at which the metadata is published is the endpoint address of the WCF service plus a **?wsdl** query string.</span></span> <span data-ttu-id="5430f-127">**注意：** BizTalk WCF 發佈精靈所產生的預設中繼資料繫結項目並不安全，它允許匿名存取中繼資料。</span><span class="sxs-lookup"><span data-stu-id="5430f-127">**Note:**  The default metadata binding generated by the BizTalk WCF Publishing Wizard is not secure and it allows anonymous access to the metadata.</span></span> <span data-ttu-id="5430f-128">服務中繼資料包含關於服務的詳細描述，因此可能會在有意或無意之間包含機密資訊。</span><span class="sxs-lookup"><span data-stu-id="5430f-128">The service metadata contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="5430f-129">若要防止未經授權存取服務中繼資料，您可以修改 Web.config，為中繼資料結束點使用安全繫結。</span><span class="sxs-lookup"><span data-stu-id="5430f-129">To protect service metadata from unauthorized access, you can modify Web.config to use a secure binding for your metadata endpoint.</span></span> |                                                                                                                                                                                                                                                               |
|    <span data-ttu-id="5430f-130">ServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="5430f-130">ServiceDescription.xml</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="5430f-131">\|XML 檔案，其中描述所發佈的 WCF 服務合約，包括訊息類型。</span><span class="sxs-lookup"><span data-stu-id="5430f-131">\|XML file that describes the published WCF service contracts including the message types.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                               |
| <span data-ttu-id="5430f-132">BizTalk 結構描述 (.xsd 檔案)</span><span class="sxs-lookup"><span data-stu-id="5430f-132">BizTalk schemas (.xsd files)</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="5430f-133">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5430f-133">\App_Data</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                           <span data-ttu-id="5430f-134">定義 XML 執行個體訊息結構的 XML 結構描述，在 WCF 接收位置中使用。</span><span class="sxs-lookup"><span data-stu-id="5430f-134">XML schemas defining the structure of XML instance messages, which are used in the WCF receive location.</span></span>                                                                            |
|       <span data-ttu-id="5430f-135">SchemaIndex.xml</span><span class="sxs-lookup"><span data-stu-id="5430f-135">SchemaIndex.xml</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="5430f-136">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5430f-136">\App_Data</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                        <span data-ttu-id="5430f-137">表示在 WCF 接收位置中使用之 XML 結構描述檔案的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="5430f-137">XML file that indicates the XML schema files used in the WCF receive location.</span></span>                                                                                         |
|      <span data-ttu-id="5430f-138">Serialization.xsd</span><span class="sxs-lookup"><span data-stu-id="5430f-138">Serialization.xsd</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="5430f-139">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5430f-139">\App_Data</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | <span data-ttu-id="5430f-140">所匯出的 XML 結構描述[DataContractSerializer](https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx)的型別、 元素和屬性的命名空間中，從 http://schemas.microsoft.com/2003/10/Serialization/ 。</span><span class="sxs-lookup"><span data-stu-id="5430f-140">XML schema exported by [DataContractSerializer](https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx) for the types, elements, and attributes from the namespace, http://schemas.microsoft.com/2003/10/Serialization/.</span></span> |
|       <span data-ttu-id="5430f-141">BindingInfo.xml</span><span class="sxs-lookup"><span data-stu-id="5430f-141">BindingInfo.xml</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="5430f-142">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="5430f-142">\App_Data\Temp</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                         <span data-ttu-id="5430f-143">可由開發命令列工具或精靈匯入的 BizTalk 繫結檔案，以設定接收位置。</span><span class="sxs-lookup"><span data-stu-id="5430f-143">BizTalk binding file that can be imported by the development command-line tool or wizard to configure the receive locations.</span></span> <span data-ttu-id="5430f-144">已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。</span><span class="sxs-lookup"><span data-stu-id="5430f-144">The published WCF services do not use this file and the Temp folder at run time.</span></span>                         |
|  <span data-ttu-id="5430f-145">WcfServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="5430f-145">WcfServiceDescription.xml</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="5430f-146">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="5430f-146">\App_Data\Temp</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                      <span data-ttu-id="5430f-147">摘要描述您搭配「BizTalk WCF 服務發佈精靈」來建立此 Web 應用程式之設定的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="5430f-147">XML file that summarizes the settings that you used with the BizTalk WCF Service Publishing Wizard to create this Web application.</span></span> <span data-ttu-id="5430f-148">已發佈的 WCF 服務不會在執行階段使用此檔案和 Temp 資料夾。</span><span class="sxs-lookup"><span data-stu-id="5430f-148">The published WCF services do not use this file and the Temp folder at run time.</span></span>                      |

## <a name="next-steps"></a><span data-ttu-id="5430f-149">後續步驟</span><span class="sxs-lookup"><span data-stu-id="5430f-149">Next steps</span></span>

-   [<span data-ttu-id="5430f-150">使用 BizTalk WCF 服務發佈精靈來發佈根據訊息內容決定路由之 WCF 接收位置的服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="5430f-150">Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location for Content-Based Routing</span></span>](../core/publish-service-metadata-for-a-wcf-receive-location-for-content-based-routing.md)  

-   [<span data-ttu-id="5430f-151">使用 BizTalk WCF 服務發佈精靈來發佈繫結至協調流程連接埠之 WCF 接收位置的服務中繼資料</span><span class="sxs-lookup"><span data-stu-id="5430f-151">Use the BizTalk WCF Service Publishing Wizard to Publish Service Metadata for a WCF Receive Location Bound to an Orchestration Port</span></span>](../core/publish-receive-location-service-metadata-biztalk-wcf-service-publishing-wizard.md)  

## <a name="see-also"></a><span data-ttu-id="5430f-152">另請參閱</span><span class="sxs-lookup"><span data-stu-id="5430f-152">See Also</span></span>  
 [<span data-ttu-id="5430f-153">逐步解說：使用 WCF-NetMsmq 配接器發佈 WCF 服務</span><span class="sxs-lookup"><span data-stu-id="5430f-153">Walkthrough: Publishing WCF Services with the WCF-NetMsmq Adapter</span></span>](../core/walkthrough-publishing-wcf-services-with-the-wcf-netmsmq-adapter.md)