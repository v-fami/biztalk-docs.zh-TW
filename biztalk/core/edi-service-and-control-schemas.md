---
title: EDI 服務和控制結構描述 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4866571b-b12d-446c-8d27-a72fe7e479ef
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 25e4ee4eb51d56aaeb4f433fa523e416a8c908e0
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2017
ms.locfileid: "25969148"
---
# <a name="edi-service-and-control-schemas"></a><span data-ttu-id="868dd-102">EDI 服務和控制結構描述</span><span class="sxs-lookup"><span data-stu-id="868dd-102">EDI Service and Control Schemas</span></span>
<span data-ttu-id="868dd-103">控制結構描述是處理訊息信封 (標頭控制結構描述) 和通知的要件。</span><span class="sxs-lookup"><span data-stu-id="868dd-103">Control schemas are required to process message envelopes (header control schemas) and acknowledgments.</span></span> <span data-ttu-id="868dd-104">安裝程式將這些結構描述部署在 Microsoft.BizTalk.Edi.BaseArtifacts.dll 中。</span><span class="sxs-lookup"><span data-stu-id="868dd-104">These schemas are deployed in Microsoft.BizTalk.Edi.BaseArtifacts.dll by the setup program.</span></span> <span data-ttu-id="868dd-105">這些結構描述不一定要加入至 BizTalk 專案，因為它們是部署在 BaseArtifacts.dll 中。</span><span class="sxs-lookup"><span data-stu-id="868dd-105">These schemas do not have to be added to BizTalk projects because they are deployed in BaseArtifacts.dll.</span></span> <span data-ttu-id="868dd-106">您必須將 BaseArtifacts.dll 組件的參考加入至包含結構描述的專案，才能使用這些結構描述。</span><span class="sxs-lookup"><span data-stu-id="868dd-106">You need to add a reference to the BaseArtifacts.dll assembly to the project containing your schemas for these schemas to be used.</span></span>  
  
## <a name="envelope-service-schemas"></a><span data-ttu-id="868dd-107">信封服務結構描述</span><span class="sxs-lookup"><span data-stu-id="868dd-107">Envelope Service Schemas</span></span>  
 <span data-ttu-id="868dd-108">服務結構描述 X12ServiceSchema 和 EdifactServiceSchema 可用來驗證交換、群組，以及 EDI 交換信封中的交易集標頭和結尾。</span><span class="sxs-lookup"><span data-stu-id="868dd-108">The service schemas X12ServiceSchema and EdifactServiceSchema are used to validate the interchange, group, and transaction set headers and trailers in the envelope of an EDI interchange.</span></span> <span data-ttu-id="868dd-109">這適用於所有的 EDI 交換： 批次的交換、 批次的交換分割或要保留的批次的交換。</span><span class="sxs-lookup"><span data-stu-id="868dd-109">This is true for all EDI interchanges: an unbatched interchange, a batched interchange to be split, or a batched interchange to be preserved.</span></span> <span data-ttu-id="868dd-110">這些結構描述命名空間是 http://schemas.microsoft.com/Edi/X12ServiceSchema 和 http://schemas.microsoft.com/Edi/EdifactServiceSchema。</span><span class="sxs-lookup"><span data-stu-id="868dd-110">The namespaces for these schemas are http://schemas.microsoft.com/Edi/X12ServiceSchema and http://schemas.microsoft.com/Edi/EdifactServiceSchema.</span></span>  
  
 <span data-ttu-id="868dd-111">若 EDI 交換是保留的批次交換，則除了服務結構描述，BizTalk 執行階段還會使用批次結構描述 X12_BatchSchema 和 Edifact_BatchSchema。</span><span class="sxs-lookup"><span data-stu-id="868dd-111">When the EDI interchange is a preserved batch interchange, the batch schemas X12_BatchSchema and Edifact_BatchSchema are used by the BizTalk runtime, in addition to the service schemas.</span></span> <span data-ttu-id="868dd-112">如需詳細資訊，請參閱[EDI 批次結構描述](../core/edi-batch-schemas.md)。</span><span class="sxs-lookup"><span data-stu-id="868dd-112">For more information, see [EDI Batch Schemas](../core/edi-batch-schemas.md).</span></span>  
  
 <span data-ttu-id="868dd-113">您可以在這些結構描述中自訂識別碼欄位列舉，</span><span class="sxs-lookup"><span data-stu-id="868dd-113">You can customize ID field enumerations in these schemas.</span></span> <span data-ttu-id="868dd-114">但不允許進行其他修改。</span><span class="sxs-lookup"><span data-stu-id="868dd-114">No other modifications are allowed.</span></span> <span data-ttu-id="868dd-115">如需詳細資訊，請參閱[信封結構描述中的自訂列舉](../core/customizing-enumerations-in-the-envelope-schema.md)。</span><span class="sxs-lookup"><span data-stu-id="868dd-115">For more information, see [Customizing Enumerations in the Envelope Schema](../core/customizing-enumerations-in-the-envelope-schema.md).</span></span>  
  
## <a name="acknowledgment-control-schemas"></a><span data-ttu-id="868dd-116">通知控制結構描述</span><span class="sxs-lookup"><span data-stu-id="868dd-116">Acknowledgment Control Schemas</span></span>  
 <span data-ttu-id="868dd-117">EDI 接收管線會使用通知結構描述來產生要傳送的通知，而 EDI 傳送管線會使用通知結構描述來處理收到的通知。</span><span class="sxs-lookup"><span data-stu-id="868dd-117">The EDI receive pipeline uses acknowledgment schemas to generate acknowledgments to be sent and the EDI send pipeline uses them to process received acknowledgments.</span></span> <span data-ttu-id="868dd-118">這些結構描述包括適用於 X12 編碼的 997 功能通知結構描述和 TA1 交換通知結構描述，以及適用於 EDIFACT 編碼的 CONTRL 結構描述，如下表所示。</span><span class="sxs-lookup"><span data-stu-id="868dd-118">These schemas include the 997 functional acknowledgment schema and the TA1 interchange acknowledgment schema for X12 encoding, and the CONTRL schema for EDIFACT encoding, as shown in the following table.</span></span> <span data-ttu-id="868dd-119">您無法修改這些結構描述。</span><span class="sxs-lookup"><span data-stu-id="868dd-119">You cannot modify these schemas.</span></span>  
  
|<span data-ttu-id="868dd-120">通知</span><span class="sxs-lookup"><span data-stu-id="868dd-120">ACK</span></span>|<span data-ttu-id="868dd-121">結構描述名稱</span><span class="sxs-lookup"><span data-stu-id="868dd-121">Schema Name</span></span>|<span data-ttu-id="868dd-122">目標命名空間</span><span class="sxs-lookup"><span data-stu-id="868dd-122">Target Namespace</span></span>|<span data-ttu-id="868dd-123">Root</span><span class="sxs-lookup"><span data-stu-id="868dd-123">Root</span></span>|  
|---------|-----------------|----------------------|----------|  
|<span data-ttu-id="868dd-124">X12 TA1</span><span class="sxs-lookup"><span data-stu-id="868dd-124">X12 TA1</span></span>|<span data-ttu-id="868dd-125">X12_TA1Schema</span><span class="sxs-lookup"><span data-stu-id="868dd-125">X12_TA1Schema</span></span>|<span data-ttu-id="868dd-126">http://schemas.microsoft.com/Edi/X12</span><span class="sxs-lookup"><span data-stu-id="868dd-126">http://schemas.microsoft.com/Edi/X12</span></span>|<span data-ttu-id="868dd-127">TA1</span><span class="sxs-lookup"><span data-stu-id="868dd-127">TA1</span></span><br /><br /> <span data-ttu-id="868dd-128">X12_TA1_Root</span><span class="sxs-lookup"><span data-stu-id="868dd-128">X12_TA1_Root</span></span>|  
|<span data-ttu-id="868dd-129">X12 997</span><span class="sxs-lookup"><span data-stu-id="868dd-129">X12 997</span></span>|<span data-ttu-id="868dd-130">X12_997Schema</span><span class="sxs-lookup"><span data-stu-id="868dd-130">X12_997Schema</span></span>|<span data-ttu-id="868dd-131">http://schemas.microsoft.com/Edi/X12</span><span class="sxs-lookup"><span data-stu-id="868dd-131">http://schemas.microsoft.com/Edi/X12</span></span>|<span data-ttu-id="868dd-132">ST</span><span class="sxs-lookup"><span data-stu-id="868dd-132">ST</span></span><br /><br /> <span data-ttu-id="868dd-133">SE</span><span class="sxs-lookup"><span data-stu-id="868dd-133">SE</span></span><br /><br /> <span data-ttu-id="868dd-134">X12_997_Root</span><span class="sxs-lookup"><span data-stu-id="868dd-134">X12_997_Root</span></span>|  
|<span data-ttu-id="868dd-135">EDIFACT CONTRL</span><span class="sxs-lookup"><span data-stu-id="868dd-135">EDIFACT CONTRL</span></span>|<span data-ttu-id="868dd-136">Edifact_ContrlSchema</span><span class="sxs-lookup"><span data-stu-id="868dd-136">Edifact_ContrlSchema</span></span>|<span data-ttu-id="868dd-137">http://schemas.microsoft.com/Edi/Edifact</span><span class="sxs-lookup"><span data-stu-id="868dd-137">http://schemas.microsoft.com/Edi/Edifact</span></span>|<span data-ttu-id="868dd-138">Efact_Contrl_Root</span><span class="sxs-lookup"><span data-stu-id="868dd-138">Efact_Contrl_Root</span></span><br /><br /> <span data-ttu-id="868dd-139">UCD</span><span class="sxs-lookup"><span data-stu-id="868dd-139">UCD</span></span><br /><br /> <span data-ttu-id="868dd-140">UCM</span><span class="sxs-lookup"><span data-stu-id="868dd-140">UCM</span></span><br /><br /> <span data-ttu-id="868dd-141">UCS</span><span class="sxs-lookup"><span data-stu-id="868dd-141">UCS</span></span>|  
  
 <span data-ttu-id="868dd-142">針對 X12 編碼，997 功能通知結構描述會定義交換、群組、訊息信封中使用的交易集/訊息標頭和結尾，以及報告內文驗證結果的 AK1、AK2、AK3、AK4、AK5 和 AK9 區段。</span><span class="sxs-lookup"><span data-stu-id="868dd-142">For X12 encoding, the 997 functional acknowledgment schema defines the interchange, group, and transaction set/message headers and trailers used in the envelope of a message, and the AK1, AK2, AK3, AK4, AK5, and AK9 segments that report the result of body validation.</span></span> <span data-ttu-id="868dd-143">TA1 技術通知結構描述則會定義交換標頭和結尾，以及報告標頭驗證結果的 TA1 通知區段。</span><span class="sxs-lookup"><span data-stu-id="868dd-143">The TA1 technical acknowledgment schema defines the interchange header and trailer, and the TA1 acknowledgment segment that reports the result of header validation.</span></span> <span data-ttu-id="868dd-144">這些結構描述的命名慣例是 x12_<\<版本號碼\>number>_997.xsd 和 X12\_\<版本號碼\>_TA1.xsd。</span><span class="sxs-lookup"><span data-stu-id="868dd-144">The naming convention for these schemas is X12_\<version number\>_997.xsd and X12\_\<version number\>_TA1.xsd.</span></span> <span data-ttu-id="868dd-145">這些結構描述的目標命名空間為 http://schemas.microsoft.com/BizTalk/EDI/X12/2006。</span><span class="sxs-lookup"><span data-stu-id="868dd-145">The target namespace for these schemas is http://schemas.microsoft.com/BizTalk/EDI/X12/2006.</span></span>  
  
 <span data-ttu-id="868dd-146">EDIFACT 支援兩階段通知模式。</span><span class="sxs-lookup"><span data-stu-id="868dd-146">EDIFACT supports a two-phased acknowledgment paradigm.</span></span> <span data-ttu-id="868dd-147">第一階段通知是交換接收，這是使用 CONTRL 結構描述的三個區段所建構。</span><span class="sxs-lookup"><span data-stu-id="868dd-147">The first acknowledgment is an interchange receipt that is constructed using three segments from the CONTRL schema.</span></span> <span data-ttu-id="868dd-148">此技術通知會報告標頭驗證結果。</span><span class="sxs-lookup"><span data-stu-id="868dd-148">This technical acknowledgment reports the result of header validation.</span></span> <span data-ttu-id="868dd-149">第二階段通知則會使用 CONTRL 結構描述的其餘區段。</span><span class="sxs-lookup"><span data-stu-id="868dd-149">The second acknowledgment uses the remaining segments of the CONTRL schema.</span></span> <span data-ttu-id="868dd-150">此結構描述的命名慣例是 EFACT_<VERSION\<版本號碼\>number>_contrl.xsd。</span><span class="sxs-lookup"><span data-stu-id="868dd-150">The naming convention for this schema is EFACT_\<Version number\>_CONTRL.xsd.</span></span> <span data-ttu-id="868dd-151">這個結構描述的目標命名空間為 http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006。</span><span class="sxs-lookup"><span data-stu-id="868dd-151">The target namespace for this schema is http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="868dd-152">請參閱</span><span class="sxs-lookup"><span data-stu-id="868dd-152">See Also</span></span>  
 <span data-ttu-id="868dd-153">[BizTalk Server 如何接收 EDI 訊息](../core/how-biztalk-server-receives-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="868dd-153">[How BizTalk Server Receives EDI Messages](../core/how-biztalk-server-receives-edi-messages.md) </span></span>  
 [<span data-ttu-id="868dd-154">BizTalk Server 如何傳送 EDI 訊息</span><span class="sxs-lookup"><span data-stu-id="868dd-154">How BizTalk Server Sends EDI Messages</span></span>](../core/how-biztalk-server-sends-edi-messages.md)