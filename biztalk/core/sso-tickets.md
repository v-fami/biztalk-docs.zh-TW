---
title: SSO 票證 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tickets [SSO]
ms.assetid: acf01422-4696-4301-b85f-7026e792bb5c
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9c0bf2f9c8278a71afd48da10195802169c3fad0
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22277094"
---
# <a name="sso-tickets"></a><span data-ttu-id="f54de-102">SSO 票證</span><span class="sxs-lookup"><span data-stu-id="f54de-102">SSO Tickets</span></span>
<span data-ttu-id="f54de-103">在使用者與各系統和應用程式互動的企業環境中，該環境很可能不會維護透過多個程序、產品和電腦的使用者內容。</span><span class="sxs-lookup"><span data-stu-id="f54de-103">In an enterprise environment, where a user interacts with various systems and applications, it is very likely that the environment does not maintain the user context through multiple processes, products, and computers.</span></span> <span data-ttu-id="f54de-104">此使用者內容對於提供單一登入功能而言是非常重要的，因為必須確認是由誰初始化原始要求。</span><span class="sxs-lookup"><span data-stu-id="f54de-104">This user context is crucial to provide single sign-on capabilities, as it is necessary to verify who initiated the original request.</span></span> <span data-ttu-id="f54de-105">為了解決這個問題，「企業單一登入」(SSO) 提供了 SSO 票證 (非 Kerberos 票證)，應用程式可以用來取得對應提出原始要求之使用者的認證。</span><span class="sxs-lookup"><span data-stu-id="f54de-105">To overcome this problem Enterprise Single Sign-On (SSO) provides an SSO ticket (not a Kerberos ticket) that applications can use to get the credentials that correspond to the user who made the original request.</span></span> <span data-ttu-id="f54de-106">預設不會啟用 SSO 票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-106">SSO tickets are not enabled by default.</span></span> <span data-ttu-id="f54de-107">如需啟用票證的詳細資訊，請參閱[如何設定 SSO 票證](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="f54de-107">For more information about enabling tickets, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="f54de-108">驗證的 Windows 使用者提出要求時，SSO 系統會發出票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-108">The SSO system issues a ticket when requested by an authenticated Windows user.</span></span> <span data-ttu-id="f54de-109">SSO 系統可以為提出要求的使用者或遠端使用者發出票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-109">The SSO system can issue a ticket for the user making the request or for a remote user.</span></span> <span data-ttu-id="f54de-110">票證包含目前使用者的加密網域和使用者名稱，以及票證到期時間。</span><span class="sxs-lookup"><span data-stu-id="f54de-110">A ticket contains the encrypted domain and username of the current user, and the ticket expiration time.</span></span> <span data-ttu-id="f54de-111">依照預設，SSO 系統發出票證之後，票證會在兩分鐘後到期。</span><span class="sxs-lookup"><span data-stu-id="f54de-111">After the SSO system issues a ticket, it expires in two minutes by default.</span></span> <span data-ttu-id="f54de-112">SSO 系統管理員可以修改票證的到期時間。</span><span class="sxs-lookup"><span data-stu-id="f54de-112">SSO administrators can modify the expiration time for tickets.</span></span> <span data-ttu-id="f54de-113">SSO 系統管理員也可以設定「分支機構應用程式」層級的票證逾時。</span><span class="sxs-lookup"><span data-stu-id="f54de-113">The SSO Administrator can also set the ticket timeout at the Affiliate Application level.</span></span> <span data-ttu-id="f54de-114">如需詳細資訊，請參閱[如何設定 SSO 票證](../core/how-to-configure-the-sso-tickets.md)。</span><span class="sxs-lookup"><span data-stu-id="f54de-114">For more information, see [How to Configure the SSO Tickets](../core/how-to-configure-the-sso-tickets.md).</span></span>  
  
 <span data-ttu-id="f54de-115">在應用程式確認原始要求者的身分之後，應用程式就會贖回票證，以取得初始化要求分支機構應用程式的使用者認證。</span><span class="sxs-lookup"><span data-stu-id="f54de-115">After an application verifies the identity of the original requester, the application redeems the ticket to obtain the credentials of the user who initiated the request affiliate application.</span></span> <span data-ttu-id="f54de-116">應用程式從 SSO 系統贖回票證的方式有兩種：</span><span class="sxs-lookup"><span data-stu-id="f54de-116">An application can redeem tickets from the SSO system in one of two ways:</span></span>  
  
-   <span data-ttu-id="f54de-117">**僅贖回。**</span><span class="sxs-lookup"><span data-stu-id="f54de-117">**Redeem only.**</span></span> <span data-ttu-id="f54de-118">當應用程式初始化贖回票證的要求時，要求必須包含連接的分支機構應用程式之名稱以及票證本身。</span><span class="sxs-lookup"><span data-stu-id="f54de-118">When an application initiates a request to redeem a ticket, the request must contain the name of the affiliate application to connect to, and the ticket itself.</span></span> <span data-ttu-id="f54de-119">只有特定分支機構應用程式的應用程式系統管理員、SSO 分支機構系統管理員或 SSO 系統管理員可以贖回票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-119">Only application administrators for the specific affiliate application, SSO affiliate administrators, or SSO administrators can redeem a ticket.</span></span> <span data-ttu-id="f54de-120">您應該使用**僅贖回**時發出票證的應用程式與贖回票證應用程式信任的子系統。</span><span class="sxs-lookup"><span data-stu-id="f54de-120">You should use **Redeem only** when there is a trusted sub-system between the application that issued the ticket and the application redeeming the ticket.</span></span> <span data-ttu-id="f54de-121">只有指定分支機構應用程式的應用程式系統管理員可以為使用者贖回票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-121">Only an application administrator for the specified affiliate application can redeem the ticket for a user.</span></span>  
  
-   <span data-ttu-id="f54de-122">**驗證及贖回。**</span><span class="sxs-lookup"><span data-stu-id="f54de-122">**Validate and redeem.**</span></span> <span data-ttu-id="f54de-123">票證包含 SSO 系統對其執行認證查詢的使用者相關資訊。</span><span class="sxs-lookup"><span data-stu-id="f54de-123">Tickets contain information about the user for whom the SSO system is performing the credential look-up.</span></span> <span data-ttu-id="f54de-124">在此情況下，SSO 服務會在系統贖回票證之前，確認原始訊息的傳送者與票證的使用者是否相同。</span><span class="sxs-lookup"><span data-stu-id="f54de-124">In this case, the SSO service verifies that the sender of the original message and the user of the ticket are the same before the system redeems the ticket.</span></span> <span data-ttu-id="f54de-125">Microsoft BizTalk Server 配接器實例會利用這個機制。</span><span class="sxs-lookup"><span data-stu-id="f54de-125">Microsoft BizTalk Server adapter scenarios leverage this mechanism.</span></span>  
  
 <span data-ttu-id="f54de-126">SSO 系統管理員可以在各個分支機構應用程式分別停用票證逾時。</span><span class="sxs-lookup"><span data-stu-id="f54de-126">An SSO administrator can disable ticket timeouts on a per affiliate application basis.</span></span> <span data-ttu-id="f54de-127">雖然在舊版不建議這麼做，但這個版本可支援使用每個分支機構應用程式票證逾時。</span><span class="sxs-lookup"><span data-stu-id="f54de-127">While this was not recommended in previous releases, this release supports the use of per affiliate application ticket timeout.</span></span> <span data-ttu-id="f54de-128">此選項可以讓您在「分支機構應用程式」層級設定票證逾時。</span><span class="sxs-lookup"><span data-stu-id="f54de-128">This option allows you to set the ticket timeouts at the Affiliate Application level.</span></span> <span data-ttu-id="f54de-129">若沒有指定，會使用在全域層級指定的票證逾時。</span><span class="sxs-lookup"><span data-stu-id="f54de-129">If this is not specified, the ticket timeout specified at the global level is used.</span></span>  
  
 <span data-ttu-id="f54de-130">SSO 分支機構系統管理員可以分別指定每個分支機構應用程式上容許的票證以及所需的票證驗證。</span><span class="sxs-lookup"><span data-stu-id="f54de-130">An SSO affiliate administrator can specify that tickets are allowed and that validation of the ticket is required on a per affiliate application basis.</span></span> <span data-ttu-id="f54de-131">不過，若 SSO 系統管理員在 SSO 系統層級指定需要驗證票證，SSO 分支機構系統管理員就無法在分支機構應用程式層級次關閉此選項。</span><span class="sxs-lookup"><span data-stu-id="f54de-131">However, if the SSO administrator specifies at the SSO system level that the validation of tickets is required, the SSO affiliate administrator cannot turn off this option at the affiliate application level.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f54de-132">使用 SSO 票證時，您必須確保票證逾時值夠長，可以從發出票證持續到贖回票證。</span><span class="sxs-lookup"><span data-stu-id="f54de-132">When using SSO ticketing, you must ensure that the ticket timeout value is long enough to last between the time when the ticket is issued to the time that it is redeemed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f54de-133">另請參閱</span><span class="sxs-lookup"><span data-stu-id="f54de-133">See Also</span></span>  
 [<span data-ttu-id="f54de-134">管理使用者對應</span><span class="sxs-lookup"><span data-stu-id="f54de-134">Managing User Mappings</span></span>](../core/managing-user-mappings.md)