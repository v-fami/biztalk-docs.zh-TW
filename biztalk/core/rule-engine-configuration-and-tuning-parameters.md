---
title: 規則引擎組態和調整參數 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- troubleshooting, registry keys
- registry keys
- Business Rules Engine, registry keys
- troubleshooting, business rules
- validating, business rules
- business rules, validating
ms.assetid: cb0bcffe-bbc6-4495-84d2-2a822c3413b3
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e6d2acc5b70f7a2be120db5159f893922135a429
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22270334"
---
# <a name="rule-engine-configuration-and-tuning-parameters"></a><span data-ttu-id="879a9-102">規則引擎組態和調整參數</span><span class="sxs-lookup"><span data-stu-id="879a9-102">Rule Engine Configuration and Tuning Parameters</span></span>
<span data-ttu-id="879a9-103">下表包含登錄機碼的清單，這對於組態驗證和疑難排解相當有用。</span><span class="sxs-lookup"><span data-stu-id="879a9-103">The following table contains a list of registry keys that may be useful for configuration validation and troubleshooting.</span></span> <span data-ttu-id="879a9-104">這些登錄機碼會儲存在**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\BusinessRules\3.0**。</span><span class="sxs-lookup"><span data-stu-id="879a9-104">These registry keys are stored under **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\BusinessRules\3.0**.</span></span>  
  
 <span data-ttu-id="879a9-105">除了列出的前三個索引鍵，這些機碼要讓產品，並不是使用者-自訂規則引擎。</span><span class="sxs-lookup"><span data-stu-id="879a9-105">With the exception of the first three keys listed, these keys are intended to allow products—and not users—to customize the rule engine.</span></span> <span data-ttu-id="879a9-106">所有機碼都是在安裝時建立，不過並沒有提供介面來設定其中的任何值。</span><span class="sxs-lookup"><span data-stu-id="879a9-106">All of them are created upon installation; however, no interface is provided to set any of these values.</span></span>  
  
 <span data-ttu-id="879a9-107">資料表資料行的定義如下：</span><span class="sxs-lookup"><span data-stu-id="879a9-107">The definitions for the table columns are as follows:</span></span>  
  
-   <span data-ttu-id="879a9-108">**名稱**。</span><span class="sxs-lookup"><span data-stu-id="879a9-108">**Name**.</span></span> <span data-ttu-id="879a9-109">登錄機碼的名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-109">Name of the registry key.</span></span>  
  
-   <span data-ttu-id="879a9-110">**描述**。</span><span class="sxs-lookup"><span data-stu-id="879a9-110">**Description**.</span></span> <span data-ttu-id="879a9-111">關於機碼的位置與使用的簡短描述。</span><span class="sxs-lookup"><span data-stu-id="879a9-111">A brief description about the location or use of the key.</span></span>  
  
-   <span data-ttu-id="879a9-112">**組態預設值**。</span><span class="sxs-lookup"><span data-stu-id="879a9-112">**Config default**.</span></span> <span data-ttu-id="879a9-113">如果機碼不存在會傳回值。</span><span class="sxs-lookup"><span data-stu-id="879a9-113">Value returned if the key does not exist.</span></span>  
  
-   <span data-ttu-id="879a9-114">**安裝預設**。</span><span class="sxs-lookup"><span data-stu-id="879a9-114">**Install default**.</span></span> <span data-ttu-id="879a9-115">安裝規則引擎時 BizTalk Server 設定的值。</span><span class="sxs-lookup"><span data-stu-id="879a9-115">Value set by BizTalk Server when installing the rule engine.</span></span>  
  
|<span data-ttu-id="879a9-116">名稱</span><span class="sxs-lookup"><span data-stu-id="879a9-116">Name</span></span>|<span data-ttu-id="879a9-117">Description</span><span class="sxs-lookup"><span data-stu-id="879a9-117">Description</span></span>|<span data-ttu-id="879a9-118">組態預設值</span><span class="sxs-lookup"><span data-stu-id="879a9-118">Config default</span></span>|<span data-ttu-id="879a9-119">安裝預設值</span><span class="sxs-lookup"><span data-stu-id="879a9-119">Install default</span></span>|  
|----------|-----------------|--------------------|---------------------|  
|<span data-ttu-id="879a9-120">InstallPath</span><span class="sxs-lookup"><span data-stu-id="879a9-120">InstallPath</span></span>|<span data-ttu-id="879a9-121">在組態階段使用 BRE 檔案的位置。</span><span class="sxs-lookup"><span data-stu-id="879a9-121">Location of BRE files that is used at the configuration time.</span></span>|<span data-ttu-id="879a9-122">(Null)</span><span class="sxs-lookup"><span data-stu-id="879a9-122">(null)</span></span>|<span data-ttu-id="879a9-123">C:\Program Files\Common Files\Microsoft BizTalk （或在 64 位元作業系統上的 C:\Program Files (x86) \common BizTalk）</span><span class="sxs-lookup"><span data-stu-id="879a9-123">C:\Program Files\Common Files\Microsoft BizTalk (or C:\Program Files (x86)\Common Files\Microsoft BizTalk on a 64-bit operating system)</span></span>|  
|<span data-ttu-id="879a9-124">DatabaseServer</span><span class="sxs-lookup"><span data-stu-id="879a9-124">DatabaseServer</span></span>|<span data-ttu-id="879a9-125">使用的資料庫伺服器。</span><span class="sxs-lookup"><span data-stu-id="879a9-125">Database server used.</span></span>|<span data-ttu-id="879a9-126">(空字串)</span><span class="sxs-lookup"><span data-stu-id="879a9-126">(empty string)</span></span>|<span data-ttu-id="879a9-127">BRE 組態期間所指定的資料庫伺服器的名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-127">Name of the database server specified during configuration of BRE.</span></span>|  
|<span data-ttu-id="879a9-128">DatabaseName</span><span class="sxs-lookup"><span data-stu-id="879a9-128">DatabaseName</span></span>|<span data-ttu-id="879a9-129">即將使用的資料庫名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-129">Name of database to be used.</span></span>|<span data-ttu-id="879a9-130">(空字串)</span><span class="sxs-lookup"><span data-stu-id="879a9-130">(empty string)</span></span>|<span data-ttu-id="879a9-131">BRE 組態期間所指定的資料庫名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-131">Name of the database specified during configuration of BRE.</span></span> <span data-ttu-id="879a9-132">一般來說，這是 BizTalkRuleEngineDb</span><span class="sxs-lookup"><span data-stu-id="879a9-132">Typically, it is BizTalkRuleEngineDb</span></span>|  
|<span data-ttu-id="879a9-133">PubSubAdapterAssembly</span><span class="sxs-lookup"><span data-stu-id="879a9-133">PubSubAdapterAssembly</span></span>|<span data-ttu-id="879a9-134">pub/sub 配接器的組件名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-134">Assembly name of pub/sub adapter.</span></span>|<span data-ttu-id="879a9-135">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="879a9-135">Microsoft.RuleEngine</span></span>|<span data-ttu-id="879a9-136">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="879a9-136">Microsoft.RuleEngine</span></span>|  
|<span data-ttu-id="879a9-137">PubSubAdapterClass</span><span class="sxs-lookup"><span data-stu-id="879a9-137">PubSubAdapterClass</span></span>|<span data-ttu-id="879a9-138">Pub/sub 配接器的類別名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-138">Class name of pub/sub adapter.</span></span>|<span data-ttu-id="879a9-139">Microsoft.RuleEngine.PubSubAdapter</span><span class="sxs-lookup"><span data-stu-id="879a9-139">Microsoft.RuleEngine.PubSubAdapter</span></span>|<span data-ttu-id="879a9-140">Microsoft.RuleEngine.PubSubAdapter</span><span class="sxs-lookup"><span data-stu-id="879a9-140">Microsoft.RuleEngine.PubSubAdapter</span></span>|  
|<span data-ttu-id="879a9-141">DeploymentDriverAssembly</span><span class="sxs-lookup"><span data-stu-id="879a9-141">DeploymentDriverAssembly</span></span>|<span data-ttu-id="879a9-142">部署驅動程式的組件名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-142">Assembly name of deployment driver.</span></span>|<span data-ttu-id="879a9-143">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="879a9-143">Microsoft.RuleEngine</span></span>|<span data-ttu-id="879a9-144">Microsoft.BizTalk.RuleEngineExtensions</span><span class="sxs-lookup"><span data-stu-id="879a9-144">Microsoft.BizTalk.RuleEngineExtensions</span></span>|  
|<span data-ttu-id="879a9-145">DeploymentDriverClass</span><span class="sxs-lookup"><span data-stu-id="879a9-145">DeploymentDriverClass</span></span>|<span data-ttu-id="879a9-146">部署驅動程式的類別名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-146">Class name of deployment driver.</span></span>|<span data-ttu-id="879a9-147">Microsoft.RuleEngine.RuleSetDeploymentDriver</span><span class="sxs-lookup"><span data-stu-id="879a9-147">Microsoft.RuleEngine.RuleSetDeploymentDriver</span></span>|<span data-ttu-id="879a9-148">Microsoft.BizTalk.RuleEngineExtensions.RuleSetDeploymentDriver</span><span class="sxs-lookup"><span data-stu-id="879a9-148">Microsoft.BizTalk.RuleEngineExtensions.RuleSetDeploymentDriver</span></span>|  
|<span data-ttu-id="879a9-149">TrackingInterceptorAssembly</span><span class="sxs-lookup"><span data-stu-id="879a9-149">TrackingInterceptorAssembly</span></span>|<span data-ttu-id="879a9-150">追蹤攔截器的組件名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-150">Assembly name of tracking interceptor.</span></span>|<span data-ttu-id="879a9-151">(空字串)</span><span class="sxs-lookup"><span data-stu-id="879a9-151">(empty string)</span></span>|<span data-ttu-id="879a9-152">Microsoft.BizTalk.RuleEngineExtensions</span><span class="sxs-lookup"><span data-stu-id="879a9-152">Microsoft.BizTalk.RuleEngineExtensions</span></span>|  
|<span data-ttu-id="879a9-153">TrackingInterceptorClass</span><span class="sxs-lookup"><span data-stu-id="879a9-153">TrackingInterceptorClass</span></span>|<span data-ttu-id="879a9-154">追蹤攔截器的類別名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-154">Class name of tracking interceptor.</span></span>|<span data-ttu-id="879a9-155">(空字串)</span><span class="sxs-lookup"><span data-stu-id="879a9-155">(empty string)</span></span>|<span data-ttu-id="879a9-156">Microsoft.BizTalk.RuleEngineExtensions.RuleSetTrackingInterceptor</span><span class="sxs-lookup"><span data-stu-id="879a9-156">Microsoft.BizTalk.RuleEngineExtensions.RuleSetTrackingInterceptor</span></span>|  
|<span data-ttu-id="879a9-157">TranslationTimeout</span><span class="sxs-lookup"><span data-stu-id="879a9-157">TranslationTimeout</span></span>|<span data-ttu-id="879a9-158">可以用來轉譯規則集的最大時間 (以毫秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="879a9-158">Maximum time in milliseconds that can be used to translate a ruleset.</span></span> <span data-ttu-id="879a9-159">**注意：** 這可以使用 rulesetconfiguration 以覆寫每個規則集為基礎)。</span><span class="sxs-lookup"><span data-stu-id="879a9-159">**Note:**  This can be overridden on a per-ruleset basis by using the RuleSetConfiguration).</span></span>|<span data-ttu-id="879a9-160">60000 (1 分鐘)</span><span class="sxs-lookup"><span data-stu-id="879a9-160">60000 (1 minute)</span></span>|<span data-ttu-id="879a9-161">60000</span><span class="sxs-lookup"><span data-stu-id="879a9-161">60000</span></span>|  
|<span data-ttu-id="879a9-162">UpdateServiceName</span><span class="sxs-lookup"><span data-stu-id="879a9-162">UpdateServiceName</span></span>|<span data-ttu-id="879a9-163">.NET 遠端用來尋找服務的「更新」服務名稱。</span><span class="sxs-lookup"><span data-stu-id="879a9-163">Name of the Update service, used by .NET remoting to locate the service.</span></span>|<span data-ttu-id="879a9-164">RemoteUpdateService</span><span class="sxs-lookup"><span data-stu-id="879a9-164">RemoteUpdateService</span></span>|<span data-ttu-id="879a9-165">RemoteUpdateService</span><span class="sxs-lookup"><span data-stu-id="879a9-165">RemoteUpdateService</span></span>|  
|<span data-ttu-id="879a9-166">UpdateServiceHost</span><span class="sxs-lookup"><span data-stu-id="879a9-166">UpdateServiceHost</span></span>|<span data-ttu-id="879a9-167">.NET 遠端用來尋找服務的「更新」服務主機電腦。</span><span class="sxs-lookup"><span data-stu-id="879a9-167">Computer hosting the Update service, used by .NET remoting to locate the service.</span></span> <span data-ttu-id="879a9-168">**注意：** 服務目前限制傳入訊息到同一部電腦。</span><span class="sxs-lookup"><span data-stu-id="879a9-168">**Note:**  The service currently restricts incoming messages to same machine only.</span></span>|<span data-ttu-id="879a9-169">localhost</span><span class="sxs-lookup"><span data-stu-id="879a9-169">localhost</span></span>|<span data-ttu-id="879a9-170">localhost</span><span class="sxs-lookup"><span data-stu-id="879a9-170">localhost</span></span>|  
|<span data-ttu-id="879a9-171">UpdateServicePort</span><span class="sxs-lookup"><span data-stu-id="879a9-171">UpdateServicePort</span></span>|<span data-ttu-id="879a9-172">.NET 遠端用來尋找服務之「更新」服務所使用的 TCP 連接埠編號。</span><span class="sxs-lookup"><span data-stu-id="879a9-172">TCP port number used by the Update service, used by .NET remoting to locate the service.</span></span>|<span data-ttu-id="879a9-173">3132</span><span class="sxs-lookup"><span data-stu-id="879a9-173">3132</span></span>|<span data-ttu-id="879a9-174">3132</span><span class="sxs-lookup"><span data-stu-id="879a9-174">3132</span></span>|  
|<span data-ttu-id="879a9-175">CacheEntries</span><span class="sxs-lookup"><span data-stu-id="879a9-175">CacheEntries</span></span>|<span data-ttu-id="879a9-176">「更新」服務快取的規則集最大值。</span><span class="sxs-lookup"><span data-stu-id="879a9-176">Maximum number of rulesets cached by the Update service.</span></span>|<span data-ttu-id="879a9-177">32</span><span class="sxs-lookup"><span data-stu-id="879a9-177">32</span></span>|<span data-ttu-id="879a9-178">32</span><span class="sxs-lookup"><span data-stu-id="879a9-178">32</span></span>|  
|<span data-ttu-id="879a9-179">CacheTimeout</span><span class="sxs-lookup"><span data-stu-id="879a9-179">CacheTimeout</span></span>|<span data-ttu-id="879a9-180">項目超過「更新」服務快取的時間 (以秒計)。</span><span class="sxs-lookup"><span data-stu-id="879a9-180">Time in seconds for entries to age out of the Update service cache.</span></span>|<span data-ttu-id="879a9-181">3600 (1 小時)</span><span class="sxs-lookup"><span data-stu-id="879a9-181">3600 (1 hour)</span></span>|<span data-ttu-id="879a9-182">3600</span><span class="sxs-lookup"><span data-stu-id="879a9-182">3600</span></span>|  
|<span data-ttu-id="879a9-183">PollingInterval</span><span class="sxs-lookup"><span data-stu-id="879a9-183">PollingInterval</span></span>|<span data-ttu-id="879a9-184">「更新」服務檢查 SqlRuleStore 以取得更新的時間 (以秒計)。</span><span class="sxs-lookup"><span data-stu-id="879a9-184">Time in seconds for the Update service to check SqlRuleStore for updates.</span></span>|<span data-ttu-id="879a9-185">60 （1 分鐘）</span><span class="sxs-lookup"><span data-stu-id="879a9-185">60 (1 minute)</span></span>|<span data-ttu-id="879a9-186">60</span><span class="sxs-lookup"><span data-stu-id="879a9-186">60</span></span>|  
|<span data-ttu-id="879a9-187">SqlTimeout</span><span class="sxs-lookup"><span data-stu-id="879a9-187">SqlTimeout</span></span>|<span data-ttu-id="879a9-188">存取 SQL 規則存放區之 SQL 命令的逾時值。</span><span class="sxs-lookup"><span data-stu-id="879a9-188">Timeout value for SQL commands that access the SQL rule store.</span></span> <span data-ttu-id="879a9-189">此機碼的值解譯如下：</span><span class="sxs-lookup"><span data-stu-id="879a9-189">The value for this key is interpreted as follows:</span></span><br /><br /> <span data-ttu-id="879a9-190">< 0 - 使用 .NET 預設值 (30 秒)</span><span class="sxs-lookup"><span data-stu-id="879a9-190">< 0 - Uses the .NET default value (30 seconds)</span></span><br /><br /> <span data-ttu-id="879a9-191">= 0 - 無限制逾時</span><span class="sxs-lookup"><span data-stu-id="879a9-191">= 0 - Unlimited timeout</span></span><br /><br /> <span data-ttu-id="879a9-192">> 0 - 查詢逾時之前的時間上限</span><span class="sxs-lookup"><span data-stu-id="879a9-192">> 0 - Maximum time for a query before it times out</span></span>|<span data-ttu-id="879a9-193">-1</span><span class="sxs-lookup"><span data-stu-id="879a9-193">-1</span></span>|<span data-ttu-id="879a9-194">-1</span><span class="sxs-lookup"><span data-stu-id="879a9-194">-1</span></span>|  
  
 <span data-ttu-id="879a9-195">您也可以新增登錄機碼中所述，名為 StaticSupport[叫用類別的靜態成員](../core/invoking-static-members-of-a-class.md)。</span><span class="sxs-lookup"><span data-stu-id="879a9-195">You can also add a registry key named StaticSupport as mentioned in [Invoking Static Members of a Class](../core/invoking-static-members-of-a-class.md).</span></span>  
  
 <span data-ttu-id="879a9-196">登錄設定是所有裝載規則引擎執行個體之應用程式的全域設定。</span><span class="sxs-lookup"><span data-stu-id="879a9-196">The registry settings are global for all applications that host a rule engine instance.</span></span> <span data-ttu-id="879a9-197">您可以使用應用程式組態，在應用程式層級覆寫這些設定。</span><span class="sxs-lookup"><span data-stu-id="879a9-197">You can override these registry settings at an application level by using the application configuration file.</span></span> <span data-ttu-id="879a9-198">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 應用程式中，主控件應用程式是 BTSNTSvc.exe，而組態檔則是 BTSNTSvc.exe.config；您可以在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 安裝目錄中找到這些檔案。</span><span class="sxs-lookup"><span data-stu-id="879a9-198">For [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] applications, the host application is the BTSNTSvc.exe and the configuration file is the BTSNTSvc.exe.config, which you can find in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installation directory.</span></span>  <span data-ttu-id="879a9-199">您必須在如以下所示的應用程式組態檔中，為想要覆寫的組態參數指定值：</span><span class="sxs-lookup"><span data-stu-id="879a9-199">You need to specify the values for the configuration parameters that you want to override in the application configuration file as show below:</span></span>  
  
```  
<configuration>  
    <configSections>  
        <section name="Microsoft.RuleEngine" type="System.Configuration.SingleTagSectionHandler" />  
    </configSections>  
    <Microsoft.RuleEngine  
        UpdateServiceHost="localhost"  
        UpdateServicePort="3132"  
        UpdateServiceName="RemoteUpdateService"  
        CacheEntries="32"  
        CacheTimeout="3600"  
        PollingInterval="60"  
        TranslationTimeout="3600"  
        CachePruneInterval="60"  
        DatabaseServer="(localhost)"  
        DatabaseName="BizTalkRuleEngineDb"  
        SqlTimeout="-1"  
        StaticSupport="1"  
    />  
</configuration>  
```