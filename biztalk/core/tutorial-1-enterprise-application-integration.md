---
title: "教學課程 1： 企業應用程式整合 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- enterprise application integration tutorial
- getting started tutorials, integrating enterprise applications
- enterprise application integration tutorial, about the tutorial
ms.assetid: aca5fc97-0fd6-4964-9cf1-482aa4f444b8
caps.latest.revision: "37"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cb6ddbd6c2a3e25619c684036eee3fb0fa46a18f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="tutorial-1-enterprise-application-integration"></a><span data-ttu-id="dd0b9-102">教學課程 1：企業應用程式整合</span><span class="sxs-lookup"><span data-stu-id="dd0b9-102">Tutorial 1: Enterprise Application Integration</span></span>
<span data-ttu-id="dd0b9-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 提供應用程式整合及商務程序管理 (BPM) 的開發與執行階段環境。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides a development and run-time environment for application integration and business process management (BPM).</span></span> <span data-ttu-id="dd0b9-104">此教學課程提供您使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 設定和部署企業應用程式整合 (EAI) 解決方案的端對端練習。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-104">This tutorial presents an end-to-end exercise in setting up and deploying an enterprise application integration (EAI) solution using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
##  <span data-ttu-id="dd0b9-105"><a name="BKMK_Tut1_scenario"></a>商務案例</span><span class="sxs-lookup"><span data-stu-id="dd0b9-105"><a name="BKMK_Tut1_scenario"></a> Business Scenario</span></span>  
 <span data-ttu-id="dd0b9-106">Contoso 是一間銷售電腦軟硬體的線上商店。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-106">Contoso is an online store selling computer hardware and software.</span></span>  <span data-ttu-id="dd0b9-107">這家公司最近購買一套企業資源規劃 (ERP) 系統來管理資源。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-107">The company recently purchased an enterprise resource planning (ERP) system to manage its resources.</span></span>  <span data-ttu-id="dd0b9-108">在此教學課程中，您將使用 BizTalk Server 開發企業應用程式整合 (EAI) 解決方案，將現有的倉儲系統整合到 ERP 系統中，並自動化倉儲要求程序。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-108">In this tutorial, you will develop an Enterprise Application Integration (EAI) solution using BizTalk Server to integrate an existing warehouse system to the ERP system, and automate the warehouse request process.</span></span>  
  
 <span data-ttu-id="dd0b9-109">此整合解決方案有一些挑戰：</span><span class="sxs-lookup"><span data-stu-id="dd0b9-109">There are several challenges for this integration solution:</span></span>  
  
-   <span data-ttu-id="dd0b9-110">**訊息傳輸**。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-110">**Message transportation**.</span></span>  <span data-ttu-id="dd0b9-111">倉儲系統和 ERP 系統可以位於兩個不同的平台上，並使用不同的傳輸通訊協定來傳送和接收訊息。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-111">The warehouse system and the ERP system can reside on two different platforms, and use different transportation protocols for sending and receiving messages.</span></span> <span data-ttu-id="dd0b9-112">此解決方案必須能夠使用傳送端系統所支援的通訊協定來接收訊息，並使用接收端系統所支援的通訊協定來轉寄訊息。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-112">This solution must be able to receive the messages using the protocols supported by the sending system and forward the messages using the protocols supported by the receiving system.</span></span>  <span data-ttu-id="dd0b9-113">BizTalk Server 會使用*配接器*的傳輸訊息。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-113">BizTalk Server uses *adapters* for transporting messages.</span></span>  <span data-ttu-id="dd0b9-114">BizTalk Server 安裝和 BizTalk Adapter Pack 隨附許多原生配接器。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-114">There are many native adapters that come with the BizTalk Server installation and the BizTalk Adapter pack.</span></span>  <span data-ttu-id="dd0b9-115">如需其他配接器，您可以向廠商購買或使用 BizTalk Server 提供的配接器架構來開發自己的配接器。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-115">For additional adapters, you can either purchase from vendors or develop your own using the adapter frameworks provided by BizTalk Server.</span></span> <span data-ttu-id="dd0b9-116">如需配接器的詳細資訊，請參閱[http://go.microsoft.com/fwlink/?LinkId=191131](http://go.microsoft.com/fwlink/?LinkId=191131)。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-116">For more information about adapters, see [http://go.microsoft.com/fwlink/?LinkId=191131](http://go.microsoft.com/fwlink/?LinkId=191131).</span></span>  
  
-   <span data-ttu-id="dd0b9-117">**訊息轉換**。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-117">**Message conversion**.</span></span> <span data-ttu-id="dd0b9-118">訊息有許多類型，例如可延伸標記語言 (XML)、電子資料交換 (EDI)、字元分隔檔等等。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-118">There are many message types, for example, eXtended Markup Language (XML), Electronic Data Interchange (EDI), delimitated files and so on.</span></span> <span data-ttu-id="dd0b9-119">BizTalk Server 以 XML 為主。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-119">BizTalk Server is XML centric.</span></span> <span data-ttu-id="dd0b9-120">在大部分情況下，您可以先將輸入訊息轉換為 XML。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-120">For most cases, you convert inbound messages into XML first.</span></span>  <span data-ttu-id="dd0b9-121">此程序稱為*剖析*。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-121">This process is called *parsing*.</span></span>  <span data-ttu-id="dd0b9-122">到了輸出端，您可以再將 XML 訊息轉換為其他類型。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-122">On the outbound side, you can convert messages from XML to other types.</span></span>  <span data-ttu-id="dd0b9-123">此程序稱為*序列化*。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-123">This process is called *serialization*.</span></span>  
  
-   <span data-ttu-id="dd0b9-124">**商務程序管理**。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-124">**Business process mangement**.</span></span> <span data-ttu-id="dd0b9-125">大部分的 EAI 實例並不是只有將訊息從一個系統轉寄至另一個系統這麼簡單。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-125">Most of the EAI scenarios are more than simply forwarding messages from one system to another system.</span></span>  <span data-ttu-id="dd0b9-126">通常涉及更多的系統和更複雜的工作流程。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-126">They usually involve more systems and complex workflows.</span></span>  <span data-ttu-id="dd0b9-127">在此實例中，倉儲會傳送訊息來要求補貨；您的解決方案會收到訊息，然後檢查要求的總計。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-127">In this scenario, the warehouse sends a message requesting inventory replenishment; your solution receives the message and then checks the grand total of the request.</span></span>  <span data-ttu-id="dd0b9-128">如果總計超過一定數量，解決方案就自動拒絕要求，並傳送拒絕訊息；否則，解決方案會將要求轉寄至 ERP 系統。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-128">If the grand total is over a certain amount, the solution rejects the request automatically and sends a decline message; otherwise the solution forwards the request to the ERP system.</span></span>  
  
     <span data-ttu-id="dd0b9-129">下圖說明此商務程序：</span><span class="sxs-lookup"><span data-stu-id="dd0b9-129">The following diagram illustrates the business process:</span></span>  
  
     <span data-ttu-id="dd0b9-130">![教學課程 1 訊息流程](../core/media/tut1-msg-flow.gif "tut1_msg_flow")</span><span class="sxs-lookup"><span data-stu-id="dd0b9-130">![Tutorial 1 message flow](../core/media/tut1-msg-flow.gif "tut1_msg_flow")</span></span>  
  
 <span data-ttu-id="dd0b9-131">在此教學課程中，您會使用 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 開發工具來設計和部署商務程序。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-131">In this tutorial, you use [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] development tools to design and deploy the business process.</span></span>  
  
## <a name="preparation"></a><span data-ttu-id="dd0b9-132">準備</span><span class="sxs-lookup"><span data-stu-id="dd0b9-132">Preparation</span></span>  
 <span data-ttu-id="dd0b9-133">沒有建立 BizTalk Server 的整合方案之前，您必須收集一些基本資訊：</span><span class="sxs-lookup"><span data-stu-id="dd0b9-133">There is some basic information you must collect before creating a BizTalk Server integration solution:</span></span>  
  
-   <span data-ttu-id="dd0b9-134">BizTalk Server 解決方案需要整合多少應用程式/系統？</span><span class="sxs-lookup"><span data-stu-id="dd0b9-134">How many applications/systems that the BizTalk Server solution needs to integrate?</span></span>  <span data-ttu-id="dd0b9-135">在本案例中，有兩個系統：ERP 和倉儲。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-135">In this scenario, there are two systems: ERP and warehouse.</span></span>  
  
-   <span data-ttu-id="dd0b9-136">每一個應用程式都支援哪些傳輸通訊協定？</span><span class="sxs-lookup"><span data-stu-id="dd0b9-136">Which transportation protocols supported by each of the applications?</span></span>  <span data-ttu-id="dd0b9-137">為了簡化解決方案，我們假設這兩個應用程式都使用檔案。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-137">To simplify the solution, we assume both applications use files.</span></span>  <span data-ttu-id="dd0b9-138">倉儲系統會將要求以檔案的形式放入檔案資料夾中。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-138">The warehouse system drops the request as a file in a file folder.</span></span> <span data-ttu-id="dd0b9-139">BizTalk Server 解決方案從資料夾挑出檔案、處理檔案，然後將要求放入 ERP 系統所監視的另一個資料夾。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-139">The BizTalk Server solution picks the file from the folder, processes the file, and then drops the request to another folder which the ERP system monitors.</span></span>  
  
-   <span data-ttu-id="dd0b9-140">應用程式使用何種訊息類型？</span><span class="sxs-lookup"><span data-stu-id="dd0b9-140">What message types used by the applications?</span></span>  <span data-ttu-id="dd0b9-141">為了簡化解決方案，我們假設兩個應用程式都使用 XML 類型。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-141">To simplify the solution, we assume both applications use the XML type.</span></span> <span data-ttu-id="dd0b9-142">BizTalk 結構描述是指用於定義 BizTalk 訊息中之 XML 資料結構的文件，目的是建立範本來處理和驗證 XML 訊息。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-142">BizTalk schemas are documents that define the structure of the XML data in BizTalk messages, and their purpose is to create templates for processing and validating XML messages.</span></span> <span data-ttu-id="dd0b9-143">BizTalk Server 隨附可用於建立 BizTalk 結構描述的 [BizTalk 編輯器]。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-143">BizTalk Server comes with a BizTalk Editor for creating BizTalk schemas.</span></span>  
  
-   <span data-ttu-id="dd0b9-144">商務程序為何？</span><span class="sxs-lookup"><span data-stu-id="dd0b9-144">What is the business process?</span></span>  <span data-ttu-id="dd0b9-145">本文稍早已解釋過這個程序。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-145">The process has been explained earlier in this title.</span></span>  
  
## <a name="biztalk-server-architecture"></a><span data-ttu-id="dd0b9-146">BizTalk Server 架構</span><span class="sxs-lookup"><span data-stu-id="dd0b9-146">BizTalk Server Architecture</span></span>  
 <span data-ttu-id="dd0b9-147">瞭解 BizTalk Server 執行此解決方案的方式會很有幫助。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-147">It is helpful to understand how BizTalk Server runs the solution.</span></span>  <span data-ttu-id="dd0b9-148">下圖顯示資料流經 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中的情形。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-148">The following illustration shows the flow of data through [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="dd0b9-149">![教學課程 1 實例資料流程](../core/media/tut1-dataflow.gif "Tut1_Dataflow")</span><span class="sxs-lookup"><span data-stu-id="dd0b9-149">![Tutorial 1 scenario data flow](../core/media/tut1-dataflow.gif "Tut1_Dataflow")</span></span>  
  
-   <span data-ttu-id="dd0b9-150">(倉儲系統將要求放入檔案資料夾中。)</span><span class="sxs-lookup"><span data-stu-id="dd0b9-150">(The warehouse system drops a request to a file folder.)</span></span>  
  
-   <span data-ttu-id="dd0b9-151">BizTalk Server 接收位置設為使用 File 配接器和 XML 傳輸管線。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-151">A BizTalk Server receive location is configured with the File adapter and a XML transmit pipeline.</span></span>  <span data-ttu-id="dd0b9-152">File 配接器定期從檔案資料夾中輪詢檔案。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-152">The File adapter polls the file regularly from the file folder.</span></span> <span data-ttu-id="dd0b9-153">收到訊息後，BizTalk Server 傳輸引擎將訊息推入管線中。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-153">Once a message is received, BizTalk Server messaging engine pushes the message through a pipeline.</span></span>  <span data-ttu-id="dd0b9-154">因為要求訊息是 XML 格式，所以此實例中使用 XML 傳輸管線。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-154">Because the request message is in the XML format, so the XML transmit pipeline is used in this case.</span></span>  <span data-ttu-id="dd0b9-155">XML 傳輸管線確定訊息是格式正確的 XML 檔案。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-155">The XML transmit pipeline makes sure the message is a well-formed XML file.</span></span>  <span data-ttu-id="dd0b9-156">然後，將訊息儲存到 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-156">Then the message is saved to the MessageBox database.</span></span>  
  
-   <span data-ttu-id="dd0b9-157">協調流程引擎會在發現有訊息等待協調流程處理時，產生協調流程的執行個體。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-157">When the Orchestration Engine notices a message is ready to be processed by an orchestration, it instantiates an instance of the orchestration.</span></span>  <span data-ttu-id="dd0b9-158">根據訊息的總計而定，協調流程引擎將要求訊息或要求拒絕訊息儲存至 MessageBox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-158">Depending on the grand total of the message, Orchestration Engine saves either a request message or a request decline message to the MessageBox database.</span></span>  
  
-   <span data-ttu-id="dd0b9-159">同樣地，根據要求訊息或要求拒絕訊息而定，傳訊引擎使用其中一個傳送埠來處理訊息。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-159">Again, depending on request message or request decline message, the Messaging Engine use either of the send ports to process the message.</span></span>  <span data-ttu-id="dd0b9-160">傳訊引擎先將訊息推入 XML 傳輸管線中，接著根據傳送埠組態而定，使用 FILE 配接器將訊息傳送至不同的檔案資料夾。</span><span class="sxs-lookup"><span data-stu-id="dd0b9-160">The Messaging Engine first pushes the message through a XML transmit pipeline, and then uses the File adapter to send the message to different file folders based on the send port configurations.</span></span>  
  
-   <span data-ttu-id="dd0b9-161">(倉儲系統和 ERP 系統監視指定的資料夾來取得訊息。)</span><span class="sxs-lookup"><span data-stu-id="dd0b9-161">(Both the warehouse system and the ERP system monitor designated folders to get messages.)</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="dd0b9-162">本節內容</span><span class="sxs-lookup"><span data-stu-id="dd0b9-162">In This Section</span></span>  
  
-   [<span data-ttu-id="dd0b9-163">開始本教學課程之前</span><span class="sxs-lookup"><span data-stu-id="dd0b9-163">Before You Begin the Tutorial</span></span>](../core/before-you-begin-the-tutorial.md) 
  
-   [<span data-ttu-id="dd0b9-164">第 1 課： 定義結構描述和對應</span><span class="sxs-lookup"><span data-stu-id="dd0b9-164">Lesson 1: Define Schemas and a Map</span></span>](../core/lesson-1-define-schemas-and-a-map.md) 
  
-   [<span data-ttu-id="dd0b9-165">第 2 課： 定義商務程序</span><span class="sxs-lookup"><span data-stu-id="dd0b9-165">Lesson 2: Define the Business Process</span></span>](../core/lesson-2-define-the-business-process.md)  
  
-   [<span data-ttu-id="dd0b9-166">第 3 課： 部署方案</span><span class="sxs-lookup"><span data-stu-id="dd0b9-166">Lesson 3: Deploy the Solution</span></span>](../core/lesson-3-deploy-the-solution.md)