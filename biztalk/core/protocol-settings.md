---
title: "通訊協定設定 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 224a9837-5c85-4511-b6d9-c8fda63a27d1
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0a8fe9e7024bfe3a9d5f1d5d7727a2115bcd31a2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="protocol-settings"></a><span data-ttu-id="b512b-102">通訊協定設定</span><span class="sxs-lookup"><span data-stu-id="b512b-102">Protocol Settings</span></span>
## <a name="overview"></a><span data-ttu-id="b512b-103">概觀</span><span class="sxs-lookup"><span data-stu-id="b512b-103">Overview</span></span>
<span data-ttu-id="b512b-104">建立商務設定檔反映組織內的公司部門之後，企業需要宣告參數，定義商務設定檔之間如何進行通訊。</span><span class="sxs-lookup"><span data-stu-id="b512b-104">After creating the business profiles, which reflect the business divisions within an organization, an enterprise needs to declare the parameters that define how the communication between the business profiles takes place.</span></span> <span data-ttu-id="b512b-105">這些通訊參數均定義為通訊協定設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-105">These communication parameters are defined as protocol settings.</span></span> <span data-ttu-id="b512b-106">通訊協定設定可定義特定 B2B 通訊協定要如何支援商務交易。</span><span class="sxs-lookup"><span data-stu-id="b512b-106">Protocol settings define how business transactions are to be supported for a specific B2B protocol.</span></span> <span data-ttu-id="b512b-107">每個商務設定檔定義每種 B2B 通訊協定處理訊息 (編碼) 或傳輸訊息 (傳輸) 的各種設定，讓夥伴能藉以通訊。</span><span class="sxs-lookup"><span data-stu-id="b512b-107">Each business profile defines the various settings for processing messages (encoding) or transmitting messages (transport) for each of the B2B protocols over which the partner can communicate.</span></span> <span data-ttu-id="b512b-108">商務設定檔的通訊參數是依照下列兩種類別定義：</span><span class="sxs-lookup"><span data-stu-id="b512b-108">The communication parameters for the business profiles are defined under the following two categories:</span></span>  
  
-   <span data-ttu-id="b512b-109">**編碼通訊協定設定**: 編碼的通訊協定可掌控 B2B 訊息的內容與結構。</span><span class="sxs-lookup"><span data-stu-id="b512b-109">**Encoding Protocol Settings**: The encoding protocols govern the structure and content of a B2B message.</span></span> <span data-ttu-id="b512b-110">商務設定檔的編碼通訊協定設定可定義公司部門用來傳送和接收 B2B 訊息的編碼通訊協定。</span><span class="sxs-lookup"><span data-stu-id="b512b-110">The encoding protocol settings for a business profile define the encoding protocol that a business division uses to send and receive B2B messages.</span></span> <span data-ttu-id="b512b-111">編碼通訊協定的一些範例包括 X12、 EDIFACT、 HL7 等等。詳細的討論大約支援的編碼通訊協定所需的[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]，請參閱[EDI 標準支援](../core/edi-standards-support.md)。</span><span class="sxs-lookup"><span data-stu-id="b512b-111">Some examples of encoding protocols are X12, EDIFACT, HL7, etc. For a detailed discussion around supported encoding protocols for [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], see [EDI Standards Support](../core/edi-standards-support.md).</span></span> <span data-ttu-id="b512b-112">編碼通訊協定的一部分，您可以提供各種設定，例如是否傳送合作對象預期收到通知，訊息以批次還是個別傳送等等。您一律可以做為交易夥伴協議的一部分覆寫這些設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-112">As part of the encoding protocol you can provide various settings like whether the sending party expects an acknowledgement, whether the messages will be batched or sent individually, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="b512b-113">請參閱[交易夥伴協議](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="b512b-113">See [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
-   <span data-ttu-id="b512b-114">**傳輸通訊協定設定**: 傳輸通訊協定可掌控用來傳送兩個夥伴之間往返的訊息的傳輸通道。</span><span class="sxs-lookup"><span data-stu-id="b512b-114">**Transport Protocol Settings**: The transport protocol governs the transport channel used for sending the messages back and forth between two partners.</span></span> <span data-ttu-id="b512b-115">由於傳輸基本上是在兩個傳輸端點之間進行，所以每個商務設定檔都會定義自己的「傳輸端點」組態，然後與其交易夥伴之商務設定檔的單一「傳輸端點」通訊。</span><span class="sxs-lookup"><span data-stu-id="b512b-115">Since transport is essentially between two transport end points, each business profile defines its own “transport end point” configuration and communicates with a singular “transport end point” of its trading partner’s business profile.</span></span> <span data-ttu-id="b512b-116">支援的傳輸通訊協定的相關資訊，請參閱[BizTalk Server 中的 AS2 支援](../core/as2-support-in-biztalk-server.md)。</span><span class="sxs-lookup"><span data-stu-id="b512b-116">For information about the supported transport protocol, see [AS2 Support in BizTalk Server](../core/as2-support-in-biztalk-server.md).</span></span> <span data-ttu-id="b512b-117">傳輸通訊協定的一部分，您可以提供各種設定，例如是否訊息應該簽署，是否應該加密訊息等等。您一律可以做為交易夥伴協議的一部分覆寫這些設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-117">As part of the transport protocol, you can provide various settings like whether the message should be signed, whether the message should be encrypted, etc. You can always overwrite these settings as part of the trading partner agreement.</span></span> <span data-ttu-id="b512b-118">如需協議的詳細資訊，請參閱[交易夥伴協議](../core/trading-partner-agreement.md)。</span><span class="sxs-lookup"><span data-stu-id="b512b-118">For more information about agreements, see [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
  
 <span data-ttu-id="b512b-119">商務設定檔可透過定義通訊協定設定，宣告用來在交易夥伴之間傳送 B2B 訊息的訊息格式與傳輸通訊協定。</span><span class="sxs-lookup"><span data-stu-id="b512b-119">By defining the protocol settings, the business profiles declare the message format and the transport protocol to be used for sending B2B messages between trading partners.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b512b-120">您可以選擇性在商務設定檔中定義通訊協定設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-120">Defining the protocol settings as part of a business profile is optional.</span></span> <span data-ttu-id="b512b-121">如果您未在商務設定檔中指定通訊協定，您永遠可以在協議中指定那些設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-121">If you don’t specify the protocol settings as part of the business profile, you can always specify those in an agreement.</span></span>  
  
 <span data-ttu-id="b512b-122">下圖示範交易夥伴、商務設定檔以及通訊協定設定在 TPM 解決方案中如何共同作用：</span><span class="sxs-lookup"><span data-stu-id="b512b-122">The following figure illustrates how trading partner, business profiles, and protocol settings gel together in a TPM solution:</span></span>  
  
 <span data-ttu-id="b512b-123">![交易夥伴設定檔和通訊協定設定](../core/media/protocolsettings.gif "ProtocolSettings")</span><span class="sxs-lookup"><span data-stu-id="b512b-123">![Trading partner profiles and protocol settings](../core/media/protocolsettings.gif "ProtocolSettings")</span></span>  
  
 <span data-ttu-id="b512b-124">在上圖中，「出貨」商務設定檔可透過 AS2 傳輸通訊協定傳送和接收 X12 編碼格式的訊息。</span><span class="sxs-lookup"><span data-stu-id="b512b-124">In the above illustration, the “Shipping” business profile can send and receive messages with X12 encoding format sent over AS2 transport protocol.</span></span> <span data-ttu-id="b512b-125">同樣地，「發票」出貨設定檔可透過 AS2 傳輸通訊協定傳送和接收 X12 與 EDIFACT 編碼格式的訊息。</span><span class="sxs-lookup"><span data-stu-id="b512b-125">Similarly, the “Invoice” shipping profile can send and receive messages of both X12 and EDIFACT encoding format over the AS2 transport protocol.</span></span>  
  
 <span data-ttu-id="b512b-126">現在可明顯看出定義商務設定檔對於在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中建立 TPM 解決方案多有幫助。</span><span class="sxs-lookup"><span data-stu-id="b512b-126">It is now evident how defining a business profile is helpful in creating a TPM solution in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="b512b-127">目前如圖所示，「出貨」商務設定檔只能傳送和接收 X12 訊息。</span><span class="sxs-lookup"><span data-stu-id="b512b-127">Currently, as the illustration shows, the “Shipping” business profile can only send and receive X12 messages.</span></span> <span data-ttu-id="b512b-128">因此，與「出貨」商務設定檔通訊的任何商務設定檔將必須符合「出貨」商務設定檔的屬性設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-128">So, any business profile communicating with “Shipping” business profile will have to adhere to the properties setting for the “Shipping” business profile.</span></span> <span data-ttu-id="b512b-129">不過，在未來，如果 「 出貨 」 商務設定檔開始接受與 EDIFACT 編碼訊息時，它只需要設定相關的屬性，以包含 EDIFACT 支援。</span><span class="sxs-lookup"><span data-stu-id="b512b-129">However, in future, if the “Shipping” business profile starts accepting messages with EDIFACT encoding, it only needs to set the relevant properties to include EDIFACT support.</span></span> <span data-ttu-id="b512b-130">夥伴組織不需要為相同的出貨部門建立新的商務設定檔。</span><span class="sxs-lookup"><span data-stu-id="b512b-130">The partner organization does not need to create a new business profile for the same shipping division.</span></span>  
  
## <a name="do-i-always-need-to-specify-the-protocol-settings-when-creating-a-business-profile"></a><span data-ttu-id="b512b-131">我是否一定需要建立商務設定檔時指定的通訊協定設定？</span><span class="sxs-lookup"><span data-stu-id="b512b-131">Do I always need to specify the protocol settings when creating a business profile?</span></span>  
 <span data-ttu-id="b512b-132">理論上是的，商務設定檔必須包含通訊協定定義。</span><span class="sxs-lookup"><span data-stu-id="b512b-132">In theoretical terms, yes, a business profile must contain the protocol settings definition.</span></span> <span data-ttu-id="b512b-133">不過，這不表示您在以 TPM 使用者介面建立商務設定檔時必須定義通訊協定設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-133">However, this does not imply that you must define the protocol settings while creating a business profile in TPM user interface.</span></span> <span data-ttu-id="b512b-134">TPM 可讓您彈性地在建立商務設定檔或建立交易夥伴協議時，指定通訊協定設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-134">TPM provides you with the flexibility of specifying the protocol settings while creating the business profile or while creating a trading partner agreement.</span></span> <span data-ttu-id="b512b-135">如果您在商務設定檔中定義通訊協定設定，當您在為該設定檔建立交易夥伴協議時，就可以使用那些設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-135">If you define the protocol settings as part of the business profile, they will be available for you while creating a trading partner agreement for that profile.</span></span> <span data-ttu-id="b512b-136">不過，如果您在協議中訂通訊協定設定，則必須在協議中提供所有的值。</span><span class="sxs-lookup"><span data-stu-id="b512b-136">However, if you define the protocol settings as part of the agreement, you will have to provide all the values as part of the agreement.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b512b-137">如果您未在商務設定檔中定義通訊協定設定，則您將需要為該商務設定檔在每個協議中輸入值，藉以定義新 TPM 解決方案的延展性模型。</span><span class="sxs-lookup"><span data-stu-id="b512b-137">If you do not define the protocol settings as part of the business profile, you will need to enter the values as part of each agreement for that business profile, thereby defeating the scalability model of the new TPM solution.</span></span> <span data-ttu-id="b512b-138">因此，Microsoft 建議您為每個商務設定檔定義通訊協定設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-138">Hence, Microsoft recommends that you define the protocol settings for each business profile.</span></span> <span data-ttu-id="b512b-139">您永遠可以視需要在建立交易夥伴協議時，覆寫那些設定。</span><span class="sxs-lookup"><span data-stu-id="b512b-139">You can always override those settings, if required, while creating a trading partner agreement.</span></span>  

## <a name="learn-next"></a><span data-ttu-id="b512b-140">了解接下來</span><span class="sxs-lookup"><span data-stu-id="b512b-140">Learn next</span></span>
[<span data-ttu-id="b512b-141">交易夥伴協議</span><span class="sxs-lookup"><span data-stu-id="b512b-141">Trading Partner Agreement</span></span>](../core/trading-partner-agreement.md)  
[<span data-ttu-id="b512b-142">整合在一起： 定義交易夥伴管理解決方案</span><span class="sxs-lookup"><span data-stu-id="b512b-142">Putting it all Together: Defining a Trading Partner Management Solution</span></span>](../core/putting-it-all-together-defining-a-trading-partner-management-solution.md)  
  
## <a name="see-also"></a><span data-ttu-id="b512b-143">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b512b-143">See Also</span></span>  
 [<span data-ttu-id="b512b-144">交易夥伴管理方案的建置組塊</span><span class="sxs-lookup"><span data-stu-id="b512b-144">Building Blocks of a Trading Partner Management Solution</span></span>](../core/building-blocks-of-a-trading-partner-management-solution.md)