---
title: 如何建立另一個節點或類型參考 |Microsoft 文件
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c60be9ad-01a9-40e7-b43b-8c3d09bbb32f
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 643f39b9a42e2566f77371096d7305f56e11a328
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
ms.locfileid: "22250350"
---
# <a name="create-references-to-another-node-or-type"></a>建立另一個節點或類型的參考
您可以使用全域節點建立可重複使用的資料型別 (結構片段)，以在適合該結構的結構描述中使用。 您只能使用節點的直接子系**結構描述**節點建立全域型別。  
  
 您也可以建立使用資料類型的節點不是直接子系的循環參考**結構描述**節點。 這在結構描述中代表遞迴結構時很有用。  
  
 本主題提供各種全域節點類型及如何參照它們來加以使用的逐步說明。  
  
 **建立全域宣告**  
  
 您可以使用記錄、欄位或屬性，建立全域類型。 從記錄建立的全域類型只能用在記錄，從欄位建立的類型只能用在欄位，而從屬性建立的類型只能用在屬性。 下列程序說明如何定義和使用全域宣告。  
  
## <a name="create-a-global-declaration-from-a-node"></a>從節點建立全域宣告  
  
1.  選取**記錄**，**欄位屬性**，或**欄位項目**節點您想要變更為全域的型別。  
  
2.  在**屬性** 視窗中，輸入的名稱在**資料結構型別**清單，將使用做為複雜類型的全域名稱，然後按 ENTER。  
  
## <a name="create-a-globally-defined-sequence-group-node-choice-group-node-or-all-group-node"></a>建立全域定義的 Sequence 群組節點、 Choice 群組 節點或 All 群組 節點  
  
1.  選取**記錄**要插入全域定義的群組節點的節點。  
  
2.  在**BizTalk**功能表上，指向**插入結構描述節點**，然後按一下  **Sequence 群組**， **Choice 群組**，或**所有群組**視情況。  
  
3.  在新插入的群組中建立結構。 例如，插入**記錄**或**欄位項目**節點，以表示群組節點內的資料結構。  
  
    > [!NOTE]
    >  Sequence 群組**Choice 群組**，和**All 群組**節點只能包含節點對應至 XML 項目，因此不能包含**欄位屬性**節點。  
  
4.  選取在步驟 2 插入的群組節點  
  
5.  在 屬性 視窗中，按一下**群組參考**值 欄位中輸入名稱，然後按 ENTER 鍵。  
  
     中提供的名稱**群組參考**屬性，就能全域定義群組節點之後, 您可以將其他群組節點與此全域定義類型 （結構）。  
  
## <a name="create-a-globally-defined-attribute-group-node"></a>建立全域定義的屬性群組節點  
  
1.  選取**記錄**節點要插入全域定義**屬性群組**節點。  
  
2.  在**BizTalk**功能表上，指向**插入結構描述節點**，然後按一下 **屬性群組**。  
  
     這樣會加入**屬性群組**在所選節點之子節點結尾處的節點**記錄**節點。  
  
3.  新增適當**欄位屬性**或**屬性群組**節點，以您**屬性群組**。  
  
4.  （選擇性） 如果您想要重新命名**屬性群組**節點中，選取**屬性群組**節點，然後變更其**群組參考**您所選擇的新名稱的屬性。  
  
     屬性群組一律為全域性，且在使用時會從其位置參照。  
  
## <a name="use-a-type-or-group-that-has-been-globally-defined"></a>使用類型或已全域定義的群組  
  
1.  選取要使用全域定義類型的節點。  
  
2.  在 [屬性] 視窗中選取的全域定義的類型從下拉式清單中，為**資料結構型別**屬性 (**記錄**節點)，**資料型別**屬性 (**欄位項目**和**欄位屬性**節點)，或**群組參考**(**Sequence 群組**， **Choice 群組**， **all 群組**，和**屬性群組**節點)。 這些屬性的詳細[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]。
  
    > [!NOTE]
    >  您可以在全域定義的類型或群組出現的任何結構描述位置，對其進行後續的變更。 在這些位置的單一任意位置中進行變更時，會在所有這類位置上套用變更。  
  
 建立全域宣告之後，您無法在單一步驟中刪除它。 不過，您可以藉由刪除它**清除全域資料型別**儲存結構描述時，使用下列程序 對話方塊。  
  
## <a name="delete-a-global-declaration"></a>刪除全域宣告  
  
1.  刪除使用此全域類型或群組的所有節點，或指定不同的類型或群組供所有這些節點使用，或將兩種方法的組合使用。 如需刪除節點的逐步指示，請參閱[刪除節點](../core/how-to-delete-nodes.md)。  
  
2.  在儲存您的規格時**清除全域資料型別** 對話方塊隨即出現。 選取您想要完全刪除您的規格，然後按一下 全域宣告**確定**。  
  
    > [!NOTE]
    >  **清除全域資料型別**每次您未使用的資料類型儲存結構描述 對話方塊隨即出現。 若未出現此對話方塊，則表示結構描述中的其他位置已使用所有的資料型別，或是結構描述自開啟後未曾修改過 (在後者的情況中，它可能仍包含先前保留的未使用資料型別)。  
  
## <a name="create-cyclical-references-to-another-node"></a>建立另一個節點的循環參考  
 您可以建立節點的循環參考來代表遞迴的結構描述項目。 若要這麼做，您可以建立一個類型由封閉式記錄所定義的節點。 例如，假設有一個執行個體訊息是包裝在具有相同結構的任意數目信封中。 使用循環參考時，您可以建立一個定義此種執行個體訊息的結構描述。  
  
### <a name="create-a-cyclical-reference"></a>建立循環參考  
  
1.  選取**記錄**您要建立遞迴參考節點。 這是代表遞迴結構頂端的節點。  
  
2.  在 [屬性] 視窗中，確認**資料結構型別**的值。  
  
     確認**記錄**具名節點都有與其相關聯的類型是必要的因為遞迴結構時會定義包含本身的類型。 只有透過巢狀方式使用具名的全域類型，類型才能包含其本身。  
  
3.  選取子**記錄**節點或插入子**記錄**節點。  
  
4.  子系**記錄**節點，在 [屬性] 視窗中**資料結構型別**清單中，選取在步驟 2 中識別的資料結構。  
  
> [!IMPORTANT]
>  - **Min Occurs**重複節點的屬性必須設定為零 (**0**)。 設為一 (**1**) 會造成無限迴圈。  
>
>  - 匯入包含遞迴項目的結構描述時，「BizTalk 編輯器」並不會自動檢查來確認遞迴項目是否有效。  
  
## <a name="see-also"></a>另請參閱  
 [管理結構描述中的節點](../core/managing-the-nodes-within-a-schema.md)