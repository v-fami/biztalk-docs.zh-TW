---
title: "設計 BizTalk 應用程式的國際化考量 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 9daaaaf7-6149-4e62-9e9b-b6356fc820d2
caps.latest.revision: "15"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7ef22467c18580219e8587d63017d8bf146090d4
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2017
---
# <a name="international-considerations-for-designing-biztalk-applications"></a><span data-ttu-id="c387d-102">設計 BizTalk 應用程式的國際化考量</span><span class="sxs-lookup"><span data-stu-id="c387d-102">International Considerations for Designing BizTalk Applications</span></span>
<span data-ttu-id="c387d-103">強烈建議您在開發國際化 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 應用程式時，最好先檢閱下列已知問題。</span><span class="sxs-lookup"><span data-stu-id="c387d-103">It is strongly recommended that you review the following known issues when you develop your international [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] applications.</span></span>  
  
 <span data-ttu-id="c387d-104">**電腦名稱的字元限制**</span><span class="sxs-lookup"><span data-stu-id="c387d-104">**Character Restrictions for Machine Names**</span></span>  
  
 <span data-ttu-id="c387d-105">安裝[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]不支援包含下列集之外的字母的電腦名稱上： 英文字母 （A 到 Z、 a 到 z）、 數字 (0-9)、 連字號 （-） 和底線 (_)。</span><span class="sxs-lookup"><span data-stu-id="c387d-105">Installing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on machines with names that contain letters outside of the following set is not supported: letters (A-Z, a-z), digits (0-9), hyphens (-), and underscores ( _ ).</span></span> <span data-ttu-id="c387d-106">只支援電腦名稱包含上述字母的電腦。</span><span class="sxs-lookup"><span data-stu-id="c387d-106">Only machine names that contain the letters in this set are supported.</span></span>  
  
 <span data-ttu-id="c387d-107">**字元未正確顯示，或沒有出現，因為不正確的字型和字型遞補設定**</span><span class="sxs-lookup"><span data-stu-id="c387d-107">**Characters do not appear correctly or do not appear at all due to incorrect font and font fallback settings**</span></span>  
  
 <span data-ttu-id="c387d-108">在裝載於 Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 的 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 工具中，可能會遇到字元顯示的問題 (如捷克文字元)。</span><span class="sxs-lookup"><span data-stu-id="c387d-108">You may experience issues displaying characters (such as Czech characters) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools hosted in Microsoft [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="c387d-109">為了對付這些問題，您可能需要修改 Visual Studio [選項] 索引標籤上所提供的字型設定，並選取您知道可支援這些字元的另一種字型。</span><span class="sxs-lookup"><span data-stu-id="c387d-109">To address these issues, you may need to modify the font settings available in the Visual Studio Options tab and select another font that you know supports the characters.</span></span> <span data-ttu-id="c387d-110">當有提供字型遞補功能時，您可以選取 Tahoma 或 Microsoft Sans Serif 當做預設字型。</span><span class="sxs-lookup"><span data-stu-id="c387d-110">You can select Tahoma or Microsoft Sans Serif as the default font for which font fallback capabilities are provided.</span></span>  
  
 <span data-ttu-id="c387d-111">**Surrogate 字組字元顯示為方塊在 BizTalk Server 管理主控台和其他 BizTalk Server 工具**</span><span class="sxs-lookup"><span data-stu-id="c387d-111">**Surrogate pair characters displayed as squares in BizTalk Server Administration console and other BizTalk Server tools**</span></span>  
  
 <span data-ttu-id="c387d-112">您可能無法在 BizTalk Server 管理主控台和其他 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 工具中顯示 Surrogate 字組字元。</span><span class="sxs-lookup"><span data-stu-id="c387d-112">You may not be able to display surrogate pair characters in BizTalk Server Administration Console and other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tools.</span></span> <span data-ttu-id="c387d-113">Surrogate 字組是單一抽象字元 (由兩個字碼單位組成) 的編碼字元表示。</span><span class="sxs-lookup"><span data-stu-id="c387d-113">Surrogate pairs are a coded character representation for a single abstract character that consists of a sequence of two code units.</span></span> <span data-ttu-id="c387d-114">請確定系統上有安裝適當的字型 (中文版的 Office XP 和 2003 中有包括)。</span><span class="sxs-lookup"><span data-stu-id="c387d-114">Make sure you have the appropriate font installed on your system (it is included in the Chinese versions of Office XP and 2003).</span></span> <span data-ttu-id="c387d-115">您也可能需要在具有這類功能的工具 (如 [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]) 中變更其字型選項。</span><span class="sxs-lookup"><span data-stu-id="c387d-115">It may also be necessary to change the font options in the tools that have such capability (such as [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]).</span></span>  
  
 <span data-ttu-id="c387d-116">在沒有字型設定選項的其他工具中，Surrogate 字組字元將會顯示為方塊字元 (例如在管理主控台中)。</span><span class="sxs-lookup"><span data-stu-id="c387d-116">In other tools without a font setting option, surrogate pair characters will be displayed as squares, such as the Administration console.</span></span> <span data-ttu-id="c387d-117">如果您看到方塊，這些字元並未損毀，而只是因為缺少字型支援而無法正確顯示。</span><span class="sxs-lookup"><span data-stu-id="c387d-117">If you see squares, the characters are not corrupted; they just cannot be displayed properly because of a lack of font support.</span></span>  
  
 <span data-ttu-id="c387d-118">**Web 服務字元限制**</span><span class="sxs-lookup"><span data-stu-id="c387d-118">**Web Services character limitations**</span></span>  
  
 <span data-ttu-id="c387d-119">如果您打算將協調流程發佈為 Web 服務，您可能會遇到協調流程名稱和連接埠名稱中使用之字元的問題，因為這些名稱會用於 Web 服務檔案名稱 (.asmx 檔案) 和「Web 服務發佈精靈」中的虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="c387d-119">If you plan on publishing an orchestration as a Web Service, you may encounter issues with characters used in the orchestration names and port names as those names are used in the Web Services file names (.asmx files) and the virtual directory in the Web Services Publishing Wizard.</span></span> <span data-ttu-id="c387d-120">只有 Microsoft Internet Information Services (IIS) 7.0 (隨附於 Microsoft Windows Server 2008 與 Windows Vista 中) 可完全支援 Unicode 字元；</span><span class="sxs-lookup"><span data-stu-id="c387d-120">Only Microsoft Internet Information Services (IIS) 7.0 (included in Microsoft Windows Server 2008 and Windows Vista) fully supports Unicode characters.</span></span> <span data-ttu-id="c387d-121">因此，如果您使用舊版的 IIS 或 Windows，則協調流程、連接埠、Web 服務和虛擬目錄的名稱必須只包含該 Windows 語言版本所支援的 ANSI 字元 (例如，不允許在英文版的 Windows 上使用日文字元)。</span><span class="sxs-lookup"><span data-stu-id="c387d-121">Therefore, if you use an earlier version of IIS or Windows, the names of the orchestrations, ports, Web services and virtual directories names must include only ANSI characters supported by the language version of Windows (for example, Japanese characters are not allowed on an English version of Windows).</span></span>  
  
 <span data-ttu-id="c387d-122">也請注意一點，[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] 中 Web 服務的專案名稱限制為 ASCII 字元。</span><span class="sxs-lookup"><span data-stu-id="c387d-122">Note also that project names for Web Services in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] are restricted to ASCII characters.</span></span>  
  
 <span data-ttu-id="c387d-123">**使用不同的文件編碼**</span><span class="sxs-lookup"><span data-stu-id="c387d-123">**Working with different document encodings**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="c387d-124"> 支援 XML 和一般檔案文件的許多不同編碼方式，例如 UTF-16、UTF-8、簡體中文 (GBK)、簡體中文 (GB18030) 等等。</span><span class="sxs-lookup"><span data-stu-id="c387d-124"> supports many different encodings for XML and flat file documents, for example UTF-16, UTF-8, Simplified Chinese GBK, Simplified Chinese GB18030, and so on.</span></span>  
  
 <span data-ttu-id="c387d-125">輸入文件，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]可以辨識的編碼方式宣告在 XML 文件，例如"\<？ xml 版本 ="1.0"encoding ="GB2312"？\>"。</span><span class="sxs-lookup"><span data-stu-id="c387d-125">For inbound documents, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] can recognize the encoding declaration in XML documents, such as "\<?xml version="1.0" encoding="GB2312" ?\>".</span></span> <span data-ttu-id="c387d-126">一般檔案結構描述具有**字碼頁**屬性，表示內送一般檔案文件的編碼方式。</span><span class="sxs-lookup"><span data-stu-id="c387d-126">The flat file schema has a **Code Page** property to indicate the encoding of the inbound flat file documents.</span></span>  
  
 <span data-ttu-id="c387d-127">輸出文件、 XML 和一般檔案組合器使用**目標字元集**屬性。</span><span class="sxs-lookup"><span data-stu-id="c387d-127">For outbound documents, XML and flat file assemblers use the **Target charset** property.</span></span> <span data-ttu-id="c387d-128">如果指定了這個屬性，[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 會將輸出文件轉換成指定的字元集，而不論原始的字元集為何。</span><span class="sxs-lookup"><span data-stu-id="c387d-128">If this property is specified, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] converts the outbound documents to the specified character set regardless of the original one.</span></span> <span data-ttu-id="c387d-129">如果沒有**目標字元集**屬性設定，XML 會使用 utf-8 通訊協定和一般檔案會使用一般檔案結構描述中指定的字碼頁。</span><span class="sxs-lookup"><span data-stu-id="c387d-129">If no **Target charset** property is set, XML uses the UTF-8 protocol and flat files use the code page specified in the flat file schema.</span></span>  
  
 <span data-ttu-id="c387d-130">**程式碼從支援的字碼頁轉換成 Windows 字碼頁**</span><span class="sxs-lookup"><span data-stu-id="c387d-130">**Code Conversion from an unsupported code page to a Windows code page**</span></span>  
  
 <span data-ttu-id="c387d-131">若要實作字碼轉換，從不支援的字碼頁轉換成 Windows 字碼頁，您必須建立自訂管線元件。</span><span class="sxs-lookup"><span data-stu-id="c387d-131">To implement code conversions from unsupported code pages into a Windows code page, you must create a custom pipeline component.</span></span>  
  
 <span data-ttu-id="c387d-132">**位元組順序標示對於文件編碼**</span><span class="sxs-lookup"><span data-stu-id="c387d-132">**Byte-order mark impact on document encoding**</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="c387d-133"> 會判斷字元編碼方式，並使用特定的字元編碼方式 (一般檔案和 XML 訊息會有所不同) 來產生文件。</span><span class="sxs-lookup"><span data-stu-id="c387d-133"> determines character encoding and produces documents with a particular character encoding differently for flat file and XML messages.</span></span>  
  
 <span data-ttu-id="c387d-134">**結構描述編輯器可能會包含在一個以上的語言中的屬性**</span><span class="sxs-lookup"><span data-stu-id="c387d-134">**Schema Editor may contain properties in more than one language**</span></span>  
  
 <span data-ttu-id="c387d-135">顯示於 [結構描述編輯器屬性] 視窗和 XML 原始程式碼中的 XML 結構描述定義語言 (XSD) 屬性名稱不會當地語系化，所有當地語系化的版本中都會顯示英文。</span><span class="sxs-lookup"><span data-stu-id="c387d-135">XML Schema Definition language (XSD) property names shown in the Schema Editor Properties window and in the XML source code are not localized, and appear in English in all localized versions.</span></span> <span data-ttu-id="c387d-136">其他的屬性則會以當地語言顯示。</span><span class="sxs-lookup"><span data-stu-id="c387d-136">Other properties are shown in the local language.</span></span> <span data-ttu-id="c387d-137">例如，在簡體中文版的 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中，結構描述屬性為英文，但是其他屬性則顯示為中文。</span><span class="sxs-lookup"><span data-stu-id="c387d-137">For example, in the simplified Chinese version of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the schema properties are in English, but additional properties are displayed in Chinese.</span></span>  
  
 <span data-ttu-id="c387d-138">**一般檔案中的地區設定相關資料**</span><span class="sxs-lookup"><span data-stu-id="c387d-138">**Locale-dependent data in flat files**</span></span>  
  
 <span data-ttu-id="c387d-139">許多地區設定代表類似日期、時間、數字和貨幣等資料，這些資料使用的格式與 XML 標準中定義的格式不同。</span><span class="sxs-lookup"><span data-stu-id="c387d-139">Many locales represent data such as date, time, number, and currency using different formats than those formats defined in the XML standard.</span></span> <span data-ttu-id="c387d-140">例如，有數種地區設定使用句號 (.) 以外的小數分隔符號，所以五點七五這個數字可能會表示為 5,75。</span><span class="sxs-lookup"><span data-stu-id="c387d-140">For instance, several locales use a decimal separator other than a period (.), so the number five and three quarters may be represented as 5,75.</span></span>  
  
 <span data-ttu-id="c387d-141">在 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 中，一般檔案中的所有欄位 (日期和時間除外) 會視為字串，所以剖析可以成功。</span><span class="sxs-lookup"><span data-stu-id="c387d-141">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], all fields from flat files except date and time are treated as strings, so that parsing can succeed.</span></span> <span data-ttu-id="c387d-142">但是當使用 XML 驗證時，在針對結構描述進行驗證的期間，產生的 XML 訊息會發生失敗。</span><span class="sxs-lookup"><span data-stu-id="c387d-142">However, when using XML validation, the resulting XML message fails during validation against the schema.</span></span>  
  
 <span data-ttu-id="c387d-143">如果是日期和時間欄位，剖析器會嘗試將欄位值剖析為使用自訂日期或時間格式 (若有定義) 的日期時間執行個體，並以 XML 格式寫入它，或使用原始值當做字串 (如果未定義日期或時間格式)。</span><span class="sxs-lookup"><span data-stu-id="c387d-143">For date and time fields, the parser attempts to parse the field value to the DateTime instance using a custom date or time format if it is defined, and writes it in XML format, or uses the original value as a string if date or time format is not defined.</span></span> <span data-ttu-id="c387d-144">同樣地，如果使用了 XML 驗證，當未使用自訂日期或時間格式，而且一般檔案訊息中使用的欄位值未使用正確的 XML 日期或時間格式時，產生的日期或時間可能會驗證失敗。</span><span class="sxs-lookup"><span data-stu-id="c387d-144">Again, if XML validation is used, the resulting date or time may fail validation if a custom date or time format is not used, and the field value used in flat file message was not in the correct XML date or time format.</span></span>  
  
 <span data-ttu-id="c387d-145">請注意，您也可以建立自訂管線元件或對應來更新欄位值，以產生有效的 XML。</span><span class="sxs-lookup"><span data-stu-id="c387d-145">Note that you can also create custom pipeline components or maps to update field values to produce valid XML.</span></span>  
  
 <span data-ttu-id="c387d-146">**BAM 定義語言支援**</span><span class="sxs-lookup"><span data-stu-id="c387d-146">**BAM definition language support**</span></span>  
  
 <span data-ttu-id="c387d-147">在您可以部署 BAM 定義 XML 檔之前，您必須確定用來建立此檔案的語言與其部署所在之電腦的地區設定一致。</span><span class="sxs-lookup"><span data-stu-id="c387d-147">Before you can deploy a BAM definition XML file, you must ensure that the language used to create this file matches the locale settings of the computer on which it is being deployed.</span></span> <span data-ttu-id="c387d-148">如果此檔案和電腦設定不相符，您必須先將用來執行 BM.exe 的電腦重新開機。</span><span class="sxs-lookup"><span data-stu-id="c387d-148">If the file and the computer settings dont match, you must first reboot the computer used to run the BM.exe.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c387d-149">除非所有的語言都使用相同的字碼頁，或只使用兩種語言且其中之一為英文，否則 BAM 定義 XML 檔不可包含多種語言的文字。</span><span class="sxs-lookup"><span data-stu-id="c387d-149">The BAM definition XML file cannot contain text in multiple languages unless the languages all use the same codepage or only two languages are included and one of them is English.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c387d-150">請參閱</span><span class="sxs-lookup"><span data-stu-id="c387d-150">See Also</span></span>  
 <span data-ttu-id="c387d-151">[實作管線元件中的字元編碼方式](../core/implementing-character-encoding-in-a-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="c387d-151">[Implementing Character Encoding in a Pipeline Component](../core/implementing-character-encoding-in-a-pipeline-component.md) </span></span>  
 <span data-ttu-id="c387d-152">[處理解譯器管線元件中的編碼](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="c387d-152">[Handling Encoding in a Disassembler Pipeline Component](../core/handling-encoding-in-a-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="c387d-153">[一般檔案解譯器管線元件中的字元編碼](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="c387d-153">[Character Encoding in the Flat File Disassembler Pipeline Component](../core/character-encoding-in-the-flat-file-disassembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="c387d-154">[一般檔案組合器管線元件中的字元編碼](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="c387d-154">[Character Encoding in the Flat File Assembler Pipeline Component](../core/character-encoding-in-the-flat-file-assembler-pipeline-component.md) </span></span>  
 <span data-ttu-id="c387d-155">[XML 組合器管線元件中的字元編碼](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="c387d-155">[Character Encoding in the XML Assembler Pipeline Component](../core/character-encoding-in-the-xml-assembler-pipeline-component.md) </span></span>  
 [<span data-ttu-id="c387d-156">XML 解譯器管線元件中的字元編碼</span><span class="sxs-lookup"><span data-stu-id="c387d-156">Character Encoding in XML Disassembler Pipeline Component</span></span>](../core/character-encoding-in-xml-disassembler-pipeline-component.md)