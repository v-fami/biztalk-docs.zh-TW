---
title: "轉譯商務程序管理解決方案的模式 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- artifacts, patterns
- patterns [process management solutions], orchestration boundaries
- patterns [process management solutions], translating patterns to artifacts
- orchestrations, patterns
- orchestrations, boundaries
ms.assetid: 69f37732-f235-4bbb-bc85-31b4971c95ce
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 23603e66e80461baecea88648100442eb9da0166
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="translating-the-patterns-of-the-business-process-management-solution"></a><span data-ttu-id="b1d91-102">轉譯商務程序管理解決方案的模式</span><span class="sxs-lookup"><span data-stu-id="b1d91-102">Translating the Patterns of the Business Process Management Solution</span></span>
<span data-ttu-id="b1d91-103">本節描述解決方案如何將模式圖轉譯為 BizTalk Server 成品。</span><span class="sxs-lookup"><span data-stu-id="b1d91-103">This section describes how the solution translates the pattern diagram into BizTalk Server artifacts.</span></span>  
  
 <span data-ttu-id="b1d91-104">![商務程序管理解決方案模式](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span><span class="sxs-lookup"><span data-stu-id="b1d91-104">![Business Process Management Solution Patterns](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span></span>  
  
## <a name="connections"></a><span data-ttu-id="b1d91-105">連接</span><span class="sxs-lookup"><span data-stu-id="b1d91-105">Connections</span></span>  
 <span data-ttu-id="b1d91-106">連線是解決方案元件之間的訊息路徑。</span><span class="sxs-lookup"><span data-stu-id="b1d91-106">The connections are the message paths among the solution components.</span></span> <span data-ttu-id="b1d91-107">最簡易的開始處是服務介面。</span><span class="sxs-lookup"><span data-stu-id="b1d91-107">The simplest place to begin is with the service interface.</span></span> <span data-ttu-id="b1d91-108">BizTalk Server 可讓您輕鬆地將協調流程呈現為 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="b1d91-108">BizTalk Server makes it easy to present an orchestration as a Web service.</span></span> <span data-ttu-id="b1d91-109">公開為 web 服務的協調流程的相關資訊，請參閱[如何對應至 Web 服務的協調流程](../core/how-to-map-orchestrations-to-web-services.md)。</span><span class="sxs-lookup"><span data-stu-id="b1d91-109">For information about exposing orchestrations as web services, see [How to Map Orchestrations to Web Services](../core/how-to-map-orchestrations-to-web-services.md).</span></span>  
  
 <span data-ttu-id="b1d91-110">其他的連線存在，服務與前置處理區段之間、 前置處理區段和程序管理員，以及程序管理員和處理階段之間。</span><span class="sxs-lookup"><span data-stu-id="b1d91-110">Other connections exist between the service and the preprocessing section, between the preprocessing section and the process manager, and between the process manager and the processing stages.</span></span> <span data-ttu-id="b1d91-111">連線也包含階段和後端系統之間以及前置處理和歷程記錄資料庫及服務系統之間的連線。</span><span class="sxs-lookup"><span data-stu-id="b1d91-111">Connections also include those between the stages and the backend systems, and between the preprocessing and the history database and the servicing system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b1d91-112">轉譯程式會對應至 BizTalk 對應。</span><span class="sxs-lookup"><span data-stu-id="b1d91-112">Translators correspond to BizTalk maps.</span></span> <span data-ttu-id="b1d91-113">對應是，管線的組件或**轉換**協調流程圖形。</span><span class="sxs-lookup"><span data-stu-id="b1d91-113">Maps are, in turn, parts of pipelines or **Transform** orchestration shapes.</span></span>  
  
 <span data-ttu-id="b1d91-114">在決定要建立同步或非同步的程序管理員連線時，必須仔細考慮。</span><span class="sxs-lookup"><span data-stu-id="b1d91-114">The decision to make the connection to the process manager synchronous or asynchronous requires some thought.</span></span> <span data-ttu-id="b1d91-115">與信用檢查不同，程序中的訂單 (例如電報服務訂購) 不太可能很快就結束。</span><span class="sxs-lookup"><span data-stu-id="b1d91-115">Unlike a credit check, an order in a process such as cable service ordering is unlikely to finish quickly.</span></span> <span data-ttu-id="b1d91-116">若程序管理員連線為非同步且需要相互關聯，則管理程序的邏輯會比較複雜。</span><span class="sxs-lookup"><span data-stu-id="b1d91-116">The logic of managing the process is more complex if the connection to the process manager is asynchronous and requires correlation.</span></span> <span data-ttu-id="b1d91-117">實際上，此解決方案透過發佈訊息到 MessageBox，使用程序管理員的非同步連線。</span><span class="sxs-lookup"><span data-stu-id="b1d91-117">This solution uses, in effect, an asynchronous connection to the process manager by publishing messages to the MessageBox.</span></span>  
  
 <span data-ttu-id="b1d91-118">程序管理員和階段之間的連線取捨，代表著節省伺服器資源和簡化邏輯之間相似的取捨關係。</span><span class="sxs-lookup"><span data-stu-id="b1d91-118">The connections between the process manager and the stages represent a similar trade-off between conserving server resources and simplifying logic.</span></span> <span data-ttu-id="b1d91-119">階段的處理時間較程序管理員短。</span><span class="sxs-lookup"><span data-stu-id="b1d91-119">The stages have shorter processing times than the process manager.</span></span> <span data-ttu-id="b1d91-120">每個階段在繼續下一個階段的處理之前，都必須先完成其處理。</span><span class="sxs-lookup"><span data-stu-id="b1d91-120">Each stage needs to finish its processing before the processing continues in the next stage.</span></span> <span data-ttu-id="b1d91-121">不過，由於我們可能會修改階段，所以程序管理員無法嚴密地連至階段。</span><span class="sxs-lookup"><span data-stu-id="b1d91-121">However, because we may want to modify the stages, the process manager can't be tightly coupled to the stages.</span></span> <span data-ttu-id="b1d91-122">在應用程式中，連線可描述為受限制的發佈-訂閱模型。</span><span class="sxs-lookup"><span data-stu-id="b1d91-122">In the application, the connection can be described as a limited publish-subscribe model.</span></span> <span data-ttu-id="b1d91-123">程序管理員透過單一專用連接埠傳送訊息至階段。</span><span class="sxs-lookup"><span data-stu-id="b1d91-123">The process manager sends messages to the stages through a single, dedicated port.</span></span> <span data-ttu-id="b1d91-124">然後，階段會篩選以識別其專用訊息。</span><span class="sxs-lookup"><span data-stu-id="b1d91-124">The stages, in turn, filter to recognize messages specifically for them.</span></span>  
  
## <a name="determining-orchestration-boundaries"></a><span data-ttu-id="b1d91-125">判斷協調流程界限</span><span class="sxs-lookup"><span data-stu-id="b1d91-125">Determining Orchestration Boundaries</span></span>  
 <span data-ttu-id="b1d91-126">這個模式分為三個主要部分： 前置處理訊息、 管理商務程序和商務程序本身。</span><span class="sxs-lookup"><span data-stu-id="b1d91-126">The pattern falls into three major areas: preprocessing the messages, managing the business process, and the business process itself.</span></span> <span data-ttu-id="b1d91-127">前置處理包含處理 Web 服務連線、將訊息轉譯為回應訊息、通知服務系統、在歷程記錄資料庫中建立項目，以及傳輸訊息至程序管理員。</span><span class="sxs-lookup"><span data-stu-id="b1d91-127">The pre-processing consists of handling the connection to the web service, translating messages to messages for the response, notifying the servicing system, making entries in the history database, and transmitting messages to the process manager.</span></span> <span data-ttu-id="b1d91-128">在應用程式中，前置處理由單一協調流程處理。</span><span class="sxs-lookup"><span data-stu-id="b1d91-128">In the application, the preprocessing is handled by a single orchestration.</span></span> <span data-ttu-id="b1d91-129">管理商務程序由另一個協調流程處理。</span><span class="sxs-lookup"><span data-stu-id="b1d91-129">Managing the business process is handled by another orchestration.</span></span> <span data-ttu-id="b1d91-130">受管理的商務程序會分成適當的階段。</span><span class="sxs-lookup"><span data-stu-id="b1d91-130">The business process being managed is broken into appropriate stages.</span></span> <span data-ttu-id="b1d91-131">每個階段都會對應到協調流程，以允許訂單程序中代表變更的新增和刪除動作。</span><span class="sxs-lookup"><span data-stu-id="b1d91-131">Each stage corresponds to an orchestration to allow for additions and deletions representing changes in the order process.</span></span> <span data-ttu-id="b1d91-132">訂單處理階段設計的相關資訊，請參閱 < 分割商務程序 」，在[商務程序管理解決方案中的部分設計原則](../core/some-design-principles-in-the-business-process-management-solution.md)。</span><span class="sxs-lookup"><span data-stu-id="b1d91-132">For more information about the design of the order process stages, see "Dividing Business Processes" in [Some Design Principles in the Business Process Management Solution](../core/some-design-principles-in-the-business-process-management-solution.md).</span></span>  
  
## <a name="translating-the-components-into-orchestrations"></a><span data-ttu-id="b1d91-133">將元件轉譯為協調流程</span><span class="sxs-lookup"><span data-stu-id="b1d91-133">Translating the Components into Orchestrations</span></span>  
 <span data-ttu-id="b1d91-134">第一個協調流程， **OrderBroker**，簡單直接地轉譯圖表。</span><span class="sxs-lookup"><span data-stu-id="b1d91-134">The first orchestration, **OrderBroker**, translates the diagram simply and directly.</span></span> <span data-ttu-id="b1d91-135">協調流程是用來建構程序管理員的通知訊息和訂單訊息之主要對應圖形。</span><span class="sxs-lookup"><span data-stu-id="b1d91-135">The orchestration is primarily mapping shapes used to construct the notification messages and the order message for the process manager.</span></span> <span data-ttu-id="b1d91-136">如需協調流程圖形的完整清單，請參閱[協調流程圖形](../core/orchestration-shapes.md)。</span><span class="sxs-lookup"><span data-stu-id="b1d91-136">For a complete list of orchestration shapes, see [Orchestration Shapes](../core/orchestration-shapes.md).</span></span>  
  
 <span data-ttu-id="b1d91-137">程序管理員的邏輯及其附屬組件則比較複雜。</span><span class="sxs-lookup"><span data-stu-id="b1d91-137">The logic of the process manager and its satellite assemblies is somewhat complex.</span></span> <span data-ttu-id="b1d91-138">如需程序管理員協調流程中，邏輯**OrderManager**，請參閱[程序管理員邏輯](../core/process-manager-logic.md)。</span><span class="sxs-lookup"><span data-stu-id="b1d91-138">For information about the logic of the process manager orchestration, **OrderManager**, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b1d91-139">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b1d91-139">See Also</span></span>  
 <span data-ttu-id="b1d91-140">[商務程序管理解決方案中的模式](../core/patterns-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="b1d91-140">[Patterns in the Business Process Management Solution](../core/patterns-in-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="b1d91-141">[使用模式進行設計： 商務程序管理解決方案](../core/designing-with-patterns-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="b1d91-141">[Designing with Patterns: the Business Process Management Solution](../core/designing-with-patterns-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="b1d91-142">商務程序管理解決方案的模式目錄</span><span class="sxs-lookup"><span data-stu-id="b1d91-142">Pattern Catalog for the Business Process Management Solution</span></span>](../core/pattern-catalog-for-the-business-process-management-solution.md)