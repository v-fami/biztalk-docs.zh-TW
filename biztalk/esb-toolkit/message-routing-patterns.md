---
title: 訊息路由模式 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d95c5ba0-122f-4793-bfce-a95830dfe094
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7233c5d5f5a3669cf23931afc29dfaac8548dc3d
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "37022084"
---
# <a name="message-routing-patterns"></a><span data-ttu-id="a3455-102">訊息路由模式</span><span class="sxs-lookup"><span data-stu-id="a3455-102">Message Routing Patterns</span></span>
<span data-ttu-id="a3455-103">訊息路由模式定義訊息路由傳送至其目標端點經過實證的指導方針。</span><span class="sxs-lookup"><span data-stu-id="a3455-103">Message routing patterns define proven guidelines for routing a message to its target endpoint(s).</span></span> <span data-ttu-id="a3455-104">路由可以是靜態的設定的結果，或它可以動態設定根據一些準則和使用多種方法。</span><span class="sxs-lookup"><span data-stu-id="a3455-104">Routing can be the result of static configuration, or it can be dynamically configured based on a number of criteria and using a number of methods.</span></span>  
  
## <a name="message-router"></a><span data-ttu-id="a3455-105">訊息路由器</span><span class="sxs-lookup"><span data-stu-id="a3455-105">Message Router</span></span>  
 <span data-ttu-id="a3455-106">訊息路由器模式決定根據一組條件的訊息的收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-106">The Message Router pattern determines the recipient of the message based on a set of conditions.</span></span> <span data-ttu-id="a3455-107">如需此模式的詳細說明，請參閱[訊息路由器](http://go.microsoft.com/fwlink/?LinkId=186844)([http://go.microsoft.com/fwlink/?LinkId=186844](http://go.microsoft.com/fwlink/?LinkId=186844)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-107">For a detailed description of this pattern, see [Message Router](http://go.microsoft.com/fwlink/?LinkId=186844) ([http://go.microsoft.com/fwlink/?LinkId=186844](http://go.microsoft.com/fwlink/?LinkId=186844)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="a3455-108">實作此模式在路線設計工具是組成[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線的路由服務與單一內容為基礎的解析程式。</span><span class="sxs-lookup"><span data-stu-id="a3455-108">The implementation of this pattern in the Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and a single content-based resolver.</span></span> <span data-ttu-id="a3455-109">路線的路由服務會負責將訊息路由的屬性，Microsoft BizTalk 訊息內容中升級或明確的訊息路由。</span><span class="sxs-lookup"><span data-stu-id="a3455-109">The itinerary routing service is responsible for promoting message routing properties in Microsoft BizTalk message context or for explicit routing of a message.</span></span>  
  
 <span data-ttu-id="a3455-110">您可以選擇路線的路由服務所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="a3455-110">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="a3455-111">定義路線的路由服務使用訊息的擴充項，BizTalk 管線，以使用路線設計工具中執行。</span><span class="sxs-lookup"><span data-stu-id="a3455-111">Define the itinerary routing service with a messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="a3455-112">定義要使用路線設計工具執行路由使用 BizTalk 傳送埠的協調流程中執行的協調流程擴充項與路線的路由服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-112">Define the itinerary routing service with an orchestration extender to execute as an orchestration using Itinerary Designer that performs routing using BizTalk send ports.</span></span>  
  
  <span data-ttu-id="a3455-113">路線的路由服務相關聯的解析程式決定訊息根據訊息內容的收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-113">The resolver associated with the itinerary routing service determines the recipient of the message, based on the message content.</span></span> <span data-ttu-id="a3455-114">您可以選擇從解析程式的支援內容為基礎的路由所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，或者您可以實作自己的解析程式。</span><span class="sxs-lookup"><span data-stu-id="a3455-114">You can choose from the resolvers that support content-based routing provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)], or you can implement your own resolver.</span></span>  
  
  <span data-ttu-id="a3455-115">如需實作此模式中的範例[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="a3455-115">For an example of implementing this pattern in the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)], see the following resources:</span></span>  
  
- [<span data-ttu-id="a3455-116">如何：使用 UDDI 繫結索引鍵搜尋解決服務端點</span><span class="sxs-lookup"><span data-stu-id="a3455-116">How to: Resolve a Service Endpoint Using a UDDI Binding Key Search</span></span>](../esb-toolkit/how-to-resolve-a-service-endpoint-using-a-uddi-binding-key-search.md)  
  
- [<span data-ttu-id="a3455-117">如何：使用 UDDI 類別搜尋解決服務端點</span><span class="sxs-lookup"><span data-stu-id="a3455-117">How to: Resolve a Service Endpoint Using a UDDI Category Search</span></span>](../esb-toolkit/how-to-resolve-a-service-endpoint-using-a-uddi-category-search.md)  
  
## <a name="content-based-router"></a><span data-ttu-id="a3455-118">以內容為基礎的路由</span><span class="sxs-lookup"><span data-stu-id="a3455-118">Content-Based Router</span></span>  
 <span data-ttu-id="a3455-119">以內容為基礎的路由器模式決定訊息根據訊息內容的收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-119">The Content-Based Router pattern determines the recipient of a message based on message content.</span></span> <span data-ttu-id="a3455-120">如需此模式的詳細說明，請參閱[內容型路由器](http://go.microsoft.com/fwlink/?LinkId=186839)([http://go.microsoft.com/fwlink/?LinkId=186839](http://go.microsoft.com/fwlink/?LinkId=186839)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-120">For a detailed description of this pattern, see [Content-Based Router](http://go.microsoft.com/fwlink/?LinkId=186839) ([http://go.microsoft.com/fwlink/?LinkId=186839](http://go.microsoft.com/fwlink/?LinkId=186839)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="a3455-121">實作此模式在路線設計工具是組成[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線的路由服務與單一內容為基礎的解析程式。</span><span class="sxs-lookup"><span data-stu-id="a3455-121">The implementation of this pattern in Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and a single content-based resolver.</span></span> <span data-ttu-id="a3455-122">路線的路由服務會負責將訊息路由的屬性，BizTalk 訊息內容中升級或明確地將訊息路由傳送。</span><span class="sxs-lookup"><span data-stu-id="a3455-122">The itinerary routing service is responsible for promoting message routing properties in the BizTalk message context or for explicitly routing a message.</span></span>  
  
 <span data-ttu-id="a3455-123">您可以選擇路線的路由服務所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="a3455-123">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="a3455-124">定義路線的路由服務使用訊息的擴充項，BizTalk 管線，以使用路線設計工具中執行。</span><span class="sxs-lookup"><span data-stu-id="a3455-124">Define an itinerary routing service with a messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="a3455-125">定義要使用路線設計工具，它會執行使用 BizTalk 傳送埠路由協調流程中執行的協調流程擴充項與路線的路由服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-125">Define an itinerary routing service with an orchestration extender to execute as an orchestration using Itinerary Designer, which performs routing using BizTalk send ports.</span></span>  
  
- <span data-ttu-id="a3455-126">定義與執行 BizTalk 管線，以使用路線設計工具中的 broker 訊息 extender 路線的 broker 服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-126">Define an itinerary broker service with a broker messaging extender to execute in a BizTalk pipeline using Itinerary Designer.</span></span>  
  
  <span data-ttu-id="a3455-127">路線的路由服務相關聯的解析程式決定訊息根據訊息內容的收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-127">The resolver associated with itinerary routing service determines the recipient of the message based on the message content.</span></span> <span data-ttu-id="a3455-128">您可以選擇下列的解析程式從該支援內容為基礎的路由所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="a3455-128">You can choose from the following resolvers that support content-based routing provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]:</span></span>  
  
- <span data-ttu-id="a3455-129">**XPATH 解析程式**。</span><span class="sxs-lookup"><span data-stu-id="a3455-129">**XPATH resolver**.</span></span> <span data-ttu-id="a3455-130">藉由使用這個解析程式，您可以路由傳送訊息的內容使用 XPATH 查詢。</span><span class="sxs-lookup"><span data-stu-id="a3455-130">By using this resolver, you can route message content using XPATH queries.</span></span>  
  
- <span data-ttu-id="a3455-131">**BRE 解析程式**。</span><span class="sxs-lookup"><span data-stu-id="a3455-131">**BRE resolver**.</span></span> <span data-ttu-id="a3455-132">藉由使用這個解析程式，您可以從使用 BizTalk 規則引擎的訊息內容擷取路由資訊。</span><span class="sxs-lookup"><span data-stu-id="a3455-132">By using this resolver, you can retrieve routing information from message content using the BizTalk Rules Engine.</span></span>  
  
- <span data-ttu-id="a3455-133">**訊息內容解析程式**。</span><span class="sxs-lookup"><span data-stu-id="a3455-133">**Message Context resolver**.</span></span> <span data-ttu-id="a3455-134">藉由使用這個解析程式，您可以從擷取內容訊息的 BizTalk 訊息內容時與其相關聯[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線的 broker 服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-134">By using this resolver, you can retrieve the content of a message from the BizTalk message context when it is associated with a [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary broker service.</span></span>  
  
  > [!NOTE]
  >  <span data-ttu-id="a3455-135">除了上述的實作案例中，您可以開發自訂內容為基礎的解析程式和路線的路由解決方案，以傳訊為基礎或協調流程為基礎的服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-135">In addition to the preceding implementation scenarios, you can develop a custom content-based resolver and itinerary routing solution as a messaging-based or orchestration-based service.</span></span> <span data-ttu-id="a3455-136">在此情況下，您可能需要實作的擴充項[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線設計工具與交互操作的解析程式和路線服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-136">In this case, you may need to implement extenders for the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] resolver and itinerary service to interoperate with the Itinerary Designer.</span></span>  
  
  <span data-ttu-id="a3455-137">例如此實作中，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="a3455-137">For example of this implementation, see the following resources:</span></span>  
  
- [<span data-ttu-id="a3455-138">安裝和執行路線入口範例</span><span class="sxs-lookup"><span data-stu-id="a3455-138">Installing and Running the Itinerary On-Ramp Sample</span></span>](../esb-toolkit/installing-and-running-the-itinerary-on-ramp-sample.md)  
  
- [<span data-ttu-id="a3455-139">如何：使用已知訊息類型的商務規則原則來實作根據訊息內容決定路由</span><span class="sxs-lookup"><span data-stu-id="a3455-139">How to: Implement Content-Based Routing Using a Business Rules Policy for a Known Message Type</span></span>](../esb-toolkit/apply-content-based-routing-using-business-rules-policy-for-known-message-type.md)  
  
- [<span data-ttu-id="a3455-140">如何：使用商務規則原則根據訊息內容來動態路由訊息</span><span class="sxs-lookup"><span data-stu-id="a3455-140">How to: Dynamically Route a Message Based on Message Context Using a Business Rules Policy</span></span>](../esb-toolkit/dynamically-route-messages-based-on-message-context-using-business-rules-policy.md)  
  
## <a name="routing-slip"></a><span data-ttu-id="a3455-141">傳閱名單</span><span class="sxs-lookup"><span data-stu-id="a3455-141">Routing Slip</span></span>  
 <span data-ttu-id="a3455-142">傳閱名單模式描述在其中一則訊息必須路由傳送透過一系列的預先定義的順序排列，這可能不知道在設計階段中元件的案例。</span><span class="sxs-lookup"><span data-stu-id="a3455-142">The Routing Slip pattern describes a scenario in which a message must be routed through a series of components in a pre-defined order, which may not be known at the design time.</span></span> <span data-ttu-id="a3455-143">如需此模式的詳細說明，請參閱[傳閱](http://go.microsoft.com/fwlink/?LinkId=186840)([http://go.microsoft.com/fwlink/?LinkId=186840](http://go.microsoft.com/fwlink/?LinkId=186840)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-143">For a detailed description of this pattern, see [Routing Slip](http://go.microsoft.com/fwlink/?LinkId=186840) ([http://go.microsoft.com/fwlink/?LinkId=186840](http://go.microsoft.com/fwlink/?LinkId=186840)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="a3455-144">此模式的實作由提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]; 它的實作取決於用戶端應用程式提交訊息，以進行以路線為基礎的處理類型：</span><span class="sxs-lookup"><span data-stu-id="a3455-144">The implementation of this pattern is provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]; its implementation depends on the type of client application that submits a message for itinerary-based processing:</span></span>  
  
- <span data-ttu-id="a3455-145">**服務 proxy**。</span><span class="sxs-lookup"><span data-stu-id="a3455-145">**Service proxy**.</span></span> <span data-ttu-id="a3455-146">有了這類應用程式中，設定[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]匝道與路線選取器管線元件，並將關聯的路線的解析程式，選取適當[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線。</span><span class="sxs-lookup"><span data-stu-id="a3455-146">With this type of application, configure the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] on-ramp with the Itinerary Selector pipeline component and associate an itinerary resolver to select the appropriate [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary.</span></span> <span data-ttu-id="a3455-147">路線的屬性可能會設定為靜態屬性，使用行程解析程式，或它們可以設定為使用 BizTalk 規則引擎和 BRI 的解析程式的動態屬性。</span><span class="sxs-lookup"><span data-stu-id="a3455-147">The itinerary properties may be configured as static properties using ITINERARY resolver, or they can be configured as dynamic properties using BizTalk Rules Engine and BRI resolver.</span></span>  
  
- <span data-ttu-id="a3455-148">**進階用戶端**。</span><span class="sxs-lookup"><span data-stu-id="a3455-148">**Advanced client**.</span></span> <span data-ttu-id="a3455-149">有了這類應用程式中，設定[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]匝道路線選取器管線元件與路線靜態解析程式。</span><span class="sxs-lookup"><span data-stu-id="a3455-149">With this type of application, configure the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] on-ramp with the Itinerary Selector pipeline component and the ITINERARY-STATIC resolver.</span></span> <span data-ttu-id="a3455-150">用戶端應用程式會傳送具有路線參考標頭，其中包含路線的名稱、 版本和追蹤識別項的訊息。</span><span class="sxs-lookup"><span data-stu-id="a3455-150">The client application sends a message with an itinerary reference header, which contains the itinerary name, version, and tracking identifier.</span></span>  
  
- <span data-ttu-id="a3455-151">**自適性用戶端**。</span><span class="sxs-lookup"><span data-stu-id="a3455-151">**Adaptive client**.</span></span> <span data-ttu-id="a3455-152">使用這類應用程式中，用戶端應用程式會叫用解析程式服務，可接著藉由傳遞做為要求訊息的用戶端狀態中識別 路線的參考。</span><span class="sxs-lookup"><span data-stu-id="a3455-152">With this type of application, the client application invokes the resolver service, which, in turn, identifies the itinerary reference by passing the client state as a request message.</span></span> <span data-ttu-id="a3455-153">如果已解決的路線，用戶端應用程式將訊息提交路線的參考相同的方式，如先前的進階用戶端案例中所示。</span><span class="sxs-lookup"><span data-stu-id="a3455-153">If the itinerary is resolved, the client application submits a message with itinerary references in the same way as in the preceding advanced client scenario.</span></span>  
  
  <span data-ttu-id="a3455-154">如需有關如何實作此模式的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="a3455-154">For more information about implementing this pattern, see the following resources:</span></span>  
  
- [<span data-ttu-id="a3455-155">如何：使用商務規則原則選取路線</span><span class="sxs-lookup"><span data-stu-id="a3455-155">How to: Select an Itinerary Using a Business Rules Policy</span></span>](../esb-toolkit/how-to-select-an-itinerary-using-a-business-rules-policy.md)  
  
- [<span data-ttu-id="a3455-156">如何：轉換訊息，並使用路線傳閱名單將產生的訊息路由至檔案位置</span><span class="sxs-lookup"><span data-stu-id="a3455-156">How to: Transform a Message and Route the Resulting Message to a File Location Using an Itinerary Routing Slip</span></span>](../esb-toolkit/transform-message-and-route-the-message-to-a-location-using-itinerary-routing.md)  
  
  > [!NOTE]
  >  <span data-ttu-id="a3455-157">除了上述的案例中，您可以開發自訂的路線解析程式和路線的路由服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-157">In addition to the preceding scenarios, you can develop a custom itinerary resolver and itinerary routing services.</span></span> <span data-ttu-id="a3455-158">您可以考慮在路線設計工具中建立用於自訂路線服務的設計工具擴充項。</span><span class="sxs-lookup"><span data-stu-id="a3455-158">You may consider creating designer extenders for custom itinerary services for use in the Itinerary Designer.</span></span>  
  
## <a name="scatter-gather"></a><span data-ttu-id="a3455-159">分散-集中</span><span class="sxs-lookup"><span data-stu-id="a3455-159">Scatter-Gather</span></span>  
 <span data-ttu-id="a3455-160">分散-集中模式可讓訊息傳送給多位收件者，以及彙總其回應中;這會導致單一訊息。</span><span class="sxs-lookup"><span data-stu-id="a3455-160">The Scatter-Gather pattern enables messages to be sent to multiple recipients and to aggregate their responses; this results in a single message.</span></span> <span data-ttu-id="a3455-161">如需此模式的詳細說明，請參閱[分散-集中](http://go.microsoft.com/fwlink/?LinkId=186841)([http://go.microsoft.com/fwlink/?LinkId=186841](http://go.microsoft.com/fwlink/?LinkId=186841)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-161">For a detailed description of this pattern, see [Scatter-Gather](http://go.microsoft.com/fwlink/?LinkId=186841) ([http://go.microsoft.com/fwlink/?LinkId=186841](http://go.microsoft.com/fwlink/?LinkId=186841)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="a3455-162">如需實作此模式的範例，請參閱 <<c0> [ 安裝和執行分散-集中範例](../esb-toolkit/installing-and-running-the-scatter-gather-sample.md)範例。</span><span class="sxs-lookup"><span data-stu-id="a3455-162">For an example of implementing this pattern, see the [Installing and Running the Scatter-Gather Sample](../esb-toolkit/installing-and-running-the-scatter-gather-sample.md) sample.</span></span>  
  
## <a name="recipient-list"></a><span data-ttu-id="a3455-163">收件者清單</span><span class="sxs-lookup"><span data-stu-id="a3455-163">Recipient List</span></span>  
 <span data-ttu-id="a3455-164">收件者清單模式會處理一則訊息會路由傳送的實例解決方案給一或多個收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-164">The Recipient List pattern addresses the scenario solution in which a message is routed to one or more recipients.</span></span> <span data-ttu-id="a3455-165">收件者清單可以是以靜態方式定義 （亦即它有固定的收件者清單） 或動態。</span><span class="sxs-lookup"><span data-stu-id="a3455-165">The recipient list can be defined either statically (meaning it has a fixed list of recipients) or dynamically.</span></span> <span data-ttu-id="a3455-166">如需此模式的詳細說明，請參閱[收件者清單](http://go.microsoft.com/fwlink/?LinkId=186842)([http://go.microsoft.com/fwlink/?LinkId=186842](http://go.microsoft.com/fwlink/?LinkId=186842)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-166">For a detailed description of this pattern, see [Recipient List](http://go.microsoft.com/fwlink/?LinkId=186842) ([http://go.microsoft.com/fwlink/?LinkId=186842](http://go.microsoft.com/fwlink/?LinkId=186842)) on the Enterprise Integration Patterns site.</span></span>  
  
 <span data-ttu-id="a3455-167">實作此模式在路線設計工具是組成[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]路線的路由服務和多個的解析程式。</span><span class="sxs-lookup"><span data-stu-id="a3455-167">The implementation of this pattern in Itinerary Designer is a combination of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] itinerary routing service and multiple resolvers.</span></span> <span data-ttu-id="a3455-168">路線的路由服務負責複製一則訊息，然後使用 BizTalk 訊息內容屬性明確地將訊息路由。</span><span class="sxs-lookup"><span data-stu-id="a3455-168">The itinerary routing service is responsible for cloning a message and then using its BizTalk message context properties to explicitly route a message.</span></span>  
  
 <span data-ttu-id="a3455-169">您可以選擇路線的路由服務所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]，如下所示：</span><span class="sxs-lookup"><span data-stu-id="a3455-169">You can choose the itinerary routing service provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] as follows:</span></span>  
  
- <span data-ttu-id="a3455-170">定義路線的路由服務使用訊息的擴充項，以使用路線設計工具的 BizTalk 管線中執行。</span><span class="sxs-lookup"><span data-stu-id="a3455-170">Define the itinerary routing service with a messaging extender to execute in the BizTalk pipeline using Itinerary Designer.</span></span>  
  
- <span data-ttu-id="a3455-171">定義訊息的擴充項，以使用路線設計工具，它會執行使用 BizTalk 傳送埠路由協調流程執行與路線的路由服務。</span><span class="sxs-lookup"><span data-stu-id="a3455-171">Define the itinerary routing service with a messaging extender to execute as an orchestration using Itinerary Designer, which performs routing using BizTalk send ports.</span></span>  
  
  <span data-ttu-id="a3455-172">路線的路由服務相關聯的解析程式決定訊息根據訊息內容的收件者。</span><span class="sxs-lookup"><span data-stu-id="a3455-172">The resolver associated with itinerary routing service determines the recipient of the message based on the message content.</span></span> <span data-ttu-id="a3455-173">您可以選擇解析程式所提供一組[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]來實作此案例。</span><span class="sxs-lookup"><span data-stu-id="a3455-173">You can choose the set of resolvers provided by the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] to implement this scenario.</span></span> <span data-ttu-id="a3455-174">如需有關如何實作此模式的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="a3455-174">For more information about implementing this pattern, see the following resource:</span></span>  
  
- [<span data-ttu-id="a3455-175">如何：使用路線傳閱名單將單一訊息路由至多個收件者</span><span class="sxs-lookup"><span data-stu-id="a3455-175">How to: Route a Single Message to Multiple Recipients Using an Itinerary Routing Slip</span></span>](../esb-toolkit/route-a-single-message-to-multiple-recipients-using-an-itinerary-routing-slip.md)  
  
## <a name="splitter"></a><span data-ttu-id="a3455-176">分隔器</span><span class="sxs-lookup"><span data-stu-id="a3455-176">Splitter</span></span>  
 <span data-ttu-id="a3455-177">分隔器模式解決問題，當單一訊息需要分割成多個訊息。</span><span class="sxs-lookup"><span data-stu-id="a3455-177">The Splitter pattern addresses the problem when a single message needs to be split into multiple messages.</span></span> <span data-ttu-id="a3455-178">如需此模式的詳細說明，請參閱[分隔](http://go.microsoft.com/fwlink/?LinkId=186843)([http://go.microsoft.com/fwlink/?LinkId=186843](http://go.microsoft.com/fwlink/?LinkId=186843)) 上的企業整合模式的站台。</span><span class="sxs-lookup"><span data-stu-id="a3455-178">For a detailed description of this pattern, see [Splitter](http://go.microsoft.com/fwlink/?LinkId=186843) ([http://go.microsoft.com/fwlink/?LinkId=186843](http://go.microsoft.com/fwlink/?LinkId=186843)) on the Enterprise Integration Patterns site.</span></span> <span data-ttu-id="a3455-179">如需有關如何實作此模式的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="a3455-179">For more information about implementing this pattern, see the following resource:</span></span>  
  
-   [<span data-ttu-id="a3455-180">如何：分割交換，並使用不同路線將產生的訊息路由至多個檔案位置</span><span class="sxs-lookup"><span data-stu-id="a3455-180">How to: Split an Interchange and Route the Resulting Messages to Multiple File Locations Using Distinct Itineraries</span></span>](../esb-toolkit/split-an-interchange-and-route-messages-to-multiple-locations-using-itineraries.md)