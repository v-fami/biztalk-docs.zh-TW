---
title: 疑難排解 BizTalk ESB 工具組 |Microsoft Docs
description: 針對安裝問題和使用 ESB 工具組，在 BizTalk Server 中的常見錯誤進行疑難排解
caps.latest.revision: 2
author: MandiOhlinger
manager: anneta
ms.custom: ''
ms.date: 08/10/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e1ea2d56-2ace-40f2-80df-8a7489bbfc2e
ms.author: mandia
ms.openlocfilehash: 5dc6c935933d9879005bafc75bb993f7d436ef50
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/27/2018
ms.locfileid: "36992543"
---
# <a name="troubleshoot-the-biztalk-esb-toolkit"></a><span data-ttu-id="18f79-103">BizTalk ESB 工具組疑難排解</span><span class="sxs-lookup"><span data-stu-id="18f79-103">Troubleshoot the BizTalk ESB Toolkit</span></span>

  
## <a name="installation"></a><span data-ttu-id="18f79-104">安裝</span><span class="sxs-lookup"><span data-stu-id="18f79-104">Installation</span></span>  
  
|                                       <span data-ttu-id="18f79-105">問題</span><span class="sxs-lookup"><span data-stu-id="18f79-105">Issue</span></span>                                        |                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="18f79-106">解決方案</span><span class="sxs-lookup"><span data-stu-id="18f79-106">Resolution</span></span>                                                                                                                                                                                                                                                                                                                            |
|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    <span data-ttu-id="18f79-107">您會收到在安裝期間指派權限的 「 錯誤 」 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="18f79-107">You receive an "Error assigning permissions" exception during installation.</span></span>     |                                                                                                                                           <span data-ttu-id="18f79-108">[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]使用標準的 BizTalk 帳戶群組，必須在安裝程序或在安裝期間將會失敗。</span><span class="sxs-lookup"><span data-stu-id="18f79-108">The [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] uses the standard BizTalk account groups, which must exist during the installation process or the installation will fail.</span></span> <span data-ttu-id="18f79-109">此外，此工具組會假設電腦所在的工作群組成員的獨立安裝或企業安裝電腦所在網域的成員。</span><span class="sxs-lookup"><span data-stu-id="18f79-109">In addition, the toolkit assumes either a standalone installation where the computer is a member of a workgroup or an enterprise installation where the computer is a member of a domain.</span></span>                                                                                                                                           |
| <span data-ttu-id="18f79-110">應用程式匯入會失敗並出現錯誤訊息，會發出警告的信任層級不相符。</span><span class="sxs-lookup"><span data-stu-id="18f79-110">Application import fails with an error message that warns of trust level mismatch.</span></span> |                                                                                                  <span data-ttu-id="18f79-111">Microsoft.BizTalk.ESB 繫結檔案會設定為 BizTalkServerApplication 與 biztalkserverisolatedhost 主控，這接著會設定為在不受信任的模式下執行，使用預設值。</span><span class="sxs-lookup"><span data-stu-id="18f79-111">The Microsoft.BizTalk.ESB binding files are configured to work with the default BizTalkServerApplication and BizTalkServerIsolatedHost, which are in turn configured to execute in untrusted mode.</span></span> <span data-ttu-id="18f79-112">如果您已變更您的主機在信任模式下執行，將不會匯入繫結檔案。</span><span class="sxs-lookup"><span data-stu-id="18f79-112">If you have changed your host to run in trusted mode, the binding file will not import.</span></span> <span data-ttu-id="18f79-113">若要修正此問題，您必須將信任層級變更為不受信任，或編輯繫結檔案，以符合您的環境中的 BizTalk 工具組 \Bindings 目錄。</span><span class="sxs-lookup"><span data-stu-id="18f79-113">To correct this, you must either change the trust level to untrusted or edit the binding file to suit your environment in the BizTalk Toolkit \Bindings directory.</span></span>                                                                                                   |
| <span data-ttu-id="18f79-114">在 網際網路資訊服務 (IIS) 未設定 Kerberos 驗證。</span><span class="sxs-lookup"><span data-stu-id="18f79-114">Kerberos authentication is not configured in Internet Information Services (IIS).</span></span>  | <span data-ttu-id="18f79-115">若要啟用 IIS 的 Kerberos 驗證，請參閱 Microsoft 知識庫中的下列文章：</span><span class="sxs-lookup"><span data-stu-id="18f79-115">To enable Kerberos authentication for IIS, see the following articles in the Microsoft Knowledge Base:</span></span><br /><br /> <span data-ttu-id="18f79-116">-   [如何設定 IIS 以支援用於網路驗證的 Kerberos 通訊協定與 NTLM 通訊協定](http://go.microsoft.com/fwlink/?LinkId=188566)</span><span class="sxs-lookup"><span data-stu-id="18f79-116">-   [How to configure IIS to support both the Kerberos protocol and the NTLM protocol for network authentication](http://go.microsoft.com/fwlink/?LinkId=188566)</span></span><br /><span data-ttu-id="18f79-117">-   [如何啟用 IIS 不是網域控制站的電腦上使用 Kerberos 驗證](http://go.microsoft.com/fwlink/?LinkId=188567)</span><span class="sxs-lookup"><span data-stu-id="18f79-117">-   [How to enable IIS to use Kerberos authentication on a computer that is not a domain controller](http://go.microsoft.com/fwlink/?LinkId=188567)</span></span><br /><span data-ttu-id="18f79-118">-   [您無法設定的交涉或 NTLM 通訊協定進行 Windows 整合式驗證在 IIS 管理員中 Internet Information Services (IIS) 7.0](http://go.microsoft.com/fwlink/?LinkId=188568)</span><span class="sxs-lookup"><span data-stu-id="18f79-118">-   [You cannot configure the Negotiate or NTLM protocols for Windows Integrated Authentication in the IIS Manager for Internet Information Services (IIS) 7.0](http://go.microsoft.com/fwlink/?LinkId=188568)</span></span> |
  
## <a name="general-issues"></a><span data-ttu-id="18f79-119">一般問題</span><span class="sxs-lookup"><span data-stu-id="18f79-119">General Issues</span></span>  
  
|<span data-ttu-id="18f79-120">問題</span><span class="sxs-lookup"><span data-stu-id="18f79-120">Issue</span></span>|<span data-ttu-id="18f79-121">解決方案</span><span class="sxs-lookup"><span data-stu-id="18f79-121">Resolution</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="18f79-122">將訊息傳送至泛型的 ESB 路線入口 Web 服務時，您會收到 「 內部 SOAP 處理 」 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="18f79-122">You receive an "Internal SOAP Processing" exception when sending a message to the generic ESB Itinerary On-Ramp Web service.</span></span>|<span data-ttu-id="18f79-123">若要確定 Microsoft.Practices.ESB 應用程式正在執行; 使用 BizTalk Server 管理主控台如果未執行，請加以啟動。</span><span class="sxs-lookup"><span data-stu-id="18f79-123">Use the BizTalk Server Administration Console to ensure that the Microsoft.Practices.ESB application is running; if it is not running, start it.</span></span>|  
|<span data-ttu-id="18f79-124">ESB 管理入口網站中未出現例外狀況訊息。</span><span class="sxs-lookup"><span data-stu-id="18f79-124">Exception messages are not appearing in the ESB Management Portal site.</span></span>|<span data-ttu-id="18f79-125">檢查 [BizTalk 系統管理員群組概觀] 頁面和 Windows 應用程式事件記錄檔的指示將訊息傳送失敗的項目。</span><span class="sxs-lookup"><span data-stu-id="18f79-125">Check the BizTalk Administrator Group Overview page and the Windows Application Event Log for entries that indicate failures to send messages.</span></span> <span data-ttu-id="18f79-126">您可能需要重新傳送配接器 （Microsoft.Practices.ESB 應用程式的一部分） 的例外狀況設定以符合您的環境。</span><span class="sxs-lookup"><span data-stu-id="18f79-126">You may need to reconfigure the exception Send Adapter (part of the Microsoft.Practices.ESB application) to match your environment.</span></span> <span data-ttu-id="18f79-127">此外，請注意 BizTalk 失敗訊息路由的功能和 BizTalk ESB 工具組的例外狀況管理架構，產生的例外狀況訊息。</span><span class="sxs-lookup"><span data-stu-id="18f79-127">In addition, be aware that both the BizTalk Failed Message Routing feature and the BizTalk ESB Toolkit Exception Management Framework generate exceptions messages.</span></span> <span data-ttu-id="18f79-128">因此，請確定您啟用**失敗訊息路由**選項傳送和接收埠。</span><span class="sxs-lookup"><span data-stu-id="18f79-128">Therefore, ensure that you enable the **Route on Failed Messages** option for send and receive ports.</span></span>|  
|<span data-ttu-id="18f79-129">當使用 WCF 服務使用靜態的解析程式，您會收到 「 無效的 SOAP 動作例外狀況。</span><span class="sxs-lookup"><span data-stu-id="18f79-129">When consuming a WCF service with a static resolver, you receive an invalid SOAP action exception.</span></span>|<span data-ttu-id="18f79-130">如果 WCF 服務的 SOAP 動作不會包含目標命名空間，以下列格式中設定的解析程式中設定的 SOAP 動作值: {action} 表示不將 ESB Toolkit 的核心引擎，在執行階段串連的目標命名空間。</span><span class="sxs-lookup"><span data-stu-id="18f79-130">If the WCF service SOAP action does not include the target namespace, set the value of the SOAP action in the following format in the resolver setting: {action} to indicate that the target namespace will not be concatenated by the ESB Toolkit core engine at runtime.</span></span>|