---
title: "選擇傳訊和協調流程路線服務 |Microsoft 文件"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 694f929a-c830-4906-8e97-4fbd50e70133
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 735d8411f2587e8e241773c4ebb8f98d29f3abed
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2017
---
# <a name="choosing-between-messaging-and-orchestration-itinerary-services"></a><span data-ttu-id="062b2-102">選擇傳訊和協調流程路線服務</span><span class="sxs-lookup"><span data-stu-id="062b2-102">Choosing Between Messaging and Orchestration Itinerary Services</span></span>
<span data-ttu-id="062b2-103">可以設定路線服務的協調流程子系統或傳訊子系統中發生[!INCLUDE[prague](../includes/prague-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="062b2-103">Itinerary services can be configured to occur in either the messaging subsystem or the orchestration subsystem of [!INCLUDE[prague](../includes/prague-md.md)].</span></span> <span data-ttu-id="062b2-104">這些 ESB 路線傳訊服務設定來處理訊息，而且可能會在 BizTalk Server 管線 （上手或匝道） 中執行。</span><span class="sxs-lookup"><span data-stu-id="062b2-104">These ESB itinerary messaging services are configured to process the message and may be executed in a BizTalk Server pipeline (on-ramp or off-ramp).</span></span> <span data-ttu-id="062b2-105">此選項可讓開發人員定義完全在管線中將執行服務。</span><span class="sxs-lookup"><span data-stu-id="062b2-105">This option enables the developer to define exactly where in the pipeline the service will execute.</span></span> <span data-ttu-id="062b2-106">當然，設定為協調流程子系統中的程序服務將會執行 BizTalk 協調流程中。</span><span class="sxs-lookup"><span data-stu-id="062b2-106">Naturally, services configured to process in the orchestration subsystem will be executed in a BizTalk orchestration.</span></span>  
  
## <a name="esb-itinerary-messaging-services"></a><span data-ttu-id="062b2-107">ESB 路線訊息服務</span><span class="sxs-lookup"><span data-stu-id="062b2-107">ESB Itinerary Messaging Services</span></span>  
 <span data-ttu-id="062b2-108">BizTalk Server 管線中處理訊息時，使用 ESB 路線訊息服務會降低訊息延遲。</span><span class="sxs-lookup"><span data-stu-id="062b2-108">When a message is being processed in a BizTalk Server pipeline, using ESB itinerary messaging services reduces message latency.</span></span> <span data-ttu-id="062b2-109">藉由實作單一管線背對背式服務，很可能轉換訊息多次，並將訊息路由至其端點，與單一持續性到 Messagebox 資料庫。</span><span class="sxs-lookup"><span data-stu-id="062b2-109">By implementing back-to-back services in a single pipeline, it is possible to transform a message multiple times and route the message to its endpoints with only a single persistence to the Message Box database.</span></span> <span data-ttu-id="062b2-110">此外，訊息為基礎的處理，就可以解決協調流程處理的其他資源成本。</span><span class="sxs-lookup"><span data-stu-id="062b2-110">Additionally, messaging-based processing eliminates the additional resource cost of orchestration processing.</span></span> <span data-ttu-id="062b2-111">一般而言，訊息為基礎的處理較大量的資源，並提供處理比協調流程為基礎的處理速度。</span><span class="sxs-lookup"><span data-stu-id="062b2-111">Generally speaking, messaging-based processing is less resource intensive and provides faster processing than orchestration-based processing.</span></span> <span data-ttu-id="062b2-112">在管線中，ESB 發送器和 ESB 發送器解譯管線元件所提供[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]做為訊息攔截器，並執行以傳訊為基礎的路線服務、 它是否路由、 轉換或自訂服務。</span><span class="sxs-lookup"><span data-stu-id="062b2-112">In pipelines, the ESB Dispatcher and ESB Dispatcher Disassemble pipeline components provided by [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] act as message interceptors and execute messaging-based itinerary services, whether it is a routing, transformation, or a custom service.</span></span> <span data-ttu-id="062b2-113">如需有關如何設定這些元件的詳細資訊，請參閱[ESB 發送器元件](../esb-toolkit/the-esb-dispatcher-component.md)和[ESB 發送器解譯元件](../esb-toolkit/the-esb-dispatcher-disassemble-component.md)。</span><span class="sxs-lookup"><span data-stu-id="062b2-113">For more information about configuring these components, see [The ESB Dispatcher Component](../esb-toolkit/the-esb-dispatcher-component.md) and [The ESB Dispatcher Disassemble Component](../esb-toolkit/the-esb-dispatcher-disassemble-component.md).</span></span>  
  
## <a name="esb-itinerary-orchestration-services"></a><span data-ttu-id="062b2-114">ESB 路線的協調流程服務</span><span class="sxs-lookup"><span data-stu-id="062b2-114">ESB Itinerary Orchestration Services</span></span>  
 <span data-ttu-id="062b2-115">如果動態路由，必須發生在協調流程之後或之間，使用路線服務協調流程為基礎的處理。</span><span class="sxs-lookup"><span data-stu-id="062b2-115">If dynamic routing must occur between or after orchestration processes, use orchestration-based processing for the itinerary service.</span></span> <span data-ttu-id="062b2-116">根據預設，協調流程為基礎的服務會接收的訊息，以 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="062b2-116">By default, the orchestration-based services receive the message as an XML document.</span></span> <span data-ttu-id="062b2-117">路由協調流程會使用解析程式管理員，嘗試解決路線中識別的端點。</span><span class="sxs-lookup"><span data-stu-id="062b2-117">The Routing orchestration uses the Resolver Manager to attempt to resolve the endpoints identified in the itinerary.</span></span> <span data-ttu-id="062b2-118">配接器管理員會使用回應從解析程式管理員要將端點詳細資料升級至訊息內容，並發佈訊息至 Messagebox 資料庫，使用直接繫結邏輯連接埠。</span><span class="sxs-lookup"><span data-stu-id="062b2-118">The Adapter Manager uses the response from the Resolver Manager to promote the endpoint details into the message context, and the message is published to the Message Box database using a direct-bound logical port.</span></span> <span data-ttu-id="062b2-119">此時，一般 BizTalk 路由，而使用訊息的升級的屬性設定動態傳送埠。</span><span class="sxs-lookup"><span data-stu-id="062b2-119">At this point, regular BizTalk routing occurs, and the dynamic send port is configured using the message's promoted properties.</span></span>  
  
 <span data-ttu-id="062b2-120">內含的路線服務的協調流程會提供很好的起點建立自訂協調流程路線服務。</span><span class="sxs-lookup"><span data-stu-id="062b2-120">The included Itinerary Service orchestration provides a good starting point for creating custom orchestration-based itinerary services.</span></span> <span data-ttu-id="062b2-121">如需有關如何建立自訂的路線服務的詳細資訊，請參閱[修改和擴充 BizTalk ESB Toolkit](../esb-toolkit/modifying-and-extending-the-biztalk-esb-toolkit.md)。</span><span class="sxs-lookup"><span data-stu-id="062b2-121">For more information about creating custom itinerary services, see [Modifying and Extending the BizTalk ESB Toolkit](../esb-toolkit/modifying-and-extending-the-biztalk-esb-toolkit.md).</span></span>